'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var pako_dist_pako_deflate = require('pako/dist/pako_deflate');

var ObserversMixin = {
    extend: function(proto) {
        var this$1 = this;

        for (var method in this) {
            if (method !== "extend") {
                proto[method] = this$1[method];
            }
        }
    },

    observers: function() {
        this._observers = this._observers || [];
        return this._observers;
    },

    addObserver: function(element) {
        if (!this._observers) {
            this._observers = [ element ];
        } else {
            this._observers.push(element);
        }
        return this;
    },

    removeObserver: function(element) {
        var observers = this.observers();
        var index = observers.indexOf(element);
        if (index !== -1) {
            observers.splice(index, 1);
        }
        return this;
    },

    trigger: function(methodName, event) {
        var observers = this._observers;

        if (observers && !this._suspended) {
            for (var idx = 0; idx < observers.length; idx++) {
                var observer = observers[idx];
                if (observer[methodName]) {
                    observer[methodName](event);
                }
            }
        }
        return this;
    },

    optionsChange: function(e) {
        if ( e === void 0 ) e = {};

        e.element = this;
        this.trigger("optionsChange", e);
    },

    geometryChange: function() {
        this.trigger("geometryChange", {
            element: this
        });
    },

    suspend: function() {
        this._suspended = (this._suspended || 0) + 1;
        return this;
    },

    resume: function() {
        this._suspended = Math.max((this._suspended || 0) - 1, 0);
        return this;
    },

    _observerField: function(field, value) {
        if (this[field]) {
            this[field].removeObserver(this);
        }
        this[field] = value;
        value.addObserver(this);
    }
};

var wnd = typeof window !== "undefined" ? window : {};

var animationFrame = wnd.requestAnimationFrame ||
                    wnd.webkitRequestAnimationFrame ||
                    wnd.mozRequestAnimationFrame ||
                    wnd.oRequestAnimationFrame ||
                    wnd.msRequestAnimationFrame ||
                    function(callback) { setTimeout(callback, 1000 / 60); };

function animationFrameProxy(callback) {
    animationFrame.call(wnd, callback);
}

var Class = function Class () {};

var ampRegExp = /&/g;
var ltRegExp = /</g;
var quoteRegExp = /"/g;
var aposRegExp = /'/g;
var gtRegExp = />/g;

function htmlEncode(value) {
    return String(value).replace(ampRegExp, "&amp;").replace(ltRegExp, "&lt;").replace(gtRegExp, "&gt;").replace(quoteRegExp, "&quot;").replace(aposRegExp, "&#39;");
}

/* eslint-disable no-console */

function logToConsole(message) {
    var console = window.console;

    if (typeof(console) != "undefined" && console.log) {
        console.log(message);
    }
}

var Observable = (function (Class$$1) {
    function Observable() {
        Class$$1.call(this);

        this._events = {};
    }

    if ( Class$$1 ) Observable.__proto__ = Class$$1;
    Observable.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Observable.prototype.constructor = Observable;

    Observable.prototype.bind = function bind (eventName, handlers, one) {
        var arguments$1 = arguments;
        var this$1 = this;

        var eventNames = getArray(eventName);
        var handlersIsFunction = isFunction(handlers);
        var length = eventNames.length;

        if (handlers === undefined) {
            for (var field in eventName) {
                this$1.bind(field, eventName[field]);
            }
            return this;
        }

        var loop = function ( idx ) {
            var eventName$1 = eventNames[idx];

            var handler = handlersIsFunction ? handlers : handlers[eventName$1];

            if (handler) {
                if (one) {
                    var original = handler;
                    handler = function () { // eslint-disable-line no-loop-func
                        this$1.unbind(eventName$1, handler);
                        original.apply(this$1, arguments$1);
                    };
                    handler.original = original;
                }
                var events = this$1._events[eventName$1] = this$1._events[eventName$1] || [];
                events.push(handler);
            }
        };

        for (var idx = 0; idx < length; idx++) loop( idx );

        return this;
    };

    Observable.prototype.one = function one (eventNames, handlers) {
        return this.bind(eventNames, handlers, true);
    };

    Observable.prototype.first = function first (eventName, handlers) {
        var this$1 = this;

        var eventNames = getArray(eventName);
        var handlersIsFunction = isFunction(handlers);

        for (var idx = 0, length = eventNames.length; idx < length; idx++) {
            var eventName$1 = eventNames[idx];

            var handler = handlersIsFunction ? handlers : handlers[eventName$1];

            if (handler) {
                var events = this$1._events[eventName$1] = this$1._events[eventName$1] || [];
                events.unshift(handler);
            }
        }

        return this;
    };

    Observable.prototype.trigger = function trigger (eventName, e) {
        var this$1 = this;
        if ( e === void 0 ) e = {};

        var events = this._events[eventName];

        if (events) {
            var length = events.length;

            e.sender = this;
            e._defaultPrevented = false;
            e.preventDefault = preventDefault;
            e.isDefaultPrevented = isDefaultPrevented;

            events = events.slice();

            for (var idx = 0; idx < length; idx++) {
                events[idx].call(this$1, e);
            }

            return e._defaultPrevented === true;
        }

        return false;
    };

    Observable.prototype.unbind = function unbind (eventName, handler) {
        var events = this._events[eventName];

        if (eventName === undefined) {
            this._events = {};
        } else if (events) {
            if (handler) {
                for (var idx = events.length - 1; idx >= 0; idx--) {
                    if (events[idx] === handler || events[idx].original === handler) {
                        events.splice(idx, 1);
                    }
                }
            } else {
                this._events[eventName] = [];
            }
        }

        return this;
    };

    return Observable;
}(Class));

function isFunction(value) {
    return typeof value === "function";
}

function getArray(value) {
    return typeof value === "string" ? [ value ] : value;
}

function preventDefault() {
    this._defaultPrevented = true;
}

function isDefaultPrevented() {
    return this._defaultPrevented === true;
}

// XXX: the following will not work with IE9 (requires server proxy).
function saveAs(options) {
    var dataURI = options.dataURI;
    var fileName = options.fileName;
    var data = dataURI;

    if (typeof data == "string" && window.Blob) {
        var parts = data.split(";base64,");
        var contentType = parts[0];
        var base64 = atob(parts[1]);
        var array = new Uint8Array(base64.length);
        for (var idx = 0; idx < base64.length; idx++) {
            array[idx] = base64.charCodeAt(idx);
        }
        data = new Blob([ array.buffer ], { type: contentType });
    }
    if (navigator.msSaveBlob) {
        navigator.msSaveBlob(data, fileName);
    } else {
        var link = document.createElement("a");
        link.download = fileName;
        data = link.href = URL.createObjectURL(data);
        var e = document.createEvent("MouseEvents");
        e.initMouseEvent("click", true, false, window,
                         0, 0, 0, 0, 0, false, false, false, false, 0, null);
        link.dispatchEvent(e);
        setTimeout(function() {
            URL.revokeObjectURL(data);
        });
    }
}

var support = {};

if (typeof window !== 'undefined') {
    support.browser = (function(userAgent) {
        var browserRxs = {
            edge: /(edge)[ \/]([\w.]+)/i,
            webkit: /(chrome)[ \/]([\w.]+)/i,
            safari: /(webkit)[ \/]([\w.]+)/i,
            opera: /(opera)(?:.*version|)[ \/]([\w.]+)/i,
            msie: /(msie\s|trident.*? rv:)([\w.]+)/i,
            mozilla: /(mozilla)(?:.*? rv:([\w.]+)|)/i
        };

        var browser;

        for (var agent in browserRxs) {
            if (browserRxs.hasOwnProperty(agent)) {
                var match = userAgent.match(browserRxs[agent]);
                if (match) {
                    browser = {};
                    browser[agent] = true;
                    browser[match[1].toLowerCase().split(" ")[0].split("/")[0]] = true;
                    browser.version = parseInt(document.documentMode || match[2], 10);

                    break;
                }
            }
        }

        return browser;

    })(window.navigator.userAgent);
}

function template$1() {
    // XXX: no template engine for now
    throw new Error("String template not yet supported.  Pass a function and use your preferred template engine.");
}

function now() {
    return new Date().getTime();
}

function throttle(fn, delay) {
    var lastExecTime = 0;
    var timeout;

    if (!delay || delay <= 0) {
        return fn;
    }

    var throttled = function() {
        var elapsed = now() - lastExecTime;
        var args = arguments;

        var exec = function() {
            fn.apply(null, args);
            lastExecTime = now();
        };

        // first execution
        if (!lastExecTime) {
            return exec();
        }

        if (timeout) {
            clearTimeout(timeout);
        }

        if (elapsed > delay) {
            exec();
        } else {
            timeout = setTimeout(exec, delay - elapsed);
        }
    };

    throttled.cancel = function() {
        clearTimeout(timeout);
    };

    return throttled;
}

var namedColors = {
    aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "00ffff",
    aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc",
    bisque: "ffe4c4", black: "000000", blanchedalmond: "ffebcd",
    blue: "0000ff", blueviolet: "8a2be2", brown: "a52a2a",
    burlywood: "deb887", cadetblue: "5f9ea0", chartreuse: "7fff00",
    chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed",
    cornsilk: "fff8dc", crimson: "dc143c", cyan: "00ffff",
    darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b",
    darkgray: "a9a9a9", darkgrey: "a9a9a9", darkgreen: "006400",
    darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f",
    darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000",
    darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b",
    darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1",
    darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff",
    dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff",
    firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22",
    fuchsia: "ff00ff", gainsboro: "dcdcdc", ghostwhite: "f8f8ff",
    gold: "ffd700", goldenrod: "daa520", gray: "808080",
    grey: "808080", green: "008000", greenyellow: "adff2f",
    honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c",
    indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c",
    lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00",
    lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080",
    lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3",
    lightgrey: "d3d3d3", lightgreen: "90ee90", lightpink: "ffb6c1",
    lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa",
    lightslategray: "778899", lightslategrey: "778899", lightsteelblue: "b0c4de",
    lightyellow: "ffffe0", lime: "00ff00", limegreen: "32cd32",
    linen: "faf0e6", magenta: "ff00ff", maroon: "800000",
    mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3",
    mediumpurple: "9370d8", mediumseagreen: "3cb371", mediumslateblue: "7b68ee",
    mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585",
    midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1",
    moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080",
    oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23",
    orange: "ffa500", orangered: "ff4500", orchid: "da70d6",
    palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee",
    palevioletred: "d87093", papayawhip: "ffefd5", peachpuff: "ffdab9",
    peru: "cd853f", pink: "ffc0cb", plum: "dda0dd",
    powderblue: "b0e0e6", purple: "800080", red: "ff0000",
    rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513",
    salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57",
    seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0",
    skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090",
    slategrey: "708090", snow: "fffafa", springgreen: "00ff7f",
    steelblue: "4682b4", tan: "d2b48c", teal: "008080",
    thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0",
    violet: "ee82ee", wheat: "f5deb3", white: "ffffff",
    whitesmoke: "f5f5f5", yellow: "ffff00", yellowgreen: "9acd32"
};

var browser = support.browser;

var matchNamedColor = function (color) {
    var colorNames = Object.keys(namedColors);
    colorNames.push("transparent");

    var regexp = new RegExp("^(" + colorNames.join("|") + ")(\\W|$)", "i");
    matchNamedColor = function (color) { return regexp.exec(color); };

    return regexp.exec(color);
};

var BaseColor = (function (Class$$1) {
    function BaseColor() { Class$$1.call(this); }

    if ( Class$$1 ) BaseColor.__proto__ = Class$$1;
    BaseColor.prototype = Object.create( Class$$1 && Class$$1.prototype );
    BaseColor.prototype.constructor = BaseColor;
    BaseColor.prototype.toHSV = function toHSV () { return this; };

    BaseColor.prototype.toRGB = function toRGB () { return this; };

    BaseColor.prototype.toHex = function toHex () { return this.toBytes().toHex(); };

    BaseColor.prototype.toBytes = function toBytes () { return this; };

    BaseColor.prototype.toCss = function toCss () { return "#" + this.toHex(); };

    BaseColor.prototype.toCssRgba = function toCssRgba () {
        var rgb = this.toBytes();
        return ("rgba(" + (rgb.r) + ", " + (rgb.g) + ", " + (rgb.b) + ", " + (parseFloat((Number(this.a)).toFixed(3))) + ")");
    };

    BaseColor.prototype.toDisplay = function toDisplay () {
        if (browser.msie && browser.version < 9) {
            return this.toCss(); // no RGBA support; does it support any opacity in colors?
        }
        return this.toCssRgba();
    };

    BaseColor.prototype.equals = function equals (c) {
        return c === this || c !== null && this.toCssRgba() === parseColor(c).toCssRgba();
    };

    BaseColor.prototype.diff = function diff (other) {
        if (other === null) {
            return NaN;
        }

        var c1 = this.toBytes();
        var c2 = other.toBytes();

        return Math.sqrt(Math.pow((c1.r - c2.r) * 0.30, 2) +
                         Math.pow((c1.g - c2.g) * 0.59, 2) +
                         Math.pow((c1.b - c2.b) * 0.11, 2));
    };

    BaseColor.prototype.clone = function clone () {
        var c = this.toBytes();
        if (c === this) {
            c = new Bytes(c.r, c.g, c.b, c.a);
        }

        return c;
    };

    return BaseColor;
}(Class));

var RGB = (function (BaseColor) {
    function RGB(r, g, b, a) {
        BaseColor.call(this);

        this.r = r;
        this.g = g;
        this.b = b;
        this.a = a;
    }

    if ( BaseColor ) RGB.__proto__ = BaseColor;
    RGB.prototype = Object.create( BaseColor && BaseColor.prototype );
    RGB.prototype.constructor = RGB;

    RGB.prototype.toHSV = function toHSV () {
        var ref = this;
        var r = ref.r;
        var g = ref.g;
        var b = ref.b;
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var v = max;
        var h, s;

        if (delta === 0) {
            return new HSV(0, 0, v, this.a);
        }

        if (max !== 0) {
            s = delta / max;
            if (r === max) {
                h = (g - b) / delta;
            } else if (g === max) {
                h = 2 + (b - r) / delta;
            } else {
                h = 4 + (r - g) / delta;
            }

            h *= 60;
            if (h < 0) {
                h += 360;
            }
        } else {
            s = 0;
            h = -1;
        }

        return new HSV(h, s, v, this.a);
    };

    RGB.prototype.toHSL = function toHSL () {
        var ref = this;
        var r = ref.r;
        var g = ref.g;
        var b = ref.b;
        var max = Math.max(r, g, b);
        var min = Math.min(r, g, b);
        var h, s, l = (max + min) / 2;

        if (max === min) {
            h = s = 0;
        } else {
            var d = max - min;
            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
            switch (max) {
                case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                case g: h = (b - r) / d + 2; break;
                case b: h = (r - g) / d + 4; break;
                default: break;
            }
        }

        return new HSL(h * 60, s * 100, l * 100, this.a);
    };

    RGB.prototype.toBytes = function toBytes () {
        return new Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);
    };

    return RGB;
}(BaseColor));

var Bytes = (function (RGB) {
    function Bytes(r, g, b, a) {
        RGB.call(this, Math.round(r), Math.round(g), Math.round(b), a);
    }

    if ( RGB ) Bytes.__proto__ = RGB;
    Bytes.prototype = Object.create( RGB && RGB.prototype );
    Bytes.prototype.constructor = Bytes;

    Bytes.prototype.toRGB = function toRGB () {
        return new RGB(this.r / 255, this.g / 255, this.b / 255, this.a);
    };

    Bytes.prototype.toHSV = function toHSV () {
        return this.toRGB().toHSV();
    };

    Bytes.prototype.toHSL = function toHSL () {
        return this.toRGB().toHSL();
    };

    Bytes.prototype.toHex = function toHex () {
        return hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);
    };

    Bytes.prototype.toBytes = function toBytes () {
        return this;
    };

    return Bytes;
}(RGB));

function hex(n, width, pad) {
    if ( pad === void 0 ) pad = "0";

    var result = n.toString(16);
    while (width > result.length) {
        result = pad + result;
    }

    return result;
}

var HSV = (function (BaseColor) {
    function HSV(h, s, v, a) {
        BaseColor.call(this);

        this.h = h;
        this.s = s;
        this.v = v;
        this.a = a;
    }

    if ( BaseColor ) HSV.__proto__ = BaseColor;
    HSV.prototype = Object.create( BaseColor && BaseColor.prototype );
    HSV.prototype.constructor = HSV;

    HSV.prototype.toRGB = function toRGB () {
        var ref = this;
        var h = ref.h;
        var s = ref.s;
        var v = ref.v;
        var r, g, b;

        if (s === 0) {
            r = g = b = v;
        } else {
            h /= 60;

            var i = Math.floor(h);
            var f = h - i;
            var p = v * (1 - s);
            var q = v * (1 - s * f);
            var t = v * (1 - s * (1 - f));

            switch (i) {
                case 0: r = v; g = t; b = p; break;
                case 1: r = q; g = v; b = p; break;
                case 2: r = p; g = v; b = t; break;
                case 3: r = p; g = q; b = v; break;
                case 4: r = t; g = p; b = v; break;
                default: r = v; g = p; b = q; break;
            }
        }

        return new RGB(r, g, b, this.a);
    };

    HSV.prototype.toHSL = function toHSL () {
        return this.toRGB().toHSL();
    };

    HSV.prototype.toBytes = function toBytes () {
        return this.toRGB().toBytes();
    };

    return HSV;
}(BaseColor));

var HSL = (function (BaseColor) {
    function HSL(h, s, l, a) {
        BaseColor.call(this);

        this.h = h;
        this.s = s;
        this.l = l;
        this.a = a;
    }

    if ( BaseColor ) HSL.__proto__ = BaseColor;
    HSL.prototype = Object.create( BaseColor && BaseColor.prototype );
    HSL.prototype.constructor = HSL;

    HSL.prototype.toRGB = function toRGB () {
        var h = this.h / 360;
        var s = this.s / 100;
        var l = this.l / 100;
        var r, g, b;

        if (s === 0) {
            r = g = b = l; // achromatic
        } else {
            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
            var p = 2 * l - q;
            r = hue2rgb(p, q, h + 1 / 3);
            g = hue2rgb(p, q, h);
            b = hue2rgb(p, q, h - 1 / 3);
        }

        return new RGB(r, g, b, this.a);
    };

    HSL.prototype.toHSV = function toHSV () {
        return this.toRGB().toHSV();
    };

    HSL.prototype.toBytes = function toBytes () {
        return this.toRGB().toBytes();
    };

    return HSL;
}(BaseColor));

function hue2rgb(p, q, s) {
    var t = s;

    if (t < 0) {
        t += 1;
    }

    if (t > 1) {
        t -= 1;
    }

    if (t < 1 / 6) {
        return p + (q - p) * 6 * t;
    }

    if (t < 1 / 2) {
        return q;
    }

    if (t < 2 / 3) {
        return p + (q - p) * (2 / 3 - t) * 6;
    }

    return p;
}

function parseColor(value, safe) {
    var m, ret;

    if (value == null || value === "none") {
        return null;
    }

    if (value instanceof BaseColor) {
        return value;
    }

    var color = value.toLowerCase();
    if ((m = matchNamedColor(color))) {
        if (m[1] === "transparent") {
            color = new RGB(1, 1, 1, 0);
        } else {
            color = parseColor(namedColors[m[1]], safe);
        }
        color.match = [ m[1] ];
        return color;
    }
    if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(color))) {
        ret = new Bytes(parseInt(m[1], 16),
                        parseInt(m[2], 16),
                        parseInt(m[3], 16), 1);
    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(color))) {
        ret = new Bytes(parseInt(m[1] + m[1], 16),
                        parseInt(m[2] + m[2], 16),
                        parseInt(m[3] + m[3], 16), 1);
    } else if ((m = /^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(color))) {
        ret = new Bytes(parseInt(m[1], 10),
                        parseInt(m[2], 10),
                        parseInt(m[3], 10), 1);
    } else if ((m = /^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(color))) {
        ret = new Bytes(parseInt(m[1], 10),
                        parseInt(m[2], 10),
                        parseInt(m[3], 10), parseFloat(m[4]));
    } else if ((m = /^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(color))) {
        ret = new RGB(parseFloat(m[1]) / 100,
                      parseFloat(m[2]) / 100,
                      parseFloat(m[3]) / 100, 1);
    } else if ((m = /^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(color))) {
        ret = new RGB(parseFloat(m[1]) / 100,
                      parseFloat(m[2]) / 100,
                      parseFloat(m[3]) / 100, parseFloat(m[4]));
    }

    if (ret) {
        ret.match = m;
    } else if (!safe) {
        throw new Error("Cannot parse color: " + color);
    }

    return ret;
}

var DARK_TRESHOLD = 180;

var Color = (function (Class$$1) {
    function Color(value) {
        var this$1 = this;

        Class$$1.call(this);

        if (arguments.length === 1) {
            var formats = Color.formats;
            var resolvedColor = this.resolveColor(value);

            for (var idx = 0; idx < formats.length; idx++) {
                var formatRegex = formats[idx].re;
                var processor = formats[idx].process;
                var parts = formatRegex.exec(resolvedColor);

                if (parts) {
                    var channels = processor(parts);
                    this$1.r = channels[0];
                    this$1.g = channels[1];
                    this$1.b = channels[2];
                }
            }
        } else {
            this.r = arguments[0];
            this.g = arguments[1];
            this.b = arguments[2];
        }

        this.r = this.normalizeByte(this.r);
        this.g = this.normalizeByte(this.g);
        this.b = this.normalizeByte(this.b);
    }

    if ( Class$$1 ) Color.__proto__ = Class$$1;
    Color.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Color.prototype.constructor = Color;

    Color.prototype.toHex = function toHex () {
        var pad = this.padDigit;
        var r = this.r.toString(16);
        var g = this.g.toString(16);
        var b = this.b.toString(16);

        return "#" + pad(r) + pad(g) + pad(b);
    };

    Color.prototype.resolveColor = function resolveColor (value) {
        var color = value || "black";

        if (color.charAt(0) === "#") {
            color = color.substr(1, 6);
        }

        color = color.replace(/ /g, "");
        color = color.toLowerCase();
        color = Color.namedColors[color] || color;

        return color;
    };

    Color.prototype.normalizeByte = function normalizeByte (value) {
        if (value < 0 || isNaN(value)) {
            return 0;
        }

        return value > 255 ? 255 : value;
    };

    Color.prototype.padDigit = function padDigit (value) {
        return (value.length === 1) ? "0" + value : value;
    };

    Color.prototype.brightness = function brightness (value) {
        var round = Math.round;

        this.r = round(this.normalizeByte(this.r * value));
        this.g = round(this.normalizeByte(this.g * value));
        this.b = round(this.normalizeByte(this.b * value));

        return this;
    };

    Color.prototype.percBrightness = function percBrightness () {
        return Math.sqrt(0.241 * this.r * this.r + 0.691 * this.g * this.g + 0.068 * this.b * this.b);
    };

    Color.prototype.isDark = function isDark () {
        return this.percBrightness() < DARK_TRESHOLD;
    };

    Color.fromBytes = function fromBytes (r, g, b, a) {
        return new Bytes(r, g, b, a != null ? a : 1);
    };

    Color.fromRGB = function fromRGB (r, g, b, a) {
        return new RGB(r, g, b, a != null ? a : 1);
    };

    Color.fromHSV = function fromHSV (h, s, v, a) {
        return new HSV(h, s, v, a != null ? a : 1);
    };

    Color.fromHSL = function fromHSL (h, s, l, a) {
        return new HSL(h, s, l, a != null ? a : 1);
    };

    return Color;
}(Class));

Color.formats = [ {
    re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
    process: function(parts) {
        return [
            parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)
        ];
    }
}, {
    re: /^(\w{2})(\w{2})(\w{2})$/,
    process: function(parts) {
        return [
            parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)
        ];
    }
}, {
    re: /^(\w{1})(\w{1})(\w{1})$/,
    process: function(parts) {
        return [
            parseInt(parts[1] + parts[1], 16),
            parseInt(parts[2] + parts[2], 16),
            parseInt(parts[3] + parts[3], 16)
        ];
    }
} ];

Color.namedColors = namedColors;

function append$1$1(first, second) {
    first.push.apply(first, second);
    return first;
}

/* eslint-disable key-spacing,no-multi-spaces,no-param-reassign */

var literals = {
    1    : "i",       10   : "x",       100  : "c",
    2    : "ii",      20   : "xx",      200  : "cc",
    3    : "iii",     30   : "xxx",     300  : "ccc",
    4    : "iv",      40   : "xl",      400  : "cd",
    5    : "v",       50   : "l",       500  : "d",
    6    : "vi",      60   : "lx",      600  : "dc",
    7    : "vii",     70   : "lxx",     700  : "dcc",
    8    : "viii",    80   : "lxxx",    800  : "dccc",
    9    : "ix",      90   : "xc",      900  : "cm",
    1000 : "m"
};

function arabicToRoman(n) {
    var values = [ 1000,
                   900 , 800, 700, 600, 500, 400, 300, 200, 100,
                   90  , 80 , 70 , 60 , 50 , 40 , 30 , 20 , 10 ,
                   9   , 8  , 7  , 6  , 5  , 4  , 3  , 2  , 1 ];

    var roman = "";
    while (n > 0) {
        if (n < values[0]) {
            values.shift();
        } else {
            roman += literals[values[0]];
            n -= values[0];
        }
    }
    return roman;
}

function createPromise() {
    var resolveFn, rejectFn;
    var promise = new Promise(function (resolve, reject) {
        resolveFn = function (data) {
            promise._state = "resolved";
            resolve(data);
            return promise;
        };
        rejectFn = function (data) {
            promise._state = "rejected";
            reject(data);

            return promise;
        };
    });
    promise._state = "pending";
    promise.resolve = resolveFn;
    promise.reject = rejectFn;
    promise.state = function () { return promise._state; };

    return promise;
}

var UNDEFINED = "undefined";

function defined(value) {
    return typeof value !== UNDEFINED;
}

var defId = 1;

function definitionId() {
    return "kdef" + defId++;
}

var DEG_TO_RAD = Math.PI / 180;
var MAX_NUM = Number.MAX_VALUE;
var MIN_NUM = -Number.MAX_VALUE;

function deg(radians) {
    return radians / DEG_TO_RAD;
}

var fromCharCode = String.fromCharCode;

var BOM = '\xfe\xff';

// Encodes a string as UTF-8
function encodeUTF8(input) {
    var output = "";

    for (var i = 0; i < input.length; i++) {
        var c = input.charCodeAt(i);

        if (c < 0x80) {
            // One byte
            output += fromCharCode(c);
        } else if (c < 0x800) {
            // Two bytes
            output += fromCharCode(0xC0 | (c >>> 6));
            output += fromCharCode(0x80 | (c & 0x3f));
        } else if (c < 0x10000) {
            // Three bytes
            output += fromCharCode(0xE0 | (c >>> 12));
            output += fromCharCode(0x80 | (c >>> 6 & 0x3f));
            output += fromCharCode(0x80 | (c & 0x3f));
        }
    }

    return output;
}

function encodeUnit(codeUnit) {
    return fromCharCode(codeUnit >> 8) + fromCharCode(codeUnit & 0x00ff);
}

// Encodes a string as UTF-16 big-endian
function encodeUTF16BE(input) {
    var output = '';

    for (var i = 0; i < input.length; i++) {
        var c = input.charCodeAt(i);

        if (c < 0xFFFF) {
            output += encodeUnit(c);
        } else {
            var lead = ((c - 0x10000) >> 10) + 0xD800;
            var trail = ((c - 0x10000) & 0x3FF) + 0xDC00;
            output += encodeUnit(lead);
            output += encodeUnit(trail);
        }
    }

    return output;
}

var KEY_STR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

function encodeBase64(input) {
    var output = "";
    var i = 0;

    var utfInput = encodeUTF8(input);

    while (i < utfInput.length) {
        var chr1 = utfInput.charCodeAt(i++);
        var chr2 = utfInput.charCodeAt(i++);
        var chr3 = utfInput.charCodeAt(i++);

        var enc1 = chr1 >> 2;
        var enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
        var enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
        var enc4 = chr3 & 63;

        if (isNaN(chr2)) {
            enc3 = enc4 = 64;
        } else if (isNaN(chr3)) {
            enc4 = 64;
        }

        output = output +
            KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) +
            KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);
    }

    return output;
}

function eventCoordinates(e) {
    if (defined((e.x || {}).location)) {
        return {
            x: e.x.location,
            y: e.y.location
        };
    }

    return {
        x: e.pageX || e.clientX || 0,
        y: e.pageY || e.clientY || 0
    };
}

function eventElement(e) {
    if ( e === void 0 ) e = {};

    return e.touch ? e.touch.initialTouch : e.target;
}

function isTransparent(color) {
    return color === "" || color === null || color === "none" || color === "transparent" || !defined(color);
}

function last(array) {
    if (array) {
        return array[array.length - 1];
    }
}

function limitValue(value, min, max) {
    return Math.max(Math.min(value, max), min);
}

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

// mergeSort is stable.
function mergeSort(a, cmp) {
    if (a.length < 2) {
        return a.slice();
    }
    function merge(a, b) {
        var r = [], ai = 0, bi = 0, i = 0;
        while (ai < a.length && bi < b.length) {
            if (cmp(a[ai], b[bi]) <= 0) {
                r[i++] = a[ai++];
            } else {
                r[i++] = b[bi++];
            }
        }
        if (ai < a.length) {
            r.push.apply(r, a.slice(ai));
        }
        if (bi < b.length) {
            r.push.apply(r, b.slice(bi));
        }
        return r;
    }
    return (function sort(a) {
        if (a.length <= 1) {
            return a;
        }
        var m = Math.floor(a.length / 2);
        var left = a.slice(0, m);
        var right = a.slice(m);
        left = sort(left);
        right = sort(right);
        return merge(left, right);
    })(a);
}

function promiseAll(promises) {
    return Promise.all(promises);
}

function rad(degrees) {
    return degrees * DEG_TO_RAD;
}

function pow(p) {
    if (p) {
        return Math.pow(10, p);
    }

    return 1;
}

function round(value, precision) {
    var power = pow(precision);
    return Math.round(value * power) / power;
}

function valueOrDefault(value, defaultValue) {
    return defined(value) ? value : defaultValue;
}

function bindEvents(element, events) {
    for (var eventName in events) {
        var eventNames = eventName.trim().split(" ");
        for (var idx = 0; idx < eventNames.length; idx++) {
            element.addEventListener(eventNames[idx], events[eventName], false);
        }
    }
}

function elementOffset(element) {
    var box = element.getBoundingClientRect();

    var documentElement = document.documentElement;

    return {
        top: box.top + (window.pageYOffset || documentElement.scrollTop) - (documentElement.clientTop || 0),
        left: box.left + (window.pageXOffset || documentElement.scrollLeft) - (documentElement.clientLeft || 0)
    };
}

function elementStyles(element, styles) {
    var result = {};
    var style = window.getComputedStyle(element) || {};
    var stylesArray = Array.isArray(styles) ? styles : [ styles ];

    for (var idx = 0; idx < stylesArray.length; idx++) {
        var field = stylesArray[idx];
        result[field] = style[field];
    }

    return result;
}

function getPixels(value) {
    if (isNaN(value)) {
        return value;
    }
    return value + "px";
}

function elementSize(element, size) {
    if (size) {
        var width = size.width;
        var height = size.height;

        if (defined(width)) {
            element.style.width = getPixels(width);
        }

        if (defined(height)) {
            element.style.height = getPixels(height);
        }

    } else {
        var size$1 = elementStyles(element, [ 'width', 'height' ]);

        return {
            width: parseInt(size$1.width, 10),
            height: parseInt(size$1.height, 10)
        };
    }
}

function unbindEvents(element, events) {
    if ( events === void 0 ) events = {};

    for (var name in events) {
        var eventNames = name.trim().split(" ");
        for (var idx = 0; idx < eventNames.length; idx++) {
            element.removeEventListener(eventNames[idx], events[name], false);
        }
    }
}

var LRUCache = (function (Class$$1) {
    function LRUCache(size) {
        Class$$1.call(this);

        this._size = size;
        this._length = 0;
        this._map = {};
    }

    if ( Class$$1 ) LRUCache.__proto__ = Class$$1;
    LRUCache.prototype = Object.create( Class$$1 && Class$$1.prototype );
    LRUCache.prototype.constructor = LRUCache;

    LRUCache.prototype.put = function put (key, value) {
        var map = this._map;
        var entry = { key: key, value: value };

        map[key] = entry;

        if (!this._head) {
            this._head = this._tail = entry;
        } else {
            this._tail.newer = entry;
            entry.older = this._tail;
            this._tail = entry;
        }

        if (this._length >= this._size) {
            map[this._head.key] = null;
            this._head = this._head.newer;
            this._head.older = null;
        } else {
            this._length++;
        }
    };

    LRUCache.prototype.get = function get (key) {
        var entry = this._map[key];

        if (entry) {
            if (entry === this._head && entry !== this._tail) {
                this._head = entry.newer;
                this._head.older = null;
            }

            if (entry !== this._tail) {
                if (entry.older) {
                    entry.older.newer = entry.newer;
                    entry.newer.older = entry.older;
                }

                entry.older = this._tail;
                entry.newer = null;

                this._tail.newer = entry;
                this._tail = entry;
            }

            return entry.value;
        }
    };

    return LRUCache;
}(Class));

var REPLACE_REGEX = /\r?\n|\r|\t/g;
var SPACE = ' ';

function normalizeText(text) {
    return String(text).replace(REPLACE_REGEX, SPACE);
}

function objectKey(object) {
    var parts = [];
    for (var key in object) {
        parts.push(key + object[key]);
    }

    return parts.sort().join("");
}

// Computes FNV-1 hash
// See http://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function
function hashKey(str) {
    // 32-bit FNV-1 offset basis
    // See http://isthe.com/chongo/tech/comp/fnv/#FNV-param
    var hash = 0x811C9DC5;

    for (var i = 0; i < str.length; ++i) {
        hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);
        hash ^= str.charCodeAt(i);
    }

    return hash >>> 0;
}

function zeroSize() {
    return { width: 0, height: 0, baseline: 0 };
}

var DEFAULT_OPTIONS = {
    baselineMarkerSize: 1
};

var defaultMeasureBox;

if (typeof document !== "undefined") {
    defaultMeasureBox = document.createElement("div");
    defaultMeasureBox.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;" +
              "padding: 0 !important; margin: 0 !important; border: 0 !important;" +
              "line-height: normal !important; visibility: hidden !important; white-space: pre!important;";
}

var TextMetrics = (function (Class$$1) {
    function TextMetrics(options) {
        Class$$1.call(this);

        this._cache = new LRUCache(1000);
        this.options = Object.assign({}, DEFAULT_OPTIONS, options);
    }

    if ( Class$$1 ) TextMetrics.__proto__ = Class$$1;
    TextMetrics.prototype = Object.create( Class$$1 && Class$$1.prototype );
    TextMetrics.prototype.constructor = TextMetrics;

    TextMetrics.prototype.measure = function measure (text, style, options) {
        if ( options === void 0 ) options = {};

        if (!text) {
            return zeroSize();
        }

        var styleKey = objectKey(style);
        var cacheKey = hashKey(text + styleKey);
        var cachedResult = this._cache.get(cacheKey);

        if (cachedResult) {
            return cachedResult;
        }

        var size = zeroSize();
        var measureBox = options.box || defaultMeasureBox;
        var baselineMarker = this._baselineMarker().cloneNode(false);

        for (var key in style) {
            var value = style[key];
            if (typeof value !== "undefined") {
                measureBox.style[key] = value;
            }
        }

        var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);

        measureBox.textContent = textStr;
        measureBox.appendChild(baselineMarker);
        document.body.appendChild(measureBox);

        if (textStr.length) {
            size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;
            size.height = measureBox.offsetHeight;
            size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;
        }

        if (size.width > 0 && size.height > 0) {
            this._cache.put(cacheKey, size);
        }

        measureBox.parentNode.removeChild(measureBox);

        return size;
    };

    TextMetrics.prototype._baselineMarker = function _baselineMarker () {
        var marker = document.createElement("div");
        marker.style.cssText = "display: inline-block; vertical-align: baseline;width: " +
            this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;";

        return marker;
    };

    return TextMetrics;
}(Class));

TextMetrics.current = new TextMetrics();

function measureText(text, style, measureBox) {
    return TextMetrics.current.measure(text, style, measureBox);
}



var util = Object.freeze({
	append: append$1$1,
	arabicToRoman: arabicToRoman,
	createPromise: createPromise,
	defined: defined,
	definitionId: definitionId,
	deg: deg,
	encodeBase64: encodeBase64,
	eventCoordinates: eventCoordinates,
	eventElement: eventElement,
	isTransparent: isTransparent,
	last: last,
	limitValue: limitValue,
	mergeSort: mergeSort,
	promiseAll: promiseAll,
	rad: rad,
	round: round,
	valueOrDefault: valueOrDefault,
	bindEvents: bindEvents,
	elementOffset: elementOffset,
	elementSize: elementSize,
	elementStyles: elementStyles,
	unbindEvents: unbindEvents,
	DEG_TO_RAD: DEG_TO_RAD,
	MAX_NUM: MAX_NUM,
	MIN_NUM: MIN_NUM,
	LRUCache: LRUCache,
	TextMetrics: TextMetrics,
	measureText: measureText,
	objectKey: objectKey,
	hashKey: hashKey,
	normalizeText: normalizeText
});

var toString$1 = {}.toString;

var OptionsStore = (function (Class$$1) {
    function OptionsStore(options, prefix) {
        var this$1 = this;
        if ( prefix === void 0 ) prefix = "";

        Class$$1.call(this);

        this.prefix = prefix;

        for (var field in options) {
            var member = options[field];
            member = this$1._wrap(member, field);
            this$1[field] = member;
        }
    }

    if ( Class$$1 ) OptionsStore.__proto__ = Class$$1;
    OptionsStore.prototype = Object.create( Class$$1 && Class$$1.prototype );
    OptionsStore.prototype.constructor = OptionsStore;

    OptionsStore.prototype.get = function get (field) {
        var parts = field.split(".");
        var result = this;

        while (parts.length && result) {
            var part = parts.shift();
            result = result[part];
        }

        return result;
    };

    OptionsStore.prototype.set = function set (field, value) {
        var current = this.get(field);

        if (current !== value) {
            this._set(field, this._wrap(value, field));
            this.optionsChange({
                field: this.prefix + field,
                value: value
            });
        }
    };

    OptionsStore.prototype._set = function _set (field, value) {
        var this$1 = this;

        var composite = field.indexOf(".") >= 0;
        var parentObj = this;
        var fieldName = field;

        if (composite) {
            var parts = fieldName.split(".");
            var prefix = this.prefix;

            while (parts.length > 1) {
                fieldName = parts.shift();
                prefix += fieldName + ".";

                var obj = parentObj[fieldName];

                if (!obj) {
                    obj = new OptionsStore({}, prefix);
                    obj.addObserver(this$1);
                    parentObj[fieldName] = obj;
                }
                parentObj = obj;
            }
            fieldName = parts[0];
        }

        parentObj._clear(fieldName);
        parentObj[fieldName] = value;
    };

    OptionsStore.prototype._clear = function _clear (field) {
        var current = this[field];
        if (current && current.removeObserver) {
            current.removeObserver(this);
        }
    };

    OptionsStore.prototype._wrap = function _wrap (object, field) {
        var type = toString$1.call(object);
        var wrapped = object;

        if (wrapped !== null && defined(wrapped) && type === "[object Object]") {
            if (!(object instanceof OptionsStore) && !(object instanceof Class$$1)) {
                wrapped = new OptionsStore(wrapped, this.prefix + field + ".");
            }

            wrapped.addObserver(this);
        }

        return wrapped;
    };

    return OptionsStore;
}(Class));

ObserversMixin.extend(OptionsStore.prototype);

function setAccessor(field) {
    return function(value) {
        if (this[field] !== value) {
            this[field] = value;
            this.geometryChange();
        }

        return this;
    };
}

function getAccessor(field) {
    return function() {
        return this[field];
    };
}

function defineAccessors(fn, fields) {
    for (var i = 0; i < fields.length; i++) {
        var name = fields[i];
        var capitalized = name.charAt(0).toUpperCase() +
                          name.substring(1, name.length);

        fn["set" + capitalized] = setAccessor(name);
        fn["get" + capitalized] = getAccessor(name);
    }
}

var Matrix = (function (Class$$1) {
    function Matrix(a, b, c, d, e, f) {
        if ( a === void 0 ) a = 0;
        if ( b === void 0 ) b = 0;
        if ( c === void 0 ) c = 0;
        if ( d === void 0 ) d = 0;
        if ( e === void 0 ) e = 0;
        if ( f === void 0 ) f = 0;

        Class$$1.call(this);

        this.a = a;
        this.b = b;
        this.c = c;
        this.d = d;
        this.e = e;
        this.f = f;
    }

    if ( Class$$1 ) Matrix.__proto__ = Class$$1;
    Matrix.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Matrix.prototype.constructor = Matrix;

    Matrix.prototype.multiplyCopy = function multiplyCopy (matrix) {
        return new Matrix(
            this.a * matrix.a + this.c * matrix.b,
            this.b * matrix.a + this.d * matrix.b,
            this.a * matrix.c + this.c * matrix.d,
            this.b * matrix.c + this.d * matrix.d,
            this.a * matrix.e + this.c * matrix.f + this.e,
            this.b * matrix.e + this.d * matrix.f + this.f
        );
    };

    Matrix.prototype.invert = function invert () {
        var ref = this;
        var a = ref.a;
        var b = ref.b;
        var d = ref.c;
        var e = ref.d;
        var g = ref.e;
        var h = ref.f;
        var det = a * e - b * d;

        if (det === 0) {
            return null;
        }

        return new Matrix(e / det, -b / det, -d / det, a / det,
                          (d * h - e * g) / det, (b * g - a * h) / det);
    };

    Matrix.prototype.clone = function clone () {
        return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);
    };

    Matrix.prototype.equals = function equals (other) {
        if (!other) {
            return false;
        }

        return this.a === other.a && this.b === other.b &&
               this.c === other.c && this.d === other.d &&
               this.e === other.e && this.f === other.f;
    };

    Matrix.prototype.round = function round$1 (precision) {
        this.a = round(this.a, precision);
        this.b = round(this.b, precision);
        this.c = round(this.c, precision);
        this.d = round(this.d, precision);
        this.e = round(this.e, precision);
        this.f = round(this.f, precision);

        return this;
    };

    Matrix.prototype.toArray = function toArray (precision) {
        var result = [ this.a, this.b, this.c, this.d, this.e, this.f ];

        if (defined(precision)) {
            for (var i = 0; i < result.length; i++) {
                result[i] = round(result[i], precision);
            }
        }

        return result;
    };

    Matrix.prototype.toString = function toString (precision, separator) {
        if ( separator === void 0 ) separator = ",";

        return this.toArray(precision).join(separator);
    };

    Matrix.translate = function translate (x, y) {
        return new Matrix(1, 0, 0, 1, x, y);
    };

    Matrix.unit = function unit () {
        return new Matrix(1, 0, 0, 1, 0, 0);
    };

    Matrix.rotate = function rotate (angle, x, y) {
        var matrix = new Matrix();
        matrix.a = Math.cos(rad(angle));
        matrix.b = Math.sin(rad(angle));
        matrix.c = -matrix.b;
        matrix.d = matrix.a;
        matrix.e = (x - x * matrix.a + y * matrix.b) || 0;
        matrix.f = (y - y * matrix.a - x * matrix.b) || 0;

        return matrix;
    };

    Matrix.scale = function scale (scaleX, scaleY) {
        return new Matrix(scaleX, 0, 0, scaleY, 0, 0);
    };

    return Matrix;
}(Class));

Matrix.IDENTITY = Matrix.unit();

function toMatrix(transformation) {
    if (transformation && typeof transformation.matrix === "function") {
        return transformation.matrix();
    }

    return transformation;
}

var Point = (function (Class$$1) {
    function Point(x, y) {
        Class$$1.call(this);

        this.x = x || 0;
        this.y = y || 0;
    }

    if ( Class$$1 ) Point.__proto__ = Class$$1;
    Point.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Point.prototype.constructor = Point;

    var staticAccessors = { ZERO: {} };

    Point.prototype.equals = function equals (other) {
        return other && other.x === this.x && other.y === this.y;
    };

    Point.prototype.clone = function clone () {
        return new Point(this.x, this.y);
    };

    Point.prototype.rotate = function rotate (angle, origin) {
        var originPoint = Point.create(origin) || Point.ZERO;

        return this.transform(Matrix.rotate(angle, originPoint.x, originPoint.y));
    };

    Point.prototype.translate = function translate (x, y) {
        this.x += x;
        this.y += y;

        this.geometryChange();

        return this;
    };

    Point.prototype.translateWith = function translateWith (point) {
        return this.translate(point.x, point.y);
    };

    Point.prototype.move = function move (x, y) {
        this.x = this.y = 0;
        return this.translate(x, y);
    };

    Point.prototype.scale = function scale (scaleX, scaleY) {
        if ( scaleY === void 0 ) scaleY = scaleX;

        this.x *= scaleX;
        this.y *= scaleY;

        this.geometryChange();

        return this;
    };

    Point.prototype.scaleCopy = function scaleCopy (scaleX, scaleY) {
        return this.clone().scale(scaleX, scaleY);
    };

    Point.prototype.transform = function transform (transformation) {
        var matrix = toMatrix(transformation);
        var ref = this;
        var x = ref.x;
        var y = ref.y;

        this.x = matrix.a * x + matrix.c * y + matrix.e;
        this.y = matrix.b * x + matrix.d * y + matrix.f;

        this.geometryChange();

        return this;
    };

    Point.prototype.transformCopy = function transformCopy (transformation) {
        var point = this.clone();

        if (transformation) {
            point.transform(transformation);
        }

        return point;
    };

    Point.prototype.distanceTo = function distanceTo (point) {
        var dx = this.x - point.x;
        var dy = this.y - point.y;

        return Math.sqrt(dx * dx + dy * dy);
    };

    Point.prototype.round = function round$1 (digits) {
        this.x = round(this.x, digits);
        this.y = round(this.y, digits);

        this.geometryChange();

        return this;
    };

    Point.prototype.toArray = function toArray (digits) {
        var doRound = defined(digits);
        var x = doRound ? round(this.x, digits) : this.x;
        var y = doRound ? round(this.y, digits) : this.y;

        return [ x, y ];
    };

    Point.prototype.toString = function toString (digits, separator) {
        if ( separator === void 0 ) separator = " ";

        var ref = this;
        var x = ref.x;
        var y = ref.y;

        if (defined(digits)) {
            x = round(x, digits);
            y = round(y, digits);
        }

        return x + separator + y;
    };

    Point.create = function create (arg0, arg1) {
        if (defined(arg0)) {
            if (arg0 instanceof Point) {
                return arg0;
            } else if (arguments.length === 1 && arg0.length === 2) {
                return new Point(arg0[0], arg0[1]);
            }

            return new Point(arg0, arg1);
        }
    };

    Point.min = function min () {
        var arguments$1 = arguments;

        var minX = MAX_NUM;
        var minY = MAX_NUM;

        for (var i = 0; i < arguments.length; i++) {
            var point = arguments$1[i];
            minX = Math.min(point.x, minX);
            minY = Math.min(point.y, minY);
        }

        return new Point(minX, minY);
    };

    Point.max = function max () {
        var arguments$1 = arguments;

        var maxX = MIN_NUM;
        var maxY = MIN_NUM;

        for (var i = 0; i < arguments.length; i++) {
            var point = arguments$1[i];
            maxX = Math.max(point.x, maxX);
            maxY = Math.max(point.y, maxY);
        }

        return new Point(maxX, maxY);
    };

    Point.minPoint = function minPoint () {
        return new Point(MIN_NUM, MIN_NUM);
    };

    Point.maxPoint = function maxPoint () {
        return new Point(MAX_NUM, MAX_NUM);
    };

    staticAccessors.ZERO.get = function () {
        return new Point(0, 0);
    };

    Object.defineProperties( Point, staticAccessors );

    return Point;
}(Class));

defineAccessors(Point.prototype, [ "x", "y" ]);
ObserversMixin.extend(Point.prototype);

var Size = (function (Class$$1) {
    function Size(width, height) {
        Class$$1.call(this);

        this.width = width || 0;
        this.height = height || 0;
    }

    if ( Class$$1 ) Size.__proto__ = Class$$1;
    Size.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Size.prototype.constructor = Size;

    var staticAccessors = { ZERO: {} };

    Size.prototype.equals = function equals (other) {
        return other && other.width === this.width && other.height === this.height;
    };

    Size.prototype.clone = function clone () {
        return new Size(this.width, this.height);
    };

    Size.prototype.toArray = function toArray (digits) {
        var doRound = defined(digits);
        var width = doRound ? round(this.width, digits) : this.width;
        var height = doRound ? round(this.height, digits) : this.height;

        return [ width, height ];
    };

    Size.create = function create (arg0, arg1) {
        if (defined(arg0)) {
            if (arg0 instanceof Size) {
                return arg0;
            } else if (arguments.length === 1 && arg0.length === 2) {
                return new Size(arg0[0], arg0[1]);
            }

            return new Size(arg0, arg1);
        }
    };

    staticAccessors.ZERO.get = function () {
        return new Size(0, 0);
    };

    Object.defineProperties( Size, staticAccessors );

    return Size;
}(Class));

defineAccessors(Size.prototype, [ "width", "height" ]);
ObserversMixin.extend(Size.prototype);

var Rect = (function (Class$$1) {
    function Rect(origin, size) {
        if ( origin === void 0 ) origin = new Point();
        if ( size === void 0 ) size = new Size();

        Class$$1.call(this);

        this.setOrigin(origin);
        this.setSize(size);
    }

    if ( Class$$1 ) Rect.__proto__ = Class$$1;
    Rect.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Rect.prototype.constructor = Rect;

    Rect.prototype.clone = function clone () {
        return new Rect(
            this.origin.clone(),
            this.size.clone()
        );
    };

    Rect.prototype.equals = function equals (other) {
        return other &&
               other.origin.equals(this.origin) &&
               other.size.equals(this.size);
    };

    Rect.prototype.setOrigin = function setOrigin (value) {
        this._observerField("origin", Point.create(value));
        this.geometryChange();
        return this;
    };

    Rect.prototype.getOrigin = function getOrigin () {
        return this.origin;
    };

    Rect.prototype.setSize = function setSize (value) {
        this._observerField("size", Size.create(value));
        this.geometryChange();
        return this;
    };

    Rect.prototype.getSize = function getSize () {
        return this.size;
    };

    Rect.prototype.width = function width () {
        return this.size.width;
    };

    Rect.prototype.height = function height () {
        return this.size.height;
    };

    Rect.prototype.topLeft = function topLeft () {
        return this.origin.clone();
    };

    Rect.prototype.bottomRight = function bottomRight () {
        return this.origin.clone().translate(this.width(), this.height());
    };

    Rect.prototype.topRight = function topRight () {
        return this.origin.clone().translate(this.width(), 0);
    };

    Rect.prototype.bottomLeft = function bottomLeft () {
        return this.origin.clone().translate(0, this.height());
    };

    Rect.prototype.center = function center () {
        return this.origin.clone().translate(this.width() / 2, this.height() / 2);
    };

    Rect.prototype.bbox = function bbox (matrix) {
        var tl = this.topLeft().transformCopy(matrix);
        var tr = this.topRight().transformCopy(matrix);
        var br = this.bottomRight().transformCopy(matrix);
        var bl = this.bottomLeft().transformCopy(matrix);

        return Rect.fromPoints(tl, tr, br, bl);
    };

    Rect.prototype.transformCopy = function transformCopy (m) {
        return Rect.fromPoints(
            this.topLeft().transform(m),
            this.bottomRight().transform(m)
        );
    };

    Rect.prototype.expand = function expand (x, y) {
        if ( y === void 0 ) y = x;


        this.size.width += 2 * x;
        this.size.height += 2 * y;

        this.origin.translate(-x, -y);

        return this;
    };

    Rect.prototype.expandCopy = function expandCopy (x, y) {
        return this.clone().expand(x, y);
    };

    Rect.prototype.containsPoint = function containsPoint (point) {
        var origin = this.origin;
        var bottomRight = this.bottomRight();
        return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);
    };

    Rect.prototype._isOnPath = function _isOnPath (point, width) {
        var rectOuter = this.expandCopy(width, width);
        var rectInner = this.expandCopy(-width, -width);

        return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);
    };

    Rect.fromPoints = function fromPoints () {
        var topLeft = Point.min.apply(null, arguments);
        var bottomRight = Point.max.apply(null, arguments);
        var size = new Size(
            bottomRight.x - topLeft.x,
            bottomRight.y - topLeft.y
        );

        return new Rect(topLeft, size);
    };

    Rect.union = function union (a, b) {
        return Rect.fromPoints(
            Point.min(a.topLeft(), b.topLeft()),
            Point.max(a.bottomRight(), b.bottomRight())
        );
    };

    Rect.intersect = function intersect (a, b) {
        var rect1 = {
            left: a.topLeft().x,
            top: a.topLeft().y,
            right: a.bottomRight().x,
            bottom: a.bottomRight().y
        };

        var rect2 = {
            left: b.topLeft().x,
            top: b.topLeft().y,
            right: b.bottomRight().x,
            bottom: b.bottomRight().y
        };

        if (rect1.left <= rect2.right &&
            rect2.left <= rect1.right &&
            rect1.top <= rect2.bottom &&
            rect2.top <= rect1.bottom) {
            return Rect.fromPoints(
                new Point(Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)),
                new Point(Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom))
            );
        }
    };

    return Rect;
}(Class));

ObserversMixin.extend(Rect.prototype);

var Transformation = (function (Class$$1) {
    function Transformation(matrix) {
        if ( matrix === void 0 ) matrix = Matrix.unit();

        Class$$1.call(this);

        this._matrix = matrix;
    }

    if ( Class$$1 ) Transformation.__proto__ = Class$$1;
    Transformation.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Transformation.prototype.constructor = Transformation;

    Transformation.prototype.clone = function clone () {
        return new Transformation(
            this._matrix.clone()
        );
    };

    Transformation.prototype.equals = function equals (other) {
        return other &&
               other._matrix.equals(this._matrix);
    };

    Transformation.prototype.translate = function translate (x, y) {
        this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));

        this._optionsChange();
        return this;
    };

    Transformation.prototype.scale = function scale (scaleX, scaleY, origin) {
        if ( scaleY === void 0 ) scaleY = scaleX;
        if ( origin === void 0 ) origin = null;

        var originPoint = origin;

        if (originPoint) {
            originPoint = Point.create(originPoint);
            this._matrix = this._matrix.multiplyCopy(Matrix.translate(originPoint.x, originPoint.y));
        }

        this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));

        if (originPoint) {
            this._matrix = this._matrix.multiplyCopy(Matrix.translate(-originPoint.x, -originPoint.y));
        }

        this._optionsChange();
        return this;
    };

    Transformation.prototype.rotate = function rotate (angle, origin) {
        var originPoint = Point.create(origin) || Point.ZERO;

        this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, originPoint.x, originPoint.y));

        this._optionsChange();
        return this;
    };

    Transformation.prototype.multiply = function multiply (transformation) {
        var matrix = toMatrix(transformation);

        this._matrix = this._matrix.multiplyCopy(matrix);

        this._optionsChange();
        return this;
    };

    Transformation.prototype.matrix = function matrix (value) {
        if (value) {
            this._matrix = value;
            this._optionsChange();
            return this;
        }

        return this._matrix;
    };

    Transformation.prototype._optionsChange = function _optionsChange () {
        this.optionsChange({
            field: "transform",
            value: this
        });
    };

    return Transformation;
}(Class));

ObserversMixin.extend(Transformation.prototype);

function transform$1(matrix) {
    if (matrix === null) {
        return null;
    }

    if (matrix instanceof Transformation) {
        return matrix;
    }

    return new Transformation(matrix);
}

var Element$1 = (function (Class$$1) {
    function Element(options) {
        Class$$1.call(this);

        this._initOptions(options);
    }

    if ( Class$$1 ) Element.__proto__ = Class$$1;
    Element.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Element.prototype.constructor = Element;

    Element.prototype._initOptions = function _initOptions (options) {
        if ( options === void 0 ) options = {};

        var clip = options.clip;
        var transform = options.transform;

        if (transform) {
            options.transform = transform$1(transform);
        }

        if (clip && !clip.id) {
            clip.id = definitionId();
        }

        this.options = new OptionsStore(options);
        this.options.addObserver(this);
    };

    Element.prototype.transform = function transform (value) {
        if (defined(value)) {
            this.options.set("transform", transform$1(value));
        } else {
            return this.options.get("transform");
        }
    };

    Element.prototype.parentTransform = function parentTransform () {
        var element = this;
        var parentMatrix;

        while (element.parent) {
            element = element.parent;
            var transformation = element.transform();
            if (transformation) {
                parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());
            }
        }

        if (parentMatrix) {
            return transform$1(parentMatrix);
        }
    };

    Element.prototype.currentTransform = function currentTransform (parentTransform) {
        if ( parentTransform === void 0 ) parentTransform = this.parentTransform();

        var elementTransform = this.transform();
        var elementMatrix = toMatrix(elementTransform);

        var parentMatrix = toMatrix(parentTransform);
        var combinedMatrix;

        if (elementMatrix && parentMatrix) {
            combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);
        } else {
            combinedMatrix = elementMatrix || parentMatrix;
        }

        if (combinedMatrix) {
            return transform$1(combinedMatrix);
        }
    };

    Element.prototype.visible = function visible (value) {
        if (defined(value)) {
            this.options.set("visible", value);
            return this;
        }

        return this.options.get("visible") !== false;
    };

    Element.prototype.clip = function clip (value) {
        var options = this.options;
        if (defined(value)) {
            if (value && !value.id) {
                value.id = definitionId();
            }
            options.set("clip", value);
            return this;
        }

        return options.get("clip");
    };

    Element.prototype.opacity = function opacity (value) {
        if (defined(value)) {
            this.options.set("opacity", value);
            return this;
        }

        return valueOrDefault(this.options.get("opacity"), 1);
    };

    Element.prototype.clippedBBox = function clippedBBox (transformation) {
        var bbox = this._clippedBBox(transformation);
        if (bbox) {
            var clip = this.clip();
            return clip ? Rect.intersect(bbox, clip.bbox(transformation)) : bbox;
        }
    };

    Element.prototype.containsPoint = function containsPoint (point, parentTransform) {
        if (this.visible()) {
            var transform = this.currentTransform(parentTransform);
            var transformedPoint = point;
            if (transform) {
                transformedPoint = point.transformCopy(transform.matrix().invert());
            }
            return (this._hasFill() && this._containsPoint(transformedPoint)) || (this._isOnPath && this._hasStroke() && this._isOnPath(transformedPoint));
        }
        return false;
    };

    Element.prototype._hasFill = function _hasFill () {
        var fill = this.options.fill;
        return fill && !isTransparent(fill.color);
    };

    Element.prototype._hasStroke = function _hasStroke () {
        var stroke = this.options.stroke;
        return stroke && stroke.width > 0 && !isTransparent(stroke.color);
    };

    Element.prototype._clippedBBox = function _clippedBBox (transformation) {
        return this.bbox(transformation);
    };

    return Element;
}(Class));

Element$1.prototype.nodeType = "Element";

ObserversMixin.extend(Element$1.prototype);

function ellipseExtremeAngles(center, rx, ry, matrix) {
    var extremeX = 0;
    var extremeY = 0;

    if (matrix) {
        extremeX = Math.atan2(matrix.c * ry, matrix.a * rx);
        if (matrix.b !== 0) {
            extremeY = Math.atan2(matrix.d * ry, matrix.b * rx);
        }
    }

    return {
        x: extremeX,
        y: extremeY
    };
}

var PI_DIV_2 = Math.PI / 2;

var Circle$2 = (function (Class$$1) {
    function Circle(center, radius) {
        if ( center === void 0 ) center = new Point();
        if ( radius === void 0 ) radius = 0;

        Class$$1.call(this);

        this.setCenter(center);
        this.setRadius(radius);
    }

    if ( Class$$1 ) Circle.__proto__ = Class$$1;
    Circle.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Circle.prototype.constructor = Circle;

    Circle.prototype.setCenter = function setCenter (value) {
        this._observerField("center", Point.create(value));
        this.geometryChange();
        return this;
    };

    Circle.prototype.getCenter = function getCenter () {
        return this.center;
    };

    Circle.prototype.equals = function equals (other) {
        return other &&
               other.center.equals(this.center) &&
               other.radius === this.radius;
    };

    Circle.prototype.clone = function clone () {
        return new Circle(this.center.clone(), this.radius);
    };

    Circle.prototype.pointAt = function pointAt (angle) {
        return this._pointAt(rad(angle));
    };

    Circle.prototype.bbox = function bbox (matrix) {
        var this$1 = this;

        var extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);
        var minPoint = Point.maxPoint();
        var maxPoint = Point.minPoint();

        for (var i = 0; i < 4; i++) {
            var currentPointX = this$1._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);
            var currentPointY = this$1._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);
            var currentPoint = new Point(currentPointX.x, currentPointY.y);

            minPoint = Point.min(minPoint, currentPoint);
            maxPoint = Point.max(maxPoint, currentPoint);
        }

        return Rect.fromPoints(minPoint, maxPoint);
    };

    Circle.prototype._pointAt = function _pointAt (angle) {
        var ref = this;
        var center = ref.center;
        var radius = ref.radius;

        return new Point(
            center.x + radius * Math.cos(angle),
            center.y + radius * Math.sin(angle)
        );
    };

    Circle.prototype.containsPoint = function containsPoint (point) {
        var ref = this;
        var center = ref.center;
        var radius = ref.radius;
        var inCircle = Math.pow(point.x - center.x, 2) +
            Math.pow(point.y - center.y, 2) <= Math.pow(radius, 2);
        return inCircle;
    };

    Circle.prototype._isOnPath = function _isOnPath (point, width) {
        var ref = this;
        var center = ref.center;
        var radius = ref.radius;
        var pointDistance = center.distanceTo(point);

        return radius - width <= pointDistance && pointDistance <= radius + width;
    };

    return Circle;
}(Class));

defineAccessors(Circle$2.prototype, [ "radius" ]);
ObserversMixin.extend(Circle$2.prototype);

var GRADIENT = "Gradient";

var Paintable = {
    extend: function(proto) {
        proto.fill = this.fill;
        proto.stroke = this.stroke;
    },

    fill: function(color, opacity) {
        var options = this.options;

        if (defined(color)) {
            if (color && color.nodeType !== GRADIENT) {
                var newFill = {
                    color: color
                };
                if (defined(opacity)) {
                    newFill.opacity = opacity;
                }
                options.set("fill", newFill);
            } else {
                options.set("fill", color);
            }

            return this;
        }

        return options.get("fill");
    },

    stroke: function(color, width, opacity) {
        if (defined(color)) {
            this.options.set("stroke.color", color);

            if (defined(width)) {
                this.options.set("stroke.width", width);
            }

            if (defined(opacity)) {
                this.options.set("stroke.opacity", opacity);
            }

            return this;
        }

        return this.options.get("stroke");
    }
};

var IDENTITY_MATRIX_HASH = Matrix.IDENTITY.toString();

var Measurable = {
    extend: function(proto) {
        proto.bbox = this.bbox;
        proto.geometryChange = this.geometryChange;
    },

    bbox: function(transformation) {
        var combinedMatrix = toMatrix(this.currentTransform(transformation));
        var matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;
        var bbox;

        if (this._bboxCache && this._matrixHash === matrixHash) {
            bbox = this._bboxCache.clone();
        } else {
            bbox = this._bbox(combinedMatrix);
            this._bboxCache = bbox ? bbox.clone() : null;
            this._matrixHash = matrixHash;
        }

        var strokeWidth = this.options.get("stroke.width");
        if (strokeWidth && bbox) {
            bbox.expand(strokeWidth / 2);
        }

        return bbox;
    },

    geometryChange: function() {
        delete this._bboxCache;
        this.trigger("geometryChange", {
            element: this
        });
    }
};

function geometryAccessor(name) {
    var fieldName = "_" + name;
    return function(value) {
        if (defined(value)) {
            this._observerField(fieldName, value);
            this.geometryChange();
            return this;
        }

        return this[fieldName];
    };
}

function defineGeometryAccessors(fn, names) {
    for (var i = 0; i < names.length; i++) {
        fn[names[i]] = geometryAccessor(names[i]);
    }
}

var DEFAULT_STROKE = "#000";

var Circle = (function (Element) {
    function Circle(geometry, options) {
        if ( geometry === void 0 ) geometry = new Circle$2();
        if ( options === void 0 ) options = {};

        Element.call(this, options);
        this.geometry(geometry);

        if (!defined(this.options.stroke)) {
            this.stroke(DEFAULT_STROKE);
        }
    }

    if ( Element ) Circle.__proto__ = Element;
    Circle.prototype = Object.create( Element && Element.prototype );
    Circle.prototype.constructor = Circle;

    Circle.prototype.rawBBox = function rawBBox () {
        return this._geometry.bbox();
    };

    Circle.prototype._bbox = function _bbox (matrix) {
        return this._geometry.bbox(matrix);
    };

    Circle.prototype._containsPoint = function _containsPoint (point) {
        return this.geometry().containsPoint(point);
    };

    Circle.prototype._isOnPath = function _isOnPath (point) {
        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);
    };

    return Circle;
}(Element$1));

Circle.prototype.nodeType = "Circle";

Paintable.extend(Circle.prototype);
Measurable.extend(Circle.prototype);
defineGeometryAccessors(Circle.prototype, [ "geometry" ]);

var PRECISION = 10;

function close$1(a, b, tolerance) {
    if ( tolerance === void 0 ) tolerance = PRECISION;

    return round(Math.abs(a - b), tolerance) === 0;
}

function closeOrLess(a, b, tolerance) {
    return a < b || close$1(a, b, tolerance);
}

function lineIntersection(p0, p1, p2, p3) {
    var s1x = p1.x - p0.x;
    var s2x = p3.x - p2.x;
    var s1y = p1.y - p0.y;
    var s2y = p3.y - p2.y;
    var nx = p0.x - p2.x;
    var ny = p0.y - p2.y;
    var d = s1x * s2y - s2x * s1y;
    var s = (s1x * ny - s1y * nx) / d;
    var t = (s2x * ny - s2y * nx) / d;

    if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {
        return new Point(p0.x + t * s1x, p0.y + t * s1y);
    }
}

var MAX_INTERVAL = 45;
var pow$1 = Math.pow;

var Arc$2 = (function (Class$$1) {
    function Arc(center, options) {
        if ( center === void 0 ) center = new Point();
        if ( options === void 0 ) options = {};

        Class$$1.call(this);

        this.setCenter(center);

        this.radiusX = options.radiusX;
        this.radiusY = options.radiusY || options.radiusX;
        this.startAngle = options.startAngle;
        this.endAngle = options.endAngle;
        this.anticlockwise = options.anticlockwise || false;
        this.xRotation = options.xRotation;
    }

    if ( Class$$1 ) Arc.__proto__ = Class$$1;
    Arc.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Arc.prototype.constructor = Arc;

    Arc.prototype.clone = function clone () {
        return new Arc(this.center, {
            radiusX: this.radiusX,
            radiusY: this.radiusY,
            startAngle: this.startAngle,
            endAngle: this.endAngle,
            anticlockwise: this.anticlockwise
        });
    };

    Arc.prototype.setCenter = function setCenter (value) {
        this._observerField("center", Point.create(value));
        this.geometryChange();
        return this;
    };

    Arc.prototype.getCenter = function getCenter () {
        return this.center;
    };

    Arc.prototype.pointAt = function pointAt (angle) {
        var center = this.center;
        var radian = rad(angle);

        return new Point(
            center.x + this.radiusX * Math.cos(radian),
            center.y + this.radiusY * Math.sin(radian)
        );
    };

    Arc.prototype.curvePoints = function curvePoints () {
        var this$1 = this;

        var startAngle = this.startAngle;
        var dir = this.anticlockwise ? -1 : 1;
        var curvePoints = [ this.pointAt(startAngle) ];
        var interval = this._arcInterval();
        var intervalAngle = interval.endAngle - interval.startAngle;
        var subIntervalsCount = Math.ceil(intervalAngle / MAX_INTERVAL);
        var subIntervalAngle = intervalAngle / subIntervalsCount;
        var currentAngle = startAngle;
        var transformation;
        if (this.xRotation) {
            transformation = transform$1().rotate(this.xRotation, this.center);
        }

        for (var i = 1; i <= subIntervalsCount; i++) {
            var nextAngle = currentAngle + dir * subIntervalAngle;
            var points = this$1._intervalCurvePoints(currentAngle, nextAngle, transformation);

            curvePoints.push(points.cp1, points.cp2, points.p2);
            currentAngle = nextAngle;
        }

        return curvePoints;
    };

    Arc.prototype.bbox = function bbox (matrix) {
        var this$1 = this;

        var interval = this._arcInterval();
        var startAngle = interval.startAngle;
        var endAngle = interval.endAngle;
        var extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);
        var extremeX = deg(extremeAngles.x);
        var extremeY = deg(extremeAngles.y);
        var endPoint = this.pointAt(endAngle).transformCopy(matrix);
        var currentAngleX = bboxStartAngle(extremeX, startAngle);
        var currentAngleY = bboxStartAngle(extremeY, startAngle);
        var currentPoint = this.pointAt(startAngle).transformCopy(matrix);
        var minPoint = Point.min(currentPoint, endPoint);
        var maxPoint = Point.max(currentPoint, endPoint);

        while (currentAngleX < endAngle || currentAngleY < endAngle) {
            var currentPointX = (void 0);
            if (currentAngleX < endAngle) {
                currentPointX = this$1.pointAt(currentAngleX).transformCopy(matrix);
                currentAngleX += 90;
            }

            var currentPointY = (void 0);
            if (currentAngleY < endAngle) {
                currentPointY = this$1.pointAt(currentAngleY).transformCopy(matrix);
                currentAngleY += 90;
            }

            currentPoint = new Point(currentPointX.x, currentPointY.y);
            minPoint = Point.min(minPoint, currentPoint);
            maxPoint = Point.max(maxPoint, currentPoint);
        }

        return Rect.fromPoints(minPoint, maxPoint);
    };

    Arc.prototype._arcInterval = function _arcInterval () {
        var ref = this;
        var startAngle = ref.startAngle;
        var endAngle = ref.endAngle;
        var anticlockwise = ref.anticlockwise;

        if (anticlockwise) {
            var oldStart = startAngle;
            startAngle = endAngle;
            endAngle = oldStart;
        }

        if (startAngle > endAngle || (anticlockwise && startAngle === endAngle)) {
            endAngle += 360;
        }

        return {
            startAngle: startAngle,
            endAngle: endAngle
        };
    };

    Arc.prototype._intervalCurvePoints = function _intervalCurvePoints (startAngle, endAngle, transformation) {
        var p1 = this.pointAt(startAngle);
        var p2 = this.pointAt(endAngle);
        var p1Derivative = this._derivativeAt(startAngle);
        var p2Derivative = this._derivativeAt(endAngle);
        var t = (rad(endAngle) - rad(startAngle)) / 3;
        var cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);
        var cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);
        if (transformation) {
            p1.transform(transformation);
            p2.transform(transformation);
            cp1.transform(transformation);
            cp2.transform(transformation);
        }

        return {
            p1: p1,
            cp1: cp1,
            cp2: cp2,
            p2: p2
        };
    };

    Arc.prototype._derivativeAt = function _derivativeAt (angle) {
        var radian = rad(angle);

        return new Point(-this.radiusX * Math.sin(radian), this.radiusY * Math.cos(radian));
    };

    Arc.prototype.containsPoint = function containsPoint (point) {
        var interval = this._arcInterval();
        var intervalAngle = interval.endAngle - interval.startAngle;
        var ref = this;
        var center = ref.center;
        var radiusX = ref.radiusX;
        var radiusY = ref.radiusY;
        var distance = center.distanceTo(point);
        var angleRad = Math.atan2(point.y - center.y, point.x - center.x);
        var pointRadius = (radiusX * radiusY) /
            Math.sqrt(pow$1(radiusX, 2) * pow$1(Math.sin(angleRad), 2) + pow$1(radiusY, 2) * pow$1(Math.cos(angleRad), 2));
        var startPoint = this.pointAt(this.startAngle).round(PRECISION);
        var endPoint = this.pointAt(this.endAngle).round(PRECISION);
        var intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);
        var containsPoint;

        if (intervalAngle < 180) {
            containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);
        } else {
            var angle = calculateAngle(center.x, center.y, radiusX, radiusY, point.x, point.y);
            if (angle !== 360) {
                angle = (360 + angle) % 360;
            }

            var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;
            containsPoint = (inAngleRange && closeOrLess(distance, pointRadius)) || (!inAngleRange && (!intersection || intersection.equals(point)));
        }
        return containsPoint;
    };

    Arc.prototype._isOnPath = function _isOnPath (point, width) {
        var interval = this._arcInterval();
        var center = this.center;
        var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);
        if (angle !== 360) {
            angle = (360 + angle) % 360;
        }

        var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;

        return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;
    };

    Arc.fromPoints = function fromPoints (start, end, rx, ry, largeArc, swipe, rotation) {// eslint-disable-line max-params
        var arcParameters = normalizeArcParameters({
            x1: start.x,
            y1: start.y,
            x2: end.x,
            y2: end.y,
            rx: rx,
            ry: ry,
            largeArc: largeArc,
            swipe: swipe,
            rotation: rotation
        });

        return new Arc(arcParameters.center, {
            startAngle: arcParameters.startAngle,
            endAngle: arcParameters.endAngle,
            radiusX: arcParameters.radiusX,
            radiusY: arcParameters.radiusY,
            xRotation: arcParameters.xRotation,
            anticlockwise: swipe === 0
        });
    };

    return Arc;
}(Class));

defineAccessors(Arc$2.prototype, [ "radiusX", "radiusY", "startAngle", "endAngle", "anticlockwise" ]);
ObserversMixin.extend(Arc$2.prototype);

function calculateAngle(cx, cy, rx, ry, x, y) {
    var cos = round((x - cx) / rx, 3);
    var sin = round((y - cy) / ry, 3);

    return round(deg(Math.atan2(sin, cos)));
}

function normalizeArcParameters(parameters) {
    var x1 = parameters.x1;
    var y1 = parameters.y1;
    var x2 = parameters.x2;
    var y2 = parameters.y2;
    var rx = parameters.rx;
    var ry = parameters.ry;
    var largeArc = parameters.largeArc;
    var swipe = parameters.swipe;
    var rotation = parameters.rotation; if ( rotation === void 0 ) rotation = 0;

    var radians = rad(rotation);
    var cosine = Math.cos(radians);
    var sine = Math.sin(radians);

    var xT = cosine * (x1 - x2) / 2 + sine * (y1 - y2) / 2;
    var yT = -sine * (x1 - x2) / 2 + cosine * (y1 - y2) / 2;

    var sign = largeArc !== swipe ? 1 : -1;

    var xt2 = Math.pow(xT, 2);
    var yt2 = Math.pow(yT, 2);
    var rx2 = Math.pow(rx, 2);
    var ry2 = Math.pow(ry, 2);

    var delta = xt2 / rx2 + yt2 / ry2;

    if (delta > 1) {
        delta = Math.sqrt(xt2 / rx2 + yt2 / ry2);
        rx = delta * rx;
        rx2 = Math.pow(rx, 2);

        ry = delta * ry;
        ry2 = Math.pow(ry, 2);
    }

    var constT = sign * Math.sqrt((rx2 * ry2 - rx2 * yt2 - ry2 * xt2) / (rx2 * yt2 + ry2 * xt2));
    // due to rounding errors the value could become NaN even after radii correction
    if (isNaN(constT)) {
        constT = 0;
    }

    var cxT = constT * (rx * yT) / ry;
    var cyT = - constT * (ry * xT) / rx;

    var cx = cosine * cxT - sine * cyT + (x1 + x2) / 2;
    var cy = sine * cxT + cosine * cyT + (y1 + y2) / 2;


    var uX = (xT - cxT) / rx;
    var uY = (yT - cyT) / ry;
    var vX = -(xT + cxT) / rx;
    var vY = -(yT + cyT) / ry;

    var startAngle = (uY >= 0 ? 1 : -1) * deg(Math.acos(uX / Math.sqrt(uX * uX + uY * uY)));

    var angleCosine = round((uX * vX + uY * vY) / (Math.sqrt(uX * uX + uY * uY) * Math.sqrt(vX * vX + vY * vY)), 10);
    var angle = (uX * vY - uY * vX >= 0 ? 1 : -1) * deg(Math.acos(angleCosine));

    if (!swipe && angle > 0) {
        angle -= 360;
    }

    if (swipe && angle < 0) {
        angle += 360;
    }
    var endAngle = startAngle + angle;
    var signEndAngle = endAngle >= 0 ? 1 : -1;
    endAngle = (Math.abs(endAngle) % 360) * signEndAngle;

    return {
        center: new Point(cx, cy),
        startAngle: startAngle,
        endAngle: endAngle,
        radiusX: rx,
        radiusY: ry,
        xRotation: rotation
    };
}

function bboxStartAngle(angle, start) {
    var startAngle = angle;

    while (startAngle < start) {
        startAngle += 90;
    }

    return startAngle;
}

var push = [].push;
var pop = [].pop;
var splice = [].splice;
var shift = [].shift;
var slice = [].slice;
var unshift = [].unshift;

var ElementsArray = (function (Class$$1) {
    function ElementsArray(array) {
        if ( array === void 0 ) array = [];

        Class$$1.call(this);

        this.length = 0;
        this._splice(0, array.length, array);
    }

    if ( Class$$1 ) ElementsArray.__proto__ = Class$$1;
    ElementsArray.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ElementsArray.prototype.constructor = ElementsArray;

    ElementsArray.prototype.elements = function elements (value) {
        if (value) {
            this._splice(0, this.length, value);

            this._change();
            return this;
        }

        return this.slice(0);
    };

    ElementsArray.prototype.push = function push$1 () {
        var elements = arguments;
        var result = push.apply(this, elements);

        this._add(elements);

        return result;
    };

    ElementsArray.prototype.slice = function slice$1 () {
        return slice.call(this);
    };

    ElementsArray.prototype.pop = function pop$1 () {
        var length = this.length;
        var result = pop.apply(this);

        if (length) {
            this._remove([ result ]);
        }

        return result;
    };

    ElementsArray.prototype.splice = function splice$1 (index, howMany) {
        var elements = slice.call(arguments, 2);
        var result = this._splice(index, howMany, elements);

        this._change();

        return result;
    };

    ElementsArray.prototype.shift = function shift$1 () {
        var length = this.length;
        var result = shift.apply(this);

        if (length) {
            this._remove([ result ]);
        }

        return result;
    };

    ElementsArray.prototype.unshift = function unshift$1 () {
        var elements = arguments;
        var result = unshift.apply(this, elements);

        this._add(elements);

        return result;
    };

    ElementsArray.prototype.indexOf = function indexOf (element) {
        var this$1 = this;

        var length = this.length;

        for (var idx = 0; idx < length; idx++) {
            if (this$1[idx] === element) {
                return idx;
            }
        }
        return -1;
    };

    ElementsArray.prototype._splice = function _splice (index, howMany, elements) {
        var result = splice.apply(this, [ index, howMany ].concat(elements));

        this._clearObserver(result);
        this._setObserver(elements);

        return result;
    };

    ElementsArray.prototype._add = function _add (elements) {
        this._setObserver(elements);
        this._change();
    };

    ElementsArray.prototype._remove = function _remove (elements) {
        this._clearObserver(elements);
        this._change();
    };

    ElementsArray.prototype._setObserver = function _setObserver (elements) {
        var this$1 = this;

        for (var idx = 0; idx < elements.length; idx++) {
            elements[idx].addObserver(this$1);
        }
    };

    ElementsArray.prototype._clearObserver = function _clearObserver (elements) {
        var this$1 = this;

        for (var idx = 0; idx < elements.length; idx++) {
            elements[idx].removeObserver(this$1);
        }
    };

    ElementsArray.prototype._change = function _change () {};

    return ElementsArray;
}(Class));

ObserversMixin.extend(ElementsArray.prototype);

var GeometryElementsArray = (function (ElementsArray$$1) {
    function GeometryElementsArray () {
        ElementsArray$$1.apply(this, arguments);
    }

    if ( ElementsArray$$1 ) GeometryElementsArray.__proto__ = ElementsArray$$1;
    GeometryElementsArray.prototype = Object.create( ElementsArray$$1 && ElementsArray$$1.prototype );
    GeometryElementsArray.prototype.constructor = GeometryElementsArray;

    GeometryElementsArray.prototype._change = function _change () {
        this.geometryChange();
    };

    return GeometryElementsArray;
}(ElementsArray));

function pointAccessor(name) {
    var fieldName = "_" + name;
    return function(value) {
        if (defined(value)) {
            this._observerField(fieldName, Point.create(value));
            this.geometryChange();
            return this;
        }

        return this[fieldName];
    };
}

function definePointAccessors(fn, names) {
    for (var i = 0; i < names.length; i++) {
        fn[names[i]] = pointAccessor(names[i]);
    }
}

function isOutOfEndPoint(endPoint, controlPoint, point) {
    var angle = deg(Math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));
    var rotatedPoint = point.transformCopy(transform$1().rotate(-angle, endPoint));

    return rotatedPoint.x < endPoint.x;
}

function calculateCurveAt(t, field, points) {
    var t1 = 1 - t;
    return Math.pow(t1, 3) * points[0][field] +
        3 * Math.pow(t1, 2) * t * points[1][field] +
        3 * Math.pow(t, 2) * t1 * points[2][field] +
        Math.pow(t, 3) * points[3][field];
}

function toCubicPolynomial(points, field) {
    return [ -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],
        3 * (points[0][field] - 2 * points[1][field] + points[2][field]),
        3 * (-points[0][field] + points[1][field]),
        points[0][field]
    ];
}

var ComplexNumber = (function (Class$$1) {
    function ComplexNumber(real, img) {
        if ( real === void 0 ) real = 0;
        if ( img === void 0 ) img = 0;

        Class$$1.call(this);

        this.real = real;
        this.img = img;
    }

    if ( Class$$1 ) ComplexNumber.__proto__ = Class$$1;
    ComplexNumber.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ComplexNumber.prototype.constructor = ComplexNumber;

    ComplexNumber.prototype.add = function add (cNumber) {
        return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));
    };

    ComplexNumber.prototype.addConstant = function addConstant (value) {
        return new ComplexNumber(this.real + value, this.img);
    };

    ComplexNumber.prototype.negate = function negate () {
        return new ComplexNumber(-this.real, -this.img);
    };

    ComplexNumber.prototype.multiply = function multiply (cNumber) {
        return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img,
            this.real * cNumber.img + this.img * cNumber.real);
    };

    ComplexNumber.prototype.multiplyConstant = function multiplyConstant (value) {
        return new ComplexNumber(this.real * value, this.img * value);
    };

    ComplexNumber.prototype.nthRoot = function nthRoot (n) {
        var rad$$1 = Math.atan2(this.img, this.real);
        var r = Math.sqrt(Math.pow(this.img, 2) + Math.pow(this.real, 2));
        var nthR = Math.pow(r, 1 / n);

        return new ComplexNumber(nthR * Math.cos(rad$$1 / n), nthR * Math.sin(rad$$1 / n)); //Moivre's formula
    };

    ComplexNumber.prototype.equals = function equals (cNumber) {
        return this.real === cNumber.real && this.img === cNumber.img;
    };

    ComplexNumber.prototype.isReal = function isReal () {
        return this.img === 0;
    };

    return ComplexNumber;
}(Class));

function numberSign(x) {
    return x < 0 ? -1 : 1;
}

function solveQuadraticEquation(a, b, c) {
    var squareRoot = Math.sqrt(Math.pow(b, 2) - 4 * a * c);
    return [
        (-b + squareRoot) / (2 * a),
        (-b - squareRoot) / (2 * a)
    ];
}

//Cardano's formula
function solveCubicEquation(a, b, c, d) {
    if (a === 0) {
        return solveQuadraticEquation(b, c, d);
    }

    var p = (3 * a * c - Math.pow(b, 2)) / (3 * Math.pow(a, 2));
    var q = (2 * Math.pow(b, 3) - 9 * a * b * c + 27 * Math.pow(a, 2) * d) / (27 * Math.pow(a, 3));
    var Q = Math.pow(p / 3, 3) + Math.pow(q / 2, 2);
    var i = new ComplexNumber(0,1);
    var b3a = -b / (3 * a);
    var x1, x2, y1, y2, y3, z1, z2;

    if (Q < 0) {
        x1 = new ComplexNumber(-q / 2, Math.sqrt(-Q)).nthRoot(3);
        x2 = new ComplexNumber(-q / 2, - Math.sqrt(-Q)).nthRoot(3);
    } else {
        x1 = -q / 2 + Math.sqrt(Q);
        x1 = new ComplexNumber(numberSign(x1) * Math.pow(Math.abs(x1), 1 / 3));
        x2 = -q / 2 - Math.sqrt(Q);
        x2 = new ComplexNumber(numberSign(x2) * Math.pow(Math.abs(x2), 1 / 3));
    }

    y1 = x1.add(x2);

    z1 = x1.add(x2).multiplyConstant(-1 / 2);
    z2 = x1.add(x2.negate()).multiplyConstant(Math.sqrt(3) / 2);

    y2 = z1.add(i.multiply(z2));
    y3 = z1.add(i.negate().multiply(z2));

    var result = [];

    if (y1.isReal()) {
        result.push(round(y1.real + b3a, PRECISION));
    }
    if (y2.isReal()) {
        result.push(round(y2.real + b3a, PRECISION));
    }
    if (y3.isReal()) {
        result.push(round(y3.real + b3a, PRECISION));
    }

    return result;
}

function hasRootsInRange(points, point, field, rootField, range) {
    var polynomial = toCubicPolynomial(points, rootField);
    var roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);
    var intersection;

    for (var idx = 0; idx < roots.length; idx++) {
        if (0 <= roots[idx] && roots[idx] <= 1) {
            intersection = calculateCurveAt(roots[idx], field, points);
            if (Math.abs(intersection - point[field]) <= range) {
                return true;
            }
        }
    }
}

function curveIntersectionsCount(points, point, bbox) {
    var polynomial = toCubicPolynomial(points, "x");
    var roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);
    var rayIntersection, intersectsRay;
    var count = 0;
    for (var i = 0; i < roots.length; i++) {
        rayIntersection = calculateCurveAt(roots[i], "y", points);
        intersectsRay = close$1(rayIntersection, point.y) || rayIntersection > point.y;
        if (intersectsRay && (((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x) || (0 < roots[i] && roots[i] < 1))) {
            count++;
        }
    }

    return count;
}

function lineIntersectionsCount(a, b, point) {
    var intersects;
    if (a.x !== b.x) {
        var minX = Math.min(a.x, b.x);
        var maxX = Math.max(a.x, b.x);
        var minY = Math.min(a.y, b.y);
        var maxY = Math.max(a.y, b.y);
        var inRange = minX <= point.x && point.x < maxX;

        if (minY === maxY) {
            intersects = point.y <= minY && inRange;
        } else {
            intersects = inRange && (((maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x)) / (maxX - minX) + minY - point.y) >= 0;
        }
    }

    return intersects ? 1 : 0;
}

var Segment = (function (Class$$1) {
    function Segment(anchor, controlIn, controlOut) {
        Class$$1.call(this);

        this.anchor(anchor || new Point());
        this.controlIn(controlIn);
        this.controlOut(controlOut);
    }

    if ( Class$$1 ) Segment.__proto__ = Class$$1;
    Segment.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Segment.prototype.constructor = Segment;

    Segment.prototype.bboxTo = function bboxTo (toSegment, matrix) {
        var segmentAnchor = this.anchor().transformCopy(matrix);
        var toSegmentAnchor = toSegment.anchor().transformCopy(matrix);
        var rect;

        if (this.controlOut() && toSegment.controlIn()) {
            rect = this._curveBoundingBox(
                segmentAnchor, this.controlOut().transformCopy(matrix),
                toSegment.controlIn().transformCopy(matrix), toSegmentAnchor
            );
        } else {
            rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);
        }

        return rect;
    };

    Segment.prototype._lineBoundingBox = function _lineBoundingBox (p1, p2) {
        return Rect.fromPoints(p1, p2);
    };

    Segment.prototype._curveBoundingBox = function _curveBoundingBox (p1, cp1, cp2, p2) {
        var points = [ p1, cp1, cp2, p2 ];
        var extremesX = this._curveExtremesFor(points, "x");
        var extremesY = this._curveExtremesFor(points, "y");
        var xLimits = arrayLimits([ extremesX.min, extremesX.max, p1.x, p2.x ]);
        var yLimits = arrayLimits([ extremesY.min, extremesY.max, p1.y, p2.y ]);

        return Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));
    };

    Segment.prototype._curveExtremesFor = function _curveExtremesFor (points, field) {
        var extremes = this._curveExtremes(
            points[0][field], points[1][field],
            points[2][field], points[3][field]
        );

        return {
            min: calculateCurveAt(extremes.min, field, points),
            max: calculateCurveAt(extremes.max, field, points)
        };
    };

    Segment.prototype._curveExtremes = function _curveExtremes (x1, x2, x3, x4) {
        var a = x1 - 3 * x2 + 3 * x3 - x4;
        var b = - 2 * (x1 - 2 * x2 + x3);
        var c = x1 - x2;
        var sqrt = Math.sqrt(b * b - 4 * a * c);
        var t1 = 0;
        var t2 = 1;

        if (a === 0) {
            if (b !== 0) {
                t1 = t2 = -c / b;
            }
        } else if (!isNaN(sqrt)) {
            t1 = (- b + sqrt) / (2 * a);
            t2 = (- b - sqrt) / (2 * a);
        }

        var min = Math.max(Math.min(t1, t2), 0);
        if (min < 0 || min > 1) {
            min = 0;
        }

        var max = Math.min(Math.max(t1, t2), 1);
        if (max > 1 || max < 0) {
            max = 1;
        }

        return {
            min: min,
            max: max
        };
    };

    Segment.prototype._intersectionsTo = function _intersectionsTo (segment, point) {
        var intersectionsCount;
        if (this.controlOut() && segment.controlIn()) {
            intersectionsCount = curveIntersectionsCount([ this.anchor(), this.controlOut(), segment.controlIn(), segment.anchor() ], point, this.bboxTo(segment));
        } else {
            intersectionsCount = lineIntersectionsCount(this.anchor(), segment.anchor(), point);
        }
        return intersectionsCount;
    };

    Segment.prototype._isOnCurveTo = function _isOnCurveTo (segment, point, width, endSegment) {
        var bbox = this.bboxTo(segment).expand(width, width);
        if (bbox.containsPoint(point)) {
            var p1 = this.anchor();
            var p2 = this.controlOut();
            var p3 = segment.controlIn();
            var p4 = segment.anchor();

            if (endSegment === "start" && p1.distanceTo(point) <= width) {
                return !isOutOfEndPoint(p1, p2, point);
            } else if (endSegment === "end" && p4.distanceTo(point) <= width) {
                return !isOutOfEndPoint(p4, p3, point);
            }

            //the approach is not entirely correct but is close and the alternatives are solving a 6th degree polynomial or testing the segment points
            var points = [ p1, p2, p3, p4 ];
            if (hasRootsInRange(points, point, "x", "y", width) || hasRootsInRange(points, point, "y", "x", width)) {
                return true;
            }
            var rotation = transform$1().rotate(45, point);
            var rotatedPoints = [ p1.transformCopy(rotation), p2.transformCopy(rotation), p3.transformCopy(rotation), p4.transformCopy(rotation) ];
            return hasRootsInRange(rotatedPoints, point, "x", "y", width) || hasRootsInRange(rotatedPoints, point, "y", "x", width);
        }
    };

    Segment.prototype._isOnLineTo = function _isOnLineTo (segment, point, width) {
        var p1 = this.anchor();
        var p2 = segment.anchor();
        var angle = deg(Math.atan2(p2.y - p1.y, p2.x - p1.x));
        var rect = new Rect([ p1.x, p1.y - width / 2 ], [ p1.distanceTo(p2), width ]);
        return rect.containsPoint(point.transformCopy(transform$1().rotate(-angle, p1)));
    };

    Segment.prototype._isOnPathTo = function _isOnPathTo (segment, point, width, endSegment) {
        var isOnPath;
        if (this.controlOut() && segment.controlIn()) {
            isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);
        } else {
            isOnPath = this._isOnLineTo(segment, point, width);
        }
        return isOnPath;
    };

    return Segment;
}(Class));

definePointAccessors(Segment.prototype, [ "anchor", "controlIn", "controlOut" ]);
ObserversMixin.extend(Segment.prototype);

function arrayLimits(arr) {
    var length = arr.length;
    var min = MAX_NUM;
    var max = MIN_NUM;

    for (var i = 0; i < length; i ++) {
        max = Math.max(max, arr[i]);
        min = Math.min(min, arr[i]);
    }

    return {
        min: min,
        max: max
    };
}

function elementsBoundingBox(elements, applyTransform, transformation) {
    var boundingBox;

    for (var i = 0; i < elements.length; i++) {
        var element = elements[i];
        if (element.visible()) {
            var elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();
            if (elementBoundingBox) {
                if (boundingBox) {
                    boundingBox = Rect.union(boundingBox, elementBoundingBox);
                } else {
                    boundingBox = elementBoundingBox;
                }
            }
        }
    }

    return boundingBox;
}

function elementsClippedBoundingBox(elements, transformation) {
    var boundingBox;

    for (var i = 0; i < elements.length; i++) {
        var element = elements[i];
        if (element.visible()) {
            var elementBoundingBox = element.clippedBBox(transformation);
            if (elementBoundingBox) {
                if (boundingBox) {
                    boundingBox = Rect.union(boundingBox, elementBoundingBox);
                } else {
                    boundingBox = elementBoundingBox;
                }
            }
        }
    }

    return boundingBox;
}

var MultiPath = (function (Element) {
    function MultiPath(options) {
        Element.call(this, options);
        this.paths = new GeometryElementsArray();
        this.paths.addObserver(this);

        if (!defined(this.options.stroke)) {
            this.stroke("#000");
        }
    }

    if ( Element ) MultiPath.__proto__ = Element;
    MultiPath.prototype = Object.create( Element && Element.prototype );
    MultiPath.prototype.constructor = MultiPath;

    MultiPath.prototype.moveTo = function moveTo (x, y) {
        var path = new Path();
        path.moveTo(x, y);

        this.paths.push(path);

        return this;
    };

    MultiPath.prototype.lineTo = function lineTo (x, y) {
        if (this.paths.length > 0) {
            last(this.paths).lineTo(x, y);
        }

        return this;
    };

    MultiPath.prototype.curveTo = function curveTo (controlOut, controlIn, point) {
        if (this.paths.length > 0) {
            last(this.paths).curveTo(controlOut, controlIn, point);
        }

        return this;
    };

    MultiPath.prototype.arc = function arc (startAngle, endAngle, radiusX, radiusY, anticlockwise) {
        if (this.paths.length > 0) {
            last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);
        }

        return this;
    };

    MultiPath.prototype.arcTo = function arcTo (end, rx, ry, largeArc, swipe, rotation) {
        if (this.paths.length > 0) {
            last(this.paths).arcTo(end, rx, ry, largeArc, swipe, rotation);
        }

        return this;
    };

    MultiPath.prototype.close = function close () {
        if (this.paths.length > 0) {
            last(this.paths).close();
        }

        return this;
    };

    MultiPath.prototype._bbox = function _bbox (matrix) {
        return elementsBoundingBox(this.paths, true, matrix);
    };

    MultiPath.prototype.rawBBox = function rawBBox () {
        return elementsBoundingBox(this.paths, false);
    };

    MultiPath.prototype._containsPoint = function _containsPoint (point) {
        var paths = this.paths;

        for (var idx = 0; idx < paths.length; idx++) {
            if (paths[idx]._containsPoint(point)) {
                return true;
            }
        }
        return false;
    };

    MultiPath.prototype._isOnPath = function _isOnPath (point) {
        var paths = this.paths;
        var width = this.options.stroke.width;

        for (var idx = 0; idx < paths.length; idx++) {
            if (paths[idx]._isOnPath(point, width)) {
                return true;
            }
        }
        return false;
    };

    MultiPath.prototype._clippedBBox = function _clippedBBox (transformation) {
        return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));
    };

    return MultiPath;
}(Element$1));

MultiPath.prototype.nodeType = "MultiPath";

Paintable.extend(MultiPath.prototype);
Measurable.extend(MultiPath.prototype);

var ShapeMap = {
    l: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;

        for (var i = 0; i < parameters.length; i += 2) {
            var point = new Point(parameters[i], parameters[i + 1]);

            if (options.isRelative) {
                point.translateWith(position);
            }

            path.lineTo(point.x, point.y);

            position.x = point.x;
            position.y = point.y;
        }
    },

    c: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;

        for (var i = 0; i < parameters.length; i += 6) {
            var controlOut = new Point(parameters[i], parameters[i + 1]);
            var controlIn = new Point(parameters[i + 2], parameters[i + 3]);
            var point = new Point(parameters[i + 4], parameters[i + 5]);
            if (options.isRelative) {
                controlIn.translateWith(position);
                controlOut.translateWith(position);
                point.translateWith(position);
            }

            path.curveTo(controlOut, controlIn, point);

            position.x = point.x;
            position.y = point.y;
        }
    },

    v: function(path, options) {
        var value = options.isRelative ? 0 : options.position.x;

        toLineParamaters(options.parameters, true, value);
        this.l(path, options);
    },

    h: function(path, options) {
        var value = options.isRelative ? 0 : options.position.y;

        toLineParamaters(options.parameters, false, value);
        this.l(path, options);
    },

    a: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;

        for (var i = 0; i < parameters.length; i += 7) {
            var radiusX = parameters[i];
            var radiusY = parameters[i + 1];
            var rotation = parameters[i + 2];
            var largeArc = parameters[i + 3];
            var swipe = parameters[i + 4];
            var endPoint = new Point(parameters[i + 5], parameters[i + 6]);

            if (options.isRelative) {
                endPoint.translateWith(position);
            }
            if (position.x !== endPoint.x || position.y !== endPoint.y) {
                path.arcTo(endPoint, radiusX, radiusY, largeArc, swipe, rotation);

                position.x = endPoint.x;
                position.y = endPoint.y;
            }
        }
    },

    s: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;
        var previousCommand = options.previousCommand;
        var lastControlIn;

        if (previousCommand === "s" || previousCommand === "c") {
            lastControlIn = last(last(path.paths).segments).controlIn();
        }

        for (var i = 0; i < parameters.length; i += 4) {
            var controlIn = new Point(parameters[i], parameters[i + 1]);
            var endPoint = new Point(parameters[i + 2], parameters[i + 3]);
            var controlOut = (void 0);

            if (options.isRelative) {
                controlIn.translateWith(position);
                endPoint.translateWith(position);
            }

            if (lastControlIn) {
                controlOut = reflectionPoint(lastControlIn, position);
            } else {
                controlOut = position.clone();
            }

            lastControlIn = controlIn;

            path.curveTo(controlOut, controlIn, endPoint);

            position.x = endPoint.x;
            position.y = endPoint.y;
        }
    },

    q: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;

        for (var i = 0; i < parameters.length; i += 4) {
            var controlPoint = new Point(parameters[i], parameters[i + 1]);
            var endPoint = new Point(parameters[i + 2], parameters[i + 3]);

            if (options.isRelative) {
                controlPoint.translateWith(position);
                endPoint.translateWith(position);
            }

            var cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);

            path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);

            position.x = endPoint.x;
            position.y = endPoint.y;
        }
    },

    t: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;
        var previousCommand = options.previousCommand;
        var controlPoint;

        if (previousCommand === "q" || previousCommand === "t") {
            var lastSegment = last(last(path.paths).segments);
            controlPoint = lastSegment.controlIn().clone()
                .translateWith(position.scaleCopy(-1 / 3))
                .scale(3 / 2);
        }

        for (var i = 0; i < parameters.length; i += 2) {
            var endPoint = new Point(parameters[i], parameters[i + 1]);
            if (options.isRelative) {
                endPoint.translateWith(position);
            }

            if (controlPoint) {
                controlPoint = reflectionPoint(controlPoint, position);
            } else {
                controlPoint = position.clone();
            }

            var cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);

            path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);

            position.x = endPoint.x;
            position.y = endPoint.y;
        }
    }
};

function toLineParamaters(parameters, isVertical, value) {
    var insertPosition = isVertical ? 0 : 1;

    for (var i = 0; i < parameters.length; i += 2) {
        parameters.splice(i + insertPosition, 0, value);
    }
}

function reflectionPoint(point, center) {
    if (point && center) {
        return center.scaleCopy(2).translate(-point.x, -point.y);
    }
}

var third = 1 / 3;

function quadraticToCubicControlPoints(position, controlPoint, endPoint) {
    var scaledPoint = controlPoint.clone().scale(2 / 3);
    return {
        controlOut: scaledPoint.clone().translateWith(position.scaleCopy(third)),
        controlIn: scaledPoint.translateWith(endPoint.scaleCopy(third))
    };
}

var SEGMENT_REGEX = /([a-df-z]{1})([^a-df-z]*)(z)?/gi;
var SPLIT_REGEX = /[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g;
var MOVE = "m";
var CLOSE = "z";

function parseParameters(str) {
    var parameters = [];
    str.replace(SPLIT_REGEX, function(match, number) {
        parameters.push(parseFloat(number));
    });
    return parameters;
}

var PathParser = (function (Class$$1) {
    function PathParser () {
        Class$$1.apply(this, arguments);
    }

    if ( Class$$1 ) PathParser.__proto__ = Class$$1;
    PathParser.prototype = Object.create( Class$$1 && Class$$1.prototype );
    PathParser.prototype.constructor = PathParser;

    PathParser.prototype.parse = function parse (str, options) {
        var multiPath = new MultiPath(options);
        var position = new Point();
        var previousCommand;

        str.replace(SEGMENT_REGEX, function (match, element, params, closePath) {
            var command = element.toLowerCase();
            var isRelative = command === element;
            var parameters = parseParameters(params.trim());

            if (command === MOVE) {
                if (isRelative) {
                    position.x += parameters[0];
                    position.y += parameters[1];
                } else {
                    position.x = parameters[0];
                    position.y = parameters[1];
                }

                multiPath.moveTo(position.x, position.y);

                if (parameters.length > 2) {
                    command = "l";
                    parameters.splice(0, 2);
                }
            }

            if (ShapeMap[command]) {
                ShapeMap[command](
                    multiPath, {
                        parameters: parameters,
                        position: position,
                        isRelative: isRelative,
                        previousCommand: previousCommand
                    }
                );

                if (closePath && closePath.toLowerCase() === CLOSE) {
                    multiPath.close();
                }
            } else if (command !== MOVE) {
                throw new Error("Error while parsing SVG path. Unsupported command: " + command);
            }

            previousCommand = command;
        });

        return multiPath;
    };

    return PathParser;
}(Class));

PathParser.current = new PathParser();

var Path = (function (Element) {
    function Path(options) {
        Element.call(this, options);
        this.segments = new GeometryElementsArray();
        this.segments.addObserver(this);

        if (!defined(this.options.stroke)) {
            this.stroke("#000");

            if (!defined(this.options.stroke.lineJoin)) {
                this.options.set("stroke.lineJoin", "miter");
            }
        }
    }

    if ( Element ) Path.__proto__ = Element;
    Path.prototype = Object.create( Element && Element.prototype );
    Path.prototype.constructor = Path;

    Path.prototype.moveTo = function moveTo (x, y) {
        this.suspend();
        this.segments.elements([]);
        this.resume();

        this.lineTo(x, y);

        return this;
    };

    Path.prototype.lineTo = function lineTo (x, y) {
        var point = defined(y) ? new Point(x, y) : x;
        var segment = new Segment(point);

        this.segments.push(segment);

        return this;
    };

    Path.prototype.curveTo = function curveTo (controlOut, controlIn, point) {
        if (this.segments.length > 0) {
            var lastSegment = last(this.segments);
            var segment = new Segment(point, controlIn);
            this.suspend();
            lastSegment.controlOut(controlOut);
            this.resume();

            this.segments.push(segment);
        }

        return this;
    };

    Path.prototype.arc = function arc (startAngle, endAngle, radiusX, radiusY, anticlockwise) {
        if (this.segments.length > 0) {
            var lastSegment = last(this.segments);
            var anchor = lastSegment.anchor();
            var start = rad(startAngle);
            var center = new Point(anchor.x - radiusX * Math.cos(start),
                anchor.y - radiusY * Math.sin(start));
            var arc = new Arc$2(center, {
                startAngle: startAngle,
                endAngle: endAngle,
                radiusX: radiusX,
                radiusY: radiusY,
                anticlockwise: anticlockwise
            });

            this._addArcSegments(arc);
        }

        return this;
    };

    Path.prototype.arcTo = function arcTo (end, rx, ry, largeArc, swipe, rotation) {
        if (this.segments.length > 0) {
            var lastSegment = last(this.segments);
            var anchor = lastSegment.anchor();
            var arc = Arc$2.fromPoints(anchor, end, rx, ry, largeArc, swipe, rotation);

            this._addArcSegments(arc);
        }
        return this;
    };

    Path.prototype._addArcSegments = function _addArcSegments (arc) {
        var this$1 = this;

        this.suspend();

        var curvePoints = arc.curvePoints();

        for (var i = 1; i < curvePoints.length; i += 3) {
            this$1.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);
        }

        this.resume();
        this.geometryChange();
    };

    Path.prototype.close = function close () {
        this.options.closed = true;
        this.geometryChange();

        return this;
    };

    Path.prototype.rawBBox = function rawBBox () {
        return this._bbox();
    };

    Path.prototype._containsPoint = function _containsPoint (point) {
        var segments = this.segments;
        var length = segments.length;
        var intersectionsCount = 0;
        var previous, current;

        for (var idx = 1; idx < length; idx++) {
            previous = segments[idx - 1];
            current = segments[idx];
            intersectionsCount += previous._intersectionsTo(current, point);
        }

        if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {
            intersectionsCount += lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point);
        }

        return intersectionsCount % 2 !== 0;
    };

    Path.prototype._isOnPath = function _isOnPath (point, width) {
        var segments = this.segments;
        var length = segments.length;
        var pathWidth = width || this.options.stroke.width;

        if (length > 1) {
            if (segments[0]._isOnPathTo(segments[1], point, pathWidth, "start")) {
                return true;
            }

            for (var idx = 2; idx <= length - 2; idx++) {
                if (segments[idx - 1]._isOnPathTo(segments[idx], point, pathWidth)) {
                    return true;
                }
            }

            if (segments[length - 2]._isOnPathTo(segments[length - 1], point, pathWidth, "end")) {
                return true;
            }
        }
        return false;
    };

    Path.prototype._bbox = function _bbox (matrix) {
        var segments = this.segments;
        var length = segments.length;
        var boundingBox;

        if (length === 1) {
            var anchor = segments[0].anchor().transformCopy(matrix);
            boundingBox = new Rect(anchor, Size.ZERO);
        } else if (length > 0) {
            for (var i = 1; i < length; i++) {
                var segmentBox = segments[i - 1].bboxTo(segments[i], matrix);
                if (boundingBox) {
                    boundingBox = Rect.union(boundingBox, segmentBox);
                } else {
                    boundingBox = segmentBox;
                }
            }
        }

        return boundingBox;
    };

    Path.fromRect = function fromRect (rect, options) {
        return new Path(options)
            .moveTo(rect.topLeft())
            .lineTo(rect.topRight())
            .lineTo(rect.bottomRight())
            .lineTo(rect.bottomLeft())
            .close();
    };

    Path.fromPoints = function fromPoints (points, options) {
        if (points) {
            var path = new Path(options);

            for (var i = 0; i < points.length; i++) {
                var point = Point.create(points[i]);
                if (point) {
                    if (i === 0) {
                        path.moveTo(point);
                    } else {
                        path.lineTo(point);
                    }
                }
            }

            return path;
        }
    };

    Path.fromArc = function fromArc (arc, options) {
        var path = new Path(options);
        var startAngle = arc.startAngle;
        var start = arc.pointAt(startAngle);
        path.moveTo(start.x, start.y);
        path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);
        return path;
    };

    return Path;
}(Element$1));

Path.prototype.nodeType = "Path";

Paintable.extend(Path.prototype);
Measurable.extend(Path.prototype);

Path.parse = function(str, options) {
    return PathParser.current.parse(str, options);
};

var DEFAULT_STROKE$1 = "#000";

var Arc = (function (Element) {
    function Arc(geometry, options) {
        if ( geometry === void 0 ) geometry = new Arc$2();
        if ( options === void 0 ) options = {};

        Element.call(this, options);

        this.geometry(geometry);

        if (!defined(this.options.stroke)) {
            this.stroke(DEFAULT_STROKE$1);
        }
    }

    if ( Element ) Arc.__proto__ = Element;
    Arc.prototype = Object.create( Element && Element.prototype );
    Arc.prototype.constructor = Arc;

    Arc.prototype._bbox = function _bbox (matrix) {
        return this._geometry.bbox(matrix);
    };

    Arc.prototype.rawBBox = function rawBBox () {
        return this.geometry().bbox();
    };

    Arc.prototype.toPath = function toPath () {
        var path = new Path();
        var curvePoints = this.geometry().curvePoints();

        if (curvePoints.length > 0) {
            path.moveTo(curvePoints[0].x, curvePoints[0].y);

            for (var i = 1; i < curvePoints.length; i += 3) {
                path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);
            }
        }

        return path;
    };

    Arc.prototype._containsPoint = function _containsPoint (point) {
        return this.geometry().containsPoint(point);
    };

    Arc.prototype._isOnPath = function _isOnPath (point) {
        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);
    };

    return Arc;
}(Element$1));

Arc.prototype.nodeType = "Arc";

Paintable.extend(Arc.prototype);
Measurable.extend(Arc.prototype);
defineGeometryAccessors(Arc.prototype, [ "geometry" ]);

var DEFAULT_FONT = "12px sans-serif";
var DEFAULT_FILL = "#000";

var Text = (function (Element) {
    function Text(content, position, options) {
        if ( position === void 0 ) position = new Point();
        if ( options === void 0 ) options = {};

        Element.call(this, options);

        this.content(content);
        this.position(position);

        if (!this.options.font) {
            this.options.font = DEFAULT_FONT;
        }

        if (!defined(this.options.fill)) {
            this.fill(DEFAULT_FILL);
        }
    }

    if ( Element ) Text.__proto__ = Element;
    Text.prototype = Object.create( Element && Element.prototype );
    Text.prototype.constructor = Text;

    Text.prototype.content = function content (value) {
        if (defined(value)) {
            this.options.set("content", value);
            return this;
        }

        return this.options.get("content");
    };

    Text.prototype.measure = function measure () {
        var metrics = measureText(this.content(), {
            font: this.options.get("font")
        });

        return metrics;
    };

    Text.prototype.rect = function rect () {
        var size = this.measure();
        var pos = this.position().clone();
        return new Rect(pos, [ size.width, size.height ]);
    };

    Text.prototype.bbox = function bbox (transformation) {
        var combinedMatrix = toMatrix(this.currentTransform(transformation));
        return this.rect().bbox(combinedMatrix);
    };

    Text.prototype.rawBBox = function rawBBox () {
        return this.rect().bbox();
    };

    Text.prototype._containsPoint = function _containsPoint (point) {
        return this.rect().containsPoint(point);
    };

    return Text;
}(Element$1));

Text.prototype.nodeType = "Text";

Paintable.extend(Text.prototype);

definePointAccessors(Text.prototype, [ "position" ]);

var Image$1 = (function (Element) {
    function Image(src, rect, options) {
        if ( rect === void 0 ) rect = new Rect();
        if ( options === void 0 ) options = {};

        Element.call(this, options);

        this.src(src);
        this.rect(rect);
    }

    if ( Element ) Image.__proto__ = Element;
    Image.prototype = Object.create( Element && Element.prototype );
    Image.prototype.constructor = Image;

    Image.prototype.src = function src (value) {
        if (defined(value)) {
            this.options.set("src", value);
            return this;
        }

        return this.options.get("src");
    };

    Image.prototype.bbox = function bbox (transformation) {
        var combinedMatrix = toMatrix(this.currentTransform(transformation));
        return this._rect.bbox(combinedMatrix);
    };

    Image.prototype.rawBBox = function rawBBox () {
        return this._rect.bbox();
    };

    Image.prototype._containsPoint = function _containsPoint (point) {
        return this._rect.containsPoint(point);
    };

    Image.prototype._hasFill = function _hasFill () {
        return this.src();
    };

    return Image;
}(Element$1));

Image$1.prototype.nodeType = "Image";

defineGeometryAccessors(Image$1.prototype, [ "rect" ]);

var Traversable = {
    extend: function(proto, childrenField) {
        proto.traverse = function(callback) {
            var children = this[childrenField];

            for (var i = 0; i < children.length; i++) {
                var child = children[i];

                if (child.traverse) {
                    child.traverse(callback);
                } else {
                    callback(child);
                }
            }

            return this;
        };
    }
};

var Group = (function (Element) {
    function Group(options) {
        Element.call(this, options);
        this.children = [];
    }

    if ( Element ) Group.__proto__ = Element;
    Group.prototype = Object.create( Element && Element.prototype );
    Group.prototype.constructor = Group;

    Group.prototype.childrenChange = function childrenChange (action, items, index) {
        this.trigger("childrenChange",{
            action: action,
            items: items,
            index: index
        });
    };

    Group.prototype.append = function append$1 () {
        append$1$1(this.children, arguments);
        this._reparent(arguments, this);

        this.childrenChange("add", arguments);

        return this;
    };

    Group.prototype.insert = function insert (index, element) {
        this.children.splice(index, 0, element);
        element.parent = this;

        this.childrenChange("add", [ element ], index);

        return this;
    };

    Group.prototype.insertAt = function insertAt (element, index) {
        return this.insert(index, element);
    };

    Group.prototype.remove = function remove (element) {
        var index = this.children.indexOf(element);
        if (index >= 0) {
            this.children.splice(index, 1);
            element.parent = null;
            this.childrenChange("remove", [ element ], index);
        }

        return this;
    };

    Group.prototype.removeAt = function removeAt (index) {
        if (0 <= index && index < this.children.length) {
            var element = this.children[index];
            this.children.splice(index, 1);
            element.parent = null;
            this.childrenChange("remove", [ element ], index);
        }

        return this;
    };

    Group.prototype.clear = function clear () {
        var items = this.children;
        this.children = [];
        this._reparent(items, null);

        this.childrenChange("remove", items, 0);

        return this;
    };

    Group.prototype.bbox = function bbox (transformation) {
        return elementsBoundingBox(this.children, true, this.currentTransform(transformation));
    };

    Group.prototype.rawBBox = function rawBBox () {
        return elementsBoundingBox(this.children, false);
    };

    Group.prototype._clippedBBox = function _clippedBBox (transformation) {
        return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));
    };

    Group.prototype.currentTransform = function currentTransform (transformation) {
        return Element.prototype.currentTransform.call(this, transformation) || null;
    };

    Group.prototype.containsPoint = function containsPoint (point, parentTransform) {
        if (this.visible()) {
            var children = this.children;
            var transform = this.currentTransform(parentTransform);
            for (var idx = 0; idx < children.length; idx++) {
                if (children[idx].containsPoint(point, transform)) {
                    return true;
                }
            }
        }
        return false;
    };

    Group.prototype._reparent = function _reparent (elements, newParent) {
        var this$1 = this;

        for (var i = 0; i < elements.length; i++) {
            var child = elements[i];
            var parent = child.parent;
            if (parent && parent !== this$1 && parent.remove) {
                parent.remove(child);
            }

            child.parent = newParent;
        }
    };

    return Group;
}(Element$1));

Group.prototype.nodeType = "Group";

Traversable.extend(Group.prototype, "children");

function translateToPoint(point, bbox, element) {
    var transofrm = element.transform() || transform$1();
    var matrix = transofrm.matrix();
    matrix.e += point.x - bbox.origin.x;
    matrix.f += point.y - bbox.origin.y;

    transofrm.matrix(matrix);
    element.transform(transofrm);
}

function alignStart(size, rect, align, axis, sizeField) {
    var start;
    if (align === "start") {
        start = rect.origin[axis];
    } else if (align === "end") {
        start = rect.origin[axis] + rect.size[sizeField] - size;
    } else {
        start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;
    }

    return start;
}

function alignStartReverse(size, rect, align, axis, sizeField) {
    var start;
    if (align === "start") {
        start = rect.origin[axis] + rect.size[sizeField] - size;
    } else if (align === "end") {
        start = rect.origin[axis];
    } else {
        start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;
    }

    return start;
}

var DEFAULT_OPTIONS$1 = {
    alignContent: "start",
    justifyContent: "start",
    alignItems: "start",
    spacing: 0,
    orientation: "horizontal",
    lineSpacing: 0,
    wrap: true,
    revers: false
};

var forEach = function (elements, callback) {
    elements.forEach(callback);
};

var forEachReverse = function (elements, callback) {
    var length = elements.length;

    for (var idx = length - 1; idx >= 0; idx--) {
        callback(elements[idx], idx);
    }
};

var Layout = (function (Group$$1) {
    function Layout(rect, options) {
        Group$$1.call(this, Object.assign({}, DEFAULT_OPTIONS$1, options));
        this._rect = rect;
        this._fieldMap = {};
    }

    if ( Group$$1 ) Layout.__proto__ = Group$$1;
    Layout.prototype = Object.create( Group$$1 && Group$$1.prototype );
    Layout.prototype.constructor = Layout;

    Layout.prototype.rect = function rect (value) {
        if (value) {
            this._rect = value;
            return this;
        }

        return this._rect;
    };

    Layout.prototype._initMap = function _initMap () {
        var options = this.options;
        var fieldMap = this._fieldMap;
        if (options.orientation === "horizontal") {
            fieldMap.sizeField = "width";
            fieldMap.groupsSizeField = "height";
            fieldMap.groupAxis = "x";
            fieldMap.groupsAxis = "y";
        } else {
            fieldMap.sizeField = "height";
            fieldMap.groupsSizeField = "width";
            fieldMap.groupAxis = "y";
            fieldMap.groupsAxis = "x";
        }

        if (options.reverse) {
            this.forEach = forEachReverse;
            this.justifyAlign = alignStartReverse;
        } else {
            this.forEach = forEach;
            this.justifyAlign = alignStart;
        }
    };

    Layout.prototype.reflow = function reflow () {
        var this$1 = this;

        if (!this._rect || this.children.length === 0) {
            return;
        }
        this._initMap();

        if (this.options.transform) {
            this.transform(null);
        }

        var options = this.options;
        var rect = this._rect;
        var ref = this._initGroups();
        var groups = ref.groups;
        var groupsSize = ref.groupsSize;
        var ref$1 = this._fieldMap;
        var sizeField = ref$1.sizeField;
        var groupsSizeField = ref$1.groupsSizeField;
        var groupAxis = ref$1.groupAxis;
        var groupsAxis = ref$1.groupsAxis;
        var groupOrigin = new Point();
        var elementOrigin = new Point();
        var size = new Size();
        var groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);
        var elementStart, group, groupBox;

        var arrangeElements = function (bbox, idx) {
            var element = group.elements[idx];

            elementOrigin[groupAxis] = elementStart;
            elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);
            translateToPoint(elementOrigin, bbox, element);
            elementStart += bbox.size[sizeField] + options.spacing;
        };

        for (var groupIdx = 0; groupIdx < groups.length; groupIdx++) {
            group = groups[groupIdx];
            groupOrigin[groupAxis] = elementStart = this$1.justifyAlign(group.size, rect, options.justifyContent, groupAxis, sizeField);
            groupOrigin[groupsAxis] = groupStart;
            size[sizeField] = group.size;
            size[groupsSizeField] = group.lineSize;
            groupBox = new Rect(groupOrigin, size);
            this$1.forEach(group.bboxes, arrangeElements);

            groupStart += group.lineSize + options.lineSpacing;
        }

        if (!options.wrap && group.size > rect.size[sizeField]) {
            var scale = rect.size[sizeField] / groupBox.size[sizeField];
            var scaledStart = groupBox.topLeft().scale(scale, scale);
            var scaledSize = groupBox.size[groupsSizeField] * scale;
            var newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);
            var transform = transform$1();
            if (groupAxis === "x") {
                transform.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);
            } else {
                transform.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);
            }
            transform.scale(scale, scale);

            this.transform(transform);
        }
    };

    Layout.prototype._initGroups = function _initGroups () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var lineSpacing = options.lineSpacing;
        var wrap = options.wrap;
        var spacing = options.spacing;
        var sizeField = this._fieldMap.sizeField;
        var group = this._newGroup();
        var groups = [];
        var addGroup = function() {
            groups.push(group);
            groupsSize += group.lineSize + lineSpacing;
        };
        var groupsSize = -lineSpacing;

        for (var idx = 0; idx < children.length; idx++) {
            var element = children[idx];
            var bbox = children[idx].clippedBBox();
            if (element.visible() && bbox) {
                if (wrap && group.size + bbox.size[sizeField] + spacing > this$1._rect.size[sizeField]) {
                    if (group.bboxes.length === 0) {
                        this$1._addToGroup(group, bbox, element);
                        addGroup();
                        group = this$1._newGroup();
                    } else {
                        addGroup();
                        group = this$1._newGroup();
                        this$1._addToGroup(group, bbox, element);
                    }
                } else {
                    this$1._addToGroup(group, bbox, element);
                }
            }
        }

        if (group.bboxes.length) {
            addGroup();
        }

        return {
            groups: groups,
            groupsSize: groupsSize
        };
    };

    Layout.prototype._addToGroup = function _addToGroup (group, bbox, element) {
        group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;
        group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);
        group.bboxes.push(bbox);
        group.elements.push(element);
    };

    Layout.prototype._newGroup = function _newGroup () {
        return {
            lineSize: 0,
            size: -this.options.spacing,
            bboxes: [],
            elements: []
        };
    };

    return Layout;
}(Group));

var Rect$2 = (function (Element) {
    function Rect$$1(geometry, options) {
        if ( geometry === void 0 ) geometry = new Rect();
        if ( options === void 0 ) options = {};

        Element.call(this, options);
        this.geometry(geometry);

        if (!defined(this.options.stroke)) {
            this.stroke("#000");
        }
    }

    if ( Element ) Rect$$1.__proto__ = Element;
    Rect$$1.prototype = Object.create( Element && Element.prototype );
    Rect$$1.prototype.constructor = Rect$$1;

    Rect$$1.prototype._bbox = function _bbox (matrix) {
        return this._geometry.bbox(matrix);
    };

    Rect$$1.prototype.rawBBox = function rawBBox () {
        return this._geometry.bbox();
    };

    Rect$$1.prototype._containsPoint = function _containsPoint (point) {
        return this._geometry.containsPoint(point);
    };

    Rect$$1.prototype._isOnPath = function _isOnPath (point) {
        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);
    };

    return Rect$$1;
}(Element$1));

Rect$2.prototype.nodeType = "Rect";

Paintable.extend(Rect$2.prototype);
Measurable.extend(Rect$2.prototype);
defineGeometryAccessors(Rect$2.prototype, [ "geometry" ]);

function alignElements(elements, rect, alignment, axis, sizeField) {
    for (var idx = 0; idx < elements.length; idx++) {
        var bbox = elements[idx].clippedBBox();
        if (bbox) {
            var point = bbox.origin.clone();
            point[axis] = alignStart(bbox.size[sizeField], rect, alignment || "start", axis, sizeField);
            translateToPoint(point, bbox, elements[idx]);
        }
    }
}

function align(elements, rect, alignment) {
    alignElements(elements, rect, alignment, "x", "width");
}

function vAlign(elements, rect, alignment) {
    alignElements(elements, rect, alignment, "y", "height");
}

function stackElements(elements, stackAxis, otherAxis, sizeField) {
    if (elements.length > 1) {
        var origin = new Point();
        var previousBBox = elements[0].bbox;

        for (var idx = 1; idx < elements.length; idx++) {
            var element = elements[idx].element;
            var bbox = elements[idx].bbox;
            origin[stackAxis] = previousBBox.origin[stackAxis] + previousBBox.size[sizeField];
            origin[otherAxis] = bbox.origin[otherAxis];
            translateToPoint(origin, bbox, element);
            bbox.origin[stackAxis] = origin[stackAxis];
            previousBBox = bbox;
        }
    }
}

function createStackElements(elements) {
    var stackElements = [];

    for (var idx = 0; idx < elements.length; idx++) {
        var element = elements[idx];
        var bbox = element.clippedBBox();
        if (bbox) {
            stackElements.push({
                element: element,
                bbox: bbox
            });
        }
    }

    return stackElements;
}

function stack(elements) {
    stackElements(createStackElements(elements), "x", "y", "width");
}

function vStack(elements) {
    stackElements(createStackElements(elements), "y", "x", "height");
}

function getStacks(elements, rect, sizeField) {
    var maxSize = rect.size[sizeField];
    var stacks = [];
    var stack = [];
    var stackSize = 0;
    var element, bbox;

    var addElementToStack = function() {
        stack.push({
            element: element,
            bbox: bbox
        });
    };

    for (var idx = 0; idx < elements.length; idx++) {
        element = elements[idx];

        bbox = element.clippedBBox();
        if (bbox) {
            var size = bbox.size[sizeField];
            if (stackSize + size > maxSize) {
                if (stack.length) {
                    stacks.push(stack);
                    stack = [];
                    addElementToStack();
                    stackSize = size;
                } else {
                    addElementToStack();
                    stacks.push(stack);
                    stack = [];
                    stackSize = 0;
                }
            } else {
                addElementToStack();
                stackSize += size;
            }
        }
    }

    if (stack.length) {
        stacks.push(stack);
    }

    return stacks;
}

function wrapElements(elements, rect, axis, otherAxis, sizeField) {
    var stacks = getStacks(elements, rect, sizeField);
    var origin = rect.origin.clone();
    var result = [];

    for (var idx = 0; idx < stacks.length; idx++) {
        var stack = stacks[idx];
        var startElement = stack[0];
        origin[otherAxis] = startElement.bbox.origin[otherAxis];
        translateToPoint(origin, startElement.bbox, startElement.element);
        startElement.bbox.origin[axis] = origin[axis];
        stackElements(stack, axis, otherAxis, sizeField);
        result.push([]);
        for (var elementIdx = 0; elementIdx < stack.length; elementIdx++) {
            result[idx].push(stack[elementIdx].element);
        }
    }
    return result;
}

function wrap(elements, rect) {
    return wrapElements(elements, rect, "x", "y", "width");
}

function vWrap(elements, rect) {
    return wrapElements(elements, rect, "y", "x", "height");
}

function fit(element, rect) {
    var bbox = element.clippedBBox();
    if (bbox) {
        var elementSize = bbox.size;
        var rectSize = rect.size;
        if (rectSize.width < elementSize.width || rectSize.height < elementSize.height) {
            var scale = Math.min(rectSize.width / elementSize.width, rectSize.height / elementSize.height);
            var transform = element.transform() || transform$1();
            transform.scale(scale, scale);
            element.transform(transform);
        }
    }
}

var StopsArray = (function (ElementsArray$$1) {
    function StopsArray () {
        ElementsArray$$1.apply(this, arguments);
    }

    if ( ElementsArray$$1 ) StopsArray.__proto__ = ElementsArray$$1;
    StopsArray.prototype = Object.create( ElementsArray$$1 && ElementsArray$$1.prototype );
    StopsArray.prototype.constructor = StopsArray;

    StopsArray.prototype._change = function _change () {
        this.optionsChange({
            field: "stops"
        });
    };

    return StopsArray;
}(ElementsArray));

function optionsAccessor(name) {
    return function(value) {
        if (defined(value)) {
            this.options.set(name, value);
            return this;
        }

        return this.options.get(name);
    };
}

function defineOptionsAccessors(fn, names) {
    for (var i = 0; i < names.length; i++) {
        fn[names[i]] = optionsAccessor(names[i]);
    }
}

var GradientStop = (function (Class$$1) {
    function GradientStop(offset, color, opacity) {
        Class$$1.call(this);

        this.options = new OptionsStore({
            offset: offset,
            color: color,
            opacity: defined(opacity) ? opacity : 1
        });
        this.options.addObserver(this);
    }

    if ( Class$$1 ) GradientStop.__proto__ = Class$$1;
    GradientStop.prototype = Object.create( Class$$1 && Class$$1.prototype );
    GradientStop.prototype.constructor = GradientStop;

    GradientStop.create = function create (arg) {
        if (defined(arg)) {
            var stop;
            if (arg instanceof GradientStop) {
                stop = arg;
            } else if (arg.length > 1) {
                stop = new GradientStop(arg[0], arg[1], arg[2]);
            } else {
                stop = new GradientStop(arg.offset, arg.color, arg.opacity);
            }

            return stop;
        }
    };

    return GradientStop;
}(Class));

defineOptionsAccessors(GradientStop.prototype, [ "offset", "color", "opacity" ]);
ObserversMixin.extend(GradientStop.prototype);

var Gradient = (function (Class$$1) {
    function Gradient(options) {
        if ( options === void 0 ) options = {};

        Class$$1.call(this);

        this.stops = new StopsArray(this._createStops(options.stops));
        this.stops.addObserver(this);
        this._userSpace = options.userSpace;
        this.id = definitionId();
    }

    if ( Class$$1 ) Gradient.__proto__ = Class$$1;
    Gradient.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Gradient.prototype.constructor = Gradient;

    Gradient.prototype.userSpace = function userSpace (value) {
        if (defined(value)) {
            this._userSpace = value;
            this.optionsChange();
            return this;
        }

        return this._userSpace;
    };

    Gradient.prototype._createStops = function _createStops (stops) {
        if ( stops === void 0 ) stops = [];

        var result = [];
        for (var idx = 0; idx < stops.length; idx++) {
            result.push(GradientStop.create(stops[idx]));
        }

        return result;
    };

    Gradient.prototype.addStop = function addStop (offset, color, opacity) {
        this.stops.push(new GradientStop(offset, color, opacity));
    };

    Gradient.prototype.removeStop = function removeStop (stop) {
        var index = this.stops.indexOf(stop);
        if (index >= 0) {
            this.stops.splice(index, 1);
        }
    };

    return Gradient;
}(Class));

Gradient.prototype.nodeType = "Gradient";

ObserversMixin.extend(Gradient.prototype);

Object.assign(Gradient.prototype, {
    optionsChange: function(e) {
        this.trigger("optionsChange", {
            field: "gradient" + (e ? "." + e.field : ""),
            value: this
        });
    },

    geometryChange: function() {
        this.optionsChange();
    }
});

var LinearGradient = (function (Gradient$$1) {
    function LinearGradient(options) {
        if ( options === void 0 ) options = {};

        Gradient$$1.call(this, options);

        this.start(options.start || new Point());

        this.end(options.end || new Point(1, 0));
    }

    if ( Gradient$$1 ) LinearGradient.__proto__ = Gradient$$1;
    LinearGradient.prototype = Object.create( Gradient$$1 && Gradient$$1.prototype );
    LinearGradient.prototype.constructor = LinearGradient;

    return LinearGradient;
}(Gradient));

definePointAccessors(LinearGradient.prototype, [ "start", "end" ]);

var RadialGradient = (function (Gradient$$1) {
    function RadialGradient(options) {
        if ( options === void 0 ) options = {};

        Gradient$$1.call(this, options);

        this.center(options.center || new Point());
        this._radius = defined(options.radius) ? options.radius : 1;
        this._fallbackFill = options.fallbackFill;
    }

    if ( Gradient$$1 ) RadialGradient.__proto__ = Gradient$$1;
    RadialGradient.prototype = Object.create( Gradient$$1 && Gradient$$1.prototype );
    RadialGradient.prototype.constructor = RadialGradient;

    RadialGradient.prototype.radius = function radius (value) {
        if (defined(value)) {
            this._radius = value;
            this.geometryChange();
            return this;
        }

        return this._radius;
    };

    RadialGradient.prototype.fallbackFill = function fallbackFill (value) {
        if (defined(value)) {
            this._fallbackFill = value;
            this.optionsChange();
            return this;
        }

        return this._fallbackFill;
    };

    return RadialGradient;
}(Gradient));

definePointAccessors(RadialGradient.prototype, [ "center" ]);

function swing(position) {
    return 0.5 - Math.cos(position * Math.PI) / 2;
}

function linear(position) {
    return position;
}

function easeOutElastic(position, time, start, diff) {
    var s = 1.70158,
        p = 0,
        a = diff;

    if (position === 0) {
        return start;
    }

    if (position === 1) {
        return start + diff;
    }

    if (!p) {
        p = 0.5;
    }

    if (a < Math.abs(diff)) {
        a = diff;
        s = p / 4;
    } else {
        s = p / (2 * Math.PI) * Math.asin(diff / a);
    }

    return a * Math.pow(2, -10 * position) *
           Math.sin((Number(position) - s) * (1.1 * Math.PI) / p) + diff + start;
}


var easingFunctions = Object.freeze({
	swing: swing,
	linear: linear,
	easeOutElastic: easeOutElastic
});

var AnimationFactory = (function (Class$$1) {
    function AnimationFactory() {
        Class$$1.call(this);

        this._items = [];
    }

    if ( Class$$1 ) AnimationFactory.__proto__ = Class$$1;
    AnimationFactory.prototype = Object.create( Class$$1 && Class$$1.prototype );
    AnimationFactory.prototype.constructor = AnimationFactory;

    AnimationFactory.prototype.register = function register (name, type) {
        this._items.push({
            name: name,
            type: type
        });
    };

    AnimationFactory.prototype.create = function create (element, options) {
        var items = this._items;
        var match;

        if (options && options.type) {
            var type = options.type.toLowerCase();
            for (var i = 0; i < items.length; i++) {
                if (items[i].name.toLowerCase() === type) {
                    match = items[i];
                    break;
                }
            }
        }

        if (match) {
            return new match.type(element, options);
        }
    };

    return AnimationFactory;
}(Class));

AnimationFactory.current = new AnimationFactory();

var now$1 = Date.now || function() {
    return new Date().getTime();
};

var Animation = (function (Class$$1) {
    function Animation(element, options) {
        Class$$1.call(this);

        this.options = Object.assign({}, this.options, options);
        this.element = element;
    }

    if ( Class$$1 ) Animation.__proto__ = Class$$1;
    Animation.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Animation.prototype.constructor = Animation;

    Animation.prototype.setup = function setup () {};
    Animation.prototype.step = function step () {};

    Animation.prototype.play = function play () {
        var this$1 = this;

        var options = this.options;
        var duration = options.duration;
        var delay = options.delay; if ( delay === void 0 ) delay = 0;
        var easing = easingFunctions[options.easing];
        var start = now$1() + delay;
        var finish = start + duration;

        if (duration === 0) {
            this.step(1);
            this.abort();
        } else {
            setTimeout(function () {
                var loop = function () {
                    if (this$1._stopped) {
                        return;
                    }

                    var wallTime = now$1();

                    var time = limitValue(wallTime - start, 0, duration);
                    var position = time / duration;
                    var easingPosition = easing(position, time, 0, 1, duration);

                    this$1.step(easingPosition);

                    if (wallTime < finish) {
                        animationFrameProxy(loop);
                    } else {
                        this$1.abort();
                    }
                };

                loop();
            }, delay);
        }
    };

    Animation.prototype.abort = function abort () {
        this._stopped = true;
    };

    Animation.prototype.destroy = function destroy () {
        this.abort();
    };

    return Animation;
}(Class));

Animation.prototype.options = {
    duration: 500,
    easing: "swing"
};

Animation.create = function(type, element, options) {
    return AnimationFactory.current.create(type, element, options);
};

var SurfaceFactory = (function (Class$$1) {
    function SurfaceFactory() {
        Class$$1.call(this);

        this._items = [];
    }

    if ( Class$$1 ) SurfaceFactory.__proto__ = Class$$1;
    SurfaceFactory.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SurfaceFactory.prototype.constructor = SurfaceFactory;

    SurfaceFactory.prototype.register = function register (name, type, order) {
        var items = this._items;
        var first = items[0];
        var entry = {
            name: name,
            type: type,
            order: order
        };

        if (!first || order < first.order) {
            items.unshift(entry);
        } else {
            items.push(entry);
        }
    };

    SurfaceFactory.prototype.create = function create (element, options) {
        var items = this._items;
        var match = items[0];

        if (options && options.type) {
            var preferred = options.type.toLowerCase();
            for (var i = 0; i < items.length; i++) {
                if (items[i].name === preferred) {
                    match = items[i];
                    break;
                }
            }
        }

        if (match) {
            return new match.type(element, options);
        }

        logToConsole(
            "Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n" +
            "- The browser does not support SVG and Canvas. User agent: " + (navigator.userAgent));
    };

    return SurfaceFactory;
}(Class));

SurfaceFactory.current = new SurfaceFactory();

var events = [
    "click",
    "mouseenter",
    "mouseleave",
    "mousemove",
    "resize"
];

var Surface = (function (Observable$$1) {
    function Surface(element, options) {
        Observable$$1.call(this);

        this.options = Object.assign({}, options);
        this.element = element;
        this.element._kendoExportVisual = this.exportVisual.bind(this);

        this._click = this._handler("click");
        this._mouseenter = this._handler("mouseenter");
        this._mouseleave = this._handler("mouseleave");
        this._mousemove = this._handler("mousemove");

        this._visual = new Group();

        elementSize(element, this.options);

        this.bind(events, this.options);

        this._enableTracking();
    }

    if ( Observable$$1 ) Surface.__proto__ = Observable$$1;
    Surface.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    Surface.prototype.constructor = Surface;

    Surface.prototype.draw = function draw (element) {
        this._visual.children.push(element);
    };

    Surface.prototype.clear = function clear () {
        this._visual.children = [];
    };

    Surface.prototype.destroy = function destroy () {
        this._visual = null;
        this.element._kendoExportVisual = null;
        this.unbind();
    };

    Surface.prototype.eventTarget = function eventTarget (e) {
        var this$1 = this;

        var domNode = eventElement(e);
        var node;

        while (!node && domNode) {
            node = domNode._kendoNode;
            if (domNode === this$1.element) {
                break;
            }

            domNode = domNode.parentElement;
        }

        if (node) {
            return node.srcElement;
        }
    };

    Surface.prototype.exportVisual = function exportVisual () {
        return this._visual;
    };

    Surface.prototype.getSize = function getSize () {
        return elementSize(this.element);
    };

    Surface.prototype.currentSize = function currentSize (size) {
        if (size) {
            this._size = size;
        } else {
            return this._size;
        }
    };

    Surface.prototype.setSize = function setSize (size) {
        elementSize(this.element, size);

        this.currentSize(size);
        this._resize();
    };

    Surface.prototype.resize = function resize (force) {
        var size = this.getSize();
        var currentSize = this.currentSize();

        if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {
            this.currentSize(size);
            this._resize(size, force);
            this.trigger("resize", size);
        }
    };

    Surface.prototype.size = function size (value) {
        if (!value) {
            return this.getSize();
        }

        this.setSize(value);
    };

    Surface.prototype.suspendTracking = function suspendTracking () {
        this._suspendedTracking = true;
    };

    Surface.prototype.resumeTracking = function resumeTracking () {
        this._suspendedTracking = false;
    };

    Surface.prototype._enableTracking = function _enableTracking () {};

    Surface.prototype._resize = function _resize () {};

    Surface.prototype._handler = function _handler (eventName) {
        var this$1 = this;

        return function (e) {
            var node = this$1.eventTarget(e);
            if (node && !this$1._suspendedTracking) {
                this$1.trigger(eventName, {
                    element: node,
                    originalEvent: e,
                    type: eventName
                });
            }
        };
    };

    Surface.prototype._elementOffset = function _elementOffset () {
        var element = this.element;
        var ref = elementStyles(element, [ "paddingLeft", "paddingTop" ]);
        var paddingLeft = ref.paddingLeft;
        var paddingTop = ref.paddingTop;
        var ref$1 = elementOffset(element);
        var left = ref$1.left;
        var top = ref$1.top;

        return {
            left: left + parseInt(paddingLeft, 10),
            top: top + parseInt(paddingTop, 10)
        };
    };

    Surface.prototype._surfacePoint = function _surfacePoint (e) {
        var offset = this._elementOffset();
        var coord = eventCoordinates(e);
        var x = coord.x - offset.left;
        var y = coord.y - offset.top;

        return new Point(x, y);
    };

    return Surface;
}(Observable));

Surface.create = function(element, options) {
    return SurfaceFactory.current.create(element, options);
};

Surface.support = {};

var BaseNode = (function (Class$$1) {
    function BaseNode(srcElement) {
        Class$$1.call(this);

        this.childNodes = [];
        this.parent = null;

        if (srcElement) {
            this.srcElement = srcElement;
            this.observe();
        }
    }

    if ( Class$$1 ) BaseNode.__proto__ = Class$$1;
    BaseNode.prototype = Object.create( Class$$1 && Class$$1.prototype );
    BaseNode.prototype.constructor = BaseNode;

    BaseNode.prototype.destroy = function destroy () {
        var this$1 = this;

        if (this.srcElement) {
            this.srcElement.removeObserver(this);
        }

        var children = this.childNodes;
        for (var i = 0; i < children.length; i++) {
            this$1.childNodes[i].destroy();
        }

        this.parent = null;
    };

    BaseNode.prototype.load = function load () {};

    BaseNode.prototype.observe = function observe () {
        if (this.srcElement) {
            this.srcElement.addObserver(this);
        }
    };

    BaseNode.prototype.append = function append (node) {
        this.childNodes.push(node);
        node.parent = this;
    };

    BaseNode.prototype.insertAt = function insertAt (node, pos) {
        this.childNodes.splice(pos, 0, node);
        node.parent = this;
    };

    BaseNode.prototype.remove = function remove (index, count) {
        var this$1 = this;

        var end = index + count;
        for (var i = index; i < end; i++) {
            this$1.childNodes[i].removeSelf();
        }
        this.childNodes.splice(index, count);
    };

    BaseNode.prototype.removeSelf = function removeSelf () {
        this.clear();
        this.destroy();
    };

    BaseNode.prototype.clear = function clear () {
        this.remove(0, this.childNodes.length);
    };

    BaseNode.prototype.invalidate = function invalidate () {
        if (this.parent) {
            this.parent.invalidate();
        }
    };

    BaseNode.prototype.geometryChange = function geometryChange () {
        this.invalidate();
    };

    BaseNode.prototype.optionsChange = function optionsChange () {
        this.invalidate();
    };

    BaseNode.prototype.childrenChange = function childrenChange (e) {
        if (e.action === "add") {
            this.load(e.items, e.index);
        } else if (e.action === "remove") {
            this.remove(e.index, e.items.length);
        }

        this.invalidate();
    };

    return BaseNode;
}(Class));

function renderAttr(name, value) {
    return (defined(value) && value !== null) ? (" " + name + "=\"" + value + "\" ") : "";
}

function renderAllAttr(attrs) {
    var output = "";
    for (var i = 0; i < attrs.length; i++) {
        output += renderAttr(attrs[i][0], attrs[i][1]);
    }

    return output;
}

function renderStyle(attrs) {
    var output = "";
    for (var i = 0; i < attrs.length; i++) {
        var value = attrs[i][1];
        if (defined(value)) {
            output += attrs[i][0] + ":" + value + ";";
        }
    }

    if (output !== "") {
        return output;
    }
}

var NODE_MAP = {};

var SVG_NS = "http://www.w3.org/2000/svg";
var NONE = "none";

var renderSVG = function(container, svg) {
    container.innerHTML = svg;
};

if (typeof document !== "undefined") {
    var testFragment = "<svg xmlns='" + SVG_NS + "'></svg>";
    var testContainer = document.createElement("div");
    var hasParser = typeof DOMParser !== "undefined";

    testContainer.innerHTML = testFragment;

    if (hasParser && testContainer.firstChild.namespaceURI !== SVG_NS) {
        renderSVG = function(container, svg) {
            var parser = new DOMParser();
            var chartDoc = parser.parseFromString(svg, "text/xml");
            var importedDoc = document.adoptNode(chartDoc.documentElement);

            container.innerHTML = "";
            container.appendChild(importedDoc);
        };
    }
}

var renderSVG$1 = renderSVG;

var TRANSFORM = "transform";
var DefinitionMap = {
    clip: "clip-path",
    fill: "fill"
};

function isDefinition(type, value) {
    return type === "clip" || (type === "fill" && (!value || value.nodeType === "Gradient"));
}

function baseUrl() {
    var base = document.getElementsByTagName("base")[0];
    var href = document.location.href;
    var url = "";

    if (base && !(support.browser || {}).msie) {
        var hashIndex = href.indexOf("#");
        if (hashIndex !== -1) {
            href = href.substring(0, hashIndex);
        }

        url = href;
    }

    return url;
}

var Node = (function (BaseNode$$1) {
    function Node(srcElement, options) {
        BaseNode$$1.call(this, srcElement);
        this.definitions = {};

        this.options = options;
    }

    if ( BaseNode$$1 ) Node.__proto__ = BaseNode$$1;
    Node.prototype = Object.create( BaseNode$$1 && BaseNode$$1.prototype );
    Node.prototype.constructor = Node;

    Node.prototype.destroy = function destroy () {
        if (this.element) {
            this.element._kendoNode = null;
            this.element = null;
        }

        this.clearDefinitions();
        BaseNode$$1.prototype.destroy.call(this);
    };

    Node.prototype.load = function load (elements, pos) {
        var this$1 = this;

        for (var i = 0; i < elements.length; i++) {
            var srcElement = elements[i];
            var children = srcElement.children;

            var childNode = new NODE_MAP[srcElement.nodeType](srcElement, this$1.options);

            if (defined(pos)) {
                this$1.insertAt(childNode, pos);
            } else {
                this$1.append(childNode);
            }

            childNode.createDefinitions();

            if (children && children.length > 0) {
                childNode.load(children);
            }

            var element = this$1.element;
            if (element) {
                childNode.attachTo(element, pos);
            }
        }
    };

    Node.prototype.root = function root () {
        var root = this;

        while (root.parent) {
            root = root.parent;
        }

        return root;
    };

    Node.prototype.attachTo = function attachTo (domElement, pos) {
        var container = document.createElement("div");
        renderSVG$1(container,
            "<svg xmlns='" + SVG_NS + "' version='1.1'>" +
                this.render() +
            "</svg>"
        );

        var element = container.firstChild.firstChild;
        if (element) {
            if (defined(pos)) {
                domElement.insertBefore(element, domElement.childNodes[pos] || null);
            } else {
                domElement.appendChild(element);
            }
            this.setElement(element);
        }
    };

    Node.prototype.setElement = function setElement (element) {
        if (this.element) {
            this.element._kendoNode = null;
        }

        this.element = element;
        this.element._kendoNode = this;

        var nodes = this.childNodes;
        for (var i = 0; i < nodes.length; i++) {
            var childElement = element.childNodes[i];
            nodes[i].setElement(childElement);
        }
    };

    Node.prototype.clear = function clear () {
        this.clearDefinitions();

        if (this.element) {
            this.element.innerHTML = "";
        }

        var children = this.childNodes;
        for (var i = 0; i < children.length; i++) {
            children[i].destroy();
        }

        this.childNodes = [];
    };

    Node.prototype.removeSelf = function removeSelf () {
        if (this.element) {
            var parentNode = this.element.parentNode;
            if (parentNode) {
                parentNode.removeChild(this.element);
            }
            this.element = null;
        }

        BaseNode$$1.prototype.removeSelf.call(this);
    };

    Node.prototype.template = function template () {
        return this.renderChildren();
    };

    Node.prototype.render = function render () {
        return this.template();
    };

    Node.prototype.renderChildren = function renderChildren () {
        var nodes = this.childNodes;
        var output = "";

        for (var i = 0; i < nodes.length; i++) {
            output += nodes[i].render();
        }

        return output;
    };

    Node.prototype.optionsChange = function optionsChange (e) {
        var field = e.field;
        var value = e.value;

        if (field === "visible") {
            this.css("display", value ? "" : NONE);
        } else if (DefinitionMap[field] && isDefinition(field, value)) {
            this.updateDefinition(field, value);
        } else if (field === "opacity") {
            this.attr("opacity", value);
        } else if (field === "cursor") {
            this.css("cursor", value);
        } else if (field === "id") {
            if (value) {
                this.attr("id", value);
            } else {
                this.removeAttr("id");
            }
        }

        BaseNode$$1.prototype.optionsChange.call(this, e);
    };

    Node.prototype.attr = function attr (name, value) {
        if (this.element) {
            this.element.setAttribute(name, value);
        }
    };

    Node.prototype.allAttr = function allAttr (attrs) {
        var this$1 = this;

        for (var i = 0; i < attrs.length; i++) {
            this$1.attr(attrs[i][0], attrs[i][1]);
        }
    };

    Node.prototype.css = function css (name, value) {
        if (this.element) {
            this.element.style[name] = value;
        }
    };

    Node.prototype.allCss = function allCss (styles) {
        var this$1 = this;

        for (var i = 0; i < styles.length; i++) {
            this$1.css(styles[i][0], styles[i][1]);
        }
    };

    Node.prototype.removeAttr = function removeAttr (name) {
        if (this.element) {
            this.element.removeAttribute(name);
        }
    };

    Node.prototype.mapTransform = function mapTransform (transform) {
        var attrs = [];
        if (transform) {
            attrs.push([
                TRANSFORM,
                "matrix(" + transform.matrix().toString(6) + ")"
            ]);
        }

        return attrs;
    };

    Node.prototype.renderTransform = function renderTransform () {
        return renderAllAttr(
            this.mapTransform(this.srcElement.transform())
        );
    };

    Node.prototype.transformChange = function transformChange (value) {
        if (value) {
            this.allAttr(this.mapTransform(value));
        } else {
            this.removeAttr(TRANSFORM);
        }
    };

    Node.prototype.mapStyle = function mapStyle () {
        var options = this.srcElement.options;
        var style = [ [ "cursor", options.cursor ] ];

        if (options.visible === false) {
            style.push([ "display", NONE ]);
        }

        return style;
    };

    Node.prototype.renderStyle = function renderStyle$1 () {
        return renderAttr("style", renderStyle(this.mapStyle(true)));
    };

    Node.prototype.renderOpacity = function renderOpacity () {
        return renderAttr("opacity", this.srcElement.options.opacity);
    };

    Node.prototype.renderId = function renderId () {
        return renderAttr("id", this.srcElement.options.id);
    };

    Node.prototype.createDefinitions = function createDefinitions () {
        var srcElement = this.srcElement;
        var definitions = this.definitions;
        if (srcElement) {
            var options = srcElement.options;
            var hasDefinitions;

            for (var field in DefinitionMap) {
                var definition = options.get(field);
                if (definition && isDefinition(field, definition)) {
                    definitions[field] = definition;
                    hasDefinitions = true;
                }
            }
            if (hasDefinitions) {
                this.definitionChange({
                    action: "add",
                    definitions: definitions
                });
            }
        }
    };

    Node.prototype.definitionChange = function definitionChange (e) {
        if (this.parent) {
            this.parent.definitionChange(e);
        }
    };

    Node.prototype.updateDefinition = function updateDefinition (type, value) {
        var definitions = this.definitions;
        var current = definitions[type];
        var attr = DefinitionMap[type];
        var definition = {};
        if (current) {
            definition[type] = current;
            this.definitionChange({
                action: "remove",
                definitions: definition
            });
            delete definitions[type];
        }

        if (!value) {
            if (current) {
                this.removeAttr(attr);
            }
        } else {
            definition[type] = value;
            this.definitionChange({
                action: "add",
                definitions: definition
            });
            definitions[type] = value;
            this.attr(attr, this.refUrl(value.id));
        }
    };

    Node.prototype.clearDefinitions = function clearDefinitions () {
        var definitions = this.definitions;

        this.definitionChange({
            action: "remove",
            definitions: definitions
        });
        this.definitions = {};
    };

    Node.prototype.renderDefinitions = function renderDefinitions () {
        return renderAllAttr(this.mapDefinitions());
    };

    Node.prototype.mapDefinitions = function mapDefinitions () {
        var this$1 = this;

        var definitions = this.definitions;
        var attrs = [];

        for (var field in definitions) {
            attrs.push([ DefinitionMap[field], this$1.refUrl(definitions[field].id) ]);
        }

        return attrs;
    };

    Node.prototype.refUrl = function refUrl (id) {
        var skipBaseHref = (this.options || {}).skipBaseHref;
        var baseHref = this.baseUrl().replace(/'/g, "\\'");
        var base = skipBaseHref ? '' : baseHref;
        return ("url(" + base + "#" + id + ")");
    };

    Node.prototype.baseUrl = function baseUrl$1 () {
        return baseUrl();
    };

    return Node;
}(BaseNode));

var GradientStopNode = (function (Node$$1) {
    function GradientStopNode () {
        Node$$1.apply(this, arguments);
    }

    if ( Node$$1 ) GradientStopNode.__proto__ = Node$$1;
    GradientStopNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    GradientStopNode.prototype.constructor = GradientStopNode;

    GradientStopNode.prototype.template = function template () {
        return ("<stop " + (this.renderOffset()) + " " + (this.renderStyle()) + " />");
    };

    GradientStopNode.prototype.renderOffset = function renderOffset () {
        return renderAttr("offset", this.srcElement.offset());
    };

    GradientStopNode.prototype.mapStyle = function mapStyle () {
        var srcElement = this.srcElement;
        return [
            [ "stop-color", srcElement.color() ],
            [ "stop-opacity", srcElement.opacity() ]
        ];
    };

    GradientStopNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "offset") {
            this.attr(e.field, e.value);
        } else if (e.field === "color" || e.field === "opacity") {
            this.css("stop-" + e.field, e.value);
        }
    };

    return GradientStopNode;
}(Node));

var GradientNode = (function (Node$$1) {
    function GradientNode(srcElement) {
        Node$$1.call(this, srcElement);

        this.id = srcElement.id;

        this.loadStops();
    }

    if ( Node$$1 ) GradientNode.__proto__ = Node$$1;
    GradientNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    GradientNode.prototype.constructor = GradientNode;

    GradientNode.prototype.loadStops = function loadStops () {
        var this$1 = this;

        var stops = this.srcElement.stops;
        var element = this.element;

        for (var idx = 0; idx < stops.length; idx++) {
            var stopNode = new GradientStopNode(stops[idx]);
            this$1.append(stopNode);
            if (element) {
                stopNode.attachTo(element);
            }
        }
    };

    GradientNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "gradient.stops") {
            BaseNode.prototype.clear.call(this);
            this.loadStops();
        } else if (e.field === "gradient") {
            this.allAttr(this.mapCoordinates());
        }
    };

    GradientNode.prototype.renderCoordinates = function renderCoordinates () {
        return renderAllAttr(this.mapCoordinates());
    };

    GradientNode.prototype.mapSpace = function mapSpace () {
        return [ "gradientUnits", this.srcElement.userSpace() ? "userSpaceOnUse" : "objectBoundingBox" ];
    };

    return GradientNode;
}(Node));

var LinearGradientNode = (function (GradientNode$$1) {
    function LinearGradientNode () {
        GradientNode$$1.apply(this, arguments);
    }

    if ( GradientNode$$1 ) LinearGradientNode.__proto__ = GradientNode$$1;
    LinearGradientNode.prototype = Object.create( GradientNode$$1 && GradientNode$$1.prototype );
    LinearGradientNode.prototype.constructor = LinearGradientNode;

    LinearGradientNode.prototype.template = function template () {
        return ("<linearGradient id='" + (this.id) + "' " + (this.renderCoordinates()) + ">" + (this.renderChildren()) + "</linearGradient>");
    };

    LinearGradientNode.prototype.mapCoordinates = function mapCoordinates () {
        var srcElement = this.srcElement;
        var start = srcElement.start();
        var end = srcElement.end();
        var attrs = [
            [ "x1", start.x ],
            [ "y1", start.y ],
            [ "x2", end.x ],
            [ "y2", end.y ],
            this.mapSpace()
        ];

        return attrs;
    };

    return LinearGradientNode;
}(GradientNode));

var RadialGradientNode = (function (GradientNode$$1) {
    function RadialGradientNode () {
        GradientNode$$1.apply(this, arguments);
    }

    if ( GradientNode$$1 ) RadialGradientNode.__proto__ = GradientNode$$1;
    RadialGradientNode.prototype = Object.create( GradientNode$$1 && GradientNode$$1.prototype );
    RadialGradientNode.prototype.constructor = RadialGradientNode;

    RadialGradientNode.prototype.template = function template () {
        return ("<radialGradient id='" + (this.id) + "' " + (this.renderCoordinates()) + ">" + (this.renderChildren()) + "</radialGradient>");
    };

    RadialGradientNode.prototype.mapCoordinates = function mapCoordinates () {
        var srcElement = this.srcElement;
        var center = srcElement.center();
        var radius = srcElement.radius();
        var attrs = [
            [ "cx", center.x ],
            [ "cy", center.y ],
            [ "r", radius ],
            this.mapSpace()
        ];
        return attrs;
    };

    return RadialGradientNode;
}(GradientNode));

var ClipNode = (function (Node$$1) {
    function ClipNode(srcElement) {
        Node$$1.call(this);

        this.srcElement = srcElement;
        this.id = srcElement.id;

        this.load([ srcElement ]);
    }

    if ( Node$$1 ) ClipNode.__proto__ = Node$$1;
    ClipNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    ClipNode.prototype.constructor = ClipNode;

    ClipNode.prototype.template = function template () {
        return ("<clipPath id='" + (this.id) + "'>" + (this.renderChildren()) + "</clipPath>");
    };

    return ClipNode;
}(Node));

var DefinitionNode = (function (Node$$1) {
    function DefinitionNode() {
        Node$$1.call(this);
        this.definitionMap = {};
    }

    if ( Node$$1 ) DefinitionNode.__proto__ = Node$$1;
    DefinitionNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    DefinitionNode.prototype.constructor = DefinitionNode;

    DefinitionNode.prototype.attachTo = function attachTo (domElement) {
        this.element = domElement;
    };

    DefinitionNode.prototype.template = function template () {
        return ("<defs>" + (this.renderChildren()) + "</defs>");
    };

    DefinitionNode.prototype.definitionChange = function definitionChange (e) {
        var definitions = e.definitions;
        var action = e.action;

        if (action === "add") {
            this.addDefinitions(definitions);
        } else if (action === "remove") {
            this.removeDefinitions(definitions);
        }
    };

    DefinitionNode.prototype.createDefinition = function createDefinition (type, item) {
        var nodeType;
        if (type === "clip") {
            nodeType = ClipNode;
        } else if (type === "fill") {
            if (item instanceof LinearGradient) {
                nodeType = LinearGradientNode;
            } else if (item instanceof RadialGradient) {
                nodeType = RadialGradientNode;
            }
        }
        return new nodeType(item);
    };

    DefinitionNode.prototype.addDefinitions = function addDefinitions (definitions) {
        var this$1 = this;

        for (var field in definitions) {
            this$1.addDefinition(field, definitions[field]);
        }
    };

    DefinitionNode.prototype.addDefinition = function addDefinition (type, srcElement) {
        var ref = this;
        var element = ref.element;
        var definitionMap = ref.definitionMap;
        var id = srcElement.id;
        var mapItem = definitionMap[id];
        if (!mapItem) {
            var node = this.createDefinition(type, srcElement);
            definitionMap[id] = {
                element: node,
                count: 1
            };
            this.append(node);
            if (element) {
                node.attachTo(this.element);
            }
        } else {
            mapItem.count++;
        }
    };

    DefinitionNode.prototype.removeDefinitions = function removeDefinitions (definitions) {
        var this$1 = this;

        for (var field in definitions) {
            this$1.removeDefinition(definitions[field]);
        }
    };

    DefinitionNode.prototype.removeDefinition = function removeDefinition (srcElement) {
        var definitionMap = this.definitionMap;
        var id = srcElement.id;
        var mapItem = definitionMap[id];

        if (mapItem) {
            mapItem.count--;
            if (mapItem.count === 0) {
                this.remove(this.childNodes.indexOf(mapItem.element), 1);
                delete definitionMap[id];
            }
        }
    };

    return DefinitionNode;
}(Node));

var RootNode = (function (Node$$1) {
    function RootNode(options) {
        Node$$1.call(this);
        this.options = options;
        this.defs = new DefinitionNode();
    }

    if ( Node$$1 ) RootNode.__proto__ = Node$$1;
    RootNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    RootNode.prototype.constructor = RootNode;

    RootNode.prototype.attachTo = function attachTo (domElement) {
        this.element = domElement;
        this.defs.attachTo(domElement.firstElementChild);
    };

    RootNode.prototype.clear = function clear () {
        BaseNode.prototype.clear.call(this);
    };

    RootNode.prototype.template = function template () {
        return this.defs.render() + this.renderChildren();
    };

    RootNode.prototype.definitionChange = function definitionChange (e) {
        this.defs.definitionChange(e);
    };

    return RootNode;
}(Node));

var RTL = 'rtl';

function alignToScreen(element) {
    var ctm;

    try {
        ctm = element.getScreenCTM ? element.getScreenCTM() : null;
    } catch (e) { } // eslint-disable-line no-empty

    if (ctm) {
        var left = - ctm.e % 1;
        var top = - ctm.f % 1;
        var style = element.style;

        if (left !== 0 || top !== 0) {
            style.left = left + "px";
            style.top = top + "px";
        }
    }
}

var Surface$1 = (function (BaseSurface) {
    function Surface$$1(element, options) {
        BaseSurface.call(this, element, options);

        this._root = new RootNode(Object.assign({
            rtl: elementStyles(element, 'direction').direction === RTL
        }, this.options));

        renderSVG$1(this.element, this._template());

        this._rootElement = this.element.firstElementChild;

        alignToScreen(this._rootElement);

        this._root.attachTo(this._rootElement);

        bindEvents(this.element, {
            click: this._click,
            mouseover: this._mouseenter,
            mouseout: this._mouseleave,
            mousemove: this._mousemove
        });

        this.resize();
    }

    if ( BaseSurface ) Surface$$1.__proto__ = BaseSurface;
    Surface$$1.prototype = Object.create( BaseSurface && BaseSurface.prototype );
    Surface$$1.prototype.constructor = Surface$$1;

    Surface$$1.prototype.destroy = function destroy () {
        if (this._root) {
            this._root.destroy();
            this._root = null;
            this._rootElement = null;
            unbindEvents(this.element, {
                click: this._click,
                mouseover: this._mouseenter,
                mouseout: this._mouseleave,
                mousemove: this._mousemove
            });
        }

        BaseSurface.prototype.destroy.call(this);
    };

    Surface$$1.prototype.translate = function translate (offset) {
        var viewBox = (Math.round(offset.x)) + " " + (Math.round(offset.y)) + " " + (this._size.width) + " " + (this._size.height);

        this._offset = offset;
        this._rootElement.setAttribute("viewBox", viewBox);
    };

    Surface$$1.prototype.draw = function draw (element) {
        BaseSurface.prototype.draw.call(this, element);
        this._root.load([ element ]);
    };

    Surface$$1.prototype.clear = function clear () {
        BaseSurface.prototype.clear.call(this);
        this._root.clear();
    };

    Surface$$1.prototype.svg = function svg () {
        return "<?xml version='1.0' ?>" + this._template();
    };

    Surface$$1.prototype.exportVisual = function exportVisual () {
        var ref = this;
        var visual = ref._visual;
        var offset = ref._offset;

        if (offset) {
            var wrap = new Group();
            wrap.children.push(visual);

            wrap.transform(
                transform$1().translate(-offset.x, -offset.y)
            );

            visual = wrap;
        }

        return visual;
    };

    Surface$$1.prototype._resize = function _resize () {
        if (this._offset) {
            this.translate(this._offset);
        }
    };

    Surface$$1.prototype._template = function _template () {
        return ("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='" + SVG_NS + "' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>" + (this._root.render()) + "</svg>");
    };

    return Surface$$1;
}(Surface));

Surface$1.prototype.type = "svg";

if (typeof document !== "undefined" && document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")) {
    Surface.support.svg = true;
    SurfaceFactory.current.register("svg", Surface$1, 10);
}

var GroupNode = (function (Node$$1) {
    function GroupNode () {
        Node$$1.apply(this, arguments);
    }

    if ( Node$$1 ) GroupNode.__proto__ = Node$$1;
    GroupNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    GroupNode.prototype.constructor = GroupNode;

    GroupNode.prototype.template = function template () {
        return ("<g" + (this.renderId() + this.renderTransform() + this.renderStyle() + this.renderOpacity() + this.renderDefinitions()) + ">" + (this.renderChildren()) + "</g>");
    };

    GroupNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "transform") {
            this.transformChange(e.value);
        }

        Node$$1.prototype.optionsChange.call(this, e);
    };

    return GroupNode;
}(Node));

NODE_MAP.Group = GroupNode;

var DASH_ARRAYS = {
    dot: [ 1.5, 3.5 ],
    dash: [ 4, 3.5 ],
    longdash: [ 8, 3.5 ],
    dashdot: [ 3.5, 3.5, 1.5, 3.5 ],
    longdashdot: [ 8, 3.5, 1.5, 3.5 ],
    longdashdotdot: [ 8, 3.5, 1.5, 3.5, 1.5, 3.5 ]
};

var SOLID = "solid";
var BUTT = "butt";

var ATTRIBUTE_MAP = {
    "fill.opacity": "fill-opacity",
    "stroke.color": "stroke",
    "stroke.width": "stroke-width",
    "stroke.opacity": "stroke-opacity"
};
var SPACE$1 = " ";

var PathNode = (function (Node$$1) {
    function PathNode () {
        Node$$1.apply(this, arguments);
    }

    if ( Node$$1 ) PathNode.__proto__ = Node$$1;
    PathNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    PathNode.prototype.constructor = PathNode;

    PathNode.prototype.geometryChange = function geometryChange () {
        this.attr("d", this.renderData());
        this.invalidate();
    };

    PathNode.prototype.optionsChange = function optionsChange (e) {
        switch (e.field) {
            case "fill":
                if (e.value) {
                    this.allAttr(this.mapFill(e.value));
                } else {
                    this.removeAttr("fill");
                }
                break;

            case "fill.color":
                this.allAttr(this.mapFill({ color: e.value }));
                break;

            case "stroke":
                if (e.value) {
                    this.allAttr(this.mapStroke(e.value));
                } else {
                    this.removeAttr("stroke");
                }
                break;

            case "transform":
                this.transformChange(e.value);
                break;

            default:
                var name = ATTRIBUTE_MAP[e.field];
                if (name) {
                    this.attr(name, e.value);
                }
                break;
        }

        Node$$1.prototype.optionsChange.call(this, e);
    };

    PathNode.prototype.content = function content () {
        if (this.element) {
            this.element.textContent = this.srcElement.content();
        }
    };

    PathNode.prototype.renderData = function renderData () {
        return this.printPath(this.srcElement);
    };

    PathNode.prototype.printPath = function printPath (path) {
        var this$1 = this;

        var segments = path.segments;
        var length = segments.length;
        if (length > 0) {
            var parts = [];
            var output, currentType;

            for (var i = 1; i < length; i++) {
                var segmentType = this$1.segmentType(segments[i - 1], segments[i]);
                if (segmentType !== currentType) {
                    currentType = segmentType;
                    parts.push(segmentType);
                }

                if (segmentType === "L") {
                    parts.push(this$1.printPoints(segments[i].anchor()));
                } else {
                    parts.push(this$1.printPoints(segments[i - 1].controlOut(), segments[i].controlIn(), segments[i].anchor()));
                }
            }

            output = "M" + this.printPoints(segments[0].anchor()) + SPACE$1 + parts.join(SPACE$1);
            if (path.options.closed) {
                output += "Z";
            }

            return output;
        }
    };

    PathNode.prototype.printPoints = function printPoints () {
        var points = arguments;
        var length = points.length;
        var result = [];

        for (var i = 0; i < length; i++) {
            result.push(points[i].toString(3));
        }

        return result.join(" ");
    };

    PathNode.prototype.segmentType = function segmentType (segmentStart, segmentEnd) {
        return segmentStart.controlOut() && segmentEnd.controlIn() ? "C" : "L";
    };

    PathNode.prototype.mapStroke = function mapStroke (stroke) {
        var attrs = [];

        if (stroke && !isTransparent(stroke.color)) {
            attrs.push([ "stroke", stroke.color ]);
            attrs.push([ "stroke-width", stroke.width ]);
            attrs.push([ "stroke-linecap", this.renderLinecap(stroke) ]);
            attrs.push([ "stroke-linejoin", stroke.lineJoin ]);

            if (defined(stroke.opacity)) {
                attrs.push([ "stroke-opacity", stroke.opacity ]);
            }

            if (defined(stroke.dashType)) {
                attrs.push([ "stroke-dasharray", this.renderDashType(stroke) ]);
            }
        } else {
            attrs.push([ "stroke", NONE ]);
        }

        return attrs;
    };

    PathNode.prototype.renderStroke = function renderStroke () {
        return renderAllAttr(
            this.mapStroke(this.srcElement.options.stroke)
        );
    };

    PathNode.prototype.renderDashType = function renderDashType (stroke) {
        var dashType = stroke.dashType;
        var width = stroke.width; if ( width === void 0 ) width = 1;

        if (dashType && dashType !== SOLID) {
            var dashArray = DASH_ARRAYS[dashType.toLowerCase()];
            var result = [];

            for (var i = 0; i < dashArray.length; i++) {
                result.push(dashArray[i] * width);
            }

            return result.join(" ");
        }
    };

    PathNode.prototype.renderLinecap = function renderLinecap (stroke) {
        var dashType = stroke.dashType;
        var lineCap = stroke.lineCap;

        return (dashType && dashType !== "solid") ? BUTT : lineCap;
    };

    PathNode.prototype.mapFill = function mapFill (fill) {
        var attrs = [];
        if (!(fill && fill.nodeType === "Gradient")) {
            if (fill && !isTransparent(fill.color)) {
                attrs.push([ "fill", fill.color ]);

                if (defined(fill.opacity)) {
                    attrs.push([ "fill-opacity", fill.opacity ]);
                }
            } else {
                attrs.push([ "fill", NONE ]);
            }
        }

        return attrs;
    };

    PathNode.prototype.renderFill = function renderFill () {
        return renderAllAttr(
            this.mapFill(this.srcElement.options.fill)
        );
    };

    PathNode.prototype.template = function template () {
        return "<path " + (this.renderId()) + " " + (this.renderStyle()) + " " + (this.renderOpacity()) + " " + (renderAttr('d', this.renderData())) +
                    "" + (this.renderStroke()) + (this.renderFill()) + (this.renderDefinitions()) + (this.renderTransform()) + "></path>";
    };

    return PathNode;
}(Node));

NODE_MAP.Path = PathNode;

var ArcNode = (function (PathNode$$1) {
    function ArcNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) ArcNode.__proto__ = PathNode$$1;
    ArcNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    ArcNode.prototype.constructor = ArcNode;

    ArcNode.prototype.renderData = function renderData () {
        return this.printPath(this.srcElement.toPath());
    };

    return ArcNode;
}(PathNode));

NODE_MAP.Arc = ArcNode;

var CircleNode = (function (PathNode$$1) {
    function CircleNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) CircleNode.__proto__ = PathNode$$1;
    CircleNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    CircleNode.prototype.constructor = CircleNode;

    CircleNode.prototype.geometryChange = function geometryChange () {
        var center = this.center();
        this.attr("cx", center.x);
        this.attr("cy", center.y);
        this.attr("r", this.radius());
        this.invalidate();
    };

    CircleNode.prototype.center = function center () {
        return this.srcElement.geometry().center;
    };

    CircleNode.prototype.radius = function radius () {
        return this.srcElement.geometry().radius;
    };

    CircleNode.prototype.template = function template () {
        return "<circle " + (this.renderId()) + " " + (this.renderStyle()) + " " + (this.renderOpacity()) +
                    "cx='" + (this.center().x) + "' cy='" + (this.center().y) + "' r='" + (this.radius()) + "'" +
                    (this.renderStroke()) + " " + (this.renderFill()) + " " + (this.renderDefinitions()) +
                    (this.renderTransform()) + " ></circle>";
    };

    return CircleNode;
}(PathNode));

NODE_MAP.Circle = CircleNode;

var RectNode = (function (PathNode$$1) {
    function RectNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) RectNode.__proto__ = PathNode$$1;
    RectNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    RectNode.prototype.constructor = RectNode;

    RectNode.prototype.geometryChange = function geometryChange () {
        var geometry = this.srcElement.geometry();
        this.attr("x", geometry.origin.x);
        this.attr("y", geometry.origin.y);
        this.attr("width", geometry.size.width);
        this.attr("height", geometry.size.height);
        this.invalidate();
    };

    RectNode.prototype.size = function size () {
        return this.srcElement.geometry().size;
    };

    RectNode.prototype.origin = function origin () {
        return this.srcElement.geometry().origin;
    };

    RectNode.prototype.template = function template () {
        return "<rect " + (this.renderId()) + " " + (this.renderStyle()) + " " + (this.renderOpacity()) + " x='" + (this.origin().x) + "' y='" + (this.origin().y) + "' " +
                    "width='" + (this.size().width) + "' height='" + (this.size().height) + "' " + (this.renderStroke()) + " " +
                    (this.renderFill()) + " " + (this.renderDefinitions()) + " " + (this.renderTransform()) + " />";
    };

    return RectNode;
}(PathNode));

NODE_MAP.Rect = RectNode;

var ImageNode = (function (PathNode$$1) {
    function ImageNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) ImageNode.__proto__ = PathNode$$1;
    ImageNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    ImageNode.prototype.constructor = ImageNode;

    ImageNode.prototype.geometryChange = function geometryChange () {
        this.allAttr(this.mapPosition());
        this.invalidate();
    };

    ImageNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "src") {
            this.allAttr(this.mapSource());
        }

        PathNode$$1.prototype.optionsChange.call(this, e);
    };

    ImageNode.prototype.mapPosition = function mapPosition () {
        var rect = this.srcElement.rect();
        var tl = rect.topLeft();

        return [
            [ "x", tl.x ],
            [ "y", tl.y ],
            [ "width", rect.width() + "px" ],
            [ "height", rect.height() + "px" ]
        ];
    };

    ImageNode.prototype.renderPosition = function renderPosition () {
        return renderAllAttr(this.mapPosition());
    };

    ImageNode.prototype.mapSource = function mapSource (encode) {
        var src = this.srcElement.src();

        if (encode) {
            src = htmlEncode(src);
        }

        return [ [ "xlink:href", src ] ];
    };

    ImageNode.prototype.renderSource = function renderSource () {
        return renderAllAttr(this.mapSource(true));
    };

    ImageNode.prototype.template = function template () {
        return "<image preserveAspectRatio='none' " + (this.renderId()) + " " + (this.renderStyle()) + " " + (this.renderTransform()) + " " + (this.renderOpacity()) +
               (this.renderPosition()) + " " + (this.renderSource()) + " " + (this.renderDefinitions()) + ">" +
               "</image>";
    };

    return ImageNode;
}(PathNode));

NODE_MAP.Image = ImageNode;

var ENTITY_REGEX = /&(?:[a-zA-Z]+|#\d+);/g;

function decodeEntities(text) {
    if (!text || typeof text !== "string" || !ENTITY_REGEX.test(text)) {
        return text;
    }

    var element = decodeEntities._element;
    ENTITY_REGEX.lastIndex = 0;

    return text.replace(ENTITY_REGEX, function (match) {
        element.innerHTML = match;

        return element.textContent || element.innerText;
    });
}

if (typeof document !== "undefined") {
    decodeEntities._element = document.createElement("span");
}

var TextNode = (function (PathNode$$1) {
    function TextNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) TextNode.__proto__ = PathNode$$1;
    TextNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    TextNode.prototype.constructor = TextNode;

    TextNode.prototype.geometryChange = function geometryChange () {
        var pos = this.pos();
        this.attr("x", pos.x);
        this.attr("y", pos.y);
        this.invalidate();
    };

    TextNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "font") {
            this.attr("style", renderStyle(this.mapStyle()));
            this.geometryChange();
        } else if (e.field === "content") {
            PathNode$$1.prototype.content.call(this, this.srcElement.content());
        }

        PathNode$$1.prototype.optionsChange.call(this, e);
    };

    TextNode.prototype.mapStyle = function mapStyle (encode) {
        var style = PathNode$$1.prototype.mapStyle.call(this, encode);
        var font = this.srcElement.options.font;

        if (encode) {
            font = htmlEncode(font);
        }

        style.push([ "font", font ], [ "white-space", "pre" ]);

        return style;
    };

    TextNode.prototype.pos = function pos () {
        var pos = this.srcElement.position();
        var size = this.srcElement.measure();
        return pos.clone().setY(pos.y + size.baseline);
    };

    TextNode.prototype.renderContent = function renderContent () {
        var content = this.srcElement.content();
        content = decodeEntities(content);
        content = htmlEncode(content);

        return normalizeText(content);
    };

    TextNode.prototype.renderTextAnchor = function renderTextAnchor () {
        var anchor;

        if ((this.options || {}).rtl && !(support.browser.msie || support.browser.edge)) {
            anchor = 'end';
        }

        return renderAttr("text-anchor", anchor);
    };

    TextNode.prototype.template = function template () {
        return "<text " + (this.renderId()) + " " + (this.renderTextAnchor()) + " " + (this.renderStyle()) + " " + (this.renderOpacity()) +
                    "x='" + (this.pos().x) + "' y='" + (this.pos().y) + "' " + (this.renderStroke()) + " " + (this.renderTransform()) + " " + (this.renderDefinitions()) +
                    (this.renderFill()) + ">" + (this.renderContent()) + "</text>";
    };

    return TextNode;
}(PathNode));

NODE_MAP.Text = TextNode;

var MultiPathNode = (function (PathNode$$1) {
    function MultiPathNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) MultiPathNode.__proto__ = PathNode$$1;
    MultiPathNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    MultiPathNode.prototype.constructor = MultiPathNode;

    MultiPathNode.prototype.renderData = function renderData () {
        var this$1 = this;

        var paths = this.srcElement.paths;

        if (paths.length > 0) {
            var result = [];

            for (var i = 0; i < paths.length; i++) {
                result.push(this$1.printPath(paths[i]));
            }

            return result.join(" ");
        }
    };

    return MultiPathNode;
}(PathNode));

NODE_MAP.MultiPath = MultiPathNode;



var geometry = Object.freeze({
	Circle: Circle$2,
	Arc: Arc$2,
	Rect: Rect,
	Point: Point,
	Segment: Segment,
	Matrix: Matrix,
	Size: Size,
	toMatrix: toMatrix,
	Transformation: Transformation,
	transform: transform$1
});

function exportGroup(group) {
    var root = new RootNode({
        skipBaseHref: true
    });
    var bbox = group.clippedBBox();
    var rootGroup = group;

    if (bbox) {
        var origin = bbox.getOrigin();
        var exportRoot = new Group();
        exportRoot.transform(transform$1().translate(-origin.x, -origin.y));
        exportRoot.children.push(group);
        rootGroup = exportRoot;
    }

    root.load([ rootGroup ]);

    var svg = "<?xml version='1.0' ?><svg xmlns='" + SVG_NS + "' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>" + (root.render()) + "</svg>";

    root.destroy();

    return svg;
}



var svg$1 = Object.freeze({
	Surface: Surface$1,
	RootNode: RootNode,
	Node: Node,
	GroupNode: GroupNode,
	ArcNode: ArcNode,
	CircleNode: CircleNode,
	RectNode: RectNode,
	ImageNode: ImageNode,
	TextNode: TextNode,
	PathNode: PathNode,
	MultiPathNode: MultiPathNode,
	DefinitionNode: DefinitionNode,
	ClipNode: ClipNode,
	GradientStopNode: GradientStopNode,
	LinearGradientNode: LinearGradientNode,
	RadialGradientNode: RadialGradientNode,
	exportGroup: exportGroup
});

var NODE_MAP$2 = {};

function renderPath(ctx, path) {
    var segments = path.segments;

    if (segments.length === 0) {
        return;
    }

    var segment = segments[0];
    var anchor = segment.anchor();
    ctx.moveTo(anchor.x, anchor.y);

    for (var i = 1; i < segments.length; i++) {
        segment = segments[i];
        anchor = segment.anchor();

        var prevSeg = segments[i - 1];
        var prevOut = prevSeg.controlOut();
        var controlIn = segment.controlIn();

        if (prevOut && controlIn) {
            ctx.bezierCurveTo(prevOut.x, prevOut.y,
                              controlIn.x, controlIn.y,
                              anchor.x, anchor.y);
        } else {
            ctx.lineTo(anchor.x, anchor.y);
        }
    }

    if (path.options.closed) {
        ctx.closePath();
    }
}

var Node$2 = (function (BaseNode$$1) {
    function Node(srcElement) {
        BaseNode$$1.call(this, srcElement);
        if (srcElement) {
            this.initClip();
        }
    }

    if ( BaseNode$$1 ) Node.__proto__ = BaseNode$$1;
    Node.prototype = Object.create( BaseNode$$1 && BaseNode$$1.prototype );
    Node.prototype.constructor = Node;

    Node.prototype.initClip = function initClip () {
        var clip = this.srcElement.clip();
        if (clip) {
            this.clip = clip;
            clip.addObserver(this);
        }
    };

    Node.prototype.clear = function clear () {
        if (this.srcElement) {
            this.srcElement.removeObserver(this);
        }

        this.clearClip();

        BaseNode$$1.prototype.clear.call(this);
    };

    Node.prototype.clearClip = function clearClip () {
        if (this.clip) {
            this.clip.removeObserver(this);
            delete this.clip;
        }
    };

    Node.prototype.setClip = function setClip (ctx) {
        if (this.clip) {
            ctx.beginPath();
            renderPath(ctx, this.clip);
            ctx.clip();
        }
    };

    Node.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "clip") {
            this.clearClip();
            this.initClip();
        }

        BaseNode$$1.prototype.optionsChange.call(this, e);
    };

    Node.prototype.setTransform = function setTransform (ctx) {
        if (this.srcElement) {
            var transform = this.srcElement.transform();
            if (transform) {
                ctx.transform.apply(ctx, transform.matrix().toArray(6));
            }
        }
    };

    Node.prototype.loadElements = function loadElements (elements, pos, cors) {
        var this$1 = this;

        for (var i = 0; i < elements.length; i++) {
            var srcElement = elements[i];
            var children = srcElement.children;

            var childNode = new NODE_MAP$2[srcElement.nodeType](srcElement, cors);

            if (children && children.length > 0) {
                childNode.load(children, pos, cors);
            }

            if (defined(pos)) {
                this$1.insertAt(childNode, pos);
            } else {
                this$1.append(childNode);
            }
        }
    };

    Node.prototype.load = function load (elements, pos, cors) {
        this.loadElements(elements, pos, cors);

        this.invalidate();
    };

    Node.prototype.setOpacity = function setOpacity (ctx) {
        if (this.srcElement) {
            var opacity = this.srcElement.opacity();
            if (defined(opacity)) {
                this.globalAlpha(ctx, opacity);
            }
        }
    };

    Node.prototype.globalAlpha = function globalAlpha (ctx, value) {
        var opactity = value;
        if (opactity && ctx.globalAlpha) {
            opactity *= ctx.globalAlpha;
        }
        ctx.globalAlpha = opactity;
    };

    Node.prototype.visible = function visible () {
        var src = this.srcElement;
        return !src || (src && src.options.visible !== false);
    };

    return Node;
}(BaseNode));

var GroupNode$2 = (function (Node) {
    function GroupNode () {
        Node.apply(this, arguments);
    }

    if ( Node ) GroupNode.__proto__ = Node;
    GroupNode.prototype = Object.create( Node && Node.prototype );
    GroupNode.prototype.constructor = GroupNode;

    GroupNode.prototype.renderTo = function renderTo (ctx) {
        if (!this.visible()) {
            return;
        }

        ctx.save();

        this.setTransform(ctx);
        this.setClip(ctx);
        this.setOpacity(ctx);

        var childNodes = this.childNodes;
        for (var i = 0; i < childNodes.length; i++) {
            var child = childNodes[i];
            if (child.visible()) {
                child.renderTo(ctx);
            }
        }

        ctx.restore();
    };

    return GroupNode;
}(Node$2));

Traversable.extend(GroupNode$2.prototype, "childNodes");

NODE_MAP$2.Group = GroupNode$2;

var FRAME_DELAY = 1000 / 60;

var RootNode$2 = (function (GroupNode) {
    function RootNode(canvas, size) {
        GroupNode.call(this);

        this.canvas = canvas;
        this.size = size;
        this.ctx = canvas.getContext("2d");

        var invalidateHandler = this._invalidate.bind(this);
        this.invalidate = throttle(function () {
            animationFrameProxy(invalidateHandler);
        }, FRAME_DELAY);
    }

    if ( GroupNode ) RootNode.__proto__ = GroupNode;
    RootNode.prototype = Object.create( GroupNode && GroupNode.prototype );
    RootNode.prototype.constructor = RootNode;

    RootNode.prototype.destroy = function destroy () {
        GroupNode.prototype.destroy.call(this);
        this.canvas = null;
        this.ctx = null;
    };

    RootNode.prototype.load = function load (elements, pos, cors) {
        this.loadElements(elements, pos, cors);
        this._invalidate();
    };

    RootNode.prototype._rescale = function _rescale () {
        var ref = this;
        var canvas = ref.canvas;
        var size = ref.size;
        var scale = 1;

        if (typeof window.devicePixelRatio === 'number') {
            scale = window.devicePixelRatio;
        }

        canvas.width = size.width * scale;
        canvas.height = size.height * scale;
        this.ctx.scale(scale, scale);
    };

    RootNode.prototype._invalidate = function _invalidate () {
        if (!this.ctx) {
            return;
        }

        this._rescale();

        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        this.renderTo(this.ctx);
    };

    return RootNode;
}(GroupNode$2));

Traversable.extend(RootNode$2.prototype, "childNodes");

var QuadRoot = (function (Class$$1) {
    function QuadRoot() {
        Class$$1.call(this);

        this.shapes = [];
    }

    if ( Class$$1 ) QuadRoot.__proto__ = Class$$1;
    QuadRoot.prototype = Object.create( Class$$1 && Class$$1.prototype );
    QuadRoot.prototype.constructor = QuadRoot;

    QuadRoot.prototype._add = function _add (shape, bbox) {
        this.shapes.push({
            bbox: bbox,
            shape: shape
        });
        shape._quadNode = this;
    };

    QuadRoot.prototype.pointShapes = function pointShapes (point) {
        var shapes = this.shapes;
        var length = shapes.length;
        var result = [];
        for (var idx = 0; idx < length; idx++) {
            if (shapes[idx].bbox.containsPoint(point)) {
                result.push(shapes[idx].shape);
            }
        }
        return result;
    };

    QuadRoot.prototype.insert = function insert (shape, bbox) {
        this._add(shape, bbox);
    };

    QuadRoot.prototype.remove = function remove (shape) {
        var shapes = this.shapes;
        var length = shapes.length;

        for (var idx = 0; idx < length; idx++) {
            if (shapes[idx].shape === shape) {
                shapes.splice(idx, 1);
                break;
            }
        }
    };

    return QuadRoot;
}(Class));

var QuadNode = (function (QuadRoot$$1) {
    function QuadNode(rect) {
        QuadRoot$$1.call(this);
        this.children = [];
        this.rect = rect;
    }

    if ( QuadRoot$$1 ) QuadNode.__proto__ = QuadRoot$$1;
    QuadNode.prototype = Object.create( QuadRoot$$1 && QuadRoot$$1.prototype );
    QuadNode.prototype.constructor = QuadNode;

    QuadNode.prototype.inBounds = function inBounds (rect) {
        var nodeRect = this.rect;
        var nodeBottomRight = nodeRect.bottomRight();
        var bottomRight = rect.bottomRight();
        var inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x &&
            bottomRight.y <= nodeBottomRight.y;
        return inBounds;
    };

    QuadNode.prototype.pointShapes = function pointShapes (point) {
        var children = this.children;
        var length = children.length;
        var result = QuadRoot$$1.prototype.pointShapes.call(this, point);
        for (var idx = 0; idx < length; idx++) {
            append$1$1(result, children[idx].pointShapes(point));
        }
        return result;
    };

    QuadNode.prototype.insert = function insert (shape, bbox) {
        var children = this.children;
        var inserted = false;

        if (this.inBounds(bbox)) {
            if (this.shapes.length < 4) {
                this._add(shape, bbox);
            } else {
                if (!children.length) {
                    this._initChildren();
                }

                for (var idx = 0; idx < children.length; idx++) {
                    if (children[idx].insert(shape, bbox)) {
                        inserted = true;
                        break;
                    }
                }

                if (!inserted) {
                    this._add(shape, bbox);
                }
            }
            inserted = true;
        }

        return inserted;
    };

    QuadNode.prototype._initChildren = function _initChildren () {
        var ref = this;
        var rect = ref.rect;
        var children = ref.children;
        var center = rect.center();
        var halfWidth = rect.width() / 2;
        var halfHeight = rect.height() / 2;

        children.push(
            new QuadNode(new Rect([ rect.origin.x, rect.origin.y ], [ halfWidth, halfHeight ])),
            new QuadNode(new Rect([ center.x, rect.origin.y ], [ halfWidth, halfHeight ])),
            new QuadNode(new Rect([ rect.origin.x, center.y ], [ halfWidth, halfHeight ])),
            new QuadNode(new Rect([ center.x, center.y ], [ halfWidth, halfHeight ]))
        );
    };

    return QuadNode;
}(QuadRoot));

var ROOT_SIZE = 3000;
var LEVEL_STEP = 10000;
var MAX_LEVEL = 75;

var ShapesQuadTree = (function (Class$$1) {
    function ShapesQuadTree() {
        Class$$1.call(this);

        this.initRoots();
    }

    if ( Class$$1 ) ShapesQuadTree.__proto__ = Class$$1;
    ShapesQuadTree.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ShapesQuadTree.prototype.constructor = ShapesQuadTree;

    ShapesQuadTree.prototype.initRoots = function initRoots () {
        this.rootMap = {};
        this.root = new QuadRoot();
        this.rootElements = [];
    };

    ShapesQuadTree.prototype.clear = function clear () {
        var this$1 = this;

        var rootElements = this.rootElements;
        for (var idx = 0; idx < rootElements.length; idx++) {
            this$1.remove(rootElements[idx]);
        }
        this.initRoots();
    };

    ShapesQuadTree.prototype.pointShape = function pointShape (point) {
        var sectorRoot = ( this.rootMap[ Math.floor( point.x / ROOT_SIZE ) ] || {} )[ Math.floor( point.y / ROOT_SIZE ) ];
        var result = this.root.pointShapes(point);

        if (sectorRoot) {
            result = result.concat(sectorRoot.pointShapes(point));
        }

        this.assignZindex(result);

        result.sort(zIndexComparer);
        for (var idx = 0; idx < result.length; idx++) {
            if (result[idx].containsPoint(point)) {
                return result[idx];
            }
        }
    };

    ShapesQuadTree.prototype.assignZindex = function assignZindex (elements) {
        var this$1 = this;

        for (var idx = 0; idx < elements.length; idx++) {
            var element = elements[idx];
            var zIndex = 0;
            var levelWeight = Math.pow(LEVEL_STEP, MAX_LEVEL);
            var parents = [];

            while (element) {
                parents.push(element);
                element = element.parent;
            }

            while (parents.length) {
                element = parents.pop();
                zIndex += ((element.parent ? element.parent.children : this$1.rootElements).indexOf(element) + 1) * levelWeight;
                levelWeight /= LEVEL_STEP;
            }

            elements[idx]._zIndex = zIndex;
        }
    };

    ShapesQuadTree.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "transform" || e.field === "stroke.width") {
            this.bboxChange(e.element);
        }
    };

    ShapesQuadTree.prototype.geometryChange = function geometryChange (e) {
        this.bboxChange(e.element);
    };

    ShapesQuadTree.prototype.bboxChange = function bboxChange (element) {
        var this$1 = this;

        if (element.nodeType === "Group") {
            for (var idx = 0; idx < element.children.length; idx++) {
                this$1.bboxChange(element.children[idx]);
            }
        } else {
            if (element._quadNode) {
                element._quadNode.remove(element);
            }
            this._insertShape(element);
        }
    };

    ShapesQuadTree.prototype.add = function add (elements) {
        var elementsArray = Array.isArray(elements) ? elements.slice(0) : [ elements ];

        append$1$1(this.rootElements, elementsArray);
        this._insert(elementsArray);
    };

    ShapesQuadTree.prototype.childrenChange = function childrenChange (e) {
        var this$1 = this;

        if (e.action === "remove") {
            for (var idx = 0; idx < e.items.length; idx++) {
                this$1.remove(e.items[idx]);
            }
        } else {
            this._insert(Array.prototype.slice.call(e.items, 0));
        }
    };

    ShapesQuadTree.prototype._insert = function _insert (elements) {
        var this$1 = this;

        var element;

        while (elements.length > 0) {
            element = elements.pop();
            element.addObserver(this$1);
            if (element.nodeType === "Group") {
                append$1$1(elements, element.children);
            } else {
                this$1._insertShape(element);
            }
        }
    };

    ShapesQuadTree.prototype._insertShape = function _insertShape (shape) {
        var bbox = shape.bbox();
        if (bbox) {
            var sectors = this.getSectors(bbox);
            var x = sectors[0][0];
            var y = sectors[1][0];

            if (this.inRoot(sectors)) {
                this.root.insert(shape, bbox);
            } else {
                var rootMap = this.rootMap;
                if (!rootMap[x]) {
                    rootMap[x] = {};
                }

                if (!rootMap[x][y]) {
                    rootMap[x][y] = new QuadNode(
                        new Rect([ x * ROOT_SIZE, y * ROOT_SIZE ], [ ROOT_SIZE, ROOT_SIZE ])
                    );
                }

                rootMap[x][y].insert(shape, bbox);
            }
        }
    };

    ShapesQuadTree.prototype.remove = function remove (element) {
        var this$1 = this;

        element.removeObserver(this);

        if (element.nodeType === "Group") {
            var children = element.children;
            for (var idx = 0; idx < children.length; idx++) {
                this$1.remove(children[idx]);
            }
        } else if (element._quadNode) {
            element._quadNode.remove(element);
            delete element._quadNode;
        }
    };

    ShapesQuadTree.prototype.inRoot = function inRoot (sectors) {
        return sectors[0].length > 1 || sectors[1].length > 1;
    };

    ShapesQuadTree.prototype.getSectors = function getSectors (rect) {
        var bottomRight = rect.bottomRight();
        var bottomX = Math.floor(bottomRight.x / ROOT_SIZE);
        var bottomY = Math.floor(bottomRight.y / ROOT_SIZE);
        var sectors = [ [], [] ];
        for (var x = Math.floor(rect.origin.x / ROOT_SIZE); x <= bottomX; x++) {
            sectors[0].push(x);
        }
        for (var y = Math.floor(rect.origin.y / ROOT_SIZE); y <= bottomY; y++) {
            sectors[1].push(y);
        }
        return sectors;
    };

    return ShapesQuadTree;
}(Class));

function zIndexComparer(x1, x2) {
    if (x1._zIndex < x2._zIndex) {
        return 1;
    }
    if (x1._zIndex > x2._zIndex) {
        return -1;
    }

    return 0;
}

var SurfaceCursor = function SurfaceCursor(surface) {
    surface.bind("mouseenter", this._mouseenter.bind(this));
    surface.bind("mouseleave", this._mouseleave.bind(this));

    this.element = surface.element;
};

SurfaceCursor.prototype.clear = function clear () {
    this._resetCursor();
};

SurfaceCursor.prototype.destroy = function destroy () {
    this._resetCursor();
    delete this.element;
};

SurfaceCursor.prototype._mouseenter = function _mouseenter (e) {
    var cursor = this._shapeCursor(e);

    if (!cursor) {
        this._resetCursor();
    } else {
        if (!this._current) {
            this._defaultCursor = this._getCursor();
        }

        this._setCursor(cursor);
    }
};

SurfaceCursor.prototype._mouseleave = function _mouseleave () {
    this._resetCursor();
};

SurfaceCursor.prototype._shapeCursor = function _shapeCursor (e) {
    var shape = e.element;

    while (shape && !defined(shape.options.cursor)) {
        shape = shape.parent;
    }

    if (shape) {
        return shape.options.cursor;
    }
};

SurfaceCursor.prototype._getCursor = function _getCursor () {
    if (this.element) {
        return this.element.style.cursor;
    }
};

SurfaceCursor.prototype._setCursor = function _setCursor (cursor) {
    if (this.element) {
        this.element.style.cursor = cursor;
        this._current = cursor;
    }
};

SurfaceCursor.prototype._resetCursor = function _resetCursor () {
    if (this._current) {
        this._setCursor(this._defaultCursor || "");
        delete this._current;
    }
};

var Surface$3 = (function (BaseSurface) {
    function Surface$$1(element, options) {
        BaseSurface.call(this, element, options);

        this.element.innerHTML = this._template(this);

        var canvas = this.element.firstElementChild;
        var size = elementSize(element);

        canvas.width = size.width;
        canvas.height = size.height;

        this._rootElement = canvas;

        this._root = new RootNode$2(canvas, size);

        this._mouseTrackHandler = this._trackMouse.bind(this);

        bindEvents(this.element, {
            click: this._mouseTrackHandler,
            mousemove: this._mouseTrackHandler
        });
    }

    if ( BaseSurface ) Surface$$1.__proto__ = BaseSurface;
    Surface$$1.prototype = Object.create( BaseSurface && BaseSurface.prototype );
    Surface$$1.prototype.constructor = Surface$$1;

    Surface$$1.prototype.destroy = function destroy () {
        BaseSurface.prototype.destroy.call(this);

        if (this._root) {
            this._root.destroy();
            this._root = null;
        }

        if (this._searchTree) {
            this._searchTree.clear();
            delete this._searchTree;
        }

        if (this._cursor) {
            this._cursor.destroy();
            delete this._cursor;
        }

        unbindEvents(this.element, {
            click: this._mouseTrackHandler,
            mousemove: this._mouseTrackHandler
        });
    };

    Surface$$1.prototype.draw = function draw (element) {
        BaseSurface.prototype.draw.call(this, element);
        this._root.load([ element ], undefined, this.options.cors);

        if (this._searchTree) {
            this._searchTree.add([ element ]);
        }
    };

    Surface$$1.prototype.clear = function clear () {
        BaseSurface.prototype.clear.call(this);
        this._root.clear();

        if (this._searchTree) {
            this._searchTree.clear();
        }

        if (this._cursor) {
            this._cursor.clear();
        }
    };

    Surface$$1.prototype.eventTarget = function eventTarget (e) {
        if (this._searchTree) {
            var point = this._surfacePoint(e);
            var shape = this._searchTree.pointShape(point);
            return shape;
        }
    };

    Surface$$1.prototype.image = function image () {
        var ref = this;
        var root = ref._root;
        var rootElement = ref._rootElement;
        var loadingStates = [];

        root.traverse(function (childNode) {
            if (childNode.loading) {
                loadingStates.push(childNode.loading);
            }
        });

        var promise = createPromise();
        var resolveDataURL = function () {
            root._invalidate();

            try {
                var data = rootElement.toDataURL();
                promise.resolve(data);
            } catch (e) {
                promise.reject(e);
            }
        };

        promiseAll(loadingStates).then(resolveDataURL, resolveDataURL);

        return promise;
    };

    Surface$$1.prototype.suspendTracking = function suspendTracking () {
        BaseSurface.prototype.suspendTracking.call(this);
        if (this._searchTree) {
            this._searchTree.clear();
            delete this._searchTree;
        }
    };

    Surface$$1.prototype.resumeTracking = function resumeTracking () {
        BaseSurface.prototype.resumeTracking.call(this);
        if (!this._searchTree) {
            this._searchTree = new ShapesQuadTree();

            var childNodes = this._root.childNodes;
            var rootElements = [];
            for (var idx = 0; idx < childNodes.length; idx++) {
                rootElements.push(childNodes[idx].srcElement);
            }
            this._searchTree.add(rootElements);
        }
    };

    Surface$$1.prototype._resize = function _resize () {
        this._rootElement.width = this._size.width;
        this._rootElement.height = this._size.height;

        this._root.size = this._size;
        this._root.invalidate();
    };

    Surface$$1.prototype._template = function _template () {
        return "<canvas style='width: 100%; height: 100%;'></canvas>";
    };

    Surface$$1.prototype._enableTracking = function _enableTracking () {
        this._searchTree = new ShapesQuadTree();
        this._cursor = new SurfaceCursor(this);

        BaseSurface.prototype._enableTracking.call(this);
    };

    Surface$$1.prototype._trackMouse = function _trackMouse (e) {
        if (this._suspendedTracking) {
            return;
        }

        var shape = this.eventTarget(e);

        if (e.type !== "click") {
            var currentShape = this._currentShape;
            if (currentShape && currentShape !== shape) {
                this.trigger("mouseleave", {
                    element: currentShape,
                    originalEvent: e,
                    type: "mouseleave"
                });
            }

            if (shape && currentShape !== shape) {
                this.trigger("mouseenter", {
                    element: shape,
                    originalEvent: e,
                    type: "mouseenter"
                });
            }

            this.trigger("mousemove", {
                element: shape,
                originalEvent: e,
                type: "mousemove"
            });

            this._currentShape = shape;
        } else if (shape) {
            this.trigger("click", {
                element: shape,
                originalEvent: e,
                type: "click"
            });
        }
    };

    return Surface$$1;
}(Surface));

Surface$3.prototype.type = "canvas";

if (typeof document !== "undefined" && document.createElement("canvas").getContext) {
    Surface.support.canvas = true;
    SurfaceFactory.current.register("canvas", Surface$3, 20);
}

function addGradientStops(gradient, stops) {
    for (var idx = 0; idx < stops.length; idx++) {
        var stop = stops[idx];
        var color = parseColor(stop.color());

        color.a *= stop.opacity();

        gradient.addColorStop(stop.offset(), color.toCssRgba());
    }
}

var PathNode$2 = (function (Node) {
    function PathNode () {
        Node.apply(this, arguments);
    }

    if ( Node ) PathNode.__proto__ = Node;
    PathNode.prototype = Object.create( Node && Node.prototype );
    PathNode.prototype.constructor = PathNode;

    PathNode.prototype.renderTo = function renderTo (ctx) {
        ctx.save();

        this.setTransform(ctx);
        this.setClip(ctx);
        this.setOpacity(ctx);

        ctx.beginPath();

        this.renderPoints(ctx, this.srcElement);

        this.setLineDash(ctx);
        this.setLineCap(ctx);
        this.setLineJoin(ctx);

        this.setFill(ctx);
        this.setStroke(ctx);

        ctx.restore();
    };

    PathNode.prototype.setFill = function setFill (ctx) {
        var fill = this.srcElement.options.fill;
        var hasFill = false;

        if (fill) {
            if (fill.nodeType === "Gradient") {
                this.setGradientFill(ctx, fill);
                hasFill = true;
            } else if (!isTransparent(fill.color)) {
                ctx.fillStyle = fill.color;

                ctx.save();
                this.globalAlpha(ctx, fill.opacity);
                ctx.fill();
                ctx.restore();

                hasFill = true;
            }
        }

        return hasFill;
    };

    PathNode.prototype.setGradientFill = function setGradientFill (ctx, fill) {
        var bbox = this.srcElement.rawBBox();
        var gradient;

        if (fill instanceof LinearGradient) {
            var start = fill.start();
            var end = fill.end();
            gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);
        } else if (fill instanceof RadialGradient) {
            var center = fill.center();
            gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());
        }

        addGradientStops(gradient, fill.stops);

        ctx.save();

        if (!fill.userSpace()) {
            ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);
        }
        ctx.fillStyle = gradient;
        ctx.fill();

        ctx.restore();
    };

    PathNode.prototype.setStroke = function setStroke (ctx) {
        var stroke = this.srcElement.options.stroke;
        if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {
            ctx.strokeStyle = stroke.color;
            ctx.lineWidth = valueOrDefault(stroke.width, 1);

            ctx.save();
            this.globalAlpha(ctx, stroke.opacity);
            ctx.stroke();
            ctx.restore();

            return true;
        }
    };

    PathNode.prototype.dashType = function dashType () {
        var stroke = this.srcElement.options.stroke;
        if (stroke && stroke.dashType) {
            return stroke.dashType.toLowerCase();
        }
    };

    PathNode.prototype.setLineDash = function setLineDash (ctx) {
        var dashType = this.dashType();
        if (dashType && dashType !== SOLID) {
            var dashArray = DASH_ARRAYS[dashType];
            if (ctx.setLineDash) {
                ctx.setLineDash(dashArray);
            } else {
                ctx.mozDash = dashArray;
                ctx.webkitLineDash = dashArray;
            }
        }
    };

    PathNode.prototype.setLineCap = function setLineCap (ctx) {
        var dashType = this.dashType();
        var stroke = this.srcElement.options.stroke;
        if (dashType && dashType !== SOLID) {
            ctx.lineCap = BUTT;
        } else if (stroke && stroke.lineCap) {
            ctx.lineCap = stroke.lineCap;
        }
    };

    PathNode.prototype.setLineJoin = function setLineJoin (ctx) {
        var stroke = this.srcElement.options.stroke;
        if (stroke && stroke.lineJoin) {
            ctx.lineJoin = stroke.lineJoin;
        }
    };

    PathNode.prototype.renderPoints = function renderPoints (ctx, path) {
        renderPath(ctx, path);
    };

    return PathNode;
}(Node$2));

NODE_MAP$2.Path = PathNode$2;

var ArcNode$2 = (function (PathNode) {
    function ArcNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) ArcNode.__proto__ = PathNode;
    ArcNode.prototype = Object.create( PathNode && PathNode.prototype );
    ArcNode.prototype.constructor = ArcNode;

    ArcNode.prototype.renderPoints = function renderPoints (ctx) {
        var path = this.srcElement.toPath();
        renderPath(ctx, path);
    };

    return ArcNode;
}(PathNode$2));

NODE_MAP$2.Arc = ArcNode$2;

var CircleNode$2 = (function (PathNode) {
    function CircleNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) CircleNode.__proto__ = PathNode;
    CircleNode.prototype = Object.create( PathNode && PathNode.prototype );
    CircleNode.prototype.constructor = CircleNode;

    CircleNode.prototype.renderPoints = function renderPoints (ctx) {
        var ref = this.srcElement.geometry();
        var center = ref.center;
        var radius = ref.radius;

        ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
    };

    return CircleNode;
}(PathNode$2));

NODE_MAP$2.Circle = CircleNode$2;

var RectNode$2 = (function (PathNode) {
    function RectNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) RectNode.__proto__ = PathNode;
    RectNode.prototype = Object.create( PathNode && PathNode.prototype );
    RectNode.prototype.constructor = RectNode;

    RectNode.prototype.renderPoints = function renderPoints (ctx) {
        var ref = this.srcElement.geometry();
        var origin = ref.origin;
        var size = ref.size;

        ctx.rect(origin.x, origin.y, size.width, size.height);
    };

    return RectNode;
}(PathNode$2));

NODE_MAP$2.Rect = RectNode$2;

var ImageNode$2 = (function (PathNode) {
    function ImageNode(srcElement, cors) {
        PathNode.call(this, srcElement);

        this.onLoad = this.onLoad.bind(this);
        this.onError = this.onError.bind(this);

        this.loading = createPromise();

        var img = this.img = new Image();

        if (cors && !(/^data:/i.test(srcElement.src()))) {
            img.crossOrigin = cors;
        }

        img.src = srcElement.src();

        if (img.complete) {
            this.onLoad();
        } else {
            img.onload = this.onLoad;
            img.onerror = this.onError;
        }
    }

    if ( PathNode ) ImageNode.__proto__ = PathNode;
    ImageNode.prototype = Object.create( PathNode && PathNode.prototype );
    ImageNode.prototype.constructor = ImageNode;

    ImageNode.prototype.renderTo = function renderTo (ctx) {
        if (this.loading.state() === "resolved") {
            ctx.save();

            this.setTransform(ctx);
            this.setClip(ctx);

            this.drawImage(ctx);

            ctx.restore();
        }
    };

    ImageNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "src") {
            this.loading = createPromise();
            this.img.src = this.srcElement.src();
        } else {
            PathNode.prototype.optionsChange.call(this, e);
        }
    };

    ImageNode.prototype.onLoad = function onLoad () {
        this.loading.resolve();
        this.invalidate();
    };

    ImageNode.prototype.onError = function onError () {
        this.loading.reject(new Error(
            "Unable to load image '" + this.img.src +
            "'. Check for connectivity and verify CORS headers."
        ));
    };

    ImageNode.prototype.drawImage = function drawImage (ctx) {
        var rect = this.srcElement.rect();
        var topLeft = rect.topLeft();

        ctx.drawImage(
            this.img, topLeft.x, topLeft.y, rect.width(), rect.height()
        );
    };

    return ImageNode;
}(PathNode$2));

NODE_MAP$2.Image = ImageNode$2;

var TextNode$2 = (function (PathNode) {
    function TextNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) TextNode.__proto__ = PathNode;
    TextNode.prototype = Object.create( PathNode && PathNode.prototype );
    TextNode.prototype.constructor = TextNode;

    TextNode.prototype.renderTo = function renderTo (ctx) {
        var text = this.srcElement;
        var pos = text.position();
        var size = text.measure();

        ctx.save();

        this.setTransform(ctx);
        this.setClip(ctx);
        this.setOpacity(ctx);

        ctx.beginPath();

        ctx.font = text.options.font;
        ctx.textAlign = 'left';

        if (this.setFill(ctx)) {
            ctx.fillText(text.content(), pos.x, pos.y + size.baseline);
        }

        if (this.setStroke(ctx)) {
            this.setLineDash(ctx);
            ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);
        }

        ctx.restore();
    };

    return TextNode;
}(PathNode$2));


NODE_MAP$2.Text = TextNode$2;

var MultiPathNode$2 = (function (PathNode) {
    function MultiPathNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) MultiPathNode.__proto__ = PathNode;
    MultiPathNode.prototype = Object.create( PathNode && PathNode.prototype );
    MultiPathNode.prototype.constructor = MultiPathNode;

    MultiPathNode.prototype.renderPoints = function renderPoints (ctx) {
        var paths = this.srcElement.paths;
        for (var i = 0; i < paths.length; i++) {
            renderPath(ctx, paths[i]);
        }
    };

    return MultiPathNode;
}(PathNode$2));

NODE_MAP$2.MultiPath = MultiPathNode$2;



var canvas = Object.freeze({
	Surface: Surface$3,
	RootNode: RootNode$2,
	Node: Node$2,
	GroupNode: GroupNode$2,
	ArcNode: ArcNode$2,
	CircleNode: CircleNode$2,
	RectNode: RectNode$2,
	ImageNode: ImageNode$2,
	TextNode: TextNode$2,
	PathNode: PathNode$2,
	MultiPathNode: MultiPathNode$2
});

function exportImage(group, options) {
    var defaults = {
        width: "800px", height: "600px",
        cors: "Anonymous"
    };

    var exportRoot = group;
    var bbox = group.clippedBBox();


    if (bbox) {
        var origin = bbox.getOrigin();
        exportRoot = new Group();
        exportRoot.transform(transform$1().translate(-origin.x, -origin.y));
        exportRoot.children.push(group);

        var size = bbox.getSize();
        defaults.width = size.width + "px";
        defaults.height = size.height + "px";
    }

    var surfaceOptions = Object.assign(defaults, options);

    var container = document.createElement("div");
    var style = container.style;

    style.display = "none";
    style.width = surfaceOptions.width;
    style.height = surfaceOptions.height;
    document.body.appendChild(container);

    var surface = new Surface$3(container, surfaceOptions);
    surface.suspendTracking();
    surface.draw(exportRoot);

    var promise = surface.image();
    var destroy = function () {
        surface.destroy();
        document.body.removeChild(container);
    };
    promise.then(destroy, destroy);

    return promise;
}

function exportSVG(group, options) {
    var svg = exportGroup(group);

    if (!options || !options.raw) {
        svg = "data:image/svg+xml;base64," + encodeBase64(svg);
    }

    return createPromise().resolve(svg);
}



var drawing = Object.freeze({
	svg: svg$1,
	canvas: canvas,
	util: util,
	PathParser: PathParser,
	Surface: Surface,
	BaseNode: BaseNode,
	SurfaceFactory: SurfaceFactory,
	OptionsStore: OptionsStore,
	exportImage: exportImage,
	exportSVG: exportSVG,
	QuadNode: QuadNode,
	ShapesQuadTree: ShapesQuadTree,
	ObserversMixin: ObserversMixin,
	Element: Element$1,
	Circle: Circle,
	Arc: Arc,
	Path: Path,
	MultiPath: MultiPath,
	Text: Text,
	Image: Image$1,
	Group: Group,
	Layout: Layout,
	Rect: Rect$2,
	align: align,
	vAlign: vAlign,
	stack: stack,
	vStack: vStack,
	wrap: wrap,
	vWrap: vWrap,
	fit: fit,
	LinearGradient: LinearGradient,
	RadialGradient: RadialGradient,
	GradientStop: GradientStop,
	Gradient: Gradient,
	Animation: Animation,
	AnimationFactory: AnimationFactory
});

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

// XXX: remove this junk (assume `true`) when we no longer have to support IE < 10
// IE 9 (at least compatibility) reports having Uint8Array but the request response does not contain ArrayBuffer which results in missing table head error
var HAS_TYPED_ARRAYS = typeof Uint8Array !== 'undefined' && support.browser && (!support.browser.msie || support.browser.version > 9);

var BASE64 = (function(){
    var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    return {
        decode: function(str) {
            var input = str.replace(/[^A-Za-z0-9\+\/\=]/g, ""), i = 0, n = input.length, output = [];

            while (i < n) {
                var enc1 = keyStr.indexOf(input.charAt(i++));
                var enc2 = keyStr.indexOf(input.charAt(i++));
                var enc3 = keyStr.indexOf(input.charAt(i++));
                var enc4 = keyStr.indexOf(input.charAt(i++));

                var chr1 = (enc1 << 2) | (enc2 >>> 4);
                var chr2 = ((enc2 & 15) << 4) | (enc3 >>> 2);
                var chr3 = ((enc3 & 3) << 6) | enc4;

                output.push(chr1);
                if (enc3 != 64) {
                    output.push(chr2);
                }
                if (enc4 != 64) {
                    output.push(chr3);
                }
            }

            return output;
        },
        encode: function(bytes) {
            var i = 0, n = bytes.length;
            var output = "";

            while (i < n) {
                var chr1 = bytes[i++];
                var chr2 = bytes[i++];
                var chr3 = bytes[i++];

                var enc1 = chr1 >>> 2;
                var enc2 = ((chr1 & 3) << 4) | (chr2 >>> 4);
                var enc3 = ((chr2 & 15) << 2) | (chr3 >>> 6);
                var enc4 = chr3 & 63;

                if (i - n == 2) {
                    enc3 = enc4 = 64;
                } else if (i - n == 1) {
                    enc4 = 64;
                }

                output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);
            }
            return output;
        }
    };
}());

function BinaryStream(data) {
    var offset = 0, length = 0;
    if (data == null) {
        data = HAS_TYPED_ARRAYS ? new Uint8Array(256) : [];
    } else {
        length = data.length;
    }

    var ensure = HAS_TYPED_ARRAYS ? function(len) {
        if (len >= data.length) {
            var tmp = new Uint8Array(Math.max(len + 256, data.length * 2));
            tmp.set(data, 0);
            data = tmp;
        }
    } : function() {};

    var get = HAS_TYPED_ARRAYS ? function() {
        return new Uint8Array(data.buffer, 0, length);
    } : function() {
        return data;
    };

    var write = HAS_TYPED_ARRAYS ? function(bytes) {
        if (typeof bytes == "string") {
            return writeString(bytes);
        }
        var len = bytes.length;
        ensure(offset + len);
        data.set(bytes, offset);
        offset += len;
        if (offset > length) {
            length = offset;
        }
    } : function(bytes) {
        if (typeof bytes == "string") {
            return writeString(bytes);
        }
        for (var i = 0; i < bytes.length; ++i) {
            writeByte(bytes[i]);
        }
    };

    var slice = HAS_TYPED_ARRAYS ? function(start, length) {
        if (data.buffer.slice) {
            return new Uint8Array(data.buffer.slice(start, start + length));
        } else {
            // IE10
            var x = new Uint8Array(length);
            x.set(new Uint8Array(data.buffer, start, length));
            return x;
        }
    } : function(start, length) {
        return data.slice(start, start + length);
    };

    function eof() {
        return offset >= length;
    }
    function readByte() {
        return offset < length ? data[offset++] : 0;
    }
    function writeByte(b) {
        ensure(offset);
        data[offset++] = b & 0xFF;
        if (offset > length) {
            length = offset;
        }
    }
    function readShort() {
        return (readByte() << 8) | readByte();
    }
    function writeShort(w) {
        writeByte(w >> 8);
        writeByte(w);
    }
    function readShort_() {
        var w = readShort();
        return w >= 0x8000 ? w - 0x10000 : w;
    }
    function writeShort_(w) {
        writeShort(w < 0 ? w + 0x10000 : w);
    }
    function readLong() {
        return (readShort() * 0x10000) + readShort();
    }
    function writeLong(w) {
        writeShort((w >>> 16) & 0xFFFF);
        writeShort(w & 0xFFFF);
    }
    function readLong_() {
        var w = readLong();
        return w >= 0x80000000 ? w - 0x100000000 : w;
    }
    function writeLong_(w) {
        writeLong(w < 0 ? w + 0x100000000 : w);
    }
    function readFixed() {
        return readLong() / 0x10000;
    }
    function writeFixed(f) {
        writeLong(Math.round(f * 0x10000));
    }
    function readFixed_() {
        return readLong_() / 0x10000;
    }
    function writeFixed_(f) {
        writeLong_(Math.round(f * 0x10000));
    }
    function read(len) {
        return times(len, readByte);
    }
    function readString(len) {
        return String.fromCharCode.apply(String, read(len));
    }
    function writeString(str) {
        for (var i = 0; i < str.length; ++i) {
            writeByte(str.charCodeAt(i));
        }
    }
    function times(n, reader) {
        for (var ret = new Array(n), i = 0; i < n; ++i) {
            ret[i] = reader();
        }
        return ret;
    }

    var stream = {
        eof         : eof,
        readByte    : readByte,
        writeByte   : writeByte,
        readShort   : readShort,
        writeShort  : writeShort,
        readLong    : readLong,
        writeLong   : writeLong,
        readFixed   : readFixed,
        writeFixed  : writeFixed,

        // signed numbers.
        readShort_  : readShort_,
        writeShort_ : writeShort_,
        readLong_   : readLong_,
        writeLong_  : writeLong_,
        readFixed_  : readFixed_,
        writeFixed_ : writeFixed_,

        read        : read,
        write       : write,
        readString  : readString,
        writeString : writeString,

        times       : times,
        get         : get,
        slice       : slice,

        offset: function(pos) {
            if (pos != null) {
                offset = pos;
                return stream;
            }
            return offset;
        },

        skip: function(nbytes) {
            offset += nbytes;
        },

        toString: function() {
            throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!");
        },

        length: function() { return length; },

        saveExcursion: function(f) {
            var pos = offset;
            try {
                return f();
            } finally {
                offset = pos;
            }
        },

        writeBase64: function(base64) {
            if (window.atob) {
                writeString(window.atob(base64));
            } else {
                write(BASE64.decode(base64));
            }
        },
        base64: function() {
            return BASE64.encode(get());
        }
    };

    return stream;
}

function ucs2decode(string) {
    var output = [],
        counter = 0,
        length = string.length,
        value,
        extra;
    while (counter < length) {
        value = string.charCodeAt(counter++);
        if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
            // high surrogate, and there is a next character
            extra = string.charCodeAt(counter++);
            if ((extra & 0xFC00) == 0xDC00) { // low surrogate
                output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
            } else {
                // unmatched surrogate; only append this code unit, in case the next
                // code unit is the high surrogate of a surrogate pair
                output.push(value);
                counter--;
            }
        } else {
            output.push(value);
        }
    }
    return output;
}

function ucs2encode(array) {
    return array.map(function(value){
        var output = "";
        if (value > 0xFFFF) {
            value -= 0x10000;
            output += String.fromCharCode(value >>> 10 & 0x3FF | 0xD800);
            value = 0xDC00 | value & 0x3FF;
        }
        output += String.fromCharCode(value);
        return output;
    }).join("");
}

function atobUint8Array(base64) {
    var data = window.atob(base64);
    var result = new Uint8Array(data.length);

    for (var idx = 0; idx < data.length; idx++) {
        result[idx] = data.charCodeAt(idx);
    }

    return result;
}

function createUint8Array(data) {
    var result = new Uint8Array(data.length);

    for (var idx = 0; idx < data.length; idx++) {
        result[idx] = data[idx];
    }

    return result;
}

function base64ToUint8Array(base64) {
    if (window.atob) {
        return atobUint8Array(base64);
    }

    return createUint8Array(BASE64.decode(base64));
}

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

/*****************************************************************************\
 *
 * The code in this file, although written from scratch, is influenced by the
 * TrueType parser/encoder in PDFKit -- http://pdfkit.org/ (a CoffeeScript
 * library for producing PDF files).
 *
 * PDFKit is (c) Devon Govett 2014 and released under the MIT License.
 *
\*****************************************************************************/

function hasOwnProperty$1(obj, key) {
    return Object.prototype.hasOwnProperty.call(obj, key);
}

function sortedKeys(obj) {
    return Object.keys(obj).sort(function(a, b){ return a - b; }).map(parseFloat);
}

///

function Directory(data) {
    this.raw = data;
    this.scalerType = data.readLong();
    this.tableCount = data.readShort();
    this.searchRange = data.readShort();
    this.entrySelector = data.readShort();
    this.rangeShift = data.readShort();

    var tables = this.tables = {};
    for (var i = 0; i < this.tableCount; ++i) {
        var entry = {
            tag      : data.readString(4),
            checksum : data.readLong(),
            offset   : data.readLong(),
            length   : data.readLong()
        };
        tables[entry.tag] = entry;
    }
}

Directory.prototype = {

    readTable: function(name, Ctor) {
        var def = this.tables[name];
        if (!def) {
            throw new Error("Table " + name + " not found in directory");
        }
        return (this[name] = def.table = new Ctor(this, def));
    },

    render: function(tables) {
        var this$1 = this;

        var tableCount = Object.keys(tables).length;

        var maxpow2 = Math.pow(2, Math.floor(Math.log(tableCount) / Math.LN2));
        var searchRange = maxpow2 * 16;
        var entrySelector = Math.floor(Math.log(maxpow2) / Math.LN2);
        var rangeShift = tableCount * 16 - searchRange;

        var out = BinaryStream();
        out.writeLong(this.scalerType);
        out.writeShort(tableCount);
        out.writeShort(searchRange);
        out.writeShort(entrySelector);
        out.writeShort(rangeShift);

        var directoryLength = tableCount * 16;
        var offset = out.offset() + directoryLength;
        var headOffset = null;
        var tableData = BinaryStream();

        for (var tag in tables) {
            if (hasOwnProperty$1(tables, tag)) {
                var table = tables[tag];

                out.writeString(tag);
                out.writeLong(this$1.checksum(table));
                out.writeLong(offset);
                out.writeLong(table.length);

                tableData.write(table);
                if (tag == "head") {
                    headOffset = offset;
                }
                offset += table.length;

                while (offset % 4) {
                    tableData.writeByte(0);
                    offset++;
                }
            }
        }

        out.write(tableData.get());
        var sum = this.checksum(out.get());
        var adjustment = 0xB1B0AFBA - sum;

        out.offset(headOffset + 8);
        out.writeLong(adjustment);
        return out.get();
    },

    checksum: function(data) {
        data = BinaryStream(data);
        var sum = 0;
        while (!data.eof()) {
            sum += data.readLong();
        }
        return sum & 0xFFFFFFFF;
    }
};

function deftable(methods) {
    function Ctor(file, def) {
        this.definition = def;
        this.length = def.length;
        this.offset = def.offset;
        this.file = file;
        this.rawData = file.raw;
        this.parse(file.raw);
    }
    Ctor.prototype.raw = function() {
        return this.rawData.slice(this.offset, this.length);
    };
    for (var i in methods) {
        if (hasOwnProperty$1(methods, i)) {
            Ctor[i] = Ctor.prototype[i] = methods[i];
        }
    }
    return Ctor;
}

var HeadTable = deftable({
    parse: function(data) {
        data.offset(this.offset);
        this.version             = data.readLong();
        this.revision            = data.readLong();
        this.checkSumAdjustment  = data.readLong();
        this.magicNumber         = data.readLong();
        this.flags               = data.readShort();
        this.unitsPerEm          = data.readShort();
        this.created             = data.read(8);
        this.modified            = data.read(8);

        this.xMin = data.readShort_();
        this.yMin = data.readShort_();
        this.xMax = data.readShort_();
        this.yMax = data.readShort_();

        this.macStyle           = data.readShort();
        this.lowestRecPPEM      = data.readShort();
        this.fontDirectionHint  = data.readShort_();
        this.indexToLocFormat   = data.readShort_();
        this.glyphDataFormat    = data.readShort_();
    },
    render: function(indexToLocFormat) {
        var out = BinaryStream();
        out.writeLong(this.version);
        out.writeLong(this.revision);
        out.writeLong(0);       // checksum adjustment; shall be computed later
        out.writeLong(this.magicNumber);
        out.writeShort(this.flags);
        out.writeShort(this.unitsPerEm);
        out.write(this.created);
        out.write(this.modified);
        out.writeShort_(this.xMin);
        out.writeShort_(this.yMin);
        out.writeShort_(this.xMax);
        out.writeShort_(this.yMax);
        out.writeShort(this.macStyle);
        out.writeShort(this.lowestRecPPEM);
        out.writeShort_(this.fontDirectionHint);
        out.writeShort_(indexToLocFormat); // this will depend on the `loca` table
        out.writeShort_(this.glyphDataFormat);
        return out.get();
    }
});

var LocaTable = deftable({
    parse: function(data) {
        data.offset(this.offset);
        var format = this.file.head.indexToLocFormat;
        if (format === 0) {
            this.offsets = data.times(this.length / 2, function(){
                return 2 * data.readShort();
            });
        } else {
            this.offsets = data.times(this.length / 4, data.readLong);
        }
    },
    offsetOf: function(id) {
        return this.offsets[id];
    },
    lengthOf: function(id) {
        return this.offsets[id + 1] - this.offsets[id];
    },
    render: function(offsets) {
        var out = BinaryStream();
        var needsLongFormat = offsets[offsets.length - 1] > 0xFFFF;
        for (var i = 0; i < offsets.length; ++i) {
            if (needsLongFormat) {
                out.writeLong(offsets[i]);
            } else {
                out.writeShort(offsets[i] / 2);
            }
        }
        return {
            format: needsLongFormat ? 1 : 0,
            table: out.get()
        };
    }
});

var HheaTable = deftable({
    parse: function(data) {
        data.offset(this.offset);

        this.version              = data.readLong();
        this.ascent               = data.readShort_();
        this.descent              = data.readShort_();
        this.lineGap              = data.readShort_();
        this.advanceWidthMax      = data.readShort();
        this.minLeftSideBearing   = data.readShort_();
        this.minRightSideBearing  = data.readShort_();
        this.xMaxExtent           = data.readShort_();
        this.caretSlopeRise       = data.readShort_();
        this.caretSlopeRun        = data.readShort_();
        this.caretOffset          = data.readShort_();

        data.skip(4 * 2);       // reserved

        this.metricDataFormat     = data.readShort_();
        this.numOfLongHorMetrics  = data.readShort();
    },
    render: function(ids) {
        var out = BinaryStream();
        out.writeLong(this.version);
        out.writeShort_(this.ascent);
        out.writeShort_(this.descent);
        out.writeShort_(this.lineGap);
        out.writeShort(this.advanceWidthMax);
        out.writeShort_(this.minLeftSideBearing);
        out.writeShort_(this.minRightSideBearing);
        out.writeShort_(this.xMaxExtent);
        out.writeShort_(this.caretSlopeRise);
        out.writeShort_(this.caretSlopeRun);
        out.writeShort_(this.caretOffset);

        out.write([ 0, 0, 0, 0, 0, 0, 0, 0 ]); // reserved bytes

        out.writeShort_(this.metricDataFormat);
        out.writeShort(ids.length);
        return out.get();
    }
});

var MaxpTable = deftable({
    parse: function(data) {
        data.offset(this.offset);
        this.version = data.readLong();
        this.numGlyphs = data.readShort();
        this.maxPoints = data.readShort();
        this.maxContours = data.readShort();
        this.maxComponentPoints = data.readShort();
        this.maxComponentContours = data.readShort();
        this.maxZones = data.readShort();
        this.maxTwilightPoints = data.readShort();
        this.maxStorage = data.readShort();
        this.maxFunctionDefs = data.readShort();
        this.maxInstructionDefs = data.readShort();
        this.maxStackElements = data.readShort();
        this.maxSizeOfInstructions = data.readShort();
        this.maxComponentElements = data.readShort();
        this.maxComponentDepth = data.readShort();
    },
    render: function(glyphIds) {
        var out = BinaryStream();
        out.writeLong(this.version);
        out.writeShort(glyphIds.length);
        out.writeShort(this.maxPoints);
        out.writeShort(this.maxContours);
        out.writeShort(this.maxComponentPoints);
        out.writeShort(this.maxComponentContours);
        out.writeShort(this.maxZones);
        out.writeShort(this.maxTwilightPoints);
        out.writeShort(this.maxStorage);
        out.writeShort(this.maxFunctionDefs);
        out.writeShort(this.maxInstructionDefs);
        out.writeShort(this.maxStackElements);
        out.writeShort(this.maxSizeOfInstructions);
        out.writeShort(this.maxComponentElements);
        out.writeShort(this.maxComponentDepth);
        return out.get();
    }
});

var HmtxTable = deftable({
    parse: function(data) {
        data.offset(this.offset);
        var dir = this.file, hhea = dir.hhea;
        this.metrics = data.times(hhea.numOfLongHorMetrics, function(){
            return {
                advance: data.readShort(),
                lsb: data.readShort_()
            };
        });
        var lsbCount = dir.maxp.numGlyphs - dir.hhea.numOfLongHorMetrics;
        this.leftSideBearings = data.times(lsbCount, data.readShort_);
    },
    forGlyph: function(id) {
        var metrics = this.metrics;
        var n = metrics.length;
        if (id < n) {
            return metrics[id];
        }
        return {
            advance: metrics[n - 1].advance,
            lsb: this.leftSideBearings[id - n]
        };
    },
    render: function(glyphIds) {
        var this$1 = this;

        var out = BinaryStream();
        for (var i = 0; i < glyphIds.length; ++i) {
            var m = this$1.forGlyph(glyphIds[i]);
            out.writeShort(m.advance);
            out.writeShort_(m.lsb);
        }
        return out.get();
    }
});

var GlyfTable = (function(){

    function SimpleGlyph(raw) {
        this.raw = raw;
    }
    SimpleGlyph.prototype = {
        compound: false,
        render: function() {
            return this.raw.get();
        }
    };

    var ARG_1_AND_2_ARE_WORDS     = 0x0001;
    var WE_HAVE_A_SCALE           = 0x0008;
    var MORE_COMPONENTS           = 0x0020;
    var WE_HAVE_AN_X_AND_Y_SCALE  = 0x0040;
    var WE_HAVE_A_TWO_BY_TWO      = 0x0080;
    //var WE_HAVE_INSTRUCTIONS      = 0x0100;

    function CompoundGlyph(data) {
        this.raw = data;
        var ids = this.glyphIds = [];
        var offsets = this.idOffsets = [];
        while (true) {          // eslint-disable-line no-constant-condition
            var flags = data.readShort();
            offsets.push(data.offset());
            ids.push(data.readShort());

            if (!(flags & MORE_COMPONENTS)) {
                break;
            }

            data.skip(flags & ARG_1_AND_2_ARE_WORDS ? 4 : 2);

            if (flags & WE_HAVE_A_TWO_BY_TWO) {
                data.skip(8);
            } else if (flags & WE_HAVE_AN_X_AND_Y_SCALE) {
                data.skip(4);
            } else if (flags & WE_HAVE_A_SCALE) {
                data.skip(2);
            }
        }
    }

    CompoundGlyph.prototype = {
        compound: true,
        render: function(old2new) {
            var this$1 = this;

            var out = BinaryStream(this.raw.get());
            for (var i = 0; i < this.glyphIds.length; ++i) {
                var id = this$1.glyphIds[i];
                out.offset(this$1.idOffsets[i]);
                out.writeShort(old2new[id]);
            }
            return out.get();
        }
    };

    return deftable({
        parse: function() {
            this.cache = {};
        },
        glyphFor: function(id) {
            var cache = this.cache;
            if (hasOwnProperty$1(cache, id)) {
                return cache[id];
            }

            var loca = this.file.loca;
            var length = loca.lengthOf(id);

            if (length === 0) {
                return (cache[id] = null);
            }

            var data = this.rawData;
            var offset = this.offset + loca.offsetOf(id);
            var raw = BinaryStream(data.slice(offset, length));

            var numberOfContours = raw.readShort_();
            var xMin = raw.readShort_();
            var yMin = raw.readShort_();
            var xMax = raw.readShort_();
            var yMax = raw.readShort_();

            var glyph = cache[id] = numberOfContours == -1 ? new CompoundGlyph(raw) : new SimpleGlyph(raw);

            glyph.numberOfContours = numberOfContours;
            glyph.xMin = xMin;
            glyph.yMin = yMin;
            glyph.xMax = xMax;
            glyph.yMax = yMax;

            return glyph;
        },
        render: function(glyphs, oldIds, old2new) {
            var out = BinaryStream(), offsets = [];
            for (var i = 0; i < oldIds.length; ++i) {
                var id = oldIds[i];
                var glyph = glyphs[id];
                offsets.push(out.offset());
                if (glyph) {
                    out.write(glyph.render(old2new));
                }
            }
            offsets.push(out.offset());
            return {
                table: out.get(),
                offsets: offsets
            };
        }
    });

}());

var NameTable = (function(){

    function NameEntry(text, entry) {
        this.text = text;
        this.length = text.length;
        this.platformID = entry.platformID;
        this.platformSpecificID = entry.platformSpecificID;
        this.languageID = entry.languageID;
        this.nameID = entry.nameID;
    }

    return deftable({
        parse: function(data) {
            data.offset(this.offset);
            data.readShort();   // format
            var count = data.readShort();
            var stringOffset = this.offset + data.readShort();
            var nameRecords = data.times(count, function(){
                return {
                    platformID         : data.readShort(),
                    platformSpecificID : data.readShort(),
                    languageID         : data.readShort(),
                    nameID             : data.readShort(),
                    length             : data.readShort(),
                    offset             : data.readShort() + stringOffset
                };
            });
            var strings = this.strings = {};
            for (var i = 0; i < nameRecords.length; ++i) {
                var rec = nameRecords[i];
                data.offset(rec.offset);
                var text = data.readString(rec.length);
                if (!strings[rec.nameID]) {
                    strings[rec.nameID] = [];
                }
                strings[rec.nameID].push(new NameEntry(text, rec));
            }
            this.postscriptEntry = strings[6][0];
            this.postscriptName = this.postscriptEntry.text.replace(/[^\x20-\x7F]/g, "");
        },

        render: function(psName) {
            var this$1 = this;

            var strings = this.strings;
            var strCount = 0;
            for (var i in strings) {
                if (hasOwnProperty$1(strings, i)) {
                    strCount += strings[i].length;
                }
            }
            var out = BinaryStream();
            var strTable = BinaryStream();

            out.writeShort(0);  // format
            out.writeShort(strCount);
            out.writeShort(6 + 12 * strCount); // stringOffset

            for (i in strings) {
                if (hasOwnProperty$1(strings, i)) {
                    var list = i == 6 ? [
                        new NameEntry(psName, this$1.postscriptEntry)
                    ] : strings[i];
                    for (var j = 0; j < list.length; ++j) {
                        var str = list[j];
                        out.writeShort(str.platformID);
                        out.writeShort(str.platformSpecificID);
                        out.writeShort(str.languageID);
                        out.writeShort(str.nameID);
                        out.writeShort(str.length);
                        out.writeShort(strTable.offset());

                        strTable.writeString(str.text);
                    }
                }
            }

            out.write(strTable.get());

            return out.get();
        }
    });

})();

var PostTable = (function(){

    var POSTSCRIPT_GLYPHS = ".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);

    return deftable({
        parse: function(data) {
            var this$1 = this;

            data.offset(this.offset);

            this.format = data.readLong();
            this.italicAngle = data.readFixed_();
            this.underlinePosition = data.readShort_();
            this.underlineThickness = data.readShort_();
            this.isFixedPitch = data.readLong();
            this.minMemType42 = data.readLong();
            this.maxMemType42 = data.readLong();
            this.minMemType1 = data.readLong();
            this.maxMemType1 = data.readLong();

            var numberOfGlyphs;

            switch (this.format) {
              case 0x00010000:
              case 0x00030000:
                break;

              case 0x00020000:
                numberOfGlyphs = data.readShort();
                this.glyphNameIndex = data.times(numberOfGlyphs, data.readShort);
                this.names = [];
                var limit = this.offset + this.length;
                while (data.offset() < limit) {
                    this$1.names.push(data.readString(data.readByte()));
                }
                break;

              case 0x00025000:
                numberOfGlyphs = data.readShort();
                this.offsets = data.read(numberOfGlyphs);
                break;

              case 0x00040000:
                this.map = data.times(this.file.maxp.numGlyphs, data.readShort);
                break;
            }
        },
        glyphFor: function(code) {
            switch (this.format) {
              case 0x00010000:
                return POSTSCRIPT_GLYPHS[code] || ".notdef";

              case 0x00020000:
                var index = this.glyphNameIndex[code];
                if (index < POSTSCRIPT_GLYPHS.length) {
                    return POSTSCRIPT_GLYPHS[index];
                }
                return this.names[index - POSTSCRIPT_GLYPHS.length] || ".notdef";

              case 0x00025000:

              case 0x00030000:
                return ".notdef";

              case 0x00040000:
                return this.map[code] || 0xFFFF;
            }
        },
        render: function(mapping) {
            var this$1 = this;

            if (this.format == 0x00030000) {
                return this.raw();
            }

            // keep original header, but set format to 2.0
            var out = BinaryStream(this.rawData.slice(this.offset, 32));
            out.writeLong(0x00020000);
            out.offset(32);

            var indexes = [];
            var strings = [];

            for (var i = 0; i < mapping.length; ++i) {
                var id = mapping[i];
                var post = this$1.glyphFor(id);
                var index = POSTSCRIPT_GLYPHS.indexOf(post);
                if (index >= 0) {
                    indexes.push(index);
                } else {
                    indexes.push(POSTSCRIPT_GLYPHS.length + strings.length);
                    strings.push(post);
                }
            }

            out.writeShort(mapping.length);

            for (i = 0; i < indexes.length; ++i) {
                out.writeShort(indexes[i]);
            }

            for (i = 0; i < strings.length; ++i) {
                out.writeByte(strings[i].length);
                out.writeString(strings[i]);
            }

            return out.get();
        }
    });
})();

var CmapTable = (function(){

    function CmapEntry(data, offset, codeMap) {
        var self = this;
        self.platformID = data.readShort();
        self.platformSpecificID = data.readShort();
        self.offset = offset + data.readLong();

        data.saveExcursion(function(){
            var code;
            data.offset(self.offset);
            self.format = data.readShort();

            switch (self.format) {
              case 0:
                self.length = data.readShort();
                self.language = data.readShort();
                for (var i = 0; i < 256; ++i) {
                    codeMap[i] = data.readByte();
                }
                break;

              case 4:
                self.length = data.readShort();
                self.language = data.readShort();
                var segCount = data.readShort() / 2;

                data.skip(6);       // searchRange, entrySelector, rangeShift
                var endCode = data.times(segCount, data.readShort);
                data.skip(2);       // reserved pad
                var startCode = data.times(segCount, data.readShort);
                var idDelta = data.times(segCount, data.readShort_);
                var idRangeOffset = data.times(segCount, data.readShort);

                var count = (self.length + self.offset - data.offset()) / 2;
                var glyphIds = data.times(count, data.readShort);

                for (i = 0; i < segCount; ++i) {
                    var start = startCode[i], end = endCode[i];
                    for (code = start; code <= end; ++code) {
                        var glyphId;
                        if (idRangeOffset[i] === 0) {
                            glyphId = code + idDelta[i];
                        } else {
                            ///
                            // When non-zero, idRangeOffset contains for each segment the byte offset of the Glyph ID
                            // into the glyphIds table, from the *current* `i` cell of idRangeOffset.  In other words,
                            // this offset spans from the first into the second array.  This works, because the arrays
                            // are consecutive in the TTF file:
                            //
                            //     [ ...idRangeOffset... ][ ...glyphIds... ]
                            //       ...... 48 ......       .... ID ....
                            //              ^----- 48 bytes -----^
                            //
                            // (but I can't stop wondering why is it not just a plain index, possibly incremented by 1
                            // so that we can have that special `zero` value.)
                            //
                            // The elements of idRangeOffset are even numbers, because both arrays contain 16-bit words,
                            // yet the offset is in bytes.  That is why we divide it by 2.  Then we subtract the
                            // remaining segments (segCount-i), and add the code-start offset, to which we need to add
                            // the corresponding delta to get the actual glyph ID.
                            ///
                            var index = idRangeOffset[i] / 2 - (segCount - i) + (code - start);
                            glyphId = glyphIds[index] || 0;
                            if (glyphId !== 0) {
                                glyphId += idDelta[i];
                            }
                        }
                        codeMap[code] = glyphId & 0xFFFF;
                    }
                }
                break;

              case 6:
                self.length = data.readShort();
                self.language = data.readShort();
                code = data.readShort();
                var length = data.readShort();
                while (length-- > 0) {
                    codeMap[code++] = data.readShort();
                }
                break;

              case 12:
                data.readShort(); // reserved
                self.length = data.readLong();
                self.language = data.readLong();
                var ngroups = data.readLong();
                while (ngroups-- > 0) {
                    code = data.readLong();
                    var endCharCode = data.readLong();
                    var glyphCode = data.readLong();
                    while (code <= endCharCode) {
                        codeMap[code++] = glyphCode++;
                    }
                }
                break;

              default:
                if (window.console) {
                    window.console.error("Unhandled CMAP format: " + self.format);
                }
            }
        });
    }

    function renderCharmap(ncid2ogid, ogid2ngid) {
        var codes = sortedKeys(ncid2ogid);
        var startCodes = [];
        var endCodes = [];
        var last = null;
        var diff = null;

        function new_gid(charcode) {
            return ogid2ngid[ncid2ogid[charcode]];
        }

        for (var i = 0; i < codes.length; ++i) {
            var code = codes[i];
            var gid = new_gid(code);
            var delta = gid - code;
            if (last == null || delta !== diff) {
                if (last) {
                    endCodes.push(last);
                }
                startCodes.push(code);
                diff = delta;
            }
            last = code;
        }

        if (last) {
            endCodes.push(last);
        }
        endCodes.push(0xFFFF);
        startCodes.push(0xFFFF);

        var segCount = startCodes.length;
        var segCountX2 = segCount * 2;
        var searchRange = 2 * Math.pow(2, Math.floor(Math.log(segCount) / Math.LN2));
        var entrySelector = Math.log(searchRange / 2) / Math.LN2;
        var rangeShift = segCountX2 - searchRange;

        var deltas = [];
        var rangeOffsets = [];
        var glyphIds = [];

        for (i = 0; i < segCount; ++i) {
            var startCode = startCodes[i];
            var endCode = endCodes[i];
            if (startCode == 0xFFFF) {
                deltas.push(0);
                rangeOffsets.push(0);
                break;
            }
            var startGlyph = new_gid(startCode);
            if (startCode - startGlyph >= 0x8000) {
                deltas.push(0);
                rangeOffsets.push(2 * (glyphIds.length + segCount - i));
                for (var j = startCode; j <= endCode; ++j) {
                    glyphIds.push(new_gid(j));
                }
            } else {
                deltas.push(startGlyph - startCode);
                rangeOffsets.push(0);
            }
        }

        var out = BinaryStream();

        out.writeShort(3);      // platformID
        out.writeShort(1);      // platformSpecificID
        out.writeLong(12);      // offset
        out.writeShort(4);      // format
        out.writeShort(16 + segCount * 8 + glyphIds.length * 2); // length
        out.writeShort(0);      // language
        out.writeShort(segCountX2);
        out.writeShort(searchRange);
        out.writeShort(entrySelector);
        out.writeShort(rangeShift);

        endCodes.forEach(out.writeShort);
        out.writeShort(0);      // reserved pad
        startCodes.forEach(out.writeShort);
        deltas.forEach(out.writeShort_);
        rangeOffsets.forEach(out.writeShort);
        glyphIds.forEach(out.writeShort);

        return out.get();
    }

    return deftable({
        parse: function(data) {
            var self = this;
            var offset = self.offset;
            data.offset(offset);
            self.codeMap = {};
            self.version = data.readShort();
            var tableCount = data.readShort();
            self.tables = data.times(tableCount, function(){
                return new CmapEntry(data, offset, self.codeMap);
            });
        },
        render: function(ncid2ogid, ogid2ngid) {
            var out = BinaryStream();
            out.writeShort(0);  // version
            out.writeShort(1);  // tableCount
            out.write(renderCharmap(ncid2ogid, ogid2ngid));
            return out.get();
        }
    });

})();

var OS2Table = deftable({
    parse: function(data) {
        data.offset(this.offset);
        this.version = data.readShort();
        this.averageCharWidth = data.readShort_();
        this.weightClass = data.readShort();
        this.widthClass = data.readShort();
        this.type = data.readShort();
        this.ySubscriptXSize = data.readShort_();
        this.ySubscriptYSize = data.readShort_();
        this.ySubscriptXOffset = data.readShort_();
        this.ySubscriptYOffset = data.readShort_();
        this.ySuperscriptXSize = data.readShort_();
        this.ySuperscriptYSize = data.readShort_();
        this.ySuperscriptXOffset = data.readShort_();
        this.ySuperscriptYOffset = data.readShort_();
        this.yStrikeoutSize = data.readShort_();
        this.yStrikeoutPosition = data.readShort_();
        this.familyClass = data.readShort_();

        this.panose = data.times(10, data.readByte);
        this.charRange = data.times(4, data.readLong);

        this.vendorID = data.readString(4);
        this.selection = data.readShort();
        this.firstCharIndex = data.readShort();
        this.lastCharIndex = data.readShort();

        if (this.version > 0) {
            this.ascent = data.readShort_();
            this.descent = data.readShort_();
            this.lineGap = data.readShort_();
            this.winAscent = data.readShort();
            this.winDescent = data.readShort();
            this.codePageRange = data.times(2, data.readLong);

            if (this.version > 1) {
                this.xHeight = data.readShort();
                this.capHeight = data.readShort();
                this.defaultChar = data.readShort();
                this.breakChar = data.readShort();
                this.maxContext = data.readShort();
            }
        }
    },
    render: function() {
        return this.raw();
    }
});

var subsetTag = 100000;

function nextSubsetTag() {
    var ret = "", n = String(subsetTag);
    for (var i = 0; i < n.length; ++i) {
        ret += String.fromCharCode(n.charCodeAt(i) - 48 + 65);
    }
    ++subsetTag;
    return ret;
}

function Subfont(font) {
    this.font = font;
    this.subset = {};
    this.unicodes = {};
    this.ogid2ngid = { 0: 0 };
    this.ngid2ogid = { 0: 0 };
    this.ncid2ogid = {};
    this.next = this.firstChar = 1;
    this.nextGid = 1;
    this.psName = nextSubsetTag() + "+" + this.font.psName;
}

Subfont.prototype = {
    use: function(ch) {
        var self = this;
        if (typeof ch == "string") {
            return ucs2decode(ch).reduce(function(ret, code){
                return ret + String.fromCharCode(self.use(code));
            }, "");
        }
        var code = self.unicodes[ch];
        if (!code) {
            code = self.next++;
            self.subset[code] = ch;
            self.unicodes[ch] = code;

            // generate new GID (glyph ID) and maintain newGID ->
            // oldGID and back mappings
            var old_gid = self.font.cmap.codeMap[ch];
            if (old_gid) {
                self.ncid2ogid[code] = old_gid;
                if (self.ogid2ngid[old_gid] == null) {
                    var new_gid = self.nextGid++;
                    self.ogid2ngid[old_gid] = new_gid;
                    self.ngid2ogid[new_gid] = old_gid;
                }
            }
        }
        return code;
    },
    encodeText: function(text) {
        return this.use(text);
    },
    glyphIds: function() {
        return sortedKeys(this.ogid2ngid);
    },
    glyphsFor: function(glyphIds, result) {
        var this$1 = this;

        if (!result) {
            result = {};
        }
        for (var i = 0; i < glyphIds.length; ++i) {
            var id = glyphIds[i];
            if (!result[id]) {
                var glyph = result[id] = this$1.font.glyf.glyphFor(id);
                if (glyph && glyph.compound) {
                    this$1.glyphsFor(glyph.glyphIds, result);
                }
            }
        }
        return result;
    },
    render: function() {
        var this$1 = this;

        var glyphs = this.glyphsFor(this.glyphIds());

        // add missing sub-glyphs
        for (var old_gid in glyphs) {
            if (hasOwnProperty$1(glyphs, old_gid)) {
                old_gid = parseInt(old_gid, 10);
                if (this$1.ogid2ngid[old_gid] == null) {
                    var new_gid = this$1.nextGid++;
                    this$1.ogid2ngid[old_gid] = new_gid;
                    this$1.ngid2ogid[new_gid] = old_gid;
                }
            }
        }

        // must obtain old_gid_ids in an order matching sorted
        // new_gid_ids
        var new_gid_ids = sortedKeys(this.ngid2ogid);
        var old_gid_ids = new_gid_ids.map(function(id){
            return this.ngid2ogid[id];
        }, this);

        var font = this.font;
        var glyf = font.glyf.render(glyphs, old_gid_ids, this.ogid2ngid);
        var loca = font.loca.render(glyf.offsets);

        this.lastChar = this.next - 1;

        var tables = {
            "cmap" : CmapTable.render(this.ncid2ogid, this.ogid2ngid),
            "glyf" : glyf.table,
            "loca" : loca.table,
            "hmtx" : font.hmtx.render(old_gid_ids),
            "hhea" : font.hhea.render(old_gid_ids),
            "maxp" : font.maxp.render(old_gid_ids),
            "post" : font.post.render(old_gid_ids),
            "name" : font.name.render(this.psName),
            "head" : font.head.render(loca.format),
            "OS/2" : font.os2.render()
        };

        return this.font.directory.render(tables);
    },
    cidToGidMap: function() {
        var this$1 = this;

        var out = BinaryStream(), len = 0;
        for (var cid = this.firstChar; cid < this.next; ++cid) {
            while (len < cid) {
                out.writeShort(0);
                len++;
            }
            var old_gid = this$1.ncid2ogid[cid];
            if (old_gid) {
                var new_gid = this$1.ogid2ngid[old_gid];
                out.writeShort(new_gid);
            } else {
                out.writeShort(0);
            }
            len++;
        }
        return out.get();
    }
};

function TTFFont(rawData, name) {
    var self = this;
    var data = self.contents = BinaryStream(rawData);
    if (data.readString(4) == "ttcf") {
        var offset;
        var parse = function() {
            data.offset(offset);
            self.parse();
        };
        if (!name) {
            throw new Error("Must specify a name for TTC files");
        }
        data.readLong();        // version
        var numFonts = data.readLong();
        for (var i = 0; i < numFonts; ++i) {
            offset = data.readLong();
            data.saveExcursion(parse);
            if (self.psName == name) {
                return;
            }
        }
        throw new Error("Font " + name + " not found in collection");
    } else {
        data.offset(0);
        self.parse();
    }
}

TTFFont.prototype = {
    parse: function() {
        var dir = this.directory = new Directory(this.contents);

        this.head = dir.readTable("head", HeadTable);
        this.loca = dir.readTable("loca", LocaTable);
        this.hhea = dir.readTable("hhea", HheaTable);
        this.maxp = dir.readTable("maxp", MaxpTable);
        this.hmtx = dir.readTable("hmtx", HmtxTable);
        this.glyf = dir.readTable("glyf", GlyfTable);
        this.name = dir.readTable("name", NameTable);
        this.post = dir.readTable("post", PostTable);
        this.cmap = dir.readTable("cmap", CmapTable);
        this.os2  = dir.readTable("OS/2", OS2Table);

        this.psName = this.name.postscriptName;
        this.ascent = this.os2.ascent || this.hhea.ascent;
        this.descent = this.os2.descent || this.hhea.descent;
        this.lineGap = this.os2.lineGap || this.hhea.lineGap;
        this.scale = 1000 / this.head.unitsPerEm;
    },
    widthOfGlyph: function(glyph) {
        return this.hmtx.forGlyph(glyph).advance * this.scale;
    },
    makeSubset: function() {
        return new Subfont(this);
    }
};

var deflate$1 = pako_dist_pako_deflate.deflate;

function supportsDeflate() {
    return true;
}

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

var browser$1 = support.browser;
var NL = "\n";

var RESOURCE_COUNTER = 0;

var PAPER_SIZE = {
    a0        : [ 2383.94 , 3370.39 ],
    a1        : [ 1683.78 , 2383.94 ],
    a2        : [ 1190.55 , 1683.78 ],
    a3        : [ 841.89  , 1190.55 ],
    a4        : [ 595.28  , 841.89  ],
    a5        : [ 419.53  , 595.28  ],
    a6        : [ 297.64  , 419.53  ],
    a7        : [ 209.76  , 297.64  ],
    a8        : [ 147.40  , 209.76  ],
    a9        : [ 104.88  , 147.40  ],
    a10       : [ 73.70   , 104.88  ],
    b0        : [ 2834.65 , 4008.19 ],
    b1        : [ 2004.09 , 2834.65 ],
    b2        : [ 1417.32 , 2004.09 ],
    b3        : [ 1000.63 , 1417.32 ],
    b4        : [ 708.66  , 1000.63 ],
    b5        : [ 498.90  , 708.66  ],
    b6        : [ 354.33  , 498.90  ],
    b7        : [ 249.45  , 354.33  ],
    b8        : [ 175.75  , 249.45  ],
    b9        : [ 124.72  , 175.75  ],
    b10       : [ 87.87   , 124.72  ],
    c0        : [ 2599.37 , 3676.54 ],
    c1        : [ 1836.85 , 2599.37 ],
    c2        : [ 1298.27 , 1836.85 ],
    c3        : [ 918.43  , 1298.27 ],
    c4        : [ 649.13  , 918.43  ],
    c5        : [ 459.21  , 649.13  ],
    c6        : [ 323.15  , 459.21  ],
    c7        : [ 229.61  , 323.15  ],
    c8        : [ 161.57  , 229.61  ],
    c9        : [ 113.39  , 161.57  ],
    c10       : [ 79.37   , 113.39  ],
    executive : [ 521.86  , 756.00  ],
    folio     : [ 612.00  , 936.00  ],
    legal     : [ 612.00  , 1008.00 ],
    letter    : [ 612.00  , 792.00  ],
    tabloid   : [ 792.00  , 1224.00 ]
};

function makeOutput() {
    var indentLevel = 0, output = BinaryStream();
    function out() {
        var arguments$1 = arguments;

        for (var i = 0; i < arguments.length; ++i) {
            var x = arguments$1[i];
            if (x === undefined) {
                throw new Error("Cannot output undefined to PDF");
            }
            else if (x instanceof PDFValue) {
                x.beforeRender(out);
                x.render(out);
            }
            else if (isArray(x)) {
                renderArray(x, out);
            }
            else if (isDate(x)) {
                renderDate(x, out);
            }
            else if (typeof x == "number") {
                if (isNaN(x)) {
                    throw new Error("Cannot output NaN to PDF");
                }
                // make sure it doesn't end up in exponent notation
                var num = x.toFixed(7);
                if (num.indexOf(".") >= 0) {
                    num = num.replace(/\.?0+$/, "");
                }
                if (num == "-0") {
                    num = "0";
                }
                output.writeString(num);
            }
            else if (/string|boolean/.test(typeof x)) {
                output.writeString(String(x));
            }
            else if (typeof x.get == "function") {
                output.write(x.get());
            }
            else if (typeof x == "object") {
                if (!x) {
                    output.writeString("null");
                } else {
                    out(new PDFDictionary(x));
                }
            }
        }
    }
    out.writeData = function(data) {
        output.write(data);
    };
    out.withIndent = function(f) {
        ++indentLevel;
        f(out);
        --indentLevel;
    };
    out.indent = function() {
        out(NL, pad("", indentLevel * 2, "  "));
        out.apply(null, arguments);
    };
    out.offset = function() {
        return output.offset();
    };
    out.toString = function() {
        throw new Error("FIX CALLER");
    };
    out.get = function() {
        return output.get();
    };
    out.stream = function() {
        return output;
    };
    return out;
}

function wrapObject(value, id) {
    var beforeRender = value.beforeRender;
    var renderValue = value.render;

    value.beforeRender = function(){};

    value.render = function(out) {
        out(id, " 0 R");
    };

    value.renderFull = function(out) {
        value._offset = out.offset();
        out(id, " 0 obj ");
        beforeRender.call(value, out);
        renderValue.call(value, out);
        out(" endobj");
    };
}

function getPaperOptions(getOption) {
    if (typeof getOption != "function") {
        var options = getOption;
        getOption = function(key, def) {
            return key in options ? options[key] : def;
        };
    }
    var paperSize = getOption("paperSize", PAPER_SIZE.a4);
    if (!paperSize) {
        return {};
    }
    if (typeof paperSize == "string") {
        paperSize = PAPER_SIZE[paperSize.toLowerCase()];
        if (paperSize == null) {
            throw new Error("Unknown paper size");
        }
    }

    paperSize[0] = unitsToPoints(paperSize[0]);
    paperSize[1] = unitsToPoints(paperSize[1]);

    if (getOption("landscape", false)) {
        paperSize = [
            Math.max(paperSize[0], paperSize[1]),
            Math.min(paperSize[0], paperSize[1])
        ];
    }

    var margin = getOption("margin");
    if (margin) {
        if (typeof margin == "string" || typeof margin == "number") {
            margin = unitsToPoints(margin, 0);
            margin = { left: margin, top: margin, right: margin, bottom: margin };
        } else {
            margin = {
                left   : unitsToPoints(margin.left, 0),
                top    : unitsToPoints(margin.top, 0),
                right  : unitsToPoints(margin.right, 0),
                bottom : unitsToPoints(margin.bottom, 0)
            };
        }
        if (getOption("addMargin")) {
            paperSize[0] += margin.left + margin.right;
            paperSize[1] += margin.top + margin.bottom;
        }
    }
    return { paperSize: paperSize, margin: margin };
}

function PDFDocument(options) {
    var self = this;
    var out = makeOutput();
    var objcount = 0;
    var objects = [];

    function getOption(name, defval) {
        return (options && options[name] != null) ? options[name] : defval;
    }

    self.getOption = getOption;

    self.attach = function(value) {
        if (objects.indexOf(value) < 0) {
            wrapObject(value, ++objcount);
            objects.push(value);
        }
        return value;
    };

    self.pages = [];

    self.FONTS = {};
    self.IMAGES = {};
    self.GRAD_COL_FUNCTIONS = {}; // cache for color gradient functions
    self.GRAD_OPC_FUNCTIONS = {}; // cache for opacity gradient functions
    self.GRAD_COL = {};     // cache for whole color gradient objects
    self.GRAD_OPC = {};     // cache for whole opacity gradient objects

    var catalog = self.attach(new PDFCatalog());
    var pageTree = self.attach(new PDFPageTree());

    if (getOption("autoPrint")) {
        var nameTree = {};
        nameTree.JavaScript = new PDFDictionary({ Names: [
            new PDFString("JS"), self.attach(new PDFDictionary({
                S: _("JavaScript"),
                JS: new PDFString("print(true);")
            }))
        ] });
        catalog.props.Names = new PDFDictionary(nameTree);
    }

    catalog.setPages(pageTree);

    var info = self.attach(new PDFDictionary({
        Producer     : new PDFString(getOption("producer", "Kendo UI PDF Generator"), true), // XXX: kendo.version?
        Title        : new PDFString(getOption("title", ""), true),
        Author       : new PDFString(getOption("author", ""), true),
        Subject      : new PDFString(getOption("subject", ""), true),
        Keywords     : new PDFString(getOption("keywords", ""), true),
        Creator      : new PDFString(getOption("creator", "Kendo UI PDF Generator"), true),
        CreationDate : getOption("date", new Date())
    }));

    self.addPage = function(options) {
        var paperOptions  = getPaperOptions(function(name, defval){
            return (options && options[name] != null) ? options[name] : defval;
        });
        var paperSize     = paperOptions.paperSize;
        var margin        = paperOptions.margin;
        var contentWidth  = paperSize[0];
        var contentHeight = paperSize[1];
        if (margin) {
            contentWidth -= margin.left + margin.right;
            contentHeight -= margin.top + margin.bottom;
        }
        var content = new PDFStream(makeOutput(), null, true);
        var props = {
            Contents : self.attach(content),
            Parent   : pageTree,
            MediaBox : [ 0, 0, paperSize[0], paperSize[1] ]
        };
        var page = new PDFPage(self, props);
        page._content = content;
        pageTree.addPage(self.attach(page));

        // canvas-like coord. system.  (0,0) is upper-left.
        // text must be vertically mirorred before drawing.
        page.transform(1, 0, 0, -1, 0, paperSize[1]);

        if (margin) {
            page.translate(margin.left, margin.top);
            // XXX: clip to right/bottom margin.  Make this optional?
            page.rect(0, 0, contentWidth, contentHeight);
            page.clip();
        }

        self.pages.push(page);
        return page;
    };

    self.render = function() {
        var i;
        /// file header
        out("%PDF-1.4", NL, "%\xc2\xc1\xda\xcf\xce", NL, NL);

        /// file body
        for (i = 0; i < objects.length; ++i) {
            objects[i].renderFull(out);
            out(NL, NL);
        }

        /// cross-reference table
        var xrefOffset = out.offset();
        out("xref", NL, 0, " ", objects.length + 1, NL);
        out("0000000000 65535 f ", NL);
        for (i = 0; i < objects.length; ++i) {
            out(zeropad(objects[i]._offset, 10), " 00000 n ", NL);
        }
        out(NL);

        /// trailer
        out("trailer", NL);
        out(new PDFDictionary({
            Size: objects.length + 1,
            Root: catalog,
            Info: info
        }), NL, NL);

        /// end
        out("startxref", NL, xrefOffset, NL);
        out("%%EOF", NL);

        return out.stream().offset(0);
    };
}

var FONT_CACHE = {
    "Times-Roman"           : true,
    "Times-Bold"            : true,
    "Times-Italic"          : true,
    "Times-BoldItalic"      : true,
    "Helvetica"             : true,
    "Helvetica-Bold"        : true,
    "Helvetica-Oblique"     : true,
    "Helvetica-BoldOblique" : true,
    "Courier"               : true,
    "Courier-Bold"          : true,
    "Courier-Oblique"       : true,
    "Courier-BoldOblique"   : true,
    "Symbol"                : true,
    "ZapfDingbats"          : true
};

function loadBinary(url, cont) {
    // IE throws Accesss denied error for Data URIs
    var m;
    if (browser$1.msie && (m = /^data:.*?;base64,/i.exec(url))) {
        cont(base64ToUint8Array(url.substr(m[0].length)));
        return;
    }

    function error() {
        if (window.console) {
            if (window.console.error) {
                window.console.error("Cannot load URL: %s", url);
            } else {
                window.console.log("Cannot load URL: %s", url);
            }
        }
        cont(null);
    }
    var req = new XMLHttpRequest();
    req.open('GET', url, true);
    if (HAS_TYPED_ARRAYS) {
        req.responseType = "arraybuffer";
    }
    req.onload = function() {
        if (req.status == 200 || req.status == 304) {
            if (HAS_TYPED_ARRAYS) {
                cont(new Uint8Array(req.response));
            } else {
                cont(new window.VBArray(req.responseBody).toArray()); // IE9 only
            }
        } else {
            error();
        }
    };
    req.onerror = error;
    req.send(null);
}

function loadFont(url, cont) {
    var font = FONT_CACHE[url];
    if (font) {
        cont(font);
    } else {
        loadBinary(url, function(data){
            if (data == null) {
                throw new Error("Cannot load font from " + url);
            } else {
                var font = new TTFFont(data);
                FONT_CACHE[url] = font;
                cont(font);
            }
        });
    }
}

var IMAGE_CACHE = {};

function clearImageCache() {
    IMAGE_CACHE = {};
}

function loadImage(url, size, cont) {
    var img = IMAGE_CACHE[url], bloburl, blob;
    if (img) {
        cont(img);
    } else {
        img = new Image();
        if (!(/^data:/i.test(url))) {
            img.crossOrigin = "Anonymous";
        }
        if (HAS_TYPED_ARRAYS && !(/^data:/i.test(url))) {
            // IE10 fails to load images from another domain even when the server sends the
            // proper CORS headers.  a XHR, however, will be able to load the data.
            // http://stackoverflow.com/a/19734516/154985
            //
            // On the other hand, it's worth doing it this way for all browsers which support
            // responseType = "blob" (HAS_TYPED_ARRAYS will be true), because we can inspect the
            // mime type and if it's a JPEG (very common case) we can save a lot of time in
            // _load below.
            var xhr = new XMLHttpRequest();
            xhr.onload = function() {
                blob = xhr.response;
                bloburl = URL.createObjectURL(blob);
                _load(bloburl);
            };
            xhr.onerror = _onerror;
            xhr.open("GET", url, true);
            xhr.responseType = "blob";
            xhr.send();
        } else {
            _load(url);
        }
    }

    function _load(url) {
        img.src = url;
        if (img.complete && !browser$1.msie) {
            // IE, bless it's little heart, says img.complete == true even though the image is
            // not loaded (width=0), therefore we must go the onload route (ticket 929635).
            _onload();
        } else {
            img.onload = _onload;
            img.onerror = _onerror;
        }
    }

    function _trycanvas() {
        if (!size) {
            size = { width: img.width, height: img.height };
        }

        var canvas = document.createElement("canvas");
        canvas.width = size.width;
        canvas.height = size.height;

        var ctx = canvas.getContext("2d");
        ctx.drawImage(img, 0, 0, size.width, size.height);

        var imgdata;
        try {
            imgdata = ctx.getImageData(0, 0, size.width, size.height);
        } catch (ex) {
            // it tainted the canvas -- can't draw it.
            _onerror();
            return;
        } finally {
            if (bloburl) {
                URL.revokeObjectURL(bloburl);
            }
        }

        // in case it contains transparency, we must separate rgb data from the alpha
        // channel and create a PDFRawImage image with opacity.  otherwise we can use a
        // PDFJpegImage.
        //
        // to do this in one step, we create the rgb and alpha streams anyway, even if
        // we might end up not using them if hasAlpha remains false.

        var hasAlpha = false, rgb = BinaryStream(), alpha = BinaryStream();
        var rawbytes = imgdata.data;
        var i = 0;
        while (i < rawbytes.length) {
            rgb.writeByte(rawbytes[i++]);
            rgb.writeByte(rawbytes[i++]);
            rgb.writeByte(rawbytes[i++]);
            var a = rawbytes[i++];
            if (a < 255) {
                hasAlpha = true;
            }
            alpha.writeByte(a);
        }

        if (hasAlpha) {
            img = new PDFRawImage(size.width, size.height, rgb, alpha);
        } else {
            // no transparency, encode as JPEG.
            var data = canvas.toDataURL("image/jpeg");
            data = data.substr(data.indexOf(";base64,") + 8);

            var stream = BinaryStream();
            stream.writeBase64(data);
            img = new PDFJpegImage(stream);
        }

        cont(IMAGE_CACHE[url] = img);
    }

    function _onerror() {
        cont(IMAGE_CACHE[url] = "ERROR");
    }

    function _onload() {
        if (size) {
            // but if requested size is bigger than the image, just use the original image.
            if (size.width >= img.width || size.height >= img.height) {
                size = null;
            }
        }
        if (!size && blob && /^image\/jpe?g$/i.test(blob.type)) {
            // If we know we got a JPEG, we can skip the process of rendering it to a
            // canvas, getting the pixel data, searching for transparency we know we won't
            // find, getting back a data URI and then decoding the BASE64 to finally get the
            // binary we already have.  Also, we avoid downgrading the image quality, with
            // the possible drawback of making a bigger PDF; still, seems legit.
            //
            // Besides saving a lot of work, this also reuses the buffer memory
            // (BinaryStream does not create a copy), potentially saving some GC cycles.
            var reader = new FileReader();
            reader.onload = function() {
                try {
                    var img = new PDFJpegImage(BinaryStream(new Uint8Array(this.result)));
                    URL.revokeObjectURL(bloburl);
                    cont(IMAGE_CACHE[url] = img);
                } catch (ex) {
                    // if there's an error parsing the JPEG stream, it could be due to a
                    // misconfigured server (improper content-type:
                    // https://github.com/telerik/kendo-ui-core/issues/4184).  If that's the case,
                    // the canvas will still be able to draw it.
                    _trycanvas();
                }
            };
            reader.readAsArrayBuffer(blob);
        } else {
            _trycanvas();
        }
    }
}

function manyLoader(loadOne) {
    return function(urls, callback) {
        var n = urls.length, i = n;
        if (n === 0) {
            return callback();
        }
        function next() {
            if (--n === 0) {
                callback();
            }
        }
        while (i-- > 0) {
            loadOne(urls[i], next);
        }
    };
}

var loadFonts = manyLoader(loadFont);
var loadImages = function(images, callback) {
    var urls = Object.keys(images), n = urls.length;
    if (n === 0) {
        return callback();
    }
    function next() {
        if (--n === 0) {
            callback();
        }
    }
    urls.forEach(function(url){
        loadImage(url, images[url], next);
    });
};

PDFDocument.prototype = {
    loadFonts: loadFonts,
    loadImages: loadImages,

    getFont: function(url) {
        var font = this.FONTS[url];
        if (!font) {
            font = FONT_CACHE[url];
            if (!font) {
                throw new Error("Font " + url + " has not been loaded");
            }
            if (font === true) {
                font = this.attach(new PDFStandardFont(url));
            } else {
                font = this.attach(new PDFFont(this, font));
            }
            this.FONTS[url] = font;
        }
        return font;
    },

    getImage: function(url) {
        var img = this.IMAGES[url];
        if (!img) {
            img = IMAGE_CACHE[url];
            if (!img) {
                throw new Error("Image " + url + " has not been loaded");
            }
            if (img === "ERROR") {
                return null;
            }
            img = this.IMAGES[url] = this.attach(img.asStream(this));
        }
        return img;
    },

    getOpacityGS: function(opacity, forStroke) {
        var id = parseFloat(opacity).toFixed(3);
        opacity = parseFloat(id);
        id += forStroke ? "S" : "F";
        var cache = this._opacityGSCache || (this._opacityGSCache = {});
        var gs = cache[id];
        if (!gs) {
            var props = {
                Type: _("ExtGState")
            };
            if (forStroke) {
                props.CA = opacity;
            } else {
                props.ca = opacity;
            }
            gs = this.attach(new PDFDictionary(props));
            gs._resourceName = _("GS" + (++RESOURCE_COUNTER));
            cache[id] = gs;
        }
        return gs;
    },

    dict: function(props) {
        return new PDFDictionary(props);
    },

    name: function(str) {
        return _(str);
    },

    stream: function(props, content) {
        return new PDFStream(content, props);
    }
};

/* -----[ utils ]----- */

function pad(str, len, ch) {
    while (str.length < len) {
        str = ch + str;
    }
    return str;
}

function zeropad(n, len) {
    return pad(String(n), len, "0");
}

function hasOwnProperty(obj, key) {
    return Object.prototype.hasOwnProperty.call(obj, key);
}

var isArray = Array.isArray || function(obj) {
    return obj instanceof Array;
};

function isDate(obj) {
    return obj instanceof Date;
}

function renderArray(a, out) {
    out("[");
    if (a.length > 0) {
        out.withIndent(function(){
            for (var i = 0; i < a.length; ++i) {
                if (i > 0 && i % 8 === 0) {
                    out.indent(a[i]);
                } else {
                    out(" ", a[i]);
                }
            }
        });
        //out.indent();
    }
    out(" ]");
}

function renderDate(date, out) {
    out("(D:",
        zeropad(date.getUTCFullYear(), 4),
        zeropad(date.getUTCMonth() + 1, 2),
        zeropad(date.getUTCDate(), 2),
        zeropad(date.getUTCHours(), 2),
        zeropad(date.getUTCMinutes(), 2),
        zeropad(date.getUTCSeconds(), 2),
        "Z)");
}

function mm2pt(mm) {
    return mm * (72/25.4);
}

function cm2pt(cm) {
    return mm2pt(cm * 10);
}

function in2pt(inch)  {
    return inch * 72;
}


function unitsToPoints(x, def) {
    if (typeof x == "number") {
        return x;
    }
    if (typeof x == "string") {
        var m;
        m = /^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(x);
        if (m) {
            var num = parseFloat(m[1]);
            if (!isNaN(num)) {
                if (m[2] == "pt") {
                    return num;
                }
                return {
                    "mm": mm2pt,
                    "cm": cm2pt,
                    "in": in2pt
                }[m[2]](num);
            }
        }
    }
    if (def != null) {
        return def;
    }
    throw new Error("Can't parse unit: " + x);
}

/* -----[ PDF basic objects ]----- */

function PDFValue(){}

PDFValue.prototype.beforeRender = function(){};

function defclass(Ctor, proto, Base) {
    if (!Base) {
        Base = PDFValue;
    }
    Ctor.prototype = new Base();
    for (var i in proto) {
        if (hasOwnProperty(proto, i)) {
            Ctor.prototype[i] = proto[i];
        }
    }
    return Ctor;
}

var PDFString = defclass(function PDFString(value, utf16be){
    this.value = value;
    this.utf16be = Boolean(utf16be);
}, {
    render: function(out) {
        var txt = this.value;
        if (txt.length > 0) {
            txt = this.value.replace(/([\(\)\\])/g, "\\$1");

            if (this.utf16be) {
                txt = BOM + encodeUTF16BE(txt);
            }
        }

        out("(", txt, ")");
    },
    toString: function() {
        return this.value;
    }
});

var PDFHexString = defclass(function PDFHexString(value){
    this.value = value;
}, {
    render: function(out) {
        var this$1 = this;

        out("<");
        for (var i = 0; i < this.value.length; ++i) {
            out(zeropad(this$1.value.charCodeAt(i).toString(16), 4));
        }
        out(">");
    }
}, PDFString);

/// names

var PDFName = defclass(function PDFName(name) {
    this.name = name;
}, {
    render: function(out) {
        out("/" + this.escape());
    },
    escape: function() {
        return this.name.replace(/[^\x21-\x7E]/g, function(c){
            return "#" + zeropad(c.charCodeAt(0).toString(16), 2);
        });
    },
    toString: function() {
        return this.name;
    }
});

var PDFName_cache = {};
PDFName.get = _;

function _(name) {
    if (hasOwnProperty(PDFName_cache, name)) {
        return PDFName_cache[name];
    }
    return (PDFName_cache[name] = new PDFName(name));
}

/// dictionary

var PDFDictionary = defclass(function PDFDictionary(props) {
    this.props = props;
}, {
    render: function(out) {
        var props = this.props, empty = true;
        out("<<");
        out.withIndent(function(){
            for (var i in props) {
                if (hasOwnProperty(props, i) && !/^_/.test(i)) {
                    empty = false;
                    out.indent(_(i), " ", props[i]);
                }
            }
        });
        if (!empty) {
            out.indent();
        }
        out(">>");
    }
});

/// streams

var PDFStream = defclass(function PDFStream(data, props, compress) {
    if (typeof data == "string") {
        var tmp = BinaryStream();
        tmp.write(data);
        data = tmp;
    }
    this.data = data;
    this.props = props || {};
    this.compress = compress;
}, {
    render: function(out) {
        var data = this.data.get(), props = this.props;
        if (this.compress && supportsDeflate()) {
            if (!props.Filter) {
                props.Filter = [];
            } else if (!(props.Filter instanceof Array)) {
                props.Filter = [ props.Filter ];
            }
            props.Filter.unshift(_("FlateDecode"));
            data = deflate$1(data);
        }
        props.Length = data.length;
        out(new PDFDictionary(props), " stream", NL);
        out.writeData(data);
        out(NL, "endstream");
    }
});

/// catalog

var PDFCatalog = defclass(function PDFCatalog(){
    this.props = {
        Type: _("Catalog")
    };
}, {
    setPages: function(pagesObj) {
        this.props.Pages = pagesObj;
    }
}, PDFDictionary);

/// page tree

var PDFPageTree = defclass(function PDFPageTree(){
    this.props = {
        Type  : _("Pages"),
        Kids  : [],
        Count : 0
    };
}, {
    addPage: function(pageObj) {
        this.props.Kids.push(pageObj);
        this.props.Count++;
    }
}, PDFDictionary);

/// images

// JPEG

var SOF_CODES = [0xc0, 0xc1, 0xc2, 0xc3, 0xc5, 0xc6, 0xc7, 0xc9, 0xca, 0xcb, 0xcd, 0xce, 0xcf];

function PDFJpegImage(data) {
    // we must determine the correct color space.  we'll parse a bit
    // of the JPEG stream for this, it's still better than going
    // through the canvas.
    // https://github.com/telerik/kendo-ui-core/issues/2845
    data.offset(0);
    var width, height, colorSpace, bitsPerComponent;
    var soi = data.readShort();
    if (soi != 0xFFD8) {
        // XXX: do we have some better options here?
        throw new Error("Invalid JPEG image");
    }
    while (!data.eof()) {
        var ff = data.readByte();
        if (ff != 0xFF) {
            throw new Error("Invalid JPEG image");
        }
        var marker = data.readByte();
        var length = data.readShort();
        if (SOF_CODES.indexOf(marker) >= 0) {
            // "start of frame" marker
            bitsPerComponent = data.readByte();
            height = data.readShort();
            width = data.readShort();
            colorSpace = data.readByte();
            break;
        }
        data.skip(length - 2);
    }

    if (colorSpace == null) {
        throw new Error("Invalid JPEG image");
    }

    var props = {
        Type             : _("XObject"),
        Subtype          : _("Image"),
        Width            : width,
        Height           : height,
        BitsPerComponent : bitsPerComponent,
        Filter           : _("DCTDecode")
    };

    switch (colorSpace) {
      case 1:
        props.ColorSpace = _("DeviceGray");
        break;
      case 3:
        props.ColorSpace = _("DeviceRGB");
        break;
      case 4:
        props.ColorSpace = _("DeviceCMYK");
        props.Decode = [ 1, 0, 1, 0, 1, 0, 1, 0 ]; // invert colors
        break;
    }

    this.asStream = function() {
        data.offset(0);
        var stream = new PDFStream(data, props);
        stream._resourceName = _("I" + (++RESOURCE_COUNTER));
        return stream;
    };
}

// PDFRawImage will be used for images with transparency (PNG)

function PDFRawImage(width, height, rgb, alpha) {
    this.asStream = function(pdf) {
        var mask = new PDFStream(alpha, {
            Type             : _("XObject"),
            Subtype          : _("Image"),
            Width            : width,
            Height           : height,
            BitsPerComponent : 8,
            ColorSpace       : _("DeviceGray")
        }, true);
        var stream = new PDFStream(rgb, {
            Type             : _("XObject"),
            Subtype          : _("Image"),
            Width            : width,
            Height           : height,
            BitsPerComponent : 8,
            ColorSpace       : _("DeviceRGB"),
            SMask            : pdf.attach(mask)
        }, true);
        stream._resourceName = _("I" + (++RESOURCE_COUNTER));
        return stream;
    };
}

/// standard fonts

var PDFStandardFont = defclass(function PDFStandardFont(name){
    this.props = {
        Type     : _("Font"),
        Subtype  : _("Type1"),
        BaseFont : _(name)
    };
    this._resourceName = _("F" + (++RESOURCE_COUNTER));
}, {
    encodeText: function(str) {
        return new PDFString(String(str));
    }
}, PDFDictionary);

/// TTF fonts

var PDFFont = defclass(function PDFFont(pdf, font, props){
    props = this.props = props || {};
    props.Type = _("Font");
    props.Subtype = _("Type0");
    props.Encoding = _("Identity-H");

    this._pdf = pdf;
    this._font = font;
    this._sub = font.makeSubset();
    this._resourceName = _("F" + (++RESOURCE_COUNTER));

    var head = font.head;

    this.name = font.psName;
    var scale = this.scale = font.scale;
    this.bbox = [
        head.xMin * scale,
        head.yMin * scale,
        head.xMax * scale,
        head.yMax * scale
    ];

    this.italicAngle = font.post.italicAngle;
    this.ascent = font.ascent * scale;
    this.descent = font.descent * scale;
    this.lineGap = font.lineGap * scale;
    this.capHeight = font.os2.capHeight || this.ascent;
    this.xHeight = font.os2.xHeight || 0;
    this.stemV = 0;

    this.familyClass = (font.os2.familyClass || 0) >> 8;
    this.isSerif = this.familyClass >= 1 && this.familyClass <= 7;
    this.isScript = this.familyClass == 10;

    this.flags = ((font.post.isFixedPitch ? 1 : 0) |
                  (this.isSerif ? 1 << 1 : 0) |
                  (this.isScript ? 1 << 3 : 0) |
                  (this.italicAngle !== 0 ? 1 << 6 : 0) |
                  (1 << 5));
}, {
    encodeText: function(text) {
        return new PDFHexString(this._sub.encodeText(String(text)));
    },
    getTextWidth: function(fontSize, text) {
        var this$1 = this;

        var width = 0, codeMap = this._font.cmap.codeMap;
        for (var i = 0; i < text.length; ++i) {
            var glyphId = codeMap[text.charCodeAt(i)];
            width += this$1._font.widthOfGlyph(glyphId || 0);
        }
        return width * fontSize / 1000;
    },
    beforeRender: function() {
        var self = this;
        var sub = self._sub;

        // write the TTF data
        var data = sub.render();
        var fontStream = new PDFStream(BinaryStream(data), {
            Length1: data.length
        }, true);

        var descriptor = self._pdf.attach(new PDFDictionary({
            Type         : _("FontDescriptor"),
            FontName     : _(self._sub.psName),
            FontBBox     : self.bbox,
            Flags        : self.flags,
            StemV        : self.stemV,
            ItalicAngle  : self.italicAngle,
            Ascent       : self.ascent,
            Descent      : self.descent,
            CapHeight    : self.capHeight,
            XHeight      : self.xHeight,
            FontFile2    : self._pdf.attach(fontStream)
        }));

        var cmap = sub.ncid2ogid;
        var firstChar = sub.firstChar;
        var lastChar = sub.lastChar;
        var charWidths = [];
        (function loop(i, chunk){
            if (i <= lastChar) {
                var gid = cmap[i];
                if (gid == null) {
                    loop(i + 1);
                } else {
                    if (!chunk) {
                        charWidths.push(i, chunk = []);
                    }
                    chunk.push(self._font.widthOfGlyph(gid));
                    loop(i + 1, chunk);
                }
            }
        })(firstChar);

        // As if two dictionaries weren't enough, we need another
        // one, the "descendant font".  Only that one can be of
        // Subtype CIDFontType2.  PDF is the X11 of document
        // formats: portable but full of legacy that nobody cares
        // about anymore.

        var descendant = new PDFDictionary({
            Type: _("Font"),
            Subtype: _("CIDFontType2"),
            BaseFont: _(self._sub.psName),
            CIDSystemInfo: new PDFDictionary({
                Registry   : new PDFString("Adobe"),
                Ordering   : new PDFString("Identity"),
                Supplement : 0
            }),
            FontDescriptor: descriptor,
            FirstChar: firstChar,
            LastChar: lastChar,
            DW: Math.round(self._font.widthOfGlyph(0)),
            W: charWidths,
            CIDToGIDMap: self._pdf.attach(self._makeCidToGidMap())
        });

        var dict = self.props;
        dict.BaseFont = _(self._sub.psName);
        dict.DescendantFonts = [ self._pdf.attach(descendant) ];

        // Compute the ToUnicode map so that apps can extract
        // meaningful text from the PDF.
        var unimap = new PDFToUnicodeCmap(firstChar, lastChar, sub.subset);
        var unimapStream = new PDFStream(makeOutput(), null, true);
        unimapStream.data(unimap);
        dict.ToUnicode = self._pdf.attach(unimapStream);
    },
    _makeCidToGidMap: function() {
        return new PDFStream(BinaryStream(this._sub.cidToGidMap()), null, true);
    }
}, PDFDictionary);

var PDFToUnicodeCmap = defclass(function PDFUnicodeCMap(firstChar, lastChar, map){
    this.firstChar = firstChar;
    this.lastChar = lastChar;
    this.map = map;
}, {
    render: function(out) {
        out.indent("/CIDInit /ProcSet findresource begin");
        out.indent("12 dict begin");
        out.indent("begincmap");
        out.indent("/CIDSystemInfo <<");
        out.indent("  /Registry (Adobe)");
        out.indent("  /Ordering (UCS)");
        out.indent("  /Supplement 0");
        out.indent(">> def");
        out.indent("/CMapName /Adobe-Identity-UCS def");
        out.indent("/CMapType 2 def");
        out.indent("1 begincodespacerange");
        out.indent("  <0000><ffff>");
        out.indent("endcodespacerange");

        var self = this;
        out.indent(self.lastChar - self.firstChar + 1, " beginbfchar");
        out.withIndent(function(){
            for (var code = self.firstChar; code <= self.lastChar; ++code) {
                var unicode = self.map[code];
                var str = ucs2encode([ unicode ]);
                out.indent("<", zeropad(code.toString(16), 4), ">", "<");
                for (var i = 0; i < str.length; ++i) {
                    out(zeropad(str.charCodeAt(i).toString(16), 4));
                }
                out(">");
            }
        });
        out.indent("endbfchar");

        out.indent("endcmap");
        out.indent("CMapName currentdict /CMap defineresource pop");
        out.indent("end");
        out.indent("end");
    }
});

/// gradients

function makeHash(a) {
    return a.map(function(x){
        return isArray(x) ? makeHash(x)
            : typeof x == "number" ? (Math.round(x * 1000) / 1000).toFixed(3)
            : x;
    }).join(" ");
}

function cacheColorGradientFunction(pdf, r1, g1, b1, r2, g2, b2) {
    var hash = makeHash([ r1, g1, b1, r2, g2, b2 ]);
    var func = pdf.GRAD_COL_FUNCTIONS[hash];
    if (!func) {
        func = pdf.GRAD_COL_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({
            FunctionType: 2,
            Domain: [ 0, 1 ],
            Range: [ 0, 1, 0, 1, 0, 1 ],
            N: 1,
            C0: [ r1 , g1 , b1 ],
            C1: [ r2 , g2 , b2 ]
        }));
    }
    return func;
}

function cacheOpacityGradientFunction(pdf, a1, a2) {
    var hash = makeHash([ a1, a2 ]);
    var func = pdf.GRAD_OPC_FUNCTIONS[hash];
    if (!func) {
        func = pdf.GRAD_OPC_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({
            FunctionType: 2,
            Domain: [ 0, 1 ],
            Range: [ 0, 1 ],
            N: 1,
            C0: [ a1 ],
            C1: [ a2 ]
        }));
    }
    return func;
}

function makeGradientFunctions(pdf, stops) {
    var hasAlpha = false;
    var opacities = [];
    var colors = [];
    var offsets = [];
    var encode = [];
    var i, prev, cur, prevColor, curColor;
    for (i = 1; i < stops.length; ++i) {
        prev = stops[i - 1];
        cur = stops[i];
        prevColor = prev.color;
        curColor = cur.color;
        colors.push(cacheColorGradientFunction(
            pdf,
            prevColor.r, prevColor.g, prevColor.b,
            curColor.r,  curColor.g,  curColor.b
        ));
        if (prevColor.a < 1 || curColor.a < 1) {
            hasAlpha = true;
        }
        offsets.push(cur.offset);
        encode.push(0, 1);
    }
    if (hasAlpha) {
        for (i = 1; i < stops.length; ++i) {
            prev = stops[i - 1];
            cur = stops[i];
            prevColor = prev.color;
            curColor = cur.color;
            opacities.push(cacheOpacityGradientFunction(
                pdf, prevColor.a, curColor.a
            ));
        }
    }
    offsets.pop();
    return {
        hasAlpha  : hasAlpha,
        colors    : assemble(colors),
        opacities : hasAlpha ? assemble(opacities) : null
    };
    function assemble(funcs) {
        if (funcs.length == 1) {
            return funcs[0];
        }
        return {
            FunctionType: 3,
            Functions: funcs,
            Domain: [ 0, 1 ],
            Bounds: offsets,
            Encode: encode
        };
    }
}

function cacheColorGradient(pdf, isRadial, stops, coords, funcs, box) {
    var shading, hash;
    // if box is given then we have user-space coordinates, which
    // means the gradient is designed for a certain position/size
    // on page.  caching won't do any good.
    if (!box) {
        var a = [ isRadial ].concat(coords);
        stops.forEach(function(x){
            a.push(x.offset, x.color.r, x.color.g, x.color.b);
        });
        hash = makeHash(a);
        shading = pdf.GRAD_COL[hash];
    }
    if (!shading) {
        shading = new PDFDictionary({
            Type: _("Shading"),
            ShadingType: isRadial ? 3 : 2,
            ColorSpace: _("DeviceRGB"),
            Coords: coords,
            Domain: [ 0, 1 ],
            Function: funcs,
            Extend: [ true, true ]
        });
        pdf.attach(shading);
        shading._resourceName = "S" + (++RESOURCE_COUNTER);
        if (hash) {
            pdf.GRAD_COL[hash] = shading;
        }
    }
    return shading;
}

function cacheOpacityGradient(pdf, isRadial, stops, coords, funcs, box) {
    var opacity, hash;
    // if box is given then we have user-space coordinates, which
    // means the gradient is designed for a certain position/size
    // on page.  caching won't do any good.
    if (!box) {
        var a = [ isRadial ].concat(coords);
        stops.forEach(function(x){
            a.push(x.offset, x.color.a);
        });
        hash = makeHash(a);
        opacity = pdf.GRAD_OPC[hash];
    }
    if (!opacity) {
        opacity = new PDFDictionary({
            Type: _("ExtGState"),
            AIS: false,
            CA: 1,
            ca: 1,
            SMask: {
                Type: _("Mask"),
                S: _("Luminosity"),
                G: pdf.attach(new PDFStream("/a0 gs /s0 sh", {
                    Type: _("XObject"),
                    Subtype: _("Form"),
                    FormType: 1,
                    BBox: (box ? [
                        box.left, box.top + box.height, box.left + box.width, box.top
                    ] : [ 0, 1, 1, 0 ]),
                    Group: {
                        Type: _("Group"),
                        S: _("Transparency"),
                        CS: _("DeviceGray"),
                        I: true
                    },
                    Resources: {
                        ExtGState: {
                            a0: { CA: 1, ca: 1 }
                        },
                        Shading: {
                            s0: {
                                ColorSpace: _("DeviceGray"),
                                Coords: coords,
                                Domain: [ 0, 1 ],
                                ShadingType: isRadial ? 3 : 2,
                                Function: funcs,
                                Extend: [ true, true ]
                            }
                        }
                    }
                }))
            }
        });
        pdf.attach(opacity);
        opacity._resourceName = "O" + (++RESOURCE_COUNTER);
        if (hash) {
            pdf.GRAD_OPC[hash] = opacity;
        }
    }
    return opacity;
}

function cacheGradient(pdf, gradient, box) {
    var isRadial = gradient.type == "radial";
    var funcs = makeGradientFunctions(pdf, gradient.stops);
    var coords = isRadial ? [
        gradient.start.x , gradient.start.y , gradient.start.r,
        gradient.end.x   , gradient.end.y   , gradient.end.r
    ] : [
        gradient.start.x , gradient.start.y,
        gradient.end.x   , gradient.end.y
    ];
    var shading = cacheColorGradient(
        pdf, isRadial, gradient.stops, coords, funcs.colors, gradient.userSpace && box
    );
    var opacity = funcs.hasAlpha ? cacheOpacityGradient(
        pdf, isRadial, gradient.stops, coords, funcs.opacities, gradient.userSpace && box
    ) : null;
    return {
        hasAlpha: funcs.hasAlpha,
        shading: shading,
        opacity: opacity
    };
}

/// page object

var PDFPage = defclass(function PDFPage(pdf, props){
    this._pdf = pdf;
    this._rcount = 0;
    this._textMode = false;
    this._fontResources = {};
    this._gsResources = {};
    this._xResources = {};
    this._patResources = {};
    this._shResources = {};
    this._opacity = 1;
    this._matrix = [ 1, 0, 0, 1, 0, 0 ];
    this._annotations = [];

    this._font = null;
    this._fontSize = null;

    this._contextStack = [];

    props = this.props = props || {};
    props.Type = _("Page");
    props.ProcSet = [
        _("PDF"),
        _("Text"),
        _("ImageB"),
        _("ImageC"),
        _("ImageI")
    ];
    props.Resources = new PDFDictionary({
        Font      : new PDFDictionary(this._fontResources),
        ExtGState : new PDFDictionary(this._gsResources),
        XObject   : new PDFDictionary(this._xResources),
        Pattern   : new PDFDictionary(this._patResources),
        Shading   : new PDFDictionary(this._shResources)
    });
    props.Annots = this._annotations;
}, {
    _out: function() {
        this._content.data.apply(null, arguments);
    },
    transform: function(a, b, c, d, e, f) {
        if (!isIdentityMatrix(arguments)) {
            this._matrix = mmul(arguments, this._matrix);
            this._out(a, " ", b, " ", c, " ", d, " ", e, " ", f, " cm");
            // XXX: debug
            // this._out(" % current matrix: ", this._matrix);
            this._out(NL);
        }
    },
    translate: function(dx, dy) {
        this.transform(1, 0, 0, 1, dx, dy);
    },
    scale: function(sx, sy) {
        this.transform(sx, 0, 0, sy, 0, 0);
    },
    rotate: function(angle) {
        var cos = Math.cos(angle), sin = Math.sin(angle);
        this.transform(cos, sin, -sin, cos, 0, 0);
    },
    beginText: function() {
        this._textMode = true;
        this._out("BT", NL);
    },
    endText: function() {
        this._textMode = false;
        this._out("ET", NL);
    },
    _requireTextMode: function() {
        if (!this._textMode) {
            throw new Error("Text mode required; call page.beginText() first");
        }
    },
    _requireFont: function() {
        if (!this._font) {
            throw new Error("No font selected; call page.setFont() first");
        }
    },
    setFont: function(font, size) {
        this._requireTextMode();
        if (font == null) {
            font = this._font;
        } else if (!(font instanceof PDFFont)) {
            font = this._pdf.getFont(font);
        }
        if (size == null) {
            size = this._fontSize;
        }
        this._fontResources[font._resourceName] = font;
        this._font = font;
        this._fontSize = size;
        this._out(font._resourceName, " ", size, " Tf", NL);
    },
    setTextLeading: function(size) {
        this._requireTextMode();
        this._out(size, " TL", NL);
    },
    setTextRenderingMode: function(mode) {
        this._requireTextMode();
        this._out(mode, " Tr", NL);
    },
    showText: function(text, requestedWidth) {
        this._requireFont();
        if (text.length > 1 && requestedWidth && this._font instanceof PDFFont) {
            var outputWidth = this._font.getTextWidth(this._fontSize, text);
            var scale = requestedWidth / outputWidth * 100;
            this._out(scale, " Tz ");
        }
        this._out(this._font.encodeText(text), " Tj", NL);
    },
    showTextNL: function(text) {
        this._requireFont();
        this._out(this._font.encodeText(text), " '", NL);
    },
    addLink: function(uri, box) {
        var ll = this._toPage({ x: box.left, y: box.bottom });
        var ur = this._toPage({ x: box.right, y: box.top });
        this._annotations.push(new PDFDictionary({
            Type    : _("Annot"),
            Subtype : _("Link"),
            Rect    : [ ll.x, ll.y, ur.x, ur.y ],
            Border  : [ 0, 0, 0 ],
            A       : new PDFDictionary({
                Type : _("Action"),
                S    : _("URI"),
                URI  : new PDFString(uri)
            })
        }));
    },
    setStrokeColor: function(r, g, b) {
        this._out(r, " ", g, " ", b, " RG", NL);
    },
    setOpacity: function(opacity) {
        this.setFillOpacity(opacity);
        this.setStrokeOpacity(opacity);
        this._opacity *= opacity;
    },
    setStrokeOpacity: function(opacity) {
        if (opacity < 1) {
            var gs = this._pdf.getOpacityGS(this._opacity * opacity, true);
            this._gsResources[gs._resourceName] = gs;
            this._out(gs._resourceName, " gs", NL);
        }
    },
    setFillColor: function(r, g, b) {
        this._out(r, " ", g, " ", b, " rg", NL);
    },
    setFillOpacity: function(opacity) {
        if (opacity < 1) {
            var gs = this._pdf.getOpacityGS(this._opacity * opacity, false);
            this._gsResources[gs._resourceName] = gs;
            this._out(gs._resourceName, " gs", NL);
        }
    },
    gradient: function(gradient, box) {
        this.save();
        this.rect(box.left, box.top, box.width, box.height);
        this.clip();
        if (!gradient.userSpace) {
            this.transform(box.width, 0, 0, box.height, box.left, box.top);
        }
        var g = cacheGradient(this._pdf, gradient, box);
        var sname = g.shading._resourceName, oname;
        this._shResources[sname] = g.shading;
        if (g.hasAlpha) {
            oname = g.opacity._resourceName;
            this._gsResources[oname] = g.opacity;
            this._out("/" + oname + " gs ");
        }
        this._out("/" + sname + " sh", NL);
        this.restore();
    },
    setDashPattern: function(dashArray, dashPhase) {
        this._out(dashArray, " ", dashPhase, " d", NL);
    },
    setLineWidth: function(width) {
        this._out(width, " w", NL);
    },
    setLineCap: function(lineCap) {
        this._out(lineCap, " J", NL);
    },
    setLineJoin: function(lineJoin) {
        this._out(lineJoin, " j", NL);
    },
    setMitterLimit: function(mitterLimit) {
        this._out(mitterLimit, " M", NL);
    },
    save: function() {
        this._contextStack.push(this._context());
        this._out("q", NL);
    },
    restore: function() {
        this._out("Q", NL);
        this._context(this._contextStack.pop());
    },

    // paths
    moveTo: function(x, y) {
        this._out(x, " ", y, " m", NL);
    },
    lineTo: function(x, y) {
        this._out(x, " ", y, " l", NL);
    },
    bezier: function(x1, y1, x2, y2, x3, y3) {
        this._out(x1, " ", y1, " ", x2, " ", y2, " ", x3, " ", y3, " c", NL);
    },
    bezier1: function(x1, y1, x3, y3) {
        this._out(x1, " ", y1, " ", x3, " ", y3, " y", NL);
    },
    bezier2: function(x2, y2, x3, y3) {
        this._out(x2, " ", y2, " ", x3, " ", y3, " v", NL);
    },
    close: function() {
        this._out("h", NL);
    },
    rect: function(x, y, w, h) {
        this._out(x, " ", y, " ", w, " ", h, " re", NL);
    },
    ellipse: function(x, y, rx, ry) {
        function _X(v) { return x + v; }
        function _Y(v) { return y + v; }

        // how to get to the "magic number" is explained here:
        // http://www.whizkidtech.redprince.net/bezier/circle/kappa/
        var k = 0.5522847498307936;

        this.moveTo(_X(0), _Y(ry));
        this.bezier(
            _X(rx * k) , _Y(ry),
            _X(rx)     , _Y(ry * k),
            _X(rx)     , _Y(0)
        );
        this.bezier(
            _X(rx)     , _Y(-ry * k),
            _X(rx * k) , _Y(-ry),
            _X(0)      , _Y(-ry)
        );
        this.bezier(
            _X(-rx * k) , _Y(-ry),
            _X(-rx)     , _Y(-ry * k),
            _X(-rx)     , _Y(0)
        );
        this.bezier(
            _X(-rx)     , _Y(ry * k),
            _X(-rx * k) , _Y(ry),
            _X(0)       , _Y(ry)
        );
    },
    circle: function(x, y, r) {
        this.ellipse(x, y, r, r);
    },
    stroke: function() {
        this._out("S", NL);
    },
    nop: function() {
        this._out("n", NL);
    },
    clip: function() {
        this._out("W n", NL);
    },
    clipStroke: function() {
        this._out("W S", NL);
    },
    closeStroke: function() {
        this._out("s", NL);
    },
    fill: function() {
        this._out("f", NL);
    },
    fillStroke: function() {
        this._out("B", NL);
    },
    drawImage: function(url) {
        var img = this._pdf.getImage(url);
        if (img) { // the result can be null for a cross-domain image
            this._xResources[img._resourceName] = img;
            this._out(img._resourceName, " Do", NL);
        }
    },
    comment: function(txt) {
        var self = this;
        txt.split(/\r?\n/g).forEach(function(line){
            self._out("% ", line, NL);
        });
    },

    // internal
    _context: function(val) {
        if (val != null) {
            this._opacity = val.opacity;
            this._matrix = val.matrix;
        } else {
            return {
                opacity: this._opacity,
                matrix: this._matrix
            };
        }
    },

    _toPage: function(p) {
        var m = this._matrix;
        var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];
        return {
            x: a*p.x + c*p.y + e,
            y: b*p.x + d*p.y + f
        };
    }
}, PDFDictionary);

function unquote(str) {
    return str.replace(/^\s*(['"])(.*)\1\s*$/, "$2");
}

function parseFontDef(fontdef) {
    // XXX: this is very crude for now and buggy.  Proper parsing is quite involved.
    var rx = /^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i;
    var m = rx.exec(fontdef);
    if (!m) {
        return { fontSize: 12, fontFamily: "sans-serif" };
    }
    var fontSize = m[8] ? parseInt(m[8], 10) : 12;
    return {
        italic     : m[2] && m[2].toLowerCase() == "italic",
        variant    : m[4],
        bold       : m[6] && /bold|700/i.test(m[6]),
        fontSize   : fontSize,
        lineHeight : m[12] ? m[12] == "normal" ? fontSize : parseInt(m[12], 10) : null,
        fontFamily : m[14].split(/\s*,\s*/g).map(unquote)
    };
}

function getFontURL(style) {
    function mkFamily(name) {
        if (style.bold) {
            name += "|bold";
        }
        if (style.italic) {
            name += "|italic";
        }
        return name.toLowerCase();
    }
    var fontFamily = style.fontFamily;
    var name, url;
    if (fontFamily instanceof Array) {
        for (var i = 0; i < fontFamily.length; ++i) {
            name = mkFamily(fontFamily[i]);
            url = FONT_MAPPINGS[name];
            if (url) {
                break;
            }
        }
    } else {
        url = FONT_MAPPINGS[fontFamily.toLowerCase()];
    }
    while (typeof url == "function") {
        url = url();
    }
    if (!url) {
        url = "Times-Roman";
    }
    return url;
}

var FONT_MAPPINGS = {
    "serif"                    : "Times-Roman",
    "serif|bold"               : "Times-Bold",
    "serif|italic"             : "Times-Italic",
    "serif|bold|italic"        : "Times-BoldItalic",
    "sans-serif"               : "Helvetica",
    "sans-serif|bold"          : "Helvetica-Bold",
    "sans-serif|italic"        : "Helvetica-Oblique",
    "sans-serif|bold|italic"   : "Helvetica-BoldOblique",
    "monospace"                : "Courier",
    "monospace|bold"           : "Courier-Bold",
    "monospace|italic"         : "Courier-Oblique",
    "monospace|bold|italic"    : "Courier-BoldOblique",
    "zapfdingbats"             : "ZapfDingbats",
    "zapfdingbats|bold"        : "ZapfDingbats",
    "zapfdingbats|italic"      : "ZapfDingbats",
    "zapfdingbats|bold|italic" : "ZapfDingbats"
};

function fontAlias(alias, name) {
    alias = alias.toLowerCase();
    FONT_MAPPINGS[alias] = function() {
        return FONT_MAPPINGS[name];
    };
    FONT_MAPPINGS[alias + "|bold"] = function() {
        return FONT_MAPPINGS[name + "|bold"];
    };
    FONT_MAPPINGS[alias + "|italic"] = function() {
        return FONT_MAPPINGS[name + "|italic"];
    };
    FONT_MAPPINGS[alias + "|bold|italic"] = function() {
        return FONT_MAPPINGS[name + "|bold|italic"];
    };
}

// Let's define some common names to an appropriate replacement.
// These are overridable via pdf.defineFont, should the user want to
// include the proper versions.

fontAlias("Times New Roman" , "serif");
fontAlias("Courier New"     , "monospace");
fontAlias("Arial"           , "sans-serif");
fontAlias("Helvetica"       , "sans-serif");
fontAlias("Verdana"         , "sans-serif");
fontAlias("Tahoma"          , "sans-serif");
fontAlias("Georgia"         , "sans-serif");
fontAlias("Monaco"          , "monospace");
fontAlias("Andale Mono"     , "monospace");

function defineFont(name, url) {
    if (arguments.length == 1) {
        for (var i in name) {
            if (hasOwnProperty(name, i)) {
                defineFont(i, name[i]);
            }
        }
    } else {
        name = name.toLowerCase();
        FONT_MAPPINGS[name] = url;

        // special handling for DejaVu fonts: if they get defined,
        // let them also replace the default families, for good
        // Unicode support out of the box.
        switch (name) {
          case "dejavu sans"               : FONT_MAPPINGS["sans-serif"]              = url; break;
          case "dejavu sans|bold"          : FONT_MAPPINGS["sans-serif|bold"]         = url; break;
          case "dejavu sans|italic"        : FONT_MAPPINGS["sans-serif|italic"]       = url; break;
          case "dejavu sans|bold|italic"   : FONT_MAPPINGS["sans-serif|bold|italic"]  = url; break;
          case "dejavu serif"              : FONT_MAPPINGS["serif"]                   = url; break;
          case "dejavu serif|bold"         : FONT_MAPPINGS["serif|bold"]              = url; break;
          case "dejavu serif|italic"       : FONT_MAPPINGS["serif|italic"]            = url; break;
          case "dejavu serif|bold|italic"  : FONT_MAPPINGS["serif|bold|italic"]       = url; break;
          case "dejavu mono"               : FONT_MAPPINGS["monospace"]               = url; break;
          case "dejavu mono|bold"          : FONT_MAPPINGS["monospace|bold"]          = url; break;
          case "dejavu mono|italic"        : FONT_MAPPINGS["monospace|italic"]        = url; break;
          case "dejavu mono|bold|italic"   : FONT_MAPPINGS["monospace|bold|italic"]   = url; break;
        }
    }
}

function mmul(a, b) {
    var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];
    var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];
    return [
        a1*a2 + b1*c2,          a1*b2 + b1*d2,
        c1*a2 + d1*c2,          c1*b2 + d1*d2,
        e1*a2 + f1*c2 + e2,     e1*b2 + f1*d2 + f2
    ];
}

function isIdentityMatrix(m) {
    return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1 && m[4] === 0 && m[5] === 0;
}

var TEXT_RENDERING_MODE = {
    fill           : 0,
    stroke         : 1,
    fillAndStroke  : 2,
    invisible      : 3,
    fillAndClip    : 4,
    strokeAndClip  : 5,
    fillStrokeClip : 6,
    clip           : 7
};

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

var TEXT_RENDERING_MODE$1 = TEXT_RENDERING_MODE;

var DASH_PATTERNS = {
    dash           : [ 4 ],
    dashDot        : [ 4, 2, 1, 2 ],
    dot            : [ 1, 2 ],
    longDash       : [ 8, 2 ],
    longDashDot    : [ 8, 2, 1, 2 ],
    longDashDotDot : [ 8, 2, 1, 2, 1, 2 ],
    solid          : []
};

var LINE_CAP = {
    butt   : 0,
    round  : 1,
    square : 2
};

var LINE_JOIN = {
    miter : 0,
    round : 1,
    bevel : 2
};

function render$1(group, callback) {
    var fonts = [], images = {}, options = group.options;

    function getOption(name, defval, hash) {
        if (!hash) {
            hash = options;
        }
        if (hash.pdf && hash.pdf[name] != null) {
            return hash.pdf[name];
        }
        return defval;
    }

    var multiPage = getOption("multiPage");
    var imgDPI = getOption("imgDPI");

    if (imgDPI) {
        clearImageCache();
    }

    group.traverse(function(element){
        dispatch({
            Image: function(element) {
                var url = element.src();
                if (imgDPI) {
                    var box = element.bbox().size;
                    var prev = images[url];
                    box = {
                        width: Math.ceil(box.width * imgDPI / 72),
                        height: Math.ceil(box.height * imgDPI / 72)
                    };
                    if (prev) {
                        box.width = Math.max(prev.width, box.width);
                        box.height = Math.max(prev.height, box.height);
                    }
                    images[url] = box;
                } else {
                    images[url] = null;
                }
            },
            Text: function(element) {
                var style = parseFontDef(element.options.font);
                var url = getFontURL(style);
                if (fonts.indexOf(url) < 0) {
                    fonts.push(url);
                }
            }
        }, element);
    });

    function doIt() {
        if (--count > 0) {
            return;
        }

        var pdf = new (PDFDocument)({
            producer  : getOption("producer"),
            title     : getOption("title"),
            author    : getOption("author"),
            subject   : getOption("subject"),
            keywords  : getOption("keywords"),
            creator   : getOption("creator"),
            date      : getOption("date"),

            autoPrint : getOption("autoPrint")
        });

        function drawPage(group) {
            var options = group.options;

            var tmp = optimize(group);
            var bbox = tmp.bbox;
            group = tmp.root;
            // var tmp, bbox;

            var paperSize = getOption("paperSize", getOption("paperSize", "auto"), options), addMargin = false;
            if (paperSize == "auto") {
                if (bbox) {
                    var size = bbox.getSize();
                    paperSize = [ size.width, size.height ];
                    addMargin = true;
                    var origin = bbox.getOrigin();
                    tmp = new Group();
                    tmp.transform(new Matrix(1, 0, 0, 1, -origin.x, -origin.y));
                    tmp.append(group);
                    group = tmp;
                }
                else {
                    paperSize = "A4";
                }
            }

            var page;
            page = pdf.addPage({
                paperSize : paperSize,
                margin    : getOption("margin", getOption("margin"), options),
                addMargin : addMargin,
                landscape : getOption("landscape", getOption("landscape", false), options)
            });
            drawElement(group, page, pdf);
        }

        if (multiPage) {
            group.children.forEach(drawPage);
        } else {
            drawPage(group);
        }

        callback(pdf.render(), pdf);
    }

    var count = 2;
    loadFonts(fonts, doIt);
    loadImages(images, doIt);
}

function toDataURL(group, callback) {
    render$1(group, function(data){
        callback("data:application/pdf;base64," + data.base64());
    });
}

function toBlob(group, callback) {
    render$1(group, function(data){
        callback(new window.Blob([ data.get() ], { type: "application/pdf" }));
    });
}

function saveAs$1(group, filename, proxy, callback) {
    // XXX: Safari has Blob, but does not support the download attribute
    //      so we'd end up converting to dataURL and using the proxy anyway.
    if (window.Blob && !support.browser.safari) {
        toBlob(group, function(blob){
            saveAs({ dataURI: blob, fileName: filename });
            if (callback) {
                callback(blob);
            }
        });
    } else {
        toDataURL(group, function(dataURL){
            saveAs({ dataURI: dataURL, fileName: filename, proxyURL: proxy });
            if (callback) {
                callback(dataURL);
            }
        });
    }
}

function dispatch(handlers, element) {
    var handler = handlers[element.nodeType];
    if (handler) {
        return handler.call.apply(handler, arguments);
    }
    return element;
}

function drawElement(element, page, pdf) {
    if (element.options._pdfDebug) {
        page.comment("BEGIN: " + element.options._pdfDebug);
    }

    var transform$$1 = element.transform();
    var opacity = element.opacity();

    page.save();

    if (opacity != null && opacity < 1) {
        page.setOpacity(opacity);
    }

    setStrokeOptions(element, page, pdf);
    setFillOptions(element, page, pdf);

    if (transform$$1) {
        var m = transform$$1.matrix();
        page.transform(m.a, m.b, m.c, m.d, m.e, m.f);
    }

    setClipping(element, page, pdf);

    dispatch({
        Path      : drawPath,
        MultiPath : drawMultiPath,
        Circle    : drawCircle,
        Arc       : drawArc,
        Text      : drawText,
        Image     : drawImage$1,
        Group     : drawGroup,
        Rect      : drawRect
    }, element, page, pdf);

    page.restore();

    if (element.options._pdfDebug) {
        page.comment("END: " + element.options._pdfDebug);
    }
}

function setStrokeOptions(element, page) {
    var stroke = element.stroke && element.stroke();
    if (!stroke) {
        return;
    }

    var color = stroke.color;
    if (color) {
        color = parseColor$1(color);
        if (color == null) {
            return; // no stroke
        }
        page.setStrokeColor(color.r, color.g, color.b);
        if (color.a != 1) {
            page.setStrokeOpacity(color.a);
        }
    }

    var width = stroke.width;
    if (width != null) {
        if (width === 0) {
            return; // no stroke
        }
        page.setLineWidth(width);
    }

    var dashType = stroke.dashType;
    if (dashType) {
        page.setDashPattern(DASH_PATTERNS[dashType], 0);
    }

    var lineCap = stroke.lineCap;
    if (lineCap) {
        page.setLineCap(LINE_CAP[lineCap]);
    }

    var lineJoin = stroke.lineJoin;
    if (lineJoin) {
        page.setLineJoin(LINE_JOIN[lineJoin]);
    }

    var opacity = stroke.opacity;
    if (opacity != null) {
        page.setStrokeOpacity(opacity);
    }
}

function setFillOptions(element, page) {
    var fill = element.fill && element.fill();
    if (!fill) {
        return;
    }

    if (fill instanceof Gradient) {
        return;
    }

    var color = fill.color;
    if (color) {
        color = parseColor$1(color);
        if (color == null) {
            return; // no fill
        }
        page.setFillColor(color.r, color.g, color.b);
        if (color.a != 1) {
            page.setFillOpacity(color.a);
        }
    }

    var opacity = fill.opacity;
    if (opacity != null) {
        page.setFillOpacity(opacity);
    }
}

function setClipping(element, page, pdf) {
    // XXX: only Path supported at the moment.
    var clip = element.clip();
    if (clip) {
        _drawPath(clip, page, pdf);
        page.clip();
        // page.setStrokeColor(Math.random(), Math.random(), Math.random());
        // page.setLineWidth(1);
        // page.stroke();
    }
}

function shouldDraw(thing) {
    return (thing &&
            (thing instanceof Gradient ||
             (thing.color && !/^(none|transparent)$/i.test(thing.color) &&
              (thing.width == null || thing.width > 0) &&
              (thing.opacity == null || thing.opacity > 0))));
}

function maybeGradient(element, page, pdf, stroke) {
    var fill = element.fill();
    if (fill instanceof Gradient) {
        if (stroke) {
            page.clipStroke();
        } else {
            page.clip();
        }
        var isRadial = fill instanceof RadialGradient;
        var start, end;
        if (isRadial) {
            start = { x: fill.center().x , y: fill.center().y , r: 0 };
            end   = { x: fill.center().x , y: fill.center().y , r: fill.radius() };
        } else {
            start = { x: fill.start().x , y: fill.start().y };
            end   = { x: fill.end().x   , y: fill.end().y   };
        }

        var stops = fill.stops.elements().map(function(stop){
            var offset = stop.offset();
            if (/%$/.test(offset)) {
                offset = parseFloat(offset) / 100;
            } else {
                offset = parseFloat(offset);
            }
            var color = parseColor$1(stop.color());
            color.a *= stop.opacity();
            return {
                offset: offset,
                color: color
            };
        });

        // Duplicats first and last stop to fix
        // https://github.com/telerik/kendo-ui-core/issues/1782
        stops.unshift(stops[0]);
        stops.push(stops[stops.length - 1]);

        var gradient = {
            userSpace : fill.userSpace(),
            type      : isRadial ? "radial" : "linear",
            start     : start,
            end       : end,
            stops     : stops
        };
        var box = element.rawBBox();
        var tl = box.topLeft(), size = box.getSize();
        box = {
            left   : tl.x,
            top    : tl.y,
            width  : size.width,
            height : size.height
        };
        page.gradient(gradient, box);
        return true;
    }
}

function maybeFillStroke(element, page, pdf) {
    if (shouldDraw(element.fill()) && shouldDraw(element.stroke())) {
        if (!maybeGradient(element, page, pdf, true)) {
            page.fillStroke();
        }
    } else if (shouldDraw(element.fill())) {
        if (!maybeGradient(element, page, pdf, false)) {
            page.fill();
        }
    } else if (shouldDraw(element.stroke())) {
        page.stroke();
    } else {
        // we should not get here; the path should have been
        // optimized away.  but let's be prepared.
        page.nop();
    }
}

function maybeDrawRect(path, page) {
    var segments = path.segments;
    if (segments.length == 4 && path.options.closed) {
        // detect if this path looks like a rectangle parallel to the axis
        var a = [];
        for (var i = 0; i < segments.length; ++i) {
            if (segments[i].controlIn()) { // has curve?
                return false;
            }
            a[i] = segments[i].anchor();
        }
        // it's a rectangle if the y/x/y/x or x/y/x/y coords of
        // consecutive points are the same.
        var isRect = (
            a[0].y == a[1].y && a[1].x == a[2].x && a[2].y == a[3].y && a[3].x == a[0].x
        ) || (
            a[0].x == a[1].x && a[1].y == a[2].y && a[2].x == a[3].x && a[3].y == a[0].y
        );
        if (isRect) {
            // this saves a bunch of instructions in PDF:
            // moveTo, lineTo, lineTo, lineTo, close -> rect.
            page.rect(a[0].x, a[0].y,
                      a[2].x - a[0].x /*width*/,
                      a[2].y - a[0].y /*height*/);
            return true;
        }
    }
}

function _drawPath(element, page, pdf) {
    var segments = element.segments;
    if (segments.length === 0) {
        return;
    }
    if (!maybeDrawRect(element, page, pdf)) {
        for (var prev, i = 0; i < segments.length; ++i) {
            var seg = segments[i];
            var anchor = seg.anchor();
            if (!prev) {
                page.moveTo(anchor.x, anchor.y);
            } else {
                var prevOut = prev.controlOut();
                var controlIn = seg.controlIn();
                if (prevOut && controlIn) {
                    page.bezier(
                        prevOut.x   , prevOut.y,
                        controlIn.x , controlIn.y,
                        anchor.x    , anchor.y
                    );
                } else {
                    page.lineTo(anchor.x, anchor.y);
                }
            }
            prev = seg;
        }
        if (element.options.closed) {
            page.close();
        }
    }
}

function drawPath(element, page, pdf) {
    _drawPath(element, page, pdf);
    maybeFillStroke(element, page, pdf);
}

function drawMultiPath(element, page, pdf) {
    var paths = element.paths;
    for (var i = 0; i < paths.length; ++i) {
        _drawPath(paths[i], page, pdf);
    }
    maybeFillStroke(element, page, pdf);
}

function drawCircle(element, page, pdf) {
    var g = element.geometry();
    page.circle(g.center.x, g.center.y, g.radius);
    maybeFillStroke(element, page, pdf);
}

function drawArc(element, page, pdf) {
    var points = element.geometry().curvePoints();
    page.moveTo(points[0].x, points[0].y);
    for (var i = 1; i < points.length;) {
        page.bezier(
            points[i].x, points[i++].y,
            points[i].x, points[i++].y,
            points[i].x, points[i++].y
        );
    }
    maybeFillStroke(element, page, pdf);
}

function drawText(element, page) {
    var style = parseFontDef(element.options.font);
    var pos = element._position;
    var mode;
    if (element.fill() && element.stroke()) {
        mode = TEXT_RENDERING_MODE$1.fillAndStroke;
    } else if (element.fill()) {
        mode = TEXT_RENDERING_MODE$1.fill;
    } else if (element.stroke()) {
        mode = TEXT_RENDERING_MODE$1.stroke;
    }

    page.transform(1, 0, 0, -1, pos.x, pos.y + style.fontSize);
    page.beginText();
    page.setFont(getFontURL(style), style.fontSize);
    page.setTextRenderingMode(mode);
    page.showText(element.content(), element._pdfRect ? element._pdfRect.width() : null);
    page.endText();
}

function drawGroup(element, page, pdf) {
    if (element._pdfLink) {
        page.addLink(element._pdfLink.url, element._pdfLink);
    }
    var children = element.children;
    for (var i = 0; i < children.length; ++i) {
        drawElement(children[i], page, pdf);
    }
}

function drawImage$1(element, page) {
    var url = element.src();
    if (!url) {
        return;
    }

    var rect = element.rect();
    var tl = rect.getOrigin();
    var sz = rect.getSize();
    page.transform(sz.width, 0, 0, -sz.height, tl.x, tl.y + sz.height);
    page.drawImage(url);
}

function drawRect(element, page, pdf) {
    var geometry = element.geometry();
    page.rect(geometry.origin.x, geometry.origin.y, geometry.size.width, geometry.size.height);
    maybeFillStroke(element, page, pdf);
}

function parseColor$1(value) {
    var color = parseColor(value, true);
    return color ? color.toRGB() : null;
}

function optimize(root) {
    var clipbox = false;
    var matrix = Matrix.unit();
    var currentBox = null;
    var changed;
    do {
        changed = false;
        root = opt(root);
    } while (root && changed);
    return { root: root, bbox: currentBox };

    function change(newShape) {
        changed = true;
        return newShape;
    }

    function visible(shape) {
        return (shape.visible() && shape.opacity() > 0 &&
                ( shouldDraw(shape.fill()) ||
                  shouldDraw(shape.stroke()) ));
    }

    function optArray(a) {
        var b = [];
        for (var i = 0; i < a.length; ++i) {
            var el = opt(a[i]);
            if (el != null) {
                b.push(el);
            }
        }
        return b;
    }

    function withClipping(shape, f) {
        var saveclipbox = clipbox;
        var savematrix = matrix;

        if (shape.transform()) {
            matrix = matrix.multiplyCopy(shape.transform().matrix());
        }

        var clip = shape.clip();
        if (clip) {
            clip = clip.bbox();
            if (clip) {
                clip = clip.bbox(matrix);
                clipbox = clipbox ? Rect.intersect(clipbox, clip) : clip;
            }
        }

        try {
            return f();
        }
        finally {
            clipbox = saveclipbox;
            matrix = savematrix;
        }
    }

    function inClipbox(shape) {
        if (clipbox == null) {
            return false;
        }
        var box = shape.rawBBox().bbox(matrix);
        if (clipbox && box) {
            box = Rect.intersect(box, clipbox);
        }
        return box;
    }

    function opt(shape) {
        return withClipping(shape, function(){
            if (!(shape instanceof Group || shape instanceof MultiPath)) {
                var box = inClipbox(shape);
                if (!box) {
                    return change(null);
                }
                currentBox = currentBox ? Rect.union(currentBox, box) : box;
            }
            return dispatch({
                Path: function(shape) {
                    if (shape.segments.length === 0 || !visible(shape)) {
                        return change(null);
                    }
                    return shape;
                },
                MultiPath: function(shape) {
                    if (!visible(shape)) {
                        return change(null);
                    }
                    var el = new MultiPath(shape.options);
                    el.paths = optArray(shape.paths);
                    if (el.paths.length === 0) {
                        return change(null);
                    }
                    return el;
                },
                Circle: function(shape) {
                    if (!visible(shape)) {
                        return change(null);
                    }
                    return shape;
                },
                Arc: function(shape) {
                    if (!visible(shape)) {
                        return change(null);
                    }
                    return shape;
                },
                Text: function(shape) {
                    if (!/\S/.test(shape.content()) || !visible(shape)) {
                        return change(null);
                    }
                    return shape;
                },
                Image: function(shape) {
                    if (!(shape.visible() && shape.opacity() > 0)) {
                        return change(null);
                    }
                    return shape;
                },
                Group: function(shape) {
                    if (!(shape.visible() && shape.opacity() > 0)) {
                        return change(null);
                    }
                    var el = new Group(shape.options);
                    el.children = optArray(shape.children);
                    el._pdfLink = shape._pdfLink;
                    if (shape !== root && el.children.length === 0 && !shape._pdfLink) {
                        return change(null);
                    }
                    return el;
                },
                Rect: function(shape) {
                    if (!visible(shape)) {
                        return change(null);
                    }
                    return shape;
                }
            }, shape);
        });
    }
}

function exportPDF(group, options) {
    var promise = createPromise();

    for (var i in options) {
        if (i == "margin" && group.options.pdf && group.options.pdf._ignoreMargin) {
            // This hackish option is set by the page breaking code in drawDOM.  The idea is
            // that margin is already taken into account there (that's required to do proper
            // page breaking) and we don't want to set it again here, as it would double the
            // top-left margin, and truncate the content on bottom/right.
            continue;
        }
        group.options.set("pdf." + i, options[i]);
    }

    toDataURL(group, promise.resolve);

    return promise;
}



var pdf = Object.freeze({
	Document: PDFDocument,
	BinaryStream: BinaryStream,
	defineFont: defineFont,
	parseFontDef: parseFontDef,
	getFontURL: getFontURL,
	loadFonts: loadFonts,
	loadImages: loadImages,
	getPaperOptions: getPaperOptions,
	clearImageCache: clearImageCache,
	TEXT_RENDERING_MODE: TEXT_RENDERING_MODE,
	exportPDF: exportPDF,
	saveAs: saveAs$1,
	toDataURL: toDataURL,
	toBlob: toBlob,
	render: render$1
});

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty, yoda */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

var browser$2 = support.browser || {};
/*

  XXX: to test:

  - cloneNodes function:
    - drawing document containing canvas with page breaking
    - drawing document with named radio <input>-s (should not clear selection)
    - IE9/IE10 don't support el.dataset; do they copy user data?

  - repeating table headers/footers on page breaking

  - forceBreak, keepTogether

  - avoidLinks

 */

/* -----[ local vars ]----- */

function slice$1$1(thing) {
    return Array.prototype.slice.call(thing);
}

var KENDO_PSEUDO_ELEMENT = "KENDO-PSEUDO-ELEMENT";

var IMAGE_CACHE$1 = {};

var nodeInfo = {};
nodeInfo._root = nodeInfo;

/* -----[ Custom Text node to speed up rendering in PDF ]----- */

var inBrowser = typeof window !== 'undefined';
var microsoft = inBrowser ? browser$2.msie || browser$2.edge : false;

var TextRect = (function (Text$$1) {
  function TextRect(str, rect, options) {
        Text$$1.call(this, str, rect.getOrigin(), options);
        this._pdfRect = rect;
    }

  if ( Text$$1 ) TextRect.__proto__ = Text$$1;
  TextRect.prototype = Object.create( Text$$1 && Text$$1.prototype );
  TextRect.prototype.constructor = TextRect;
    TextRect.prototype.rect = function rect () {
        // this is the crux of it: we can avoid a call to
        // measure(), which is what the base class does, since we
        // already know the rect.  measure() is s-l-o-w.
        return this._pdfRect;
    };
    TextRect.prototype.rawBBox = function rawBBox () {
        // also let's avoid creating a new rectangle.
        return this._pdfRect;
    };

  return TextRect;
}(Text));

function addClass(el, cls) {
    if (el.classList) {
        el.classList.add(cls);
    } else {
        el.className += " " + cls;
    }
}

function removeClass(el, cls) {
    if (el.classList) {
        el.classList.remove(cls);
    } else {
        el.className = el.className.split(/\s+/).reduce(function(a, word){
            if (word != cls) {
                a.push(word);
            }
            return a;
        }, []).join(" ");
    }
}

function setCSS(el, styles) {
    Object.keys(styles).forEach(function(key){
        el.style[key] = styles[key];
    });
}

var matches = typeof Element !== "undefined" && Element.prototype && (function(p){
    if (p.matches) {
        return function(el, selector) { return el.matches(selector); };
    }
    if (p.webkitMatchesSelector) {
        return function(el, selector) { return el.webkitMatchesSelector(selector); };
    }
    if (p.mozMatchesSelector) {
        return function(el, selector) { return el.mozMatchesSelector(selector); };
    }
    if (p.msMatchesSelector) {
        return function(el, selector) { return el.msMatchesSelector(selector); };
    }
    return function(s) {
	return [].indexOf.call(document.querySelectorAll(s), this) !== -1;
    };
})(Element.prototype);

function closest(el, selector) {
    if (el.closest) {
        return el.closest(selector);
    }
    // IE: stringifying rather than simply comparing with `document`,
    // which is not iframe-proof and fails in editor export —
    // https://github.com/telerik/kendo/issues/6721
    while (el && !/^\[object (?:HTML)?Document\]$/.test(String(el))) {
        if (el.nodeType == 1 /* Element */ && matches(el, selector)) {
            return el;
        }
        el = el.parentNode;
    }
}

// clone nodes ourselves, so that we redraw <canvas> (DOM or
// jQuery clone will not)
var cloneNodes = (function($){
    if ($) {
        // if we have Kendo and jQuery, use this version as it will
        // maintain proper links between cloned element and Kendo
        // widgets (i.e. it clones jQuery data(), which isn't the same
        // as element's data attributes).
        // https://github.com/telerik/kendo-ui-core/issues/2750
        return function cloneNodes(el) {
            var clone = el.cloneNode(false);
            if (el.nodeType == 1 /* Element */) {
                var $el = $(el), $clone = $(clone), i;
                var data = $el.data();
                for (i in data) {
                    $clone.data(i, data[i]);
                }
                if (/^canvas$/i.test(el.tagName)) {
                    clone.getContext("2d").drawImage(el, 0, 0);
                } else if (/^(?:input|select|textarea|option)$/i.test(el.tagName)) {
                    // drop the name attributes so that we don't affect the selection of the
                    // original nodes (i.e. checked status of radio buttons) when we insert our copy
                    // into the DOM.  https://github.com/telerik/kendo/issues/5409
                    clone.removeAttribute("id");
                    clone.removeAttribute("name");
                    if (!/^textarea$/i.test(el.tagName)) {
                        clone.value = el.value;
                    }
                    clone.checked = el.checked;
                    clone.selected = el.selected;
                }
                for (i = el.firstChild; i; i = i.nextSibling) {
                    clone.appendChild(cloneNodes(i));
                }
            }
            return clone;
        };
    } else {
        // the no-jQuery version
        return function cloneNodes(el) {
            var clone = (function dive(node){
                var clone = node.cloneNode(false);
                if (node._kendoExportVisual) {
                    clone._kendoExportVisual = node._kendoExportVisual;
                }
                for (var i = node.firstChild; i; i = i.nextSibling) {
                    clone.appendChild(dive(i));
                }
                return clone;
            })(el);

            // re-draw canvases - https://github.com/telerik/kendo/issues/4872
            var canvases = el.querySelectorAll("canvas");
            if (canvases.length) {
                slice$1$1(clone.querySelectorAll("canvas")).forEach(function (canvas$$1, i) {
                    canvas$$1.getContext("2d").drawImage(canvases[i], 0, 0);
                });
            }

            // remove "name" attributes from <input> elements -
            // https://github.com/telerik/kendo/issues/5409
            var orig = el.querySelectorAll("input, select, textarea, option");
            slice$1$1(clone.querySelectorAll("input, select, textarea, option")).forEach(function (el, i) {
                el.removeAttribute("id");
                el.removeAttribute("name");
                if (!/^textarea$/i.test(el.tagName)) {
                    el.value = orig[i].value;
                }
                el.checked = orig[i].checked;
                el.selected = orig[i].selected;
            });

            return clone;
        };
    }
})(typeof window !== "undefined" && window.kendo && window.kendo.jQuery);

function getXY(thing) {
    if (typeof thing == "number") {
        return { x: thing, y: thing };
    }
    if (Array.isArray(thing)) {
        return { x: thing[0], y: thing[1] };
    }
    return { x: thing.x, y: thing.y };
}

function drawDOM(element, options) {
    if (!options) {
        options = {};
    }
    var promise = createPromise();

    if (!element) {
        return promise.reject("No element to export");
    }

    if (typeof window.getComputedStyle != "function") {
        throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");
    }

    defineFont(getFontFaces(element.ownerDocument));

    var scale = getXY(options.scale || 1);

    function doOne(element) {
        var group = new Group();

        // translate to start of page
        var pos = element.getBoundingClientRect();
        setTransform$1(group, [
            scale.x,
            0,
            0,
            scale.y,
            (-pos.left * scale.x),
            (-pos.top * scale.y)
        ]);

        nodeInfo._clipbox = false;
        nodeInfo._matrix = Matrix.unit();
        nodeInfo._stackingContext = {
            element: element,
            group: group
        };

        if (options.avoidLinks === true) {
            nodeInfo._avoidLinks = "a";
        } else {
            nodeInfo._avoidLinks = options.avoidLinks;
        }

        addClass(element, "k-pdf-export");
        renderElement(element, group);
        removeClass(element, "k-pdf-export");

        return group;
    }

    cacheImages(element, function(){
        var forceBreak = options && options.forcePageBreak;
        var hasPaperSize = options && options.paperSize && options.paperSize != "auto";
        var paperOptions = getPaperOptions(function(key, def){
            if (key == "paperSize") {
                // PDF.getPaperOptions croaks on "auto", just pass dummy A4 as we might
                // still be interested in margins.
                return hasPaperSize ? options[key] : "A4";
            }
            return key in options ? options[key] : def;
        });
        var pageWidth = hasPaperSize && paperOptions.paperSize[0];
        var pageHeight = hasPaperSize && paperOptions.paperSize[1];
        var margin = options.margin && paperOptions.margin;
        var hasMargin = Boolean(margin);
        if (forceBreak || pageHeight) {
            if (!margin) {
                margin = { left: 0, top: 0, right: 0, bottom: 0 };
            }

            // we want paper size and margin to be unaffected by
            // scaling in the output, so we have to reverse-scale
            // before our calculations begin.
            if (pageWidth)  { pageWidth  /= scale.x; }
            if (pageHeight) { pageHeight /= scale.y; }
            margin.left   /= scale.x;
            margin.right  /= scale.x;
            margin.top    /= scale.y;
            margin.bottom /= scale.y;

            var group = new Group({
                pdf: {
                    multiPage     : true,
                    paperSize     : hasPaperSize ? paperOptions.paperSize : "auto",
                    _ignoreMargin : hasMargin // HACK!  see exportPDF in pdf/drawing.js
                }
            });
            handlePageBreaks(
                function(x) {
                    if (options.progress) {
                        var canceled = false, pageNum = 0;
                        (function next(){
                            if (pageNum < x.pages.length) {
                                var page = doOne(x.pages[pageNum]);
                                group.append(page);
                                options.progress({
                                    page: page,
                                    pageNum: ++pageNum,
                                    totalPages: x.pages.length,
                                    cancel: function() {
                                        canceled = true;
                                    }
                                });
                                if (!canceled) {
                                    setTimeout(next);
                                } else {
                                    // XXX: should we also fail() the deferred object?
                                    x.container.parentNode.removeChild(x.container);
                                }
                            } else {
                                x.container.parentNode.removeChild(x.container);
                                promise.resolve(group);
                            }
                        })();
                    } else {
                        x.pages.forEach(function(page){
                            group.append(doOne(page));
                        });
                        x.container.parentNode.removeChild(x.container);
                        promise.resolve(group);
                    }
                },
                element,
                forceBreak,
                pageWidth ? pageWidth - margin.left - margin.right : null,
                pageHeight ? pageHeight - margin.top - margin.bottom : null,
                margin,
                options
            );
        } else {
            promise.resolve(doOne(element));
        }
    });

    function makeTemplate(template$$1) {
        if (template$$1 != null) {
            if (typeof template$$1 == "string") {
                template$$1 = template$1(template$$1.replace(/^\s+|\s+$/g, ""));
            }
            if (typeof template$$1 == "function") {
                return function(data) {
                    var el = template$$1(data);
                    if (el && typeof el == "string") {
                        var div = document.createElement("div");
                        div.innerHTML = el;
                        el = div.firstElementChild;
                    }
                    return el;
                };
            }
            // assumed DOM element
            return function() {
                return template$$1.cloneNode(true);
            };
        }
    }

    function handlePageBreaks(callback, element, forceBreak, pageWidth, pageHeight, margin, options) {
        var template$$1 = makeTemplate(options.template);
        var doc = element.ownerDocument;
        var pages = [];
        var copy = options._destructive ? element : cloneNodes(element);
        var container = doc.createElement("KENDO-PDF-DOCUMENT");
        var adjust = 0;

        // make sure <tfoot> elements are at the end (Grid widget
        // places TFOOT before TBODY, tricking our algorithm to
        // insert a page break right after the header).
        // https://github.com/telerik/kendo/issues/4699
        slice$1$1(copy.querySelectorAll("tfoot")).forEach(function(tfoot){
            tfoot.parentNode.appendChild(tfoot);
        });

        // remember the index of each LI from an ordered list.
        // we'll use it to reconstruct the proper numbering.
        slice$1$1(copy.querySelectorAll("ol")).forEach(function(ol){
            slice$1$1(ol.children).forEach(function(li, index){
                li.setAttribute("kendo-split-index", index);
            });
        });

        setCSS(container, {
            display   : "block",
            position  : "absolute",
            boxSizing : "content-box",
            left      : "-10000px",
            top       : "-10000px"
        });

        if (pageWidth) {
            // subtle: if we don't set the width *and* margins here, the layout in this
            // container will be different from the one in our final page elements, and we'll
            // split at the wrong places.
            setCSS(container, {
                width        : pageWidth + "px",
                paddingLeft  : margin.left + "px",
                paddingRight : margin.right + "px"
            });

            // when the first element has a margin-top (i.e. a <h1>) the page will be
            // inadvertently enlarged by that number (the browser will report the container's
            // bounding box top to start at the element's top, rather than including its
            // margin).  Adding overflow: hidden seems to fix it.
            //
            // to understand the difference, try the following snippets in your browser:
            //
            // 1. <div style="background: yellow">
            //      <h1 style="margin: 3em">Foo</h1>
            //    </div>
            //
            // 2. <div style="background: yellow; overflow: hidden">
            //      <h1 style="margin: 3em">Foo</h1>
            //    </div>
            //
            // this detail is not important when automatic page breaking is not requested, hence
            // doing it only if pageWidth is defined.
            setCSS(copy, { overflow: "hidden" });
        }

        element.parentNode.insertBefore(container, element);
        container.appendChild(copy);

        // we need the timeouts here, so that images dimensions are
        // properly computed in DOM when we start our thing.
        if (options.beforePageBreak) {
            setTimeout(function(){
                options.beforePageBreak(container, doPageBreak);
            }, 15);
        } else {
            setTimeout(doPageBreak, 15);
        }

        function doPageBreak() {
            if (forceBreak != "-" || pageHeight) {
                splitElement(copy);
            }

            {
                var page = makePage();
                copy.parentNode.insertBefore(page, copy);
                page.appendChild(copy);
            }

            if (template$$1) {
                pages.forEach(function(page, i){
                    var el = template$$1({
                        element    : page,
                        pageNum    : i + 1,
                        totalPages : pages.length
                    });
                    if (el) {
                        page.appendChild(el);
                    }
                });
            }

            cacheImages(pages, function() {
                // Even though we already cached images, they simply won't be available
                // immediately in the newly created DOM.  Previously we'd allow a 10ms timeout,
                // but that's arbitrary and clearly not working in all cases
                // (https://github.com/telerik/kendo/issues/5399), so this function will wait
                // for their .complete attribute.
                whenImagesAreActuallyLoaded(pages, function(){
                    callback({ pages: pages, container: container });
                });
            });
        }

        function keepTogether(el) {
            if (options.keepTogether && matches(el, options.keepTogether) && el.offsetHeight <= pageHeight - adjust) {
                return true;
            }

            var tag = el.tagName;
            if (/^h[1-6]$/i.test(tag) && el.offsetHeight >= pageHeight - adjust) {
                return false;
            }

            return (el.getAttribute("data-kendo-chart") ||
                    /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(el.tagName));
        }

        function splitElement(element) {
            if (element.tagName == "TABLE") {
                setCSS(element, { tableLayout: "fixed" });
            }
            if (keepTogether(element)) {
                return;
            }
            var style = getComputedStyle(element);
            var bottomPadding = parseFloat(getPropertyValue(style, "padding-bottom"));
            var bottomBorder = parseFloat(getPropertyValue(style, "border-bottom-width"));
            var saveAdjust = adjust;
            adjust += bottomPadding + bottomBorder;
            var isFirst = true;
            for (var el = element.firstChild; el; el = el.nextSibling) {
                if (el.nodeType == 1 /* Element */) {
                    isFirst = false;
                    if (matches(el, forceBreak)) {
                        breakAtElement(el);
                        continue;
                    }
                    if (!pageHeight) {
                        // we're in "manual breaks mode"
                        splitElement(el);
                        continue;
                    }
                    if (!/^(?:static|relative)$/.test(getPropertyValue(getComputedStyle(el), "position"))) {
                        continue;
                    }
                    var fall = fallsOnMargin(el);
                    if (fall == 1) {
                        // element starts on next page, break before anyway.
                        breakAtElement(el);
                    }
                    else if (fall) {
                        // elements ends up on next page, or possibly doesn't fit on a page at
                        // all.  break before it anyway if it's an <img> or <tr>, otherwise
                        // attempt to split.
                        if (keepTogether(el)) {
                            breakAtElement(el);
                        } else {
                            splitElement(el);
                        }
                    }
                    else {
                        splitElement(el);
                    }
                }
                else if (el.nodeType == 3 /* Text */ && pageHeight) {
                    splitText(el, isFirst);
                    isFirst = false;
                }
            }
            adjust = saveAdjust;
        }

        function firstInParent(el) {
            var p = el.parentNode, first = p.firstChild;
            if (el === first) {
                return true;
            }
            if (el === p.children[0]) {
                if (first.nodeType == 7 /* comment */ ||
                    first.nodeType == 8 /* processing instruction */) {
                    return true;
                }
                if (first.nodeType == 3 /* text */) {
                    // if whitespace only we can probably consider it's first
                    return !/\S/.test(first.data);
                }
            }
            return false;
        }

        function breakAtElement(el) {
            if (el.nodeType == 1 && el !== copy && firstInParent(el)) {
                return breakAtElement(el.parentNode);
            }
            var table, colgroup, thead, grid, gridHead;
            table = closest(el, "table");
            colgroup = table && table.querySelector("colgroup");
            if (options.repeatHeaders) {
                thead = table && table.querySelector("thead");

                // If we break page in a Kendo Grid, repeat its header.  This ugly hack is
                // necessary because a scrollable grid will keep the header in a separate
                // <table> element from its content.
                //
                // XXX: This is likely to break as soon as the widget HTML is modified.
                grid = closest(el, ".k-grid.k-widget");
                if (grid && grid.querySelector(".k-auto-scrollable")) {
                    gridHead = grid.querySelector(".k-grid-header");
                }
            }
            var page = makePage();
            var range = doc.createRange();
            range.setStartBefore(copy);
            range.setEndBefore(el);
            page.appendChild(range.extractContents());
            copy.parentNode.insertBefore(page, copy);
            preventBulletOnListItem(el.parentNode);
            if (table) {
                table = closest(el, "table"); // that's the <table> on next page!
                if (options.repeatHeaders && thead) {
                    table.insertBefore(thead.cloneNode(true), table.firstChild);
                }
                if (colgroup) {
                    table.insertBefore(colgroup.cloneNode(true), table.firstChild);
                }
            }
            if (options.repeatHeaders && gridHead) {
                grid = closest(el, ".k-grid.k-widget");
                grid.insertBefore(gridHead.cloneNode(true), grid.firstChild);
            }
        }

        function makePage() {
            var page = doc.createElement("KENDO-PDF-PAGE");
            setCSS(page, {
                display  : "block",
                boxSizing: "content-box",
                width    : pageWidth ? (pageWidth + "px") : "auto",
                padding  : (margin.top + "px " +
                            margin.right + "px " +
                            margin.bottom + "px " +
                            margin.left + "px"),

                // allow absolutely positioned elements to be relative to current page
                position : "relative",

                // without the following we might affect layout of subsequent pages
                height   : pageHeight ? (pageHeight + "px") : "auto",
                overflow : pageHeight || pageWidth ? "hidden" : "visible",
                clear    : "both"
            });

            // debug
            // $("<div>").css({
            //     position  : "absolute",
            //     left      : margin.left,
            //     top       : margin.top,
            //     width     : pageWidth,
            //     height    : pageHeight,
            //     boxSizing : "border-box",
            //     background: "rgba(255, 255, 0, 0.5)"
            //     //border    : "1px solid red"
            // }).appendTo(page);

            if (options && options.pageClassName) {
                page.className = options.pageClassName;
            }
            pages.push(page);
            return page;
        }

        function fallsOnMargin(thing) {
            var box = thing.getBoundingClientRect();
            if (box.width === 0 || box.height === 0) {
                // I'd say an element with dimensions zero fits on current page.
                return 0;
            }
            var top = copy.getBoundingClientRect().top;
            var available = pageHeight - adjust;
            return (box.height > available) ? 3
                : (box.top - top > available) ? 1
                : (box.bottom - top > available) ? 2
                : 0;
        }

        function splitText(node, isFirst) {
            if (!/\S/.test(node.data)) {
                return;
            }

            var len = node.data.length;
            var range = doc.createRange();
            range.selectNodeContents(node);
            var fall = fallsOnMargin(range);
            if (!fall) {
                return;     // the whole text fits on current page
            }

            var nextnode = node;
            if (fall == 1) {
                // starts on next page, break before anyway.
                if (isFirst) {
                    // avoid leaving an empty <p>, <li>, etc. on previous page.
                    breakAtElement(node.parentNode);
                } else {
                    breakAtElement(node);
                }
            }
            else {
                (function findEOP(min, pos, max) {
                    range.setEnd(node, pos);
                    if (min == pos || pos == max) {
                        return pos;
                    }
                    if (fallsOnMargin(range)) {
                        return findEOP(min, (min + pos) >> 1, pos);
                    } else {
                        return findEOP(pos, (pos + max) >> 1, max);
                    }
                })(0, len >> 1, len);

                if (!/\S/.test(range.toString()) && isFirst) {
                    // avoid leaving an empty <p>, <li>, etc. on previous page.
                    breakAtElement(node.parentNode);
                } else {
                    // This is only needed for IE, but it feels cleaner to do it anyway.  Without
                    // it, IE will truncate a very long text (playground/pdf-long-text-2.html).
                    nextnode = node.splitText(range.endOffset);

                    var page = makePage();
                    range.setStartBefore(copy);
                    page.appendChild(range.extractContents());
                    copy.parentNode.insertBefore(page, copy);
                    preventBulletOnListItem(nextnode.parentNode);
                }
            }

            splitText(nextnode);
        }

        function preventBulletOnListItem(el) {
            // set a hint on continued LI elements, to tell the
            // renderer not to draw the bullet again.
            // https://github.com/telerik/kendo-ui-core/issues/2732
            var li = closest(el, "li");
            if (li) {
                li.setAttribute("kendo-no-bullet", "1");
                preventBulletOnListItem(li.parentNode);
            }
        }
    }

    return promise;
}

drawDOM.getFontFaces = getFontFaces;

// This is needed for the Spreadsheet print functionality.  Since
// there we only need to draw text, this cuts through the ceremony
// of drawDOM/renderElement and renders the text node directly.
drawDOM.drawText = function(element) {
    var group = new Group();
    nodeInfo._clipbox = false;
    nodeInfo._matrix = Matrix.unit();
    nodeInfo._stackingContext = {
        element: element,
        group: group
    };
    pushNodeInfo(element, getComputedStyle(element), group);
    if (element.firstChild.nodeType == 3 /* Text */) {
        // avoid the penalty of renderElement
        renderText(element, element.firstChild, group);
    } else {
        _renderElement(element, group);
    }
    popNodeInfo();
    return group;
};

var parseBackgroundImage = (function(){
    var tok_linear_gradient  = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;
    //var tok_radial_gradient  = /^((-webkit-|-moz-|-o-|-ms-)?radial-gradient\s*)\(/;
    var tok_percent          = /^([-0-9.]+%)/;
    var tok_length           = /^([-0-9.]+px)/;
    var tok_keyword          = /^(left|right|top|bottom|to|center)\W/;
    var tok_angle            = /^([-0-9.]+(deg|grad|rad|turn)|0)/;
    var tok_whitespace       = /^(\s+)/;
    var tok_popen            = /^(\()/;
    var tok_pclose           = /^(\))/;
    var tok_comma            = /^(,)/;
    var tok_url              = /^(url)\(/;
    var tok_content          = /^(.*?)\)/;

    var cache1 = {}, cache2 = {};

    function parse(input) {
        var orig = input;
        if (hasOwnProperty$2(cache1, orig)) {
            return cache1[orig];
        }
        function skip_ws() {
            var m = tok_whitespace.exec(input);
            if (m) {
                input = input.substr(m[1].length);
            }
        }
        function read(token) {
            skip_ws();
            var m = token.exec(input);
            if (m) {
                input = input.substr(m[1].length);
                return m[1];
            }
        }

        function read_stop() {
            var color = parseColor(input, true);
            var length, percent;
            if (color) {
                var match =
                    /^#[0-9a-f]+/i.exec(input) ||
                    /^rgba?\(.*?\)/i.exec(input) ||
                    /^..*?\b/.exec(input); // maybe named color
                input = input.substr(match[0].length);
                color = color.toRGB();
                if (!(length = read(tok_length))) {
                    percent = read(tok_percent);
                }
                return { color: color, length: length, percent: percent };
            }
        }

        function read_linear_gradient(propName) {
            var angle;
            var to1, to2;
            var stops = [];
            var reverse = false;

            if (read(tok_popen)) {
                // 1. [ <angle> || to <side-or-corner>, ]?
                angle = read(tok_angle);
                if (angle == "0") {
                    angle = "0deg"; // Edge
                }
                if (angle) {
                    angle = parseAngle(angle);
                    read(tok_comma);
                }
                else {
                    to1 = read(tok_keyword);
                    if (to1 == "to") {
                        to1 = read(tok_keyword);
                    } else if (to1 && /^-/.test(propName)) {
                        reverse = true;
                    }
                    to2 = read(tok_keyword);
                    read(tok_comma);
                }

                if (/-moz-/.test(propName) && angle == null && to1 == null) {
                    var x = read(tok_percent), y = read(tok_percent);
                    reverse = true;
                    if (x == "0%") {
                        to1 = "left";
                    } else if (x == "100%") {
                        to1 = "right";
                    }
                    if (y == "0%") {
                        to2 = "top";
                    } else if (y == "100%") {
                        to2 = "bottom";
                    }
                    read(tok_comma);
                }

                // 2. color stops
                while (input && !read(tok_pclose)) {
                    var stop = read_stop();
                    if (!stop) {
                        break;
                    }
                    stops.push(stop);
                    read(tok_comma);
                }

                return {
                    type    : "linear",
                    angle   : angle,
                    to      : to1 && to2 ? to1 + " " + to2 : to1 ? to1 : to2 ? to2 : null,
                    stops   : stops,
                    reverse : reverse
                };
            }
        }

        function read_url() {
            if (read(tok_popen)) {
                var url = read(tok_content);
                url = url.replace(/^['"]+|["']+$/g, "");
                read(tok_pclose);
                return { type: "url", url: url };
            }
        }

        var tok;

        if ((tok = read(tok_linear_gradient))) {
            tok = read_linear_gradient(tok);
        }
        else if ((tok = read(tok_url))) {
            tok = read_url();
        }

        return (cache1[orig] = tok || { type: "none" });
    }

    return function(input) {
        if (hasOwnProperty$2(cache2, input)) {
            return cache2[input];
        }
        return (cache2[input] = splitProperty(input).map(parse));
    };
})();

var splitProperty = (function(){
    var cache = {};
    return function(input, separator) {
        if (!separator) {
            separator = /^\s*,\s*/;
        }

        var cacheKey = input + separator;

        if (hasOwnProperty$2(cache, cacheKey)) {
            return cache[cacheKey];
        }

        var ret = [];
        var last$$1 = 0, pos = 0;
        var in_paren = 0;
        var in_string = false;
        var m;

        function looking_at(rx) {
            return (m = rx.exec(input.substr(pos)));
        }

        function trim(str) {
            return str.replace(/^\s+|\s+$/g, "");
        }

        while (pos < input.length) {
            if (!in_string && looking_at(/^[\(\[\{]/)) {
                in_paren++;
                pos++;
            }
            else if (!in_string && looking_at(/^[\)\]\}]/)) {
                in_paren--;
                pos++;
            }
            else if (!in_string && looking_at(/^[\"\']/)) {
                in_string = m[0];
                pos++;
            }
            else if (in_string == "'" && looking_at(/^\\\'/)) {
                pos += 2;
            }
            else if (in_string == '"' && looking_at(/^\\\"/)) {
                pos += 2;
            }
            else if (in_string == "'" && looking_at(/^\'/)) {
                in_string = false;
                pos++;
            }
            else if (in_string == '"' && looking_at(/^\"/)) {
                in_string = false;
                pos++;
            }
            else if (looking_at(separator)) {
                if (!in_string && !in_paren && pos > last$$1) {
                    ret.push(trim(input.substring(last$$1, pos)));
                    last$$1 = pos + m[0].length;
                }
                pos += m[0].length;
            }
            else {
                pos++;
            }
        }
        if (last$$1 < pos) {
            ret.push(trim(input.substring(last$$1, pos)));
        }
        return (cache[cacheKey] = ret);
    };
})();

var getFontURL$1 = (function(cache){
    return function(el){
        // XXX: for IE we get here the whole cssText of the rule,
        // because the computedStyle.src is empty.  Next time we need
        // to fix these regexps we better write a CSS parser. :-\
        var url = cache[el];
        if (!url) {
            var m;
            if ((m = /url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(el))) {
                url = cache[el] = m[2];
            } else if ((m = /url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(el))) {
                url = cache[el] = m[2];
            }
        }
        return url;
    };
})(Object.create(null));

var getFontHeight = (function(cache){
    return function(font) {
        var height = cache[font];
        if (height == null) {
            height = cache[font] = measureText("Mapq", { font: font }).height;
        }
        return height;
    };
})(Object.create(null));

function getFontFaces(doc) {
    if (doc == null) {
        doc = document;
    }
    var result = {};
    for (var i = 0; i < doc.styleSheets.length; ++i) {
        doStylesheet(doc.styleSheets[i]);
    }
    return result;
    function doStylesheet(ss) {
        if (ss) {
            var rules = null;
            try {
                rules = ss.cssRules;
            } catch (ex) {}
            if (rules) {
                addRules(ss, rules);
            }
        }
    }
    function findFonts(rule) {
        var src = getPropertyValue(rule.style, "src");
        if (src) {
            return splitProperty(src).reduce(function(a, el){
                var font = getFontURL$1(el);
                if (font) {
                    a.push(font);
                }
                return a;
            }, []);
        } else {
            // Internet Explorer
            // XXX: this is gross.  should work though for valid CSS.
            var font = getFontURL$1(rule.cssText);
            return font ? [ font ] : [];
        }
    }
    function addRules(styleSheet, rules) {
        for (var i = 0; i < rules.length; ++i) {
            var r = rules[i];
            switch (r.type) {
              case 3:       // CSSImportRule
                doStylesheet(r.styleSheet);
                break;
              case 5:       // CSSFontFaceRule
                var style  = r.style;
                var family = splitProperty(getPropertyValue(style, "font-family"));
                var bold   = /^([56789]00|bold)$/i.test(getPropertyValue(style, "font-weight"));
                var italic = "italic" == getPropertyValue(style, "font-style");
                var src    = findFonts(r);
                if (src.length > 0) {
                    addRule(styleSheet, family, bold, italic, src[0]);
                }
            }
        }
    }
    function addRule(styleSheet, names, bold, italic, url) {
        // We get full resolved absolute URLs in Chrome, but sadly
        // not in Firefox.
        if (!(/^data:/i.test(url))) {
            if (!(/^[^\/:]+:\/\//.test(url) || /^\//.test(url))) {
                url = String(styleSheet.href).replace(/[^\/]*$/, "") + url;
            }
        }
        names.forEach(function(name){
            name = name.replace(/^(['"]?)(.*?)\1$/, "$2"); // it's quoted
            if (bold) {
                name += "|bold";
            }
            if (italic) {
                name += "|italic";
            }
            result[name] = url;
        });
    }
}

function hasOwnProperty$2(obj, key) {
    return Object.prototype.hasOwnProperty.call(obj, key);
}

function getCounter(name) {
    name = "_counter_" + name;
    return nodeInfo[name];
}

function getAllCounters(name) {
    var values = [], p = nodeInfo;
    name = "_counter_" + name;
    while (p) {
        if (hasOwnProperty$2(p, name)) {
            values.push(p[name]);
        }
        p = Object.getPrototypeOf(p);
    }
    return values.reverse();
}

function incCounter(name, inc) {
    var p = nodeInfo;
    name = "_counter_" + name;
    while (p && !hasOwnProperty$2(p, name)) {
        p = Object.getPrototypeOf(p);
    }
    if (!p) {
        p = nodeInfo._root;
    }
    p[name] = (p[name] || 0) + (inc == null ? 1 : inc);
}

function resetCounter(name, val) {
    name = "_counter_" + name;
    nodeInfo[name] = val == null ? 0 : val;
}

function doCounters(a, f, def) {
    for (var i = 0; i < a.length;) {
        var name = a[i++];
        var val = parseFloat(a[i]);
        if (isNaN(val)) {
            f(name, def);
        } else {
            f(name, val);
            ++i;
        }
    }
}

function updateCounters(style) {
    var counterReset = getPropertyValue(style, "counter-reset");
    if (counterReset) {
        doCounters(splitProperty(counterReset, /^\s+/), resetCounter, 0);
    }
    var counterIncrement = getPropertyValue(style, "counter-increment");
    if (counterIncrement) {
        doCounters(splitProperty(counterIncrement, /^\s+/), incCounter, 1);
    }
}

function parseColor$2(str, css) {
    var color = parseColor(str, true);
    if (color) {
        color = color.toRGB();
        if (css) {
            color = color.toCssRgba();
        } else if (color.a === 0) {
            color = null;
        }
    }
    return color;
}

function whenImagesAreActuallyLoaded(elements, callback) {
    var pending = 0;
    elements.forEach(function(el){
        var images = el.querySelectorAll("img");
        for (var i = 0; i < images.length; ++i) {
            var img = images[i];
            if (!img.complete) {
                pending++;
                img.onload = img.onerror = next;
            }
        }
    });
    if (!pending) {
        next();
    }
    function next() {
        if (--pending <= 0) {
            callback();
        }
    }
}

function cacheImages(element, callback) {
    var urls = [];
    function add(url) {
        if (!IMAGE_CACHE$1[url]) {
            IMAGE_CACHE$1[url] = true;
            urls.push(url);
        }
    }
    function dive(element){
        if (/^img$/i.test(element.tagName)) {
            add(element.src);
        }
        parseBackgroundImage(
            getPropertyValue(
                getComputedStyle(element), "background-image"
            )
        ).forEach(function(bg){
            if (bg.type == "url") {
                add(bg.url);
            }
        });

        if (element.children) {
            slice$1$1(element.children).forEach(dive);
        }
    }

    if (Array.isArray(element)) {
        element.forEach(dive);
    } else {
        dive(element);
    }

    var count = urls.length;
    function next() {
        if (--count <= 0) {
            callback();
        }
    }
    if (count === 0) {
        next();
    }
    urls.forEach(function(url){
        var img = IMAGE_CACHE$1[url] = new window.Image();
        if (!(/^data:/i.test(url))) {
            img.crossOrigin = "Anonymous";
        }
        img.src = url;
        if (img.complete) {
            next();
        } else {
            img.onload = next;
            img.onerror = function() {
                IMAGE_CACHE$1[url] = null;
                next();
            };
        }
    });
}

function alphaNumeral(n) {
    var result = "";
    do {
        var r = n % 26;
        result = String.fromCharCode(97 + r) + result;
        n = Math.floor(n / 26);
    } while (n > 0);
    return result;
}

function pushNodeInfo(element, style, group) {
    nodeInfo = Object.create(nodeInfo);
    nodeInfo[element.tagName.toLowerCase()] = {
        element: element,
        style: style
    };
    var decoration = getPropertyValue(style, "text-decoration");
    if (decoration && decoration != "none") {
        var color = getPropertyValue(style, "color");
        decoration.split(/\s+/g).forEach(function(name){
            if (!nodeInfo[name]) {
                nodeInfo[name] = color;
            }
        });
    }

    if (createsStackingContext(style)) {
        nodeInfo._stackingContext = {
            element: element,
            group: group
        };
    }
}

function popNodeInfo() {
    nodeInfo = Object.getPrototypeOf(nodeInfo);
}

function updateClipbox(path) {
    if (nodeInfo._clipbox != null) {
        var box = path.bbox(nodeInfo._matrix);
        if (nodeInfo._clipbox) {
            nodeInfo._clipbox = Rect.intersect(nodeInfo._clipbox, box);
        } else {
            nodeInfo._clipbox = box;
        }
    }
}

function emptyClipbox() {
    var cb = nodeInfo._clipbox;
    if (cb == null) {
        return true;
    }
    if (cb) {
        return cb.width() === 0 || cb.height() === 0;
    }
}

function createsStackingContext(style) {
    function prop(name) { return getPropertyValue(style, name); }
    if (prop("transform") != "none" ||
        prop("position") != "static" ||
        prop("z-index") != "auto" ||
        prop("opacity") < 1) {
        return true;
    }
}

function getComputedStyle(element, pseudoElt) {
    return window.getComputedStyle(element, pseudoElt || null);
}

function getPropertyValue(style, prop, defa) {
    var val = style.getPropertyValue(prop);
    if (val == null || val === "") {
        if (browser$2.webkit) {
            val = style.getPropertyValue("-webkit-" + prop );
        } else if (browser$2.mozilla) {
            val = style.getPropertyValue("-moz-" + prop );
        } else if (browser$2.opera) {
            val = style.getPropertyValue("-o-" + prop);
        } else if (microsoft) {
            val = style.getPropertyValue("-ms-" + prop);
        }
    }
    if (arguments.length > 2 && (val == null || val === "")) {
        return defa;
    } else {
        return val;
    }
}

function pleaseSetPropertyValue(style, prop, value, important) {
    style.setProperty(prop, value, important);
    if (browser$2.webkit) {
        style.setProperty("-webkit-" + prop, value, important);
    } else if (browser$2.mozilla) {
        style.setProperty("-moz-" + prop, value, important);
    } else if (browser$2.opera) {
        style.setProperty("-o-" + prop, value, important);
    } else if (microsoft) {
        style.setProperty("-ms-" + prop, value, important);
        prop = "ms" + prop.replace(/(^|-)([a-z])/g, function(s, p1, p2){
            return p1 + p2.toUpperCase();
        });
        style[prop] = value;
    }
}

function getBorder(style, side) {
    side = "border-" + side;
    return {
        width: parseFloat(getPropertyValue(style, side + "-width")),
        style: getPropertyValue(style, side + "-style"),
        color: parseColor$2(getPropertyValue(style, side + "-color"), true)
    };
}

function saveStyle(element, func) {
    var prev = element.style.cssText;
    var result = func();
    element.style.cssText = prev;
    return result;
}

function getBorderRadius(style, side) {
    var r = getPropertyValue(style, "border-" + side + "-radius").split(/\s+/g).map(parseFloat);
    if (r.length == 1) {
        r.push(r[0]);
    }
    return sanitizeRadius({ x: r[0], y: r[1] });
}

function getContentBox(element) {
    var box = element.getBoundingClientRect();
    box = innerBox(box, "border-*-width", element);
    box = innerBox(box, "padding-*", element);
    return box;
}

function innerBox(box, prop, element) {
    var style, wt, wr, wb, wl;
    if (typeof prop == "string") {
        style = getComputedStyle(element);
        wt = parseFloat(getPropertyValue(style, prop.replace("*", "top")));
        wr = parseFloat(getPropertyValue(style, prop.replace("*", "right")));
        wb = parseFloat(getPropertyValue(style, prop.replace("*", "bottom")));
        wl = parseFloat(getPropertyValue(style, prop.replace("*", "left")));
    }
    else if (typeof prop == "number") {
        wt = wr = wb = wl = prop;
    }
    return {
        top    : box.top + wt,
        right  : box.right - wr,
        bottom : box.bottom - wb,
        left   : box.left + wl,
        width  : box.right - box.left - wr - wl,
        height : box.bottom - box.top - wb - wt
    };
}

function getTransform(style) {
    var transform$$1 = getPropertyValue(style, "transform");
    if (transform$$1 == "none") {
        return null;
    }
    var matrix = /^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(transform$$1);
    if (matrix) {
        var origin = getPropertyValue(style, "transform-origin");
        matrix = matrix[1].split(/\s*,\s*/g).map(parseFloat);
        origin = origin.split(/\s+/g).map(parseFloat);
        return {
            matrix: matrix,
            origin: origin
        };
    }
}

function radiansToDegrees(radians) {
    return ((180 * radians) / Math.PI) % 360;
}

function parseAngle(angle) {
    var num = parseFloat(angle);
    if (/grad$/.test(angle)) {
        return Math.PI * num / 200;
    }
    else if (/rad$/.test(angle)) {
        return num;
    }
    else if (/turn$/.test(angle)) {
        return Math.PI * num * 2;
    }
    else if (/deg$/.test(angle)) {
        return Math.PI * num / 180;
    }
}

function setTransform$1(shape, m) {
    m = new Matrix(m[0], m[1], m[2], m[3], m[4], m[5]);
    shape.transform(m);
    return m;
}

function setClipping$1(shape, clipPath) {
    shape.clip(clipPath);
}

function addArcToPath(path, x, y, options) {
    var points = new Arc$2([ x, y ], options).curvePoints(), i = 1;
    while (i < points.length) {
        path.curveTo(points[i++], points[i++], points[i++]);
    }
}

function sanitizeRadius(r) {
    if (r.x <= 0 || r.y <= 0) {
        r.x = r.y = 0;
    }
    return r;
}

function adjustBorderRadiusForBox(box, rTL, rTR, rBR, rBL) {
    // adjust border radiuses such that the sum of adjacent
    // radiuses is not bigger than the length of the side.
    // seems the correct algorithm is variant (3) from here:
    // http://www.w3.org/Style/CSS/Tracker/issues/29?changelog
    var tl_x = Math.max(0, rTL.x), tl_y = Math.max(0, rTL.y);
    var tr_x = Math.max(0, rTR.x), tr_y = Math.max(0, rTR.y);
    var br_x = Math.max(0, rBR.x), br_y = Math.max(0, rBR.y);
    var bl_x = Math.max(0, rBL.x), bl_y = Math.max(0, rBL.y);

    var f = Math.min(
        box.width / (tl_x + tr_x),
        box.height / (tr_y + br_y),
        box.width / (br_x + bl_x),
        box.height / (bl_y + tl_y)
    );

    if (f < 1) {
        tl_x *= f; tl_y *= f;
        tr_x *= f; tr_y *= f;
        br_x *= f; br_y *= f;
        bl_x *= f; bl_y *= f;
    }

    return {
        tl: { x: tl_x, y: tl_y },
        tr: { x: tr_x, y: tr_y },
        br: { x: br_x, y: br_y },
        bl: { x: bl_x, y: bl_y }
    };
}

function elementRoundBox(element, box, type) {
    var style = getComputedStyle(element);

    var rTL = getBorderRadius(style, "top-left");
    var rTR = getBorderRadius(style, "top-right");
    var rBL = getBorderRadius(style, "bottom-left");
    var rBR = getBorderRadius(style, "bottom-right");

    if (type == "padding" || type == "content") {
        var bt = getBorder(style, "top");
        var br = getBorder(style, "right");
        var bb = getBorder(style, "bottom");
        var bl = getBorder(style, "left");
        rTL.x -= bl.width; rTL.y -= bt.width;
        rTR.x -= br.width; rTR.y -= bt.width;
        rBR.x -= br.width; rBR.y -= bb.width;
        rBL.x -= bl.width; rBL.y -= bb.width;
        if (type == "content") {
            var pt = parseFloat(getPropertyValue(style, "padding-top"));
            var pr = parseFloat(getPropertyValue(style, "padding-right"));
            var pb = parseFloat(getPropertyValue(style, "padding-bottom"));
            var pl = parseFloat(getPropertyValue(style, "padding-left"));
            rTL.x -= pl; rTL.y -= pt;
            rTR.x -= pr; rTR.y -= pt;
            rBR.x -= pr; rBR.y -= pb;
            rBL.x -= pl; rBL.y -= pb;
        }
    }

    if (typeof type == "number") {
        rTL.x -= type; rTL.y -= type;
        rTR.x -= type; rTR.y -= type;
        rBR.x -= type; rBR.y -= type;
        rBL.x -= type; rBL.y -= type;
    }

    return roundBox(box, rTL, rTR, rBR, rBL);
}

// Create a drawing.Path for a rounded rectangle.  Receives the
// bounding box and the border-radiuses in CSS order (top-left,
// top-right, bottom-right, bottom-left).  The radiuses must be
// objects containing x (horiz. radius) and y (vertical radius).
function roundBox(box, rTL0, rTR0, rBR0, rBL0) {
    var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);
    var rTL = tmp.tl;
    var rTR = tmp.tr;
    var rBR = tmp.br;
    var rBL = tmp.bl;
    var path = new Path({ fill: null, stroke: null });
    path.moveTo(box.left, box.top + rTL.y);
    if (rTL.x) {
        addArcToPath(path, box.left + rTL.x, box.top + rTL.y, {
            startAngle: -180,
            endAngle: -90,
            radiusX: rTL.x,
            radiusY: rTL.y
        });
    }
    path.lineTo(box.right - rTR.x, box.top);
    if (rTR.x) {
        addArcToPath(path, box.right - rTR.x, box.top + rTR.y, {
            startAngle: -90,
            endAngle: 0,
            radiusX: rTR.x,
            radiusY: rTR.y
        });
    }
    path.lineTo(box.right, box.bottom - rBR.y);
    if (rBR.x) {
        addArcToPath(path, box.right - rBR.x, box.bottom - rBR.y, {
            startAngle: 0,
            endAngle: 90,
            radiusX: rBR.x,
            radiusY: rBR.y
        });
    }
    path.lineTo(box.left + rBL.x, box.bottom);
    if (rBL.x) {
        addArcToPath(path, box.left + rBL.x, box.bottom - rBL.y, {
            startAngle: 90,
            endAngle: 180,
            radiusX: rBL.x,
            radiusY: rBL.y
        });
    }
    return path.close();
}

function formatCounter(val, style) {
    var str = String(parseFloat(val));
    switch (style) {
      case "decimal-leading-zero":
        if (str.length < 2) {
            str = "0" + str;
        }
        return str;
      case "lower-roman":
        return arabicToRoman(val).toLowerCase();
      case "upper-roman":
        return arabicToRoman(val).toUpperCase();
      case "lower-latin":
      case "lower-alpha":
        return alphaNumeral(val - 1);
      case "upper-latin":
      case "upper-alpha":
        return alphaNumeral(val - 1).toUpperCase();
      default:
        return str;
    }
}

function evalPseudoElementContent(element, content) {
    function displayCounter(name, style, separator) {
        if (!separator) {
            return formatCounter(getCounter(name) || 0, style);
        }
        separator = separator.replace(/^\s*(["'])(.*)\1\s*$/, "$2");
        return getAllCounters(name).map(function(val){
            return formatCounter(val, style);
        }).join(separator);
    }
    var a = splitProperty(content, /^\s+/);
    var result = [], m;
    a.forEach(function(el){
        var tmp;
        if ((m = /^\s*(["'])(.*)\1\s*$/.exec(el))) {
            result.push(m[2].replace(/\\([0-9a-f]{4})/gi, function(s, p){
                return String.fromCharCode(parseInt(p, 16));
            }));
        }
        else if ((m = /^\s*counter\((.*?)\)\s*$/.exec(el))) {
            tmp = splitProperty(m[1]);
            result.push(displayCounter(tmp[0], tmp[1]));
        }
        else if ((m = /^\s*counters\((.*?)\)\s*$/.exec(el))) {
            tmp = splitProperty(m[1]);
            result.push(displayCounter(tmp[0], tmp[2], tmp[1]));
        }
        else if ((m = /^\s*attr\((.*?)\)\s*$/.exec(el))) {
            result.push(element.getAttribute(m[1]) || "");
        }
        else {
            result.push(el);
        }
    });
    return result.join("");
}

function getCssText(style) {
    if (style.cssText) {
        return style.cssText;
    }
    // Status: NEW.  Report year: 2002.  Current year: 2014.
    // Nice played, Mozillians.
    // https://bugzilla.mozilla.org/show_bug.cgi?id=137687
    var result = [];
    for (var i = 0; i < style.length; ++i) {
        result.push(style[i] + ": " + getPropertyValue(style, style[i]));
    }
    return result.join(";\n");
}

function _renderWithPseudoElements(element, group) {
    if (element.tagName == KENDO_PSEUDO_ELEMENT) {
        _renderElement(element, group);
        return;
    }
    var fake = [];
    function pseudo(kind, place) {
        var style = getComputedStyle(element, kind), content = style.content;
        updateCounters(style);
        if (content && content != "normal" && content != "none" && style.width != "0px") {
            var psel = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);
            psel.style.cssText = getCssText(style);
            psel.textContent = evalPseudoElementContent(element, content);
            element.insertBefore(psel, place);
            fake.push(psel);
        }
    }
    pseudo(":before", element.firstChild);
    pseudo(":after", null);
    if (fake.length > 0) {
        var saveClass = element.className;
        element.className += " kendo-pdf-hide-pseudo-elements";
        _renderElement(element, group);
        element.className = saveClass;
        fake.forEach(function(el){ element.removeChild(el); });
    } else {
        _renderElement(element, group);
    }
}

function _renderElement(element, group) {
    var style = getComputedStyle(element);

    var top = getBorder(style, "top");
    var right = getBorder(style, "right");
    var bottom = getBorder(style, "bottom");
    var left = getBorder(style, "left");

    var rTL0 = getBorderRadius(style, "top-left");
    var rTR0 = getBorderRadius(style, "top-right");
    var rBL0 = getBorderRadius(style, "bottom-left");
    var rBR0 = getBorderRadius(style, "bottom-right");

    var dir = getPropertyValue(style, "direction");

    var backgroundColor = getPropertyValue(style, "background-color");
    backgroundColor = parseColor$2(backgroundColor);

    var backgroundImage = parseBackgroundImage( getPropertyValue(style, "background-image") );
    var backgroundRepeat = splitProperty( getPropertyValue(style, "background-repeat") );
    var backgroundPosition = splitProperty( getPropertyValue(style, "background-position") );
    var backgroundOrigin = splitProperty( getPropertyValue(style, "background-origin") );
    var backgroundSize = splitProperty( getPropertyValue(style, "background-size") );

    // IE shrinks the text with text-overflow: ellipsis,
    // apparently because the returned bounding box for the range
    // is limited to the visible area minus space for the dots,
    // instead of being the full width of the text.
    //
    // https://github.com/telerik/kendo/issues/5232
    // https://github.com/telerik/kendo-ui-core/issues/1868
    //
    // We have to test it here rather than in renderText because
    // text-overflow: ellipsis could be set on a parent element (not
    // necessarily the one containing the text); in this case,
    // getComputedStyle(elementWithTheText) will return "clip", not
    // "ellipsis" (which is probably a bug, but oh well...)
    var textOverflow, saveTextOverflow;
    if (microsoft) {
        textOverflow = style.textOverflow;             // computed style
        if (textOverflow == "ellipsis") {
            saveTextOverflow = element.style.textOverflow; // own style.
            element.style.textOverflow = "clip";
        }
    }

    if (browser$2.msie && browser$2.version < 10) {
        // IE9 hacks.  getPropertyValue won't return the correct
        // value.  Sucks that we have to do it here, I'd prefer to
        // move it in getPropertyValue, but we don't have the
        // element.
        backgroundPosition = splitProperty(element.currentStyle.backgroundPosition);
    }

    var innerbox = innerBox(element.getBoundingClientRect(), "border-*-width", element);

    // CSS "clip" property - if present, replace the group with a
    // new one which is clipped.  This must happen before drawing
    // the borders and background.
    (function(){
        var clip = getPropertyValue(style, "clip");
        var m = /^\s*rect\((.*)\)\s*$/.exec(clip);
        if (m) {
            var a = m[1].split(/[ ,]+/g);
            var top = a[0] == "auto" ? innerbox.top : parseFloat(a[0]) + innerbox.top;
            var right = a[1] == "auto" ? innerbox.right : parseFloat(a[1]) + innerbox.left;
            var bottom = a[2] == "auto" ? innerbox.bottom : parseFloat(a[2]) + innerbox.top;
            var left = a[3] == "auto" ? innerbox.left : parseFloat(a[3]) + innerbox.left;
            var tmp = new Group();
            var clipPath = new Path()
                .moveTo(left, top)
                .lineTo(right, top)
                .lineTo(right, bottom)
                .lineTo(left, bottom)
                .close();
            setClipping$1(tmp, clipPath);
            group.append(tmp);
            group = tmp;
            updateClipbox(clipPath);
        }
    })();

    var boxes, i, cells;
    var display = getPropertyValue(style, "display");

    if (display == "table-row") {
        // because of rowspan/colspan, we shouldn't draw background of table row elements on the
        // box given by its getBoundingClientRect, because if we do we risk overwritting a
        // previously rendered cell.  https://github.com/telerik/kendo/issues/4881
        boxes = [];
        for (i = 0, cells = element.children; i < cells.length; ++i) {
            boxes.push(cells[i].getBoundingClientRect());
        }
    } else {
        boxes = element.getClientRects();
        if (boxes.length == 1) {
            // Workaround the missing borders in Chrome!  getClientRects() boxes contains values
            // rounded to integer.  getBoundingClientRect() appears to work fine.  We still need
            // getClientRects() to support cases where there are more boxes (continued inline
            // elements that might have border/background).
            boxes = [ element.getBoundingClientRect() ];
        }
    }

    // This function workarounds another Chrome bug, where boxes returned for a table with
    // border-collapse: collapse will overlap the table border.  Our rendering is not perfect in
    // such case anyway, but with this is better than without it.
    boxes = adjustBoxes(boxes);

    for (i = 0; i < boxes.length; ++i) {
        drawOneBox(boxes[i], i === 0, i == boxes.length - 1);
    }

    // Render links as separate groups.  We can't use boxes returned by element's getClientRects
    // because if display type is "inline" (default for <a>), boxes will not include the height of
    // images inside.  https://github.com/telerik/kendo-ui-core/issues/3359
    if (element.tagName == "A" && element.href && !/^#?$/.test(element.getAttribute("href"))) {
        if (!nodeInfo._avoidLinks || !matches(element, nodeInfo._avoidLinks)) {
            var r = document.createRange();
            r.selectNodeContents(element);
            slice$1$1(r.getClientRects()).forEach(function(box){
                var g = new Group();
                g._pdfLink = {
                    url    : element.href,
                    top    : box.top,
                    right  : box.right,
                    bottom : box.bottom,
                    left   : box.left
                };
                group.append(g);
            });
        }
    }

    if (boxes.length > 0 && display == "list-item" && !element.getAttribute("kendo-no-bullet")) {
        drawBullet(boxes[0]);
    }

    // overflow: hidden/auto - if present, replace the group with
    // a new one clipped by the inner box.
    (function(){
        function clipit() {
            var clipPath = elementRoundBox(element, innerbox, "padding");
            var tmp = new Group();
            setClipping$1(tmp, clipPath);
            group.append(tmp);
            group = tmp;
            updateClipbox(clipPath);
        }
        if (isFormField(element)) {
            clipit();
        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, "overflow"))) {
            clipit();
        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, "overflow-x"))) {
            clipit();
        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, "overflow-y"))) {
            clipit();
        }
    })();

    if (!maybeRenderWidget(element, group)) {
        renderContents(element, group);
    }

    if (microsoft && textOverflow == "ellipsis") {
        element.style.textOverflow = saveTextOverflow;
    }

    return group; // only utility functions after this line.

    function adjustBoxes(boxes) {
        if (/^td$/i.test(element.tagName)) {
            var table = nodeInfo.table;
            if (table && getPropertyValue(table.style, "border-collapse") == "collapse") {
                var tableBorderLeft = getBorder(table.style, "left").width;
                var tableBorderTop = getBorder(table.style, "top").width;
                // check if we need to adjust
                if (tableBorderLeft === 0 && tableBorderTop === 0) {
                    return boxes; // nope
                }
                var tableBox = table.element.getBoundingClientRect();
                var firstCell = table.element.rows[0].cells[0];
                var firstCellBox = firstCell.getBoundingClientRect();
                if (firstCellBox.top == tableBox.top || firstCellBox.left == tableBox.left) {
                    return slice$1$1(boxes).map(function(box){
                        return {
                            left   : box.left + tableBorderLeft,
                            top    : box.top + tableBorderTop,
                            right  : box.right + tableBorderLeft,
                            bottom : box.bottom + tableBorderTop,
                            height : box.height,
                            width  : box.width
                        };
                    });
                }
            }
        }
        return boxes;
    }

    // this function will be called to draw each border.  it
    // draws starting at origin and the resulted path must be
    // translated/rotated to be placed in the proper position.
    //
    // arguments are named as if it draws the top border:
    //
    //    - `len` the length of the edge
    //    - `Wtop` the width of the edge (i.e. border-top-width)
    //    - `Wleft` the width of the left edge (border-left-width)
    //    - `Wright` the width of the right edge
    //    - `rl` and `rl` -- the border radius on the left and right
    //      (objects containing x and y, for horiz/vertical radius)
    //    - `transform` -- transformation to apply
    //
    function drawEdge(color, len, Wtop, Wleft, Wright, rl, rr, transform$$1) {
        if (Wtop <= 0) {
            return;
        }

        var path, edge = new Group();
        setTransform$1(edge, transform$$1);
        group.append(edge);

        sanitizeRadius(rl);
        sanitizeRadius(rr);

        // draw main border.  this is the area without the rounded corners
        path = new Path({
            fill: { color: color },
            stroke: null
        });
        edge.append(path);
        path.moveTo(rl.x ? Math.max(rl.x, Wleft) : 0, 0)
            .lineTo(len - (rr.x ? Math.max(rr.x, Wright) : 0), 0)
            .lineTo(len - Math.max(rr.x, Wright), Wtop)
            .lineTo(Math.max(rl.x, Wleft), Wtop)
            .close();

        if (rl.x) {
            drawRoundCorner(Wleft, rl, [ -1, 0, 0, 1, rl.x, 0 ]);
        }

        if (rr.x) {
            drawRoundCorner(Wright, rr, [ 1, 0, 0, 1, len - rr.x, 0 ]);
        }

        // draws one round corner, starting at origin (needs to be
        // translated/rotated to be placed properly).
        function drawRoundCorner(Wright, r, transform$$1) {
            var angle = Math.PI/2 * Wright / (Wright + Wtop);

            // not sanitizing this one, because negative values
            // are useful to fill the box correctly.
            var ri = {
                x: r.x - Wright,
                y: r.y - Wtop
            };

            var path = new Path({
                fill: { color: color },
                stroke: null
            }).moveTo(0, 0);

            setTransform$1(path, transform$$1);

            addArcToPath(path, 0, r.y, {
                startAngle: -90,
                endAngle: -radiansToDegrees(angle),
                radiusX: r.x,
                radiusY: r.y
            });

            if (ri.x > 0 && ri.y > 0) {
                path.lineTo(ri.x * Math.cos(angle), r.y - ri.y * Math.sin(angle));
                addArcToPath(path, 0, r.y, {
                    startAngle: -radiansToDegrees(angle),
                    endAngle: -90,
                    radiusX: ri.x,
                    radiusY: ri.y,
                    anticlockwise: true
                });
            }
            else if (ri.x > 0) {
                path.lineTo(ri.x, Wtop)
                    .lineTo(0, Wtop);
            }
            else {
                path.lineTo(ri.x, Wtop)
                    .lineTo(ri.x, 0);
            }

            edge.append(path.close());
        }
    }

    function drawBackground(box) {
        var background = new Group();
        setClipping$1(background, roundBox(box, rTL0, rTR0, rBR0, rBL0));
        group.append(background);

        if (backgroundColor) {
            var path = new Path({
                fill: { color: backgroundColor.toCssRgba() },
                stroke: null
            });
            path.moveTo(box.left, box.top)
                .lineTo(box.right, box.top)
                .lineTo(box.right, box.bottom)
                .lineTo(box.left, box.bottom)
                .close();
            background.append(path);
        }

        for (var i = backgroundImage.length; --i >= 0;) {
            drawOneBackground(
                background, box,
                backgroundImage[i],
                backgroundRepeat[i % backgroundRepeat.length],
                backgroundPosition[i % backgroundPosition.length],
                backgroundOrigin[i % backgroundOrigin.length],
                backgroundSize[i % backgroundSize.length]
            );
        }
    }

    function drawOneBackground(group, box, background, backgroundRepeat, backgroundPosition, backgroundOrigin, backgroundSize) {
        if (!background || (background == "none")) {
            return;
        }

        if (background.type == "url") {
            // SVG taints the canvas, can't draw it.
            if (/^url\(\"data:image\/svg/i.test(background.url)) {
                return;
            }
            var img = IMAGE_CACHE$1[background.url];
            if (img && img.width > 0 && img.height > 0) {
                drawBackgroundImage(group, box, img.width, img.height, function(group, rect){
                    group.append(new Image$1(background.url, rect));
                });
            }
        } else if (background.type == "linear") {
            drawBackgroundImage(group, box, box.width, box.height, gradientRenderer(background));
        } else {
            return;
        }

        function drawBackgroundImage(group, box, img_width, img_height, renderBG) {
            var aspect_ratio = img_width / img_height, f;

            // for background-origin: border-box the box is already appropriate
            var orgBox = box;
            if (backgroundOrigin == "content-box") {
                orgBox = innerBox(orgBox, "border-*-width", element);
                orgBox = innerBox(orgBox, "padding-*", element);
            } else if (backgroundOrigin == "padding-box") {
                orgBox = innerBox(orgBox, "border-*-width", element);
            }

            if (!/^\s*auto(\s+auto)?\s*$/.test(backgroundSize)) {
                if (backgroundSize == "contain") {
                    f = Math.min(orgBox.width / img_width,
                                 orgBox.height / img_height);
                    img_width *= f;
                    img_height *= f;
                }
                else if (backgroundSize == "cover") {
                    f = Math.max(orgBox.width / img_width,
                                 orgBox.height / img_height);
                    img_width *= f;
                    img_height *= f;
                }
                else {
                    var size = backgroundSize.split(/\s+/g);
                    // compute width
                    if (/%$/.test(size[0])) {
                        img_width = orgBox.width * parseFloat(size[0]) / 100;
                    } else {
                        img_width = parseFloat(size[0]);
                    }
                    // compute height
                    if (size.length == 1 || size[1] == "auto") {
                        img_height = img_width / aspect_ratio;
                    } else if (/%$/.test(size[1])) {
                        img_height = orgBox.height * parseFloat(size[1]) / 100;
                    } else {
                        img_height = parseFloat(size[1]);
                    }
                }
            }

            var pos = String(backgroundPosition);

            // IE sometimes reports single-word positions
            // https://github.com/telerik/kendo-ui-core/issues/2786
            //
            // it seems to switch to percentages when the horizontal
            // position is not "center", therefore we don't handle
            // multi-word cases here.  All other browsers return
            // percentages or pixels instead of keywords.  At least
            // for now...
            switch (pos) {
              case "bottom" : pos = "50% 100%"; break;
              case "top"    : pos = "50% 0"; break;
              case "left"   : pos = "0 50%"; break;
              case "right"  : pos = "100% 50%"; break;
              case "center" : pos = "50% 50%"; break;
            }

            pos = pos.split(/\s+/);
            if (pos.length == 1) {
                pos[1] = "50%";
            }

            if (/%$/.test(pos[0])) {
                pos[0] = parseFloat(pos[0]) / 100 * (orgBox.width - img_width);
            } else {
                pos[0] = parseFloat(pos[0]);
            }
            if (/%$/.test(pos[1])) {
                pos[1] = parseFloat(pos[1]) / 100 * (orgBox.height - img_height);
            } else {
                pos[1] = parseFloat(pos[1]);
            }

            var rect = new Rect([ orgBox.left + pos[0], orgBox.top + pos[1] ], [ img_width, img_height ]);

            // XXX: background-repeat could be implemented more
            //      efficiently as a fill pattern (at least for PDF
            //      output, probably SVG too).

            function rewX() {
                while (rect.origin.x > box.left) {
                    rect.origin.x -= img_width;
                }
            }

            function rewY() {
                while (rect.origin.y > box.top) {
                    rect.origin.y -= img_height;
                }
            }

            function repeatX() {
                while (rect.origin.x < box.right) {
                    renderBG(group, rect.clone());
                    rect.origin.x += img_width;
                }
            }

            if (backgroundRepeat == "no-repeat") {
                renderBG(group, rect);
            }
            else if (backgroundRepeat == "repeat-x") {
                rewX();
                repeatX();
            }
            else if (backgroundRepeat == "repeat-y") {
                rewY();
                while (rect.origin.y < box.bottom) {
                    renderBG(group, rect.clone());
                    rect.origin.y += img_height;
                }
            }
            else if (backgroundRepeat == "repeat") {
                rewX();
                rewY();
                var origin = rect.origin.clone();
                while (rect.origin.y < box.bottom) {
                    rect.origin.x = origin.x;
                    repeatX();
                    rect.origin.y += img_height;
                }
            }
        }
    }

    function drawBullet() {
        var listStyleType = getPropertyValue(style, "list-style-type");
        if (listStyleType == "none") {
            return;
        }
        var listStylePosition = getPropertyValue(style, "list-style-position");

        function _drawBullet(f) {
            saveStyle(element, function(){
                element.style.position = "relative";
                var bullet = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);
                bullet.style.position = "absolute";
                bullet.style.boxSizing = "border-box";
                if (listStylePosition == "outside") {
                    bullet.style.width = "6em";
                    bullet.style.left = "-6.8em";
                    bullet.style.textAlign = "right";
                } else {
                    bullet.style.left = "0px";
                }
                f(bullet);
                element.insertBefore(bullet, element.firstChild);
                renderElement(bullet, group);
                element.removeChild(bullet);
            });
        }

        function elementIndex(f) {
            var a = element.parentNode.children;
            var k = element.getAttribute("kendo-split-index");
            if (k != null) {
                return f(k|0, a.length);
            }
            for (var i = 0; i < a.length; ++i) {
                if (a[i] === element) {
                    return f(i, a.length);
                }
            }
        }

        switch (listStyleType) {
          case "circle":
          case "disc":
          case "square":
            _drawBullet(function(bullet){
                // XXX: the science behind these values is called "trial and error".
                bullet.style.fontSize = "60%";
                bullet.style.lineHeight = "200%";
                bullet.style.paddingRight = "0.5em";
                bullet.style.fontFamily = "DejaVu Serif";
                bullet.innerHTML = {
                    "disc"   : "\u25cf",
                    "circle" : "\u25ef",
                    "square" : "\u25a0"
                }[listStyleType];
            });
            break;

          case "decimal":
          case "decimal-leading-zero":
            _drawBullet(function(bullet){
                elementIndex(function(idx){
                    ++idx;
                    if (listStyleType == "decimal-leading-zero" && idx < 10) {
                        idx = "0" + idx;
                    }
                    bullet.innerHTML = idx + ".";
                });
            });
            break;

          case "lower-roman":
          case "upper-roman":
            _drawBullet(function(bullet){
                elementIndex(function(idx){
                    idx = arabicToRoman(idx + 1);
                    if (listStyleType == "upper-roman") {
                        idx = idx.toUpperCase();
                    }
                    bullet.innerHTML = idx + ".";
                });
            });
            break;

          case "lower-latin":
          case "lower-alpha":
          case "upper-latin":
          case "upper-alpha":
            _drawBullet(function(bullet){
                elementIndex(function(idx){
                    idx = alphaNumeral(idx);
                    if (/^upper/i.test(listStyleType)) {
                        idx = idx.toUpperCase();
                    }
                    bullet.innerHTML = idx + ".";
                });
            });
            break;
        }
    }

    // draws a single border box
    function drawOneBox(box, isFirst, isLast) {
        if (box.width === 0 || box.height === 0) {
            return;
        }

        drawBackground(box);

        var shouldDrawLeft = (left.width > 0 && ((isFirst && dir == "ltr") || (isLast && dir == "rtl")));
        var shouldDrawRight = (right.width > 0 && ((isLast && dir == "ltr") || (isFirst && dir == "rtl")));

        // The most general case is that the 4 borders have different widths and border
        // radiuses.  The way that is handled is by drawing 3 Paths for each border: the
        // straight line, and two round corners which represent half of the entire rounded
        // corner.  To simplify code those shapes are drawed at origin (by the drawEdge
        // function), then translated/rotated into the right position.
        //
        // However, this leads to poor results due to rounding in the simpler cases where
        // borders are straight lines.  Therefore we handle a few such cases separately with
        // straight lines. C^wC^wC^w -- nope, scratch that.  poor rendering was because of a bug
        // in Chrome (getClientRects() returns rounded integer values rather than exact floats.
        // web dev is still a ghetto.)

        // first, just in case there is no border...
        if (top.width === 0 && left.width === 0 && right.width === 0 && bottom.width === 0) {
            return;
        }

        // START paint borders
        // if all borders have equal colors...
        if (top.color == right.color && top.color == bottom.color && top.color == left.color) {

            // if same widths too, we can draw the whole border by stroking a single path.
            if (top.width == right.width && top.width == bottom.width && top.width == left.width)
            {
                if (shouldDrawLeft && shouldDrawRight) {
                    // reduce box by half the border width, so we can draw it by stroking.
                    box = innerBox(box, top.width/2);

                    // adjust the border radiuses, again by top.width/2, and make the path element.
                    var path = elementRoundBox(element, box, top.width/2);
                    path.options.stroke = {
                        color: top.color,
                        width: top.width
                    };
                    group.append(path);
                    return;
                }
            }
        }

        // if border radiuses are zero and widths are at most one pixel, we can again use simple
        // paths.
        if (rTL0.x === 0 && rTR0.x === 0 && rBR0.x === 0 && rBL0.x === 0) {
            // alright, 1.9px will do as well.  the difference in color blending should not be
            // noticeable.
            if (top.width < 2 && left.width < 2 && right.width < 2 && bottom.width < 2) {
                // top border
                if (top.width > 0) {
                    group.append(
                        new Path({
                            stroke: { width: top.width, color: top.color }
                        })
                            .moveTo(box.left, box.top + top.width/2)
                            .lineTo(box.right, box.top + top.width/2)
                    );
                }

                // bottom border
                if (bottom.width > 0) {
                    group.append(
                        new Path({
                            stroke: { width: bottom.width, color: bottom.color }
                        })
                            .moveTo(box.left, box.bottom - bottom.width/2)
                            .lineTo(box.right, box.bottom - bottom.width/2)
                    );
                }

                // left border
                if (shouldDrawLeft) {
                    group.append(
                        new Path({
                            stroke: { width: left.width, color: left.color }
                        })
                            .moveTo(box.left + left.width/2, box.top)
                            .lineTo(box.left + left.width/2, box.bottom)
                    );
                }

                // right border
                if (shouldDrawRight) {
                    group.append(
                        new Path({
                            stroke: { width: right.width, color: right.color }
                        })
                            .moveTo(box.right - right.width/2, box.top)
                            .lineTo(box.right - right.width/2, box.bottom)
                    );
                }

                return;
            }
        }
        // END paint borders

        var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);
        var rTL = tmp.tl;
        var rTR = tmp.tr;
        var rBR = tmp.br;
        var rBL = tmp.bl;

        // top border
        drawEdge(top.color,
                 box.width, top.width, left.width, right.width,
                 rTL, rTR,
                 [ 1, 0, 0, 1, box.left, box.top ]);

        // bottom border
        drawEdge(bottom.color,
                 box.width, bottom.width, right.width, left.width,
                 rBR, rBL,
                 [ -1, 0, 0, -1, box.right, box.bottom ]);

        // for left/right borders we need to invert the border-radiuses
        function inv(p) {
            return { x: p.y, y: p.x };
        }

        // left border
        drawEdge(left.color,
                 box.height, left.width, bottom.width, top.width,
                 inv(rBL), inv(rTL),
                 [ 0, -1, 1, 0, box.left, box.bottom ]);

        // right border
        drawEdge(right.color,
                 box.height, right.width, top.width, bottom.width,
                 inv(rTR), inv(rBR),
                 [ 0, 1, -1, 0, box.right, box.top ]);
    }
}

function gradientRenderer(gradient) {
    return function(group, rect) {
        var width = rect.width(), height = rect.height();

        switch (gradient.type) {
          case "linear":

            // figure out the angle.
            var angle = gradient.angle != null ? gradient.angle : Math.PI;
            switch (gradient.to) {
              case "top":
                angle = 0;
                break;
              case "left":
                angle = -Math.PI / 2;
                break;
              case "bottom":
                angle = Math.PI;
                break;
              case "right":
                angle = Math.PI / 2;
                break;
              case "top left": case "left top":
                angle = -Math.atan2(height, width);
                break;
              case "top right": case "right top":
                angle = Math.atan2(height, width);
                break;
              case "bottom left": case "left bottom":
                angle = Math.PI + Math.atan2(height, width);
                break;
              case "bottom right": case "right bottom":
                angle = Math.PI - Math.atan2(height, width);
                break;
            }

            if (gradient.reverse) {
                angle -= Math.PI;
            }

            // limit the angle between 0..2PI
            angle %= 2 * Math.PI;
            if (angle < 0) {
                angle += 2 * Math.PI;
            }

            // compute gradient's start/end points.  here len is the length of the gradient line
            // and x,y is the end point relative to the center of the rectangle in conventional
            // (math) axis direction.

            // this is the original (unscaled) length of the gradient line.  needed to deal with
            // absolutely positioned color stops.  formula from the CSS spec:
            // http://dev.w3.org/csswg/css-images-3/#linear-gradient-syntax
            var pxlen = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));

            // The math below is pretty simple, but it took a while to figure out.  We compute x
            // and y, the *end* of the gradient line.  However, we want to transform them into
            // element-based coordinates (SVG's gradientUnits="objectBoundingBox").  That means,
            // x=0 is the left edge, x=1 is the right edge, y=0 is the top edge and y=1 is the
            // bottom edge.
            //
            // A naive approach would use the original angle for these calculations.  Say we'd
            // like to draw a gradient angled at 45deg in a 100x400 box.  When we use
            // objectBoundingBox, the renderer will draw it in a 1x1 *square* box, and then
            // scale that to the desired dimensions.  The 45deg angle will look more like 70deg
            // after scaling.  SVG (http://www.w3.org/TR/SVG/pservers.html#LinearGradients) says
            // the following:
            //
            //     When gradientUnits="objectBoundingBox" and 'gradientTransform' is the
            //     identity matrix, the normal of the linear gradient is perpendicular to the
            //     gradient vector in object bounding box space (i.e., the abstract coordinate
            //     system where (0,0) is at the top/left of the object bounding box and (1,1) is
            //     at the bottom/right of the object bounding box). When the object's bounding
            //     box is not square, the gradient normal which is initially perpendicular to
            //     the gradient vector within object bounding box space may render
            //     non-perpendicular relative to the gradient vector in user space. If the
            //     gradient vector is parallel to one of the axes of the bounding box, the
            //     gradient normal will remain perpendicular. This transformation is due to
            //     application of the non-uniform scaling transformation from bounding box space
            //     to user space.
            //
            // which is an extremely long and confusing way to tell what I just said above.
            //
            // For this reason we need to apply the reverse scaling to the original angle, so
            // that when it'll finally be rendered it'll actually be at the desired slope.  Now
            // I'll let you figure out the math yourself.

            var scaledAngle = Math.atan(width * Math.tan(angle) / height);
            var sin = Math.sin(scaledAngle), cos = Math.cos(scaledAngle);
            var len = Math.abs(sin) + Math.abs(cos);
            var x = len/2 * sin;
            var y = len/2 * cos;

            // Because of the arctangent, our scaledAngle ends up between -PI/2..PI/2, possibly
            // losing the intended direction of the gradient.  The following fixes it.
            if (angle > Math.PI/2 && angle <= 3*Math.PI/2) {
                x = -x;
                y = -y;
            }

            // compute the color stops.
            var implicit = [], right = 0;
            var stops = gradient.stops.map(function(s, i){
                var offset = s.percent;
                if (offset) {
                    offset = parseFloat(offset) / 100;
                } else if (s.length) {
                    offset = parseFloat(s.length) / pxlen;
                } else if (i === 0) {
                    offset = 0;
                } else if (i == gradient.stops.length - 1) {
                    offset = 1;
                }
                var stop = {
                    color: s.color.toCssRgba(),
                    offset: offset
                };
                if (offset != null) {
                    right = offset;
                    // fix implicit offsets
                    implicit.forEach(function(s, i){
                        var stop = s.stop;
                        stop.offset = s.left + (right - s.left) * (i + 1) / (implicit.length + 1);
                    });
                    implicit = [];
                } else {
                    implicit.push({ left: right, stop: stop });
                }
                return stop;
            });

            var start = [ 0.5 - x, 0.5 + y ];
            var end = [ 0.5 + x, 0.5 - y ];

            // finally, draw it.
            group.append(
                Path.fromRect(rect)
                    .stroke(null)
                    .fill(new LinearGradient({
                        start     : start,
                        end       : end,
                        stops     : stops,
                        userSpace : false
                    }))
            );
            break;
          case "radial":
            // XXX:
            if (window.console && window.console.log) {
                window.console.log("Radial gradients are not yet supported in HTML renderer");
            }
            break;
        }
    };
}

function maybeRenderWidget(element, group) {
    var visual;

    if (element._kendoExportVisual) {
        visual = element._kendoExportVisual();
    } else if (window.kendo && window.kendo.jQuery && element.getAttribute(window.kendo.attr("role"))) {
        var widget = window.kendo.widgetInstance(window.kendo.jQuery(element));
        if (widget && (widget.exportDOMVisual || widget.exportVisual)) {
            if (widget.exportDOMVisual) {
                visual = widget.exportDOMVisual();
            } else {
                visual = widget.exportVisual();
            }
        }
    }

    if (!visual) {
        return false;
    }

    var wrap$$1 = new Group();
    wrap$$1.children.push(visual);

    var bbox = element.getBoundingClientRect();
    wrap$$1.transform(transform$1().translate(bbox.left, bbox.top));

    group.append(wrap$$1);

    return true;
}

function renderImage(element, url, group) {
    var box = getContentBox(element);
    var rect = new Rect([ box.left, box.top ], [ box.width, box.height ]);
    var image = new Image$1(url, rect);
    setClipping$1(image, elementRoundBox(element, box, "content"));
    group.append(image);
}

function zIndexSort(a, b) {
    var sa = getComputedStyle(a);
    var sb = getComputedStyle(b);
    var za = parseFloat(getPropertyValue(sa, "z-index"));
    var zb = parseFloat(getPropertyValue(sb, "z-index"));
    var pa = getPropertyValue(sa, "position");
    var pb = getPropertyValue(sb, "position");
    if (isNaN(za) && isNaN(zb)) {
        if ((/static|absolute/.test(pa)) && (/static|absolute/.test(pb))) {
            return 0;
        }
        if (pa == "static") {
            return -1;
        }
        if (pb == "static") {
            return 1;
        }
        return 0;
    }
    if (isNaN(za)) {
        return zb === 0 ? 0 : zb > 0 ? -1 : 1;
    }
    if (isNaN(zb)) {
        return za === 0 ? 0 : za > 0 ? 1 : -1;
    }
    return parseFloat(za) - parseFloat(zb);
}

function isFormField(element) {
    return /^(?:textarea|select|input)$/i.test(element.tagName);
}

function getSelectedOption(element) {
    if (element.selectedOptions && element.selectedOptions.length > 0) {
        return element.selectedOptions[0];
    }
    return element.options[element.selectedIndex];
}

function renderCheckbox(element, group) {
    var style = getComputedStyle(element);
    var color = getPropertyValue(style, "color");
    var box = element.getBoundingClientRect();
    if (element.type == "checkbox") {
        group.append(
            Path.fromRect(
                new Rect([ box.left+1, box.top+1 ],
                             [ box.width-2, box.height-2 ])
            ).stroke(color, 1)
        );
        if (element.checked) {
            // fill a rectangle inside?  looks kinda ugly.
            // group.append(
            //     Path.fromRect(
            //         new geo.Rect([ box.left+4, box.top+4 ],
            //                      [ box.width-8, box.height-8])
            //     ).fill(color).stroke(null)
            // );

            // let's draw a checkmark instead.  artistic, eh?
            group.append(
                new Path()
                    .stroke(color, 1.2)
                    .moveTo(box.left + 0.22 * box.width,
                            box.top + 0.55 * box.height)
                    .lineTo(box.left + 0.45 * box.width,
                            box.top + 0.75 * box.height)
                    .lineTo(box.left + 0.78 * box.width,
                            box.top + 0.22 * box.width)
            );
        }
    } else {
        group.append(
            new Circle(
                new Circle$2([
                    (box.left + box.right) / 2,
                    (box.top + box.bottom) / 2
                ], Math.min(box.width-2, box.height-2) / 2)
            ).stroke(color, 1)
        );
        if (element.checked) {
            group.append(
                new Circle(
                    new Circle$2([
                        (box.left + box.right) / 2,
                        (box.top + box.bottom) / 2
                    ], Math.min(box.width-8, box.height-8) / 2)
                ).fill(color).stroke(null)
            );
        }
    }
}

function renderFormField(element, group) {
    var tag = element.tagName.toLowerCase();
    if (tag == "input" && (element.type == "checkbox" || element.type == "radio")) {
        return renderCheckbox(element, group);
    }
    var p = element.parentNode;
    var doc = element.ownerDocument;
    var el = doc.createElement(KENDO_PSEUDO_ELEMENT);
    var option;
    el.style.cssText = getCssText(getComputedStyle(element));
    if (tag == "input") {
        el.style.whiteSpace = "pre";
    }
    if (tag == "select" || tag == "textarea") {
        el.style.overflow = "auto";
    }
    if (tag == "select") {
        if (element.multiple) {
            for (var i = 0; i < element.options.length; ++i) {
                option = doc.createElement(KENDO_PSEUDO_ELEMENT);
                option.style.cssText = getCssText(getComputedStyle(element.options[i]));
                option.style.display = "block"; // IE9 messes up without this
                option.textContent = element.options[i].textContent;
                el.appendChild(option);
            }
        } else {
            option = getSelectedOption(element);
            if (option) {
                el.textContent = option.textContent;
            }
        }
    } else {
        el.textContent = element.value;
    }
    p.insertBefore(el, element);
    el.scrollLeft = element.scrollLeft;
    el.scrollTop = element.scrollTop;

    // must temporarily hide the original element, otherwise it
    // may affect layout of the fake element we want to render.
    element.style.display = "none";

    renderContents(el, group);
    element.style.display = "";
    p.removeChild(el);
}

function renderContents(element, group) {
    if (nodeInfo._stackingContext.element === element) {
        // the group that was set in pushNodeInfo might have
        // changed due to clipping/transforms, update it here.
        nodeInfo._stackingContext.group = group;
    }
    switch (element.tagName.toLowerCase()) {
      case "img":
        renderImage(element, element.src, group);
        break;

      case "canvas":
        try {
            renderImage(element, element.toDataURL("image/png"), group);
        } catch (ex) {
            // tainted; can't draw it, ignore.
        }
        break;

      case "textarea":
      case "input":
      case "select":
        renderFormField(element, group);
        break;

      default:
        var children = [], floats = [], positioned = [];
        for (var i = element.firstChild; i; i = i.nextSibling) {
            switch (i.nodeType) {
              case 3:         // Text
                if (/\S/.test(i.data)) {
                    renderText(element, i, group);
                }
                break;
              case 1:         // Element
                var style = getComputedStyle(i);
                var floating = getPropertyValue(style, "float");
                var position = getPropertyValue(style, "position");
                if (position != "static") {
                    positioned.push(i);
                }
                else if (floating != "none") {
                    floats.push(i);
                } else {
                    children.push(i);
                }
                break;
            }
        }

        mergeSort(children, zIndexSort).forEach(function(el){ renderElement(el, group); });
        mergeSort(floats, zIndexSort).forEach(function(el){ renderElement(el, group); });
        mergeSort(positioned, zIndexSort).forEach(function(el){ renderElement(el, group); });
    }
}

function renderText(element, node, group) {
    if (emptyClipbox()) {
        return;
    }
    var style = getComputedStyle(element);

    if (parseFloat(getPropertyValue(style, "text-indent")) < -500) {
        // assume it should not be displayed.  the slider's
        // draggable handle displays a Drag text for some reason,
        // having text-indent: -3333px.
        return;
    }

    var text = node.data;
    var start = 0;
    var end = text.search(/\S\s*$/) + 1;

    if (!end) {
        return; // whitespace-only node
    }

    var fontSize = getPropertyValue(style, "font-size");
    var lineHeight = getPropertyValue(style, "line-height");

    // simply getPropertyValue("font") doesn't work in Firefox :-\
    var font = [
        getPropertyValue(style, "font-style"),
        getPropertyValue(style, "font-variant"),
        getPropertyValue(style, "font-weight"),
        fontSize, // no need for line height here; it breaks layout in FF
        getPropertyValue(style, "font-family")
    ].join(" ");

    fontSize = parseFloat(fontSize);
    lineHeight = parseFloat(lineHeight);

    if (fontSize === 0) {
        return;
    }

    var color = getPropertyValue(style, "color");
    var range = element.ownerDocument.createRange();
    var align$$1 = getPropertyValue(style, "text-align");
    var isJustified = align$$1 == "justify";
    var columnCount = getPropertyValue(style, "column-count", 1);
    var whiteSpace = getPropertyValue(style, "white-space");
    var textTransform = getPropertyValue(style, "text-transform");

    // A line of 500px, with a font of 12px, contains an average of 80 characters, but since we
    // err, we'd like to guess a bigger number rather than a smaller one.  Multiplying by 5
    // seems to be a good option.
    var estimateLineLength = element.getBoundingClientRect().width / fontSize * 5;
    if (estimateLineLength === 0) {
        estimateLineLength = 500;
    }

    // we'll maintain this so we can workaround bugs in Chrome's Range.getClientRects
    // https://github.com/telerik/kendo/issues/5740
    var prevLineBottom = null;

    var underline = nodeInfo["underline"];
    var lineThrough = nodeInfo["line-through"];
    var overline = nodeInfo["overline"];
    var hasDecoration = underline || lineThrough || overline;

    // doChunk returns true when all text has been rendered
    while (!doChunk()) {}

    if (hasDecoration) {
        range.selectNode(node);
        slice$1$1(range.getClientRects()).forEach(decorate);
    }

    return;                 // only function declarations after this line

    function actuallyGetRangeBoundingRect(range) {
        // XXX: to be revised when this Chrome bug is fixed:
        // https://bugs.chromium.org/p/chromium/issues/detail?id=612459
        if (microsoft || browser$2.chrome) {
            // Workaround browser bugs: IE and Chrome would sometimes
            // return 0 or 1-width rectangles before or after the main
            // one.  https://github.com/telerik/kendo/issues/4674

            // Actually Chrome 50 got worse, since the rectangles can now have the width of a
            // full character, making it hard to tell whether it's a bogus rectangle or valid
            // selection location.  The workaround is to ignore rectangles that fall on the
            // previous line.  https://github.com/telerik/kendo/issues/5740
            var rectangles = range.getClientRects(), box = {
                top    :  Infinity,
                right  : -Infinity,
                bottom : -Infinity,
                left   :  Infinity
            }, done = false;
            for (var i = 0; i < rectangles.length; ++i) {
                var b = rectangles[i];
                if (b.width <= 1 || b.bottom === prevLineBottom) {
                    continue;   // bogus rectangle
                }
                box.left   = Math.min(b.left   , box.left);
                box.top    = Math.min(b.top    , box.top);
                box.right  = Math.max(b.right  , box.right);
                box.bottom = Math.max(b.bottom , box.bottom);
                done = true;
            }
            if (!done) {
                return range.getBoundingClientRect();
            }
            box.width = box.right - box.left;
            box.height = box.bottom - box.top;
            return box;
        }
        return range.getBoundingClientRect();
    }

    // Render a chunk of text, typically one line (but for justified text we render each word as
    // a separate Text object, because spacing is variable).  Returns true when it finished the
    // current node.  After each chunk it updates `start` to just after the last rendered
    // character.
    function doChunk() {
        var origStart = start;
        var box, pos = text.substr(start).search(/\S/);
        start += pos;
        if (pos < 0 || start >= end) {
            return true;
        }

        // Select a single character to determine the height of a line of text.  The box.bottom
        // will be essential for us to figure out where the next line begins.
        range.setStart(node, start);
        range.setEnd(node, start + 1);
        box = actuallyGetRangeBoundingRect(range);

        // for justified text we must split at each space, because space has variable width.
        var found = false;
        if (isJustified || columnCount > 1) {
            pos = text.substr(start).search(/\s/);
            if (pos >= 0) {
                // we can only split there if it's on the same line, otherwise we'll fall back
                // to the default mechanism (see findEOL below).
                range.setEnd(node, start + pos);
                var r = actuallyGetRangeBoundingRect(range);
                if (r.bottom == box.bottom) {
                    box = r;
                    found = true;
                    start += pos;
                }
            }
        }

        if (!found) {
            // This code does three things: (1) it selects one line of text in `range`, (2) it
            // leaves the bounding rect of that line in `box` and (3) it returns the position
            // just after the EOL.  We know where the line starts (`start`) but we don't know
            // where it ends.  To figure this out, we select a piece of text and look at the
            // bottom of the bounding box.  If it changes, we have more than one line selected
            // and should retry with a smaller selection.
            //
            // To speed things up, we first try to select all text in the node (`start` ->
            // `end`).  If there's more than one line there, then select only half of it.  And
            // so on.  When we find a value for `end` that fits in one line, we try increasing
            // it (also in halves) until we get to the next line.  The algorithm stops when the
            // right side of the bounding box does not change.
            //
            // One more thing to note is that everything happens in a single Text DOM node.
            // There's no other tags inside it, therefore the left/top coordinates of the
            // bounding box will not change.
            pos = (function findEOL(min, eol, max){
                range.setEnd(node, eol);
                var r = actuallyGetRangeBoundingRect(range);
                if (r.bottom != box.bottom && min < eol) {
                    return findEOL(min, (min + eol) >> 1, eol);
                } else if (r.right != box.right) {
                    box = r;
                    if (eol < max) {
                        return findEOL(eol, (eol + max) >> 1, max);
                    } else {
                        return eol;
                    }
                } else {
                    return eol;
                }
            })(start, Math.min(end, start + estimateLineLength), end);

            if (pos == start) {
                // if EOL is at the start, then no more text fits on this line.  Skip the
                // remainder of this node entirely to avoid a stack overflow.
                return true;
            }
            start = pos;

            pos = range.toString().search(/\s+$/);
            if (pos === 0) {
                return false; // whitespace only; we should not get here.
            }
            if (pos > 0) {
                // eliminate trailing whitespace
                range.setEnd(node, range.startOffset + pos);
                box = actuallyGetRangeBoundingRect(range);
            }
        }

        // another workaround for IE: if we rely on getBoundingClientRect() we'll overlap with the bullet for LI
        // elements.  Calling getClientRects() and using the *first* rect appears to give us the correct location.
        // Note: not to be used in Chrome as it randomly returns a zero-width rectangle from the previous line.
        if (microsoft) {
            box = range.getClientRects()[0];
        }

        var str = range.toString();
        if (!/^(?:pre|pre-wrap)$/i.test(whiteSpace)) {
            // node with non-significant space -- collapse whitespace.
            str = str.replace(/\s+/g, " ");
        }
        else if (/\t/.test(str)) {
            // with significant whitespace we need to do something about literal TAB characters.
            // There's no TAB glyph in a font so they would be rendered in PDF as an empty box,
            // and the whole text will stretch to fill the original width.  The core PDF lib
            // does not have sufficient context to deal with it.

            // calculate the starting column here, since we initially discarded any whitespace.
            var cc = 0;
            for (pos = origStart; pos < range.startOffset; ++pos) {
                var code = text.charCodeAt(pos);
                if (code == 9) {
                    // when we meet a TAB we must round up to the next tab stop.
                    // in all browsers TABs seem to be 8 characters.
                    cc += 8 - cc % 8;
                } else if (code == 10 || code == 13) {
                    // just in case we meet a newline we must restart.
                    cc = 0;
                } else {
                    // ordinary character --> advance one column
                    cc++;
                }
            }

            // based on starting column, replace any TAB characters in the string we actually
            // have to display with spaces so that they align to columns multiple of 8.
            while ((pos = str.search("\t")) >= 0) {
                var indent = "        ".substr(0, 8 - (cc + pos) % 8);
                str = str.substr(0, pos) + indent + str.substr(pos + 1);
            }
        }

        if (!found) {
            prevLineBottom = box.bottom;
        }
        drawText(str, box);
    }

    function drawText(str, box) {
        // In IE the box height will be approximately lineHeight, while in
        // other browsers it'll (correctly) be the height of the bounding
        // box for the current text/font.  Which is to say, IE sucks again.
        // The only good solution I can think of is to measure the text
        // ourselves and center the bounding box.
        if (microsoft && !isNaN(lineHeight)) {
            var height = getFontHeight(font);
            var top = (box.top + box.bottom - height) / 2;
            box = {
                top    : top,
                right  : box.right,
                bottom : top + height,
                left   : box.left,
                height : height,
                width  : box.right - box.left
            };
        }

        // var path = new Path({ stroke: { color: "red" }});
        // path.moveTo(box.left, box.top)
        //     .lineTo(box.right, box.top)
        //     .lineTo(box.right, box.bottom)
        //     .lineTo(box.left, box.bottom)
        //     .close();
        // group.append(path);

        switch (textTransform) {
          case "uppercase":
            str = str.toUpperCase();
            break;
          case "lowercase":
            str = str.toLowerCase();
            break;
          case "capitalize":
            str = str.replace(/(?:^|\s)\S/g, function (l) { return l.toUpperCase(); });
            break;
        }

        var text = new TextRect(
            str, new Rect([ box.left, box.top ],
                              [ box.width, box.height ]),
            {
                font: font,
                fill: { color: color }
            }
        );
        group.append(text);
    }

    function decorate(box) {
        line(underline, box.bottom);
        line(lineThrough, box.bottom - box.height / 2.7);
        line(overline, box.top);
        function line(color, ypos) {
            if (color) {
                var width = fontSize / 12;
                var path = new Path({ stroke: {
                    width: width,
                    color: color
                }});

                ypos -= width;
                path.moveTo(box.left, ypos)
                    .lineTo(box.right, ypos);
                group.append(path);
            }
        }
    }
}

function groupInStackingContext(element, group, zIndex) {
    var main;
    if (zIndex != "auto") {
        // use the current stacking context
        main = nodeInfo._stackingContext.group;
        zIndex = parseFloat(zIndex);
    } else {
        // normal flow — use given container.  we still have to
        // figure out where should we insert this element with the
        // assumption that its z-index is zero, as the group might
        // already contain elements with higher z-index.
        main = group;
        zIndex = 0;
    }
    var a = main.children;
    for (var i = 0; i < a.length; ++i) {
        if (a[i]._dom_zIndex != null && a[i]._dom_zIndex > zIndex) {
            break;
        }
    }

    var tmp = new Group();
    main.insert(i, tmp);
    tmp._dom_zIndex = zIndex;

    if (main !== group) {
        // console.log("Placing", element, "in", nodeInfo._stackingContext.element, "at position", i, " / ", a.length);
        // console.log(a.slice(i+1));

        // if (nodeInfo._matrix) {
        //     tmp.transform(nodeInfo._matrix);
        // }
        if (nodeInfo._clipbox) {
            var m = nodeInfo._matrix.invert();
            var r = nodeInfo._clipbox.transformCopy(m);
            setClipping$1(tmp, Path.fromRect(r));
            // console.log(r);
            // tmp.append(Path.fromRect(r));
            // tmp.append(new Text(element.className || element.id, r.topLeft()));
        }
    }

    return tmp;
}

function renderElement(element, container) {
    var style = getComputedStyle(element);

    updateCounters(style);

    if (/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(element.tagName)) {
        return;
    }

    if (nodeInfo._clipbox == null) {
        return;
    }

    var opacity = parseFloat(getPropertyValue(style, "opacity"));
    var visibility = getPropertyValue(style, "visibility");
    var display = getPropertyValue(style, "display");

    if (opacity === 0 || visibility == "hidden" || display == "none") {
        return;
    }

    var tr = getTransform(style);
    var group;

    var zIndex = getPropertyValue(style, "z-index");
    if ((tr || opacity < 1) && zIndex == "auto") {
        zIndex = 0;
    }
    group = groupInStackingContext(element, container, zIndex);

    // XXX: remove at some point
    // group._pdfElement = element;
    // group.options._pdfDebug = "";
    // if (element.id) {
    //     group.options._pdfDebug = "#" + element.id;
    // }
    // if (element.className) {
    //     group.options._pdfDebug += "." + element.className.split(" ").join(".");
    // }

    if (opacity < 1) {
        group.opacity(opacity * group.opacity());
    }

    pushNodeInfo(element, style, group);

    if (!tr) {
        _renderWithPseudoElements(element, group);
    }
    else {
        saveStyle(element, function(){
            // must clear transform, so getBoundingClientRect returns correct values.
            pleaseSetPropertyValue(element.style, "transform", "none", "important");

            // must also clear transitions, so correct values are returned *immediately*
            pleaseSetPropertyValue(element.style, "transition", "none", "important");

            // the presence of any transform makes it behave like it had position: relative,
            // because why not.
            // http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/
            if (getPropertyValue(style, "position") == "static") {
                // but only if it's not already positioned. :-/
                pleaseSetPropertyValue(element.style, "position", "relative", "important");
            }

            // must translate to origin before applying the CSS
            // transformation, then translate back.
            var bbox = element.getBoundingClientRect();
            var x = bbox.left + tr.origin[0];
            var y = bbox.top + tr.origin[1];
            var m = [ 1, 0, 0, 1, -x, -y ];
            m = mmul$1(m, tr.matrix);
            m = mmul$1(m, [ 1, 0, 0, 1, x, y ]);
            m = setTransform$1(group, m);

            nodeInfo._matrix = nodeInfo._matrix.multiplyCopy(m);

            _renderWithPseudoElements(element, group);
        });
    }

    popNodeInfo();

    //drawDebugBox(element.getBoundingClientRect(), container);
}

// function drawDebugBox(box, group, color) {
//     var path = Path.fromRect(new geo.Rect([ box.left, box.top ], [ box.width, box.height ]));
//     if (color) {
//         path.stroke(color);
//     }
//     group.append(path);
// }

// function dumpTextNode(node) {
//     var txt = node.data.replace(/^\s+/, "");
//     if (txt.length < 100) {
//         console.log(node.data.length + ": |" + txt);
//     } else {
//         console.log(node.data.length + ": |" + txt.substr(0, 50) + "|...|" + txt.substr(-50));
//     }
// }

function mmul$1(a, b) {
    var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];
    var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];
    return [
        a1*a2 + b1*c2,          a1*b2 + b1*d2,
        c1*a2 + d1*c2,          c1*b2 + d1*d2,
        e1*a2 + f1*c2 + e2,     e1*b2 + f1*d2 + f2
    ];
}

exports.drawing = drawing;
exports.geometry = geometry;
exports.pdf = pdf;
exports.exportPDF = exportPDF;
exports.exportImage = exportImage;
exports.exportSVG = exportSVG;
exports.animationFrame = animationFrameProxy;
exports.Class = Class;
exports.Color = Color;
exports.htmlEncode = htmlEncode;
exports.logToConsole = logToConsole;
exports.Observable = Observable;
exports.saveAs = saveAs;
exports.support = support;
exports.template = template$1;
exports.throttle = throttle;
exports.parseColor = parseColor;
exports.namedColors = namedColors;
exports.Animation = Animation;
exports.AnimationFactory = AnimationFactory;
exports.Arc = Arc;
exports.BaseNode = BaseNode;
exports.Circle = Circle;
exports.Element = Element$1;
exports.Gradient = Gradient;
exports.GradientStop = GradientStop;
exports.Group = Group;
exports.Image = Image$1;
exports.Layout = Layout;
exports.LinearGradient = LinearGradient;
exports.MultiPath = MultiPath;
exports.ObserversMixin = ObserversMixin;
exports.OptionsStore = OptionsStore;
exports.Path = Path;
exports.PathParser = PathParser;
exports.QuadNode = QuadNode;
exports.RadialGradient = RadialGradient;
exports.Rect = Rect$2;
exports.ShapesQuadTree = ShapesQuadTree;
exports.Surface = Surface;
exports.SurfaceFactory = SurfaceFactory;
exports.Text = Text;
exports.align = align;
exports.fit = fit;
exports.stack = stack;
exports.vAlign = vAlign;
exports.vStack = vStack;
exports.vWrap = vWrap;
exports.wrap = wrap;
exports.drawDOM = drawDOM;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvbWl4aW5zL29ic2VydmVycy1taXhpbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL2FuaW1hdGlvbi1mcmFtZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL2NsYXNzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9jb21tb24vaHRtbC1lbmNvZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NvbW1vbi9sb2ctdG8tY29uc29sZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL29ic2VydmFibGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NvbW1vbi9zYXZlLWFzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9jb21tb24vc3VwcG9ydC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL3RlbXBsYXRlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9jb21tb24vdGhyb3R0bGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NvbW1vbi9jb2xvci9uYW1lZC1jb2xvcnMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NvbW1vbi9jb2xvci9wYXJzZS1jb2xvci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL2NvbG9yL2NvbG9yLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2FwcGVuZC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9hcmFiaWMtdG8tcm9tYW4uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvY3JlYXRlLXByb21pc2UuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvZGVmaW5lZC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9kZWZpbml0aW9uLWlkLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2NvbnN0YW50cy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9kZWcuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvZW5jb2RlLXV0Zi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9lbmNvZGUtYmFzZTY0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2V2ZW50LWNvb3JkaW5hdGVzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2V2ZW50LWVsZW1lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvaXMtdHJhbnNwYXJlbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvbGFzdC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9saW1pdC12YWx1ZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9tZXJnZS1zb3J0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL3Byb21pc2UtYWxsLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL3JhZC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9yb3VuZC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC92YWx1ZS1vci1kZWZhdWx0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2JpbmQtZXZlbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2VsZW1lbnQtb2Zmc2V0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2VsZW1lbnQtc3R5bGVzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2VsZW1lbnQtc2l6ZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdXRpbC91bmJpbmQtZXZlbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy90ZXh0LW1ldHJpY3MvbHJ1LWNhY2hlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy90ZXh0LW1ldHJpY3MvdXRpbC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdGV4dC1tZXRyaWNzL3RleHQtbWV0cmljcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvdGV4dC1tZXRyaWNzL21lYXN1cmUtdGV4dC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY29yZS9vcHRpb25zLXN0b3JlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hY2Nlc3NvcnMvZGVmaW5lLWFjY2Vzc29ycy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvbWF0cml4LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS90by1tYXRyaXguanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L3BvaW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9zaXplLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9yZWN0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS90cmFuc2Zvcm1hdGlvbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvdHJhbnNmb3JtLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvZWxlbWVudC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvbWF0aC9lbGxpcHNlLWV4dHJlbWUtYW5nbGVzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9jaXJjbGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL21peGlucy9wYWludGFibGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL21peGlucy9tZWFzdXJhYmxlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hY2Nlc3NvcnMvZGVmaW5lLWdlb21ldHJ5LWFjY2Vzc29ycy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL2NpcmNsZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvY29uc3RhbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9tYXRoL2Nsb3NlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9tYXRoL2Nsb3NlLW9yLWxlc3MuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvbGluZS1pbnRlcnNlY3Rpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L2FyYy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL2VsZW1lbnRzLWFycmF5LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvZ2VvbWV0cnktZWxlbWVudHMtYXJyYXkuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2FjY2Vzc29ycy9kZWZpbmUtcG9pbnQtYWNjZXNzb3JzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9tYXRoL2lzLW91dC1vZi1lbmQtcG9pbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvY2FsY3VsYXRlLWN1cnZlLWF0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9tYXRoL3RvLWN1YmljLXBvbHlub21pYWwuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvY29tcGxleC1udW1iZXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvc29sdmUtY3ViaWMtZXF1YXRpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvaGFzLXJvb3RzLWluLXJhbmdlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9tYXRoL2N1cnZlLWludGVyc2VjdGlvbnMtY291bnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvbGluZS1pbnRlcnNlY3Rpb25zLWNvdW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9zZWdtZW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvdXRpbHMvZWxlbWVudHMtYm91bmRpbmctYm94LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvdXRpbHMvZWxlbWVudHMtY2xpcHBlbmQtYm91bmRpbmctYm94LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvbXVsdGktcGF0aC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvcGFyc2luZy9zaGFwZS1tYXAuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3BhcnNpbmcvcGF0aC1wYXJzZXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy9wYXRoLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvYXJjLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvdGV4dC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL2ltYWdlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9taXhpbnMvdHJhdmVyc2FibGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy9ncm91cC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L3RyYW5zbGF0ZS10by1wb2ludC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L2FsaWduLXN0YXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvYWxpZ24tc3RhcnQtcmV2ZXJzZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL2xheW91dC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL3JlY3QuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2FsaWdubWVudC9hbGlnbi1lbGVtZW50cy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L2FsaWduLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvdi1hbGlnbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L3N0YWNrLWVsZW1lbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvY3JlYXRlLXN0YWNrLWVsZW1lbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvc3RhY2suanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2FsaWdubWVudC92LXN0YWNrLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvd3JhcC1lbGVtZW50cy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L3dyYXAuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2FsaWdubWVudC92LXdyYXAuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2FsaWdubWVudC9maXQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dyYWRpZW50cy9zdG9wcy1hcnJheS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvYWNjZXNzb3JzL2RlZmluZS1vcHRpb25zLWFjY2Vzc29ycy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvZ3JhZGllbnRzL2dyYWRpZW50LXN0b3AuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2dyYWRpZW50cy9ncmFkaWVudC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvZ3JhZGllbnRzL2xpbmVhci1ncmFkaWVudC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvZ3JhZGllbnRzL3JhZGlhbC1ncmFkaWVudC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvYW5pbWF0aW9ucy9lYXNpbmctZnVuY3Rpb25zLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hbmltYXRpb25zL2FuaW1hdGlvbi1mYWN0b3J5LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9hbmltYXRpb25zL2FuaW1hdGlvbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY29yZS9zdXJmYWNlLWZhY3RvcnkuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NvcmUvc3VyZmFjZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY29yZS9iYXNlLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy91dGlscy9yZW5kZXItYXR0cmlidXRlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvdXRpbHMvcmVuZGVyLWFsbC1hdHRyaWJ1dGVzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvdXRpbHMvcmVuZGVyLXN0eWxlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvbm9kZS1tYXAuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9jb25zdGFudHMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy91dGlscy9yZW5kZXItc3ZnLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvbm9kZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc3ZnL2dyYWRpZW50LXN0b3Atbm9kZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc3ZnL2dyYWRpZW50LW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9saW5lYXItZ3JhZGllbnQtbm9kZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc3ZnL3JhZGlhbC1ncmFkaWVudC1ub2RlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvY2xpcC1ub2RlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvZGVmaW5pdGlvbi1ub2RlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvcm9vdC1ub2RlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvc3VyZmFjZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc3ZnL2dyb3VwLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NvcmUvY29uc3RhbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvcGF0aC1ub2RlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9zdmcvYXJjLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9jaXJjbGUtbm9kZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc3ZnL3JlY3Qtbm9kZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvc3ZnL2ltYWdlLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy90ZXh0LW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9tdWx0aS1wYXRoLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9leHBvcnQtZ3JvdXAuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9ub2RlLW1hcC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL3V0aWxzL3JlbmRlci1wYXRoLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9jYW52YXMvbm9kZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL2dyb3VwLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9yb290LW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3NlYXJjaC9xdWFkLXJvb3QuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3NlYXJjaC9xdWFkLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3NlYXJjaC9zaGFwZXMtcXVhZC10cmVlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9jYW52YXMvc3VyZmFjZS1jdXJzb3IuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9zdXJmYWNlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9jYW52YXMvcGF0aC1ub2RlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9jYW52YXMvYXJjLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9jaXJjbGUtbm9kZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL3JlY3Qtbm9kZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL2ltYWdlLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy90ZXh0LW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9tdWx0aS1wYXRoLW5vZGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9leHBvcnQtaW1hZ2UuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9leHBvcnQtc3ZnLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9wZGYvdXRpbHMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3BkZi90dGYuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL3BkZi9kZWZsYXRlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1kcmF3aW5nL3NyYy9wZGYvY29yZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tZHJhd2luZy9zcmMvcGRmL2RyYXdpbmcuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWRyYXdpbmcvc3JjL2h0bWwvY29yZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IE9ic2VydmVyc01peGluID0ge1xuICAgIGV4dGVuZDogZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgZm9yIChsZXQgbWV0aG9kIGluIHRoaXMpIHtcbiAgICAgICAgICAgIGlmIChtZXRob2QgIT09IFwiZXh0ZW5kXCIpIHtcbiAgICAgICAgICAgICAgICBwcm90b1ttZXRob2RdID0gdGhpc1ttZXRob2RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9ic2VydmVyczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX29ic2VydmVycyA9IHRoaXMuX29ic2VydmVycyB8fCBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29ic2VydmVycztcbiAgICB9LFxuXG4gICAgYWRkT2JzZXJ2ZXI6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vYnNlcnZlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX29ic2VydmVycyA9IFsgZWxlbWVudCBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHJlbW92ZU9ic2VydmVyOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzKCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gb2JzZXJ2ZXJzLmluZGV4T2YoZWxlbWVudCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyOiBmdW5jdGlvbihtZXRob2ROYW1lLCBldmVudCkge1xuICAgICAgICBjb25zdCBvYnNlcnZlcnMgPSB0aGlzLl9vYnNlcnZlcnM7XG5cbiAgICAgICAgaWYgKG9ic2VydmVycyAmJiAhdGhpcy5fc3VzcGVuZGVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBvYnNlcnZlcnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGxldCBvYnNlcnZlciA9IG9ic2VydmVyc1tpZHhdO1xuICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlclttZXRob2ROYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlclttZXRob2ROYW1lXShldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBvcHRpb25zQ2hhbmdlOiBmdW5jdGlvbihlID0ge30pIHtcbiAgICAgICAgZS5lbGVtZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy50cmlnZ2VyKFwib3B0aW9uc0NoYW5nZVwiLCBlKTtcbiAgICB9LFxuXG4gICAgZ2VvbWV0cnlDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoXCJnZW9tZXRyeUNoYW5nZVwiLCB7XG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBzdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc3VzcGVuZGVkID0gKHRoaXMuX3N1c3BlbmRlZCB8fCAwKSArIDE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9zdXNwZW5kZWQgPSBNYXRoLm1heCgodGhpcy5fc3VzcGVuZGVkIHx8IDApIC0gMSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfb2JzZXJ2ZXJGaWVsZDogZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzW2ZpZWxkXSkge1xuICAgICAgICAgICAgdGhpc1tmaWVsZF0ucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgdmFsdWUuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JzZXJ2ZXJzTWl4aW47IiwiY29uc3Qgd25kID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9O1xuXG5jb25zdCBhbmltYXRpb25GcmFtZSA9IHduZC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgd25kLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICB3bmQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgIHduZC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgIHduZC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihjYWxsYmFjaykgeyBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApOyB9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbmltYXRpb25GcmFtZVByb3h5KGNhbGxiYWNrKSB7XG4gICAgYW5pbWF0aW9uRnJhbWUuY2FsbCh3bmQsIGNhbGxiYWNrKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENsYXNzIHtcbn0iLCJjb25zdCBhbXBSZWdFeHAgPSAvJi9nO1xuY29uc3QgbHRSZWdFeHAgPSAvPC9nO1xuY29uc3QgcXVvdGVSZWdFeHAgPSAvXCIvZztcbmNvbnN0IGFwb3NSZWdFeHAgPSAvJy9nO1xuY29uc3QgZ3RSZWdFeHAgPSAvPi9nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBodG1sRW5jb2RlKHZhbHVlKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSkucmVwbGFjZShhbXBSZWdFeHAsIFwiJmFtcDtcIikucmVwbGFjZShsdFJlZ0V4cCwgXCImbHQ7XCIpLnJlcGxhY2UoZ3RSZWdFeHAsIFwiJmd0O1wiKS5yZXBsYWNlKHF1b3RlUmVnRXhwLCBcIiZxdW90O1wiKS5yZXBsYWNlKGFwb3NSZWdFeHAsIFwiJiMzOTtcIik7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2dUb0NvbnNvbGUobWVzc2FnZSkge1xuICAgIGNvbnN0IGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcblxuICAgIGlmICh0eXBlb2YoY29uc29sZSkgIT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlLmxvZykge1xuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9XG59IiwiaW1wb3J0IENsYXNzIGZyb20gJy4vY2xhc3MnO1xuXG5jbGFzcyBPYnNlcnZhYmxlIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIH1cblxuICAgIGJpbmQoZXZlbnROYW1lLCBoYW5kbGVycywgb25lKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZXMgPSBnZXRBcnJheShldmVudE5hbWUpO1xuICAgICAgICBjb25zdCBoYW5kbGVyc0lzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKGhhbmRsZXJzKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZXZlbnROYW1lcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGhhbmRsZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGZpZWxkIGluIGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZChmaWVsZCwgZXZlbnROYW1lW2ZpZWxkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGV2ZW50TmFtZXNbaWR4XTtcblxuICAgICAgICAgICAgbGV0IGhhbmRsZXIgPSBoYW5kbGVyc0lzRnVuY3Rpb24gPyBoYW5kbGVycyA6IGhhbmRsZXJzW2V2ZW50TmFtZV07XG5cbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9vcC1mdW5jXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuYmluZChldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5vcmlnaW5hbCA9IG9yaWdpbmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gPSB0aGlzLl9ldmVudHNbZXZlbnROYW1lXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9uZShldmVudE5hbWVzLCBoYW5kbGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKGV2ZW50TmFtZXMsIGhhbmRsZXJzLCB0cnVlKTtcbiAgICB9XG5cbiAgICBmaXJzdChldmVudE5hbWUsIGhhbmRsZXJzKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZXMgPSBnZXRBcnJheShldmVudE5hbWUpO1xuICAgICAgICBjb25zdCBoYW5kbGVyc0lzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKGhhbmRsZXJzKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwLCBsZW5ndGggPSBldmVudE5hbWVzLmxlbmd0aDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnROYW1lc1tpZHhdO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNJc0Z1bmN0aW9uID8gaGFuZGxlcnMgOiBoYW5kbGVyc1tldmVudE5hbWVdO1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuX2V2ZW50c1tldmVudE5hbWVdID0gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gfHwgW107XG4gICAgICAgICAgICAgICAgZXZlbnRzLnVuc2hpZnQoaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0cmlnZ2VyKGV2ZW50TmFtZSwgZSA9IHt9KSB7XG4gICAgICAgIGxldCBldmVudHMgPSB0aGlzLl9ldmVudHNbZXZlbnROYW1lXTtcblxuICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBlLnNlbmRlciA9IHRoaXM7XG4gICAgICAgICAgICBlLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQ7XG4gICAgICAgICAgICBlLmlzRGVmYXVsdFByZXZlbnRlZCA9IGlzRGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAgICAgZXZlbnRzID0gZXZlbnRzLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBldmVudHNbaWR4XS5jYWxsKHRoaXMsIGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZS5fZGVmYXVsdFByZXZlbnRlZCA9PT0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB1bmJpbmQoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuX2V2ZW50c1tldmVudE5hbWVdO1xuXG4gICAgICAgIGlmIChldmVudE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IGV2ZW50cy5sZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tpZHhdID09PSBoYW5kbGVyIHx8IGV2ZW50c1tpZHhdLm9yaWdpbmFsID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IFsgdmFsdWUgXSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNEZWZhdWx0UHJldmVudGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkID09PSB0cnVlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBPYnNlcnZhYmxlOyIsIi8vIFhYWDogdGhlIGZvbGxvd2luZyB3aWxsIG5vdCB3b3JrIHdpdGggSUU5IChyZXF1aXJlcyBzZXJ2ZXIgcHJveHkpLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2F2ZUFzKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGRhdGFVUkksIGZpbGVOYW1lIH0gPSBvcHRpb25zO1xuICAgIGxldCBkYXRhID0gZGF0YVVSSTtcblxuICAgIGlmICh0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiICYmIHdpbmRvdy5CbG9iKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gZGF0YS5zcGxpdChcIjtiYXNlNjQsXCIpO1xuICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IHBhcnRzWzBdO1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhdG9iKHBhcnRzWzFdKTtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheShiYXNlNjQubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYmFzZTY0Lmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGFycmF5W2lkeF0gPSBiYXNlNjQuY2hhckNvZGVBdChpZHgpO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSBuZXcgQmxvYihbIGFycmF5LmJ1ZmZlciBdLCB7IHR5cGU6IGNvbnRlbnRUeXBlIH0pO1xuICAgIH1cbiAgICBpZiAobmF2aWdhdG9yLm1zU2F2ZUJsb2IpIHtcbiAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZUJsb2IoZGF0YSwgZmlsZU5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgbGluay5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgICAgICBkYXRhID0gbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhKTtcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7XG4gICAgICAgIGUuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCB0cnVlLCBmYWxzZSwgd2luZG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcbiAgICAgICAgbGluay5kaXNwYXRjaEV2ZW50KGUpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImNvbnN0IHN1cHBvcnQgPSB7fTtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3VwcG9ydC5icm93c2VyID0gKGZ1bmN0aW9uKHVzZXJBZ2VudCkge1xuICAgICAgICBjb25zdCBicm93c2VyUnhzID0ge1xuICAgICAgICAgICAgZWRnZTogLyhlZGdlKVsgXFwvXShbXFx3Ll0rKS9pLFxuICAgICAgICAgICAgd2Via2l0OiAvKGNocm9tZSlbIFxcL10oW1xcdy5dKykvaSxcbiAgICAgICAgICAgIHNhZmFyaTogLyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspL2ksXG4gICAgICAgICAgICBvcGVyYTogLyhvcGVyYSkoPzouKnZlcnNpb258KVsgXFwvXShbXFx3Ll0rKS9pLFxuICAgICAgICAgICAgbXNpZTogLyhtc2llXFxzfHRyaWRlbnQuKj8gcnY6KShbXFx3Ll0rKS9pLFxuICAgICAgICAgICAgbW96aWxsYTogLyhtb3ppbGxhKSg/Oi4qPyBydjooW1xcdy5dKyl8KS9pXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGJyb3dzZXI7XG5cbiAgICAgICAgZm9yIChsZXQgYWdlbnQgaW4gYnJvd3NlclJ4cykge1xuICAgICAgICAgICAgaWYgKGJyb3dzZXJSeHMuaGFzT3duUHJvcGVydHkoYWdlbnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB1c2VyQWdlbnQubWF0Y2goYnJvd3NlclJ4c1thZ2VudF0pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBicm93c2VyID0ge307XG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXJbYWdlbnRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJvd3NlclttYXRjaFsxXS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiIFwiKVswXS5zcGxpdChcIi9cIilbMF1dID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci52ZXJzaW9uID0gcGFyc2VJbnQoZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IG1hdGNoWzJdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJyb3dzZXI7XG5cbiAgICB9KSh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN1cHBvcnQ7XG5cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRlbXBsYXRlKCkge1xuICAgIC8vIFhYWDogbm8gdGVtcGxhdGUgZW5naW5lIGZvciBub3dcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdHJpbmcgdGVtcGxhdGUgbm90IHlldCBzdXBwb3J0ZWQuICBQYXNzIGEgZnVuY3Rpb24gYW5kIHVzZSB5b3VyIHByZWZlcnJlZCB0ZW1wbGF0ZSBlbmdpbmUuXCIpO1xufSIsImZ1bmN0aW9uIG5vdygpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocm90dGxlKGZuLCBkZWxheSkge1xuICAgIGxldCBsYXN0RXhlY1RpbWUgPSAwO1xuICAgIGxldCB0aW1lb3V0O1xuXG4gICAgaWYgKCFkZWxheSB8fCBkZWxheSA8PSAwKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG5cbiAgICBjb25zdCB0aHJvdHRsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IG5vdygpIC0gbGFzdEV4ZWNUaW1lO1xuICAgICAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICAgIGNvbnN0IGV4ZWMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgbGFzdEV4ZWNUaW1lID0gbm93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZmlyc3QgZXhlY3V0aW9uXG4gICAgICAgIGlmICghbGFzdEV4ZWNUaW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhlYygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGFwc2VkID4gZGVsYXkpIHtcbiAgICAgICAgICAgIGV4ZWMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGV4ZWMsIGRlbGF5IC0gZWxhcHNlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhyb3R0bGVkLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aHJvdHRsZWQ7XG59IiwiY29uc3QgbmFtZWRDb2xvcnMgPSB7XG4gICAgYWxpY2VibHVlOiBcImYwZjhmZlwiLCBhbnRpcXVld2hpdGU6IFwiZmFlYmQ3XCIsIGFxdWE6IFwiMDBmZmZmXCIsXG4gICAgYXF1YW1hcmluZTogXCI3ZmZmZDRcIiwgYXp1cmU6IFwiZjBmZmZmXCIsIGJlaWdlOiBcImY1ZjVkY1wiLFxuICAgIGJpc3F1ZTogXCJmZmU0YzRcIiwgYmxhY2s6IFwiMDAwMDAwXCIsIGJsYW5jaGVkYWxtb25kOiBcImZmZWJjZFwiLFxuICAgIGJsdWU6IFwiMDAwMGZmXCIsIGJsdWV2aW9sZXQ6IFwiOGEyYmUyXCIsIGJyb3duOiBcImE1MmEyYVwiLFxuICAgIGJ1cmx5d29vZDogXCJkZWI4ODdcIiwgY2FkZXRibHVlOiBcIjVmOWVhMFwiLCBjaGFydHJldXNlOiBcIjdmZmYwMFwiLFxuICAgIGNob2NvbGF0ZTogXCJkMjY5MWVcIiwgY29yYWw6IFwiZmY3ZjUwXCIsIGNvcm5mbG93ZXJibHVlOiBcIjY0OTVlZFwiLFxuICAgIGNvcm5zaWxrOiBcImZmZjhkY1wiLCBjcmltc29uOiBcImRjMTQzY1wiLCBjeWFuOiBcIjAwZmZmZlwiLFxuICAgIGRhcmtibHVlOiBcIjAwMDA4YlwiLCBkYXJrY3lhbjogXCIwMDhiOGJcIiwgZGFya2dvbGRlbnJvZDogXCJiODg2MGJcIixcbiAgICBkYXJrZ3JheTogXCJhOWE5YTlcIiwgZGFya2dyZXk6IFwiYTlhOWE5XCIsIGRhcmtncmVlbjogXCIwMDY0MDBcIixcbiAgICBkYXJra2hha2k6IFwiYmRiNzZiXCIsIGRhcmttYWdlbnRhOiBcIjhiMDA4YlwiLCBkYXJrb2xpdmVncmVlbjogXCI1NTZiMmZcIixcbiAgICBkYXJrb3JhbmdlOiBcImZmOGMwMFwiLCBkYXJrb3JjaGlkOiBcIjk5MzJjY1wiLCBkYXJrcmVkOiBcIjhiMDAwMFwiLFxuICAgIGRhcmtzYWxtb246IFwiZTk5NjdhXCIsIGRhcmtzZWFncmVlbjogXCI4ZmJjOGZcIiwgZGFya3NsYXRlYmx1ZTogXCI0ODNkOGJcIixcbiAgICBkYXJrc2xhdGVncmF5OiBcIjJmNGY0ZlwiLCBkYXJrc2xhdGVncmV5OiBcIjJmNGY0ZlwiLCBkYXJrdHVycXVvaXNlOiBcIjAwY2VkMVwiLFxuICAgIGRhcmt2aW9sZXQ6IFwiOTQwMGQzXCIsIGRlZXBwaW5rOiBcImZmMTQ5M1wiLCBkZWVwc2t5Ymx1ZTogXCIwMGJmZmZcIixcbiAgICBkaW1ncmF5OiBcIjY5Njk2OVwiLCBkaW1ncmV5OiBcIjY5Njk2OVwiLCBkb2RnZXJibHVlOiBcIjFlOTBmZlwiLFxuICAgIGZpcmVicmljazogXCJiMjIyMjJcIiwgZmxvcmFsd2hpdGU6IFwiZmZmYWYwXCIsIGZvcmVzdGdyZWVuOiBcIjIyOGIyMlwiLFxuICAgIGZ1Y2hzaWE6IFwiZmYwMGZmXCIsIGdhaW5zYm9ybzogXCJkY2RjZGNcIiwgZ2hvc3R3aGl0ZTogXCJmOGY4ZmZcIixcbiAgICBnb2xkOiBcImZmZDcwMFwiLCBnb2xkZW5yb2Q6IFwiZGFhNTIwXCIsIGdyYXk6IFwiODA4MDgwXCIsXG4gICAgZ3JleTogXCI4MDgwODBcIiwgZ3JlZW46IFwiMDA4MDAwXCIsIGdyZWVueWVsbG93OiBcImFkZmYyZlwiLFxuICAgIGhvbmV5ZGV3OiBcImYwZmZmMFwiLCBob3RwaW5rOiBcImZmNjliNFwiLCBpbmRpYW5yZWQ6IFwiY2Q1YzVjXCIsXG4gICAgaW5kaWdvOiBcIjRiMDA4MlwiLCBpdm9yeTogXCJmZmZmZjBcIiwga2hha2k6IFwiZjBlNjhjXCIsXG4gICAgbGF2ZW5kZXI6IFwiZTZlNmZhXCIsIGxhdmVuZGVyYmx1c2g6IFwiZmZmMGY1XCIsIGxhd25ncmVlbjogXCI3Y2ZjMDBcIixcbiAgICBsZW1vbmNoaWZmb246IFwiZmZmYWNkXCIsIGxpZ2h0Ymx1ZTogXCJhZGQ4ZTZcIiwgbGlnaHRjb3JhbDogXCJmMDgwODBcIixcbiAgICBsaWdodGN5YW46IFwiZTBmZmZmXCIsIGxpZ2h0Z29sZGVucm9keWVsbG93OiBcImZhZmFkMlwiLCBsaWdodGdyYXk6IFwiZDNkM2QzXCIsXG4gICAgbGlnaHRncmV5OiBcImQzZDNkM1wiLCBsaWdodGdyZWVuOiBcIjkwZWU5MFwiLCBsaWdodHBpbms6IFwiZmZiNmMxXCIsXG4gICAgbGlnaHRzYWxtb246IFwiZmZhMDdhXCIsIGxpZ2h0c2VhZ3JlZW46IFwiMjBiMmFhXCIsIGxpZ2h0c2t5Ymx1ZTogXCI4N2NlZmFcIixcbiAgICBsaWdodHNsYXRlZ3JheTogXCI3Nzg4OTlcIiwgbGlnaHRzbGF0ZWdyZXk6IFwiNzc4ODk5XCIsIGxpZ2h0c3RlZWxibHVlOiBcImIwYzRkZVwiLFxuICAgIGxpZ2h0eWVsbG93OiBcImZmZmZlMFwiLCBsaW1lOiBcIjAwZmYwMFwiLCBsaW1lZ3JlZW46IFwiMzJjZDMyXCIsXG4gICAgbGluZW46IFwiZmFmMGU2XCIsIG1hZ2VudGE6IFwiZmYwMGZmXCIsIG1hcm9vbjogXCI4MDAwMDBcIixcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiBcIjY2Y2RhYVwiLCBtZWRpdW1ibHVlOiBcIjAwMDBjZFwiLCBtZWRpdW1vcmNoaWQ6IFwiYmE1NWQzXCIsXG4gICAgbWVkaXVtcHVycGxlOiBcIjkzNzBkOFwiLCBtZWRpdW1zZWFncmVlbjogXCIzY2IzNzFcIiwgbWVkaXVtc2xhdGVibHVlOiBcIjdiNjhlZVwiLFxuICAgIG1lZGl1bXNwcmluZ2dyZWVuOiBcIjAwZmE5YVwiLCBtZWRpdW10dXJxdW9pc2U6IFwiNDhkMWNjXCIsIG1lZGl1bXZpb2xldHJlZDogXCJjNzE1ODVcIixcbiAgICBtaWRuaWdodGJsdWU6IFwiMTkxOTcwXCIsIG1pbnRjcmVhbTogXCJmNWZmZmFcIiwgbWlzdHlyb3NlOiBcImZmZTRlMVwiLFxuICAgIG1vY2Nhc2luOiBcImZmZTRiNVwiLCBuYXZham93aGl0ZTogXCJmZmRlYWRcIiwgbmF2eTogXCIwMDAwODBcIixcbiAgICBvbGRsYWNlOiBcImZkZjVlNlwiLCBvbGl2ZTogXCI4MDgwMDBcIiwgb2xpdmVkcmFiOiBcIjZiOGUyM1wiLFxuICAgIG9yYW5nZTogXCJmZmE1MDBcIiwgb3JhbmdlcmVkOiBcImZmNDUwMFwiLCBvcmNoaWQ6IFwiZGE3MGQ2XCIsXG4gICAgcGFsZWdvbGRlbnJvZDogXCJlZWU4YWFcIiwgcGFsZWdyZWVuOiBcIjk4ZmI5OFwiLCBwYWxldHVycXVvaXNlOiBcImFmZWVlZVwiLFxuICAgIHBhbGV2aW9sZXRyZWQ6IFwiZDg3MDkzXCIsIHBhcGF5YXdoaXA6IFwiZmZlZmQ1XCIsIHBlYWNocHVmZjogXCJmZmRhYjlcIixcbiAgICBwZXJ1OiBcImNkODUzZlwiLCBwaW5rOiBcImZmYzBjYlwiLCBwbHVtOiBcImRkYTBkZFwiLFxuICAgIHBvd2RlcmJsdWU6IFwiYjBlMGU2XCIsIHB1cnBsZTogXCI4MDAwODBcIiwgcmVkOiBcImZmMDAwMFwiLFxuICAgIHJvc3licm93bjogXCJiYzhmOGZcIiwgcm95YWxibHVlOiBcIjQxNjllMVwiLCBzYWRkbGVicm93bjogXCI4YjQ1MTNcIixcbiAgICBzYWxtb246IFwiZmE4MDcyXCIsIHNhbmR5YnJvd246IFwiZjRhNDYwXCIsIHNlYWdyZWVuOiBcIjJlOGI1N1wiLFxuICAgIHNlYXNoZWxsOiBcImZmZjVlZVwiLCBzaWVubmE6IFwiYTA1MjJkXCIsIHNpbHZlcjogXCJjMGMwYzBcIixcbiAgICBza3libHVlOiBcIjg3Y2VlYlwiLCBzbGF0ZWJsdWU6IFwiNmE1YWNkXCIsIHNsYXRlZ3JheTogXCI3MDgwOTBcIixcbiAgICBzbGF0ZWdyZXk6IFwiNzA4MDkwXCIsIHNub3c6IFwiZmZmYWZhXCIsIHNwcmluZ2dyZWVuOiBcIjAwZmY3ZlwiLFxuICAgIHN0ZWVsYmx1ZTogXCI0NjgyYjRcIiwgdGFuOiBcImQyYjQ4Y1wiLCB0ZWFsOiBcIjAwODA4MFwiLFxuICAgIHRoaXN0bGU6IFwiZDhiZmQ4XCIsIHRvbWF0bzogXCJmZjYzNDdcIiwgdHVycXVvaXNlOiBcIjQwZTBkMFwiLFxuICAgIHZpb2xldDogXCJlZTgyZWVcIiwgd2hlYXQ6IFwiZjVkZWIzXCIsIHdoaXRlOiBcImZmZmZmZlwiLFxuICAgIHdoaXRlc21va2U6IFwiZjVmNWY1XCIsIHllbGxvdzogXCJmZmZmMDBcIiwgeWVsbG93Z3JlZW46IFwiOWFjZDMyXCJcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG5hbWVkQ29sb3JzOyIsImltcG9ydCBDbGFzcyBmcm9tICcuLi9jbGFzcyc7XG5pbXBvcnQgc3VwcG9ydCBmcm9tICcuLi9zdXBwb3J0JztcbmltcG9ydCBuYW1lZENvbG9ycyBmcm9tICcuL25hbWVkLWNvbG9ycyc7XG5cbmNvbnN0IGJyb3dzZXIgPSBzdXBwb3J0LmJyb3dzZXI7XG5cbmxldCBtYXRjaE5hbWVkQ29sb3IgPSAoY29sb3IpID0+IHtcbiAgICBjb25zdCBjb2xvck5hbWVzID0gT2JqZWN0LmtleXMobmFtZWRDb2xvcnMpO1xuICAgIGNvbG9yTmFtZXMucHVzaChcInRyYW5zcGFyZW50XCIpO1xuXG4gICAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cChcIl4oXCIgKyBjb2xvck5hbWVzLmpvaW4oXCJ8XCIpICsgXCIpKFxcXFxXfCQpXCIsIFwiaVwiKTtcbiAgICBtYXRjaE5hbWVkQ29sb3IgPSAoY29sb3IpID0+IHJlZ2V4cC5leGVjKGNvbG9yKTtcblxuICAgIHJldHVybiByZWdleHAuZXhlYyhjb2xvcik7XG59O1xuXG5jbGFzcyBCYXNlQ29sb3IgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cbiAgICB0b0hTVigpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIHRvUkdCKCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgdG9IZXgoKSB7IHJldHVybiB0aGlzLnRvQnl0ZXMoKS50b0hleCgpOyB9XG5cbiAgICB0b0J5dGVzKCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgdG9Dc3MoKSB7IHJldHVybiBcIiNcIiArIHRoaXMudG9IZXgoKTsgfVxuXG4gICAgdG9Dc3NSZ2JhKCkge1xuICAgICAgICBjb25zdCByZ2IgPSB0aGlzLnRvQnl0ZXMoKTtcbiAgICAgICAgcmV0dXJuIGByZ2JhKCR7IHJnYi5yIH0sICR7IHJnYi5nIH0sICR7IHJnYi5iIH0sICR7IHBhcnNlRmxvYXQoKE51bWJlcih0aGlzLmEpKS50b0ZpeGVkKDMpKSB9KWA7XG4gICAgfVxuXG4gICAgdG9EaXNwbGF5KCkge1xuICAgICAgICBpZiAoYnJvd3Nlci5tc2llICYmIGJyb3dzZXIudmVyc2lvbiA8IDkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ3NzKCk7IC8vIG5vIFJHQkEgc3VwcG9ydDsgZG9lcyBpdCBzdXBwb3J0IGFueSBvcGFjaXR5IGluIGNvbG9ycz9cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50b0Nzc1JnYmEoKTtcbiAgICB9XG5cbiAgICBlcXVhbHMoYykge1xuICAgICAgICByZXR1cm4gYyA9PT0gdGhpcyB8fCBjICE9PSBudWxsICYmIHRoaXMudG9Dc3NSZ2JhKCkgPT09IHBhcnNlQ29sb3IoYykudG9Dc3NSZ2JhKCk7XG4gICAgfVxuXG4gICAgZGlmZihvdGhlcikge1xuICAgICAgICBpZiAob3RoZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjMSA9IHRoaXMudG9CeXRlcygpO1xuICAgICAgICBjb25zdCBjMiA9IG90aGVyLnRvQnl0ZXMoKTtcblxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KChjMS5yIC0gYzIucikgKiAwLjMwLCAyKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coKGMxLmcgLSBjMi5nKSAqIDAuNTksIDIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdygoYzEuYiAtIGMyLmIpICogMC4xMSwgMikpO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICBsZXQgYyA9IHRoaXMudG9CeXRlcygpO1xuICAgICAgICBpZiAoYyA9PT0gdGhpcykge1xuICAgICAgICAgICAgYyA9IG5ldyBCeXRlcyhjLnIsIGMuZywgYy5iLCBjLmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxufVxuXG5jbGFzcyBSR0IgZXh0ZW5kcyBCYXNlQ29sb3Ige1xuICAgIGNvbnN0cnVjdG9yKHIsIGcsIGIsIGEpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnIgPSByO1xuICAgICAgICB0aGlzLmcgPSBnO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgIH1cblxuICAgIHRvSFNWKCkge1xuICAgICAgICBjb25zdCB7IHIsIGcsIGIgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgICAgIGNvbnN0IHYgPSBtYXg7XG4gICAgICAgIGxldCBoLCBzO1xuXG4gICAgICAgIGlmIChkZWx0YSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIU1YoMCwgMCwgdiwgdGhpcy5hKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXggIT09IDApIHtcbiAgICAgICAgICAgIHMgPSBkZWx0YSAvIG1heDtcbiAgICAgICAgICAgIGlmIChyID09PSBtYXgpIHtcbiAgICAgICAgICAgICAgICBoID0gKGcgLSBiKSAvIGRlbHRhO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChnID09PSBtYXgpIHtcbiAgICAgICAgICAgICAgICBoID0gMiArIChiIC0gcikgLyBkZWx0YTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaCA9IDQgKyAociAtIGcpIC8gZGVsdGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHtcbiAgICAgICAgICAgICAgICBoICs9IDM2MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSAwO1xuICAgICAgICAgICAgaCA9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBIU1YoaCwgcywgdiwgdGhpcy5hKTtcbiAgICB9XG5cbiAgICB0b0hTTCgpIHtcbiAgICAgICAgY29uc3QgeyByLCBnLCBiIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgICAgIGxldCBoLCBzLCBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gICAgICAgIGlmIChtYXggPT09IG1pbikge1xuICAgICAgICAgICAgaCA9IHMgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZCA9IG1heCAtIG1pbjtcbiAgICAgICAgICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcbiAgICAgICAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBiOiBoID0gKHIgLSBnKSAvIGQgKyA0OyBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgSFNMKGggKiA2MCwgcyAqIDEwMCwgbCAqIDEwMCwgdGhpcy5hKTtcbiAgICB9XG5cbiAgICB0b0J5dGVzKCkge1xuICAgICAgICByZXR1cm4gbmV3IEJ5dGVzKHRoaXMuciAqIDI1NSwgdGhpcy5nICogMjU1LCB0aGlzLmIgKiAyNTUsIHRoaXMuYSk7XG4gICAgfVxufVxuXG5jbGFzcyBCeXRlcyBleHRlbmRzIFJHQiB7XG4gICAgY29uc3RydWN0b3IociwgZywgYiwgYSkge1xuICAgICAgICBzdXBlcihNYXRoLnJvdW5kKHIpLCBNYXRoLnJvdW5kKGcpLCBNYXRoLnJvdW5kKGIpLCBhKTtcbiAgICB9XG5cbiAgICB0b1JHQigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSR0IodGhpcy5yIC8gMjU1LCB0aGlzLmcgLyAyNTUsIHRoaXMuYiAvIDI1NSwgdGhpcy5hKTtcbiAgICB9XG5cbiAgICB0b0hTVigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SR0IoKS50b0hTVigpO1xuICAgIH1cblxuICAgIHRvSFNMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1JHQigpLnRvSFNMKCk7XG4gICAgfVxuXG4gICAgdG9IZXgoKSB7XG4gICAgICAgIHJldHVybiBoZXgodGhpcy5yLCAyKSArIGhleCh0aGlzLmcsIDIpICsgaGV4KHRoaXMuYiwgMik7XG4gICAgfVxuXG4gICAgdG9CeXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoZXgobiwgd2lkdGgsIHBhZCA9IFwiMFwiKSB7XG4gICAgbGV0IHJlc3VsdCA9IG4udG9TdHJpbmcoMTYpO1xuICAgIHdoaWxlICh3aWR0aCA+IHJlc3VsdC5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gcGFkICsgcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmNsYXNzIEhTViBleHRlbmRzIEJhc2VDb2xvciB7XG4gICAgY29uc3RydWN0b3IoaCwgcywgdiwgYSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuaCA9IGg7XG4gICAgICAgIHRoaXMucyA9IHM7XG4gICAgICAgIHRoaXMudiA9IHY7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgfVxuXG4gICAgdG9SR0IoKSB7XG4gICAgICAgIGxldCB7IGgsIHMsIHYgfSA9IHRoaXM7XG4gICAgICAgIGxldCByLCBnLCBiO1xuXG4gICAgICAgIGlmIChzID09PSAwKSB7XG4gICAgICAgICAgICByID0gZyA9IGIgPSB2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaCAvPSA2MDtcblxuICAgICAgICAgICAgY29uc3QgaSA9IE1hdGguZmxvb3IoaCk7XG4gICAgICAgICAgICBjb25zdCBmID0gaCAtIGk7XG4gICAgICAgICAgICBjb25zdCBwID0gdiAqICgxIC0gcyk7XG4gICAgICAgICAgICBjb25zdCBxID0gdiAqICgxIC0gcyAqIGYpO1xuICAgICAgICAgICAgY29uc3QgdCA9IHYgKiAoMSAtIHMgKiAoMSAtIGYpKTtcblxuICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiByID0gdjsgZyA9IHQ7IGIgPSBwOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6IHIgPSBxOyBnID0gdjsgYiA9IHA7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjogciA9IHA7IGcgPSB2OyBiID0gdDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByID0gcDsgZyA9IHE7IGIgPSB2OyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHIgPSB0OyBnID0gcDsgYiA9IHY7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHIgPSB2OyBnID0gcDsgYiA9IHE7IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSR0IociwgZywgYiwgdGhpcy5hKTtcbiAgICB9XG5cbiAgICB0b0hTTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SR0IoKS50b0hTTCgpO1xuICAgIH1cblxuICAgIHRvQnl0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvUkdCKCkudG9CeXRlcygpO1xuICAgIH1cbn1cblxuY2xhc3MgSFNMIGV4dGVuZHMgQmFzZUNvbG9yIHtcbiAgICBjb25zdHJ1Y3RvcihoLCBzLCBsLCBhKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5oID0gaDtcbiAgICAgICAgdGhpcy5zID0gcztcbiAgICAgICAgdGhpcy5sID0gbDtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICB9XG5cbiAgICB0b1JHQigpIHtcbiAgICAgICAgbGV0IGggPSB0aGlzLmggLyAzNjA7XG4gICAgICAgIGxldCBzID0gdGhpcy5zIC8gMTAwO1xuICAgICAgICBsZXQgbCA9IHRoaXMubCAvIDEwMDtcbiAgICAgICAgbGV0IHIsIGcsIGI7XG5cbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IGw7IC8vIGFjaHJvbWF0aWNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgICAgICAgICAgY29uc3QgcCA9IDIgKiBsIC0gcTtcbiAgICAgICAgICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxIC8gMyk7XG4gICAgICAgICAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICAgICAgICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJHQihyLCBnLCBiLCB0aGlzLmEpO1xuICAgIH1cblxuICAgIHRvSFNWKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1JHQigpLnRvSFNWKCk7XG4gICAgfVxuXG4gICAgdG9CeXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SR0IoKS50b0J5dGVzKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBodWUycmdiKHAsIHEsIHMpIHtcbiAgICBsZXQgdCA9IHM7XG5cbiAgICBpZiAodCA8IDApIHtcbiAgICAgICAgdCArPSAxO1xuICAgIH1cblxuICAgIGlmICh0ID4gMSkge1xuICAgICAgICB0IC09IDE7XG4gICAgfVxuXG4gICAgaWYgKHQgPCAxIC8gNikge1xuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcbiAgICB9XG5cbiAgICBpZiAodCA8IDEgLyAyKSB7XG4gICAgICAgIHJldHVybiBxO1xuICAgIH1cblxuICAgIGlmICh0IDwgMiAvIDMpIHtcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xuICAgIH1cblxuICAgIHJldHVybiBwO1xufVxuXG5leHBvcnQgeyBSR0IsIEJ5dGVzLCBIU1YsIEhTTCB9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUNvbG9yKHZhbHVlLCBzYWZlKSB7XG4gICAgbGV0IG0sIHJldDtcblxuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBcIm5vbmVcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBCYXNlQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGxldCBjb2xvciA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKChtID0gbWF0Y2hOYW1lZENvbG9yKGNvbG9yKSkpIHtcbiAgICAgICAgaWYgKG1bMV0gPT09IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgY29sb3IgPSBuZXcgUkdCKDEsIDEsIDEsIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3IgPSBwYXJzZUNvbG9yKG5hbWVkQ29sb3JzW21bMV1dLCBzYWZlKTtcbiAgICAgICAgfVxuICAgICAgICBjb2xvci5tYXRjaCA9IFsgbVsxXSBdO1xuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIGlmICgobSA9IC9eIz8oWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSlcXGIvaS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IEJ5dGVzKHBhcnNlSW50KG1bMV0sIDE2KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KG1bMl0sIDE2KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KG1bM10sIDE2KSwgMSk7XG4gICAgfSBlbHNlIGlmICgobSA9IC9eIz8oWzAtOWEtZl0pKFswLTlhLWZdKShbMC05YS1mXSlcXGIvaS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IEJ5dGVzKHBhcnNlSW50KG1bMV0gKyBtWzFdLCAxNiksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludChtWzJdICsgbVsyXSwgMTYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQobVszXSArIG1bM10sIDE2KSwgMSk7XG4gICAgfSBlbHNlIGlmICgobSA9IC9ecmdiXFwoXFxzKihbMC05XSspXFxzKixcXHMqKFswLTldKylcXHMqLFxccyooWzAtOV0rKVxccypcXCkvLmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXQgPSBuZXcgQnl0ZXMocGFyc2VJbnQobVsxXSwgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQobVsyXSwgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQobVszXSwgMTApLCAxKTtcbiAgICB9IGVsc2UgaWYgKChtID0gL15yZ2JhXFwoXFxzKihbMC05XSspXFxzKixcXHMqKFswLTldKylcXHMqLFxccyooWzAtOV0rKVxccyosXFxzKihbMC05Ll0rKVxccypcXCkvLmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXQgPSBuZXcgQnl0ZXMocGFyc2VJbnQobVsxXSwgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQobVsyXSwgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQobVszXSwgMTApLCBwYXJzZUZsb2F0KG1bNF0pKTtcbiAgICB9IGVsc2UgaWYgKChtID0gL15yZ2JcXChcXHMqKFswLTldKlxcLj9bMC05XSspJVxccyosXFxzKihbMC05XSpcXC4/WzAtOV0rKSVcXHMqLFxccyooWzAtOV0qXFwuP1swLTldKyklXFxzKlxcKS8uZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldCA9IG5ldyBSR0IocGFyc2VGbG9hdChtWzFdKSAvIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KG1bMl0pIC8gMTAwLFxuICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQobVszXSkgLyAxMDAsIDEpO1xuICAgIH0gZWxzZSBpZiAoKG0gPSAvXnJnYmFcXChcXHMqKFswLTldKlxcLj9bMC05XSspJVxccyosXFxzKihbMC05XSpcXC4/WzAtOV0rKSVcXHMqLFxccyooWzAtOV0qXFwuP1swLTldKyklXFxzKixcXHMqKFswLTkuXSspXFxzKlxcKS8uZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldCA9IG5ldyBSR0IocGFyc2VGbG9hdChtWzFdKSAvIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KG1bMl0pIC8gMTAwLFxuICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQobVszXSkgLyAxMDAsIHBhcnNlRmxvYXQobVs0XSkpO1xuICAgIH1cblxuICAgIGlmIChyZXQpIHtcbiAgICAgICAgcmV0Lm1hdGNoID0gbTtcbiAgICB9IGVsc2UgaWYgKCFzYWZlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBjb2xvcjogXCIgKyBjb2xvcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbn1cbiIsImltcG9ydCBDbGFzcyBmcm9tICcuLi9jbGFzcyc7XG5pbXBvcnQgbmFtZWRDb2xvcnMgZnJvbSAnLi9uYW1lZC1jb2xvcnMnO1xuaW1wb3J0IHsgQnl0ZXMsIFJHQiwgSFNWLCBIU0wgfSBmcm9tICcuL3BhcnNlLWNvbG9yJztcblxuY29uc3QgREFSS19UUkVTSE9MRCA9IDE4MDtcblxuY2xhc3MgQ29sb3IgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0cyA9IENvbG9yLmZvcm1hdHM7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZENvbG9yID0gdGhpcy5yZXNvbHZlQ29sb3IodmFsdWUpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBmb3JtYXRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXRSZWdleCA9IGZvcm1hdHNbaWR4XS5yZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzb3IgPSBmb3JtYXRzW2lkeF0ucHJvY2VzcztcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGZvcm1hdFJlZ2V4LmV4ZWMocmVzb2x2ZWRDb2xvcik7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHMgPSBwcm9jZXNzb3IocGFydHMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnIgPSBjaGFubmVsc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nID0gY2hhbm5lbHNbMV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYiA9IGNoYW5uZWxzWzJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHRoaXMuZyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHRoaXMuYiA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuciA9IHRoaXMubm9ybWFsaXplQnl0ZSh0aGlzLnIpO1xuICAgICAgICB0aGlzLmcgPSB0aGlzLm5vcm1hbGl6ZUJ5dGUodGhpcy5nKTtcbiAgICAgICAgdGhpcy5iID0gdGhpcy5ub3JtYWxpemVCeXRlKHRoaXMuYik7XG4gICAgfVxuXG4gICAgdG9IZXgoKSB7XG4gICAgICAgIGNvbnN0IHBhZCA9IHRoaXMucGFkRGlnaXQ7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnIudG9TdHJpbmcoMTYpO1xuICAgICAgICBjb25zdCBnID0gdGhpcy5nLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuYi50b1N0cmluZygxNik7XG5cbiAgICAgICAgcmV0dXJuIFwiI1wiICsgcGFkKHIpICsgcGFkKGcpICsgcGFkKGIpO1xuICAgIH1cblxuICAgIHJlc29sdmVDb2xvcih2YWx1ZSkge1xuICAgICAgICBsZXQgY29sb3IgPSB2YWx1ZSB8fCBcImJsYWNrXCI7XG5cbiAgICAgICAgaWYgKGNvbG9yLmNoYXJBdCgwKSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3Iuc3Vic3RyKDEsIDYpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKC8gL2csIFwiXCIpO1xuICAgICAgICBjb2xvciA9IGNvbG9yLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbG9yID0gQ29sb3IubmFtZWRDb2xvcnNbY29sb3JdIHx8IGNvbG9yO1xuXG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG5cbiAgICBub3JtYWxpemVCeXRlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZSA+IDI1NSA/IDI1NSA6IHZhbHVlO1xuICAgIH1cblxuICAgIHBhZERpZ2l0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUubGVuZ3RoID09PSAxKSA/IFwiMFwiICsgdmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICBicmlnaHRuZXNzKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAgICAgICB0aGlzLnIgPSByb3VuZCh0aGlzLm5vcm1hbGl6ZUJ5dGUodGhpcy5yICogdmFsdWUpKTtcbiAgICAgICAgdGhpcy5nID0gcm91bmQodGhpcy5ub3JtYWxpemVCeXRlKHRoaXMuZyAqIHZhbHVlKSk7XG4gICAgICAgIHRoaXMuYiA9IHJvdW5kKHRoaXMubm9ybWFsaXplQnl0ZSh0aGlzLmIgKiB2YWx1ZSkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHBlcmNCcmlnaHRuZXNzKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KDAuMjQxICogdGhpcy5yICogdGhpcy5yICsgMC42OTEgKiB0aGlzLmcgKiB0aGlzLmcgKyAwLjA2OCAqIHRoaXMuYiAqIHRoaXMuYik7XG4gICAgfVxuXG4gICAgaXNEYXJrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJjQnJpZ2h0bmVzcygpIDwgREFSS19UUkVTSE9MRDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUJ5dGVzKHIsIGcsIGIsIGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCeXRlcyhyLCBnLCBiLCBhICE9IG51bGwgPyBhIDogMSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21SR0IociwgZywgYiwgYSkge1xuICAgICAgICByZXR1cm4gbmV3IFJHQihyLCBnLCBiLCBhICE9IG51bGwgPyBhIDogMSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21IU1YoaCwgcywgdiwgYSkge1xuICAgICAgICByZXR1cm4gbmV3IEhTVihoLCBzLCB2LCBhICE9IG51bGwgPyBhIDogMSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21IU0woaCwgcywgbCwgYSkge1xuICAgICAgICByZXR1cm4gbmV3IEhTTChoLCBzLCBsLCBhICE9IG51bGwgPyBhIDogMSk7XG4gICAgfVxufVxuXG5Db2xvci5mb3JtYXRzID0gWyB7XG4gICAgcmU6IC9ecmdiXFwoKFxcZHsxLDN9KSxcXHMqKFxcZHsxLDN9KSxcXHMqKFxcZHsxLDN9KVxcKSQvLFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKHBhcnRzKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBwYXJzZUludChwYXJ0c1sxXSwgMTApLCBwYXJzZUludChwYXJ0c1syXSwgMTApLCBwYXJzZUludChwYXJ0c1szXSwgMTApXG4gICAgICAgIF07XG4gICAgfVxufSwge1xuICAgIHJlOiAvXihcXHd7Mn0pKFxcd3syfSkoXFx3ezJ9KSQvLFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKHBhcnRzKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBwYXJzZUludChwYXJ0c1sxXSwgMTYpLCBwYXJzZUludChwYXJ0c1syXSwgMTYpLCBwYXJzZUludChwYXJ0c1szXSwgMTYpXG4gICAgICAgIF07XG4gICAgfVxufSwge1xuICAgIHJlOiAvXihcXHd7MX0pKFxcd3sxfSkoXFx3ezF9KSQvLFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKHBhcnRzKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBwYXJzZUludChwYXJ0c1sxXSArIHBhcnRzWzFdLCAxNiksXG4gICAgICAgICAgICBwYXJzZUludChwYXJ0c1syXSArIHBhcnRzWzJdLCAxNiksXG4gICAgICAgICAgICBwYXJzZUludChwYXJ0c1szXSArIHBhcnRzWzNdLCAxNilcbiAgICAgICAgXTtcbiAgICB9XG59IF07XG5cbkNvbG9yLm5hbWVkQ29sb3JzID0gbmFtZWRDb2xvcnM7XG5cbmV4cG9ydCBkZWZhdWx0IENvbG9yOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGVuZChmaXJzdCwgc2Vjb25kKSB7XG4gICAgZmlyc3QucHVzaC5hcHBseShmaXJzdCwgc2Vjb25kKTtcbiAgICByZXR1cm4gZmlyc3Q7XG59IiwiLyogZXNsaW50LWRpc2FibGUga2V5LXNwYWNpbmcsbm8tbXVsdGktc3BhY2VzLG5vLXBhcmFtLXJlYXNzaWduICovXG5cbmNvbnN0IGxpdGVyYWxzID0ge1xuICAgIDEgICAgOiBcImlcIiwgICAgICAgMTAgICA6IFwieFwiLCAgICAgICAxMDAgIDogXCJjXCIsXG4gICAgMiAgICA6IFwiaWlcIiwgICAgICAyMCAgIDogXCJ4eFwiLCAgICAgIDIwMCAgOiBcImNjXCIsXG4gICAgMyAgICA6IFwiaWlpXCIsICAgICAzMCAgIDogXCJ4eHhcIiwgICAgIDMwMCAgOiBcImNjY1wiLFxuICAgIDQgICAgOiBcIml2XCIsICAgICAgNDAgICA6IFwieGxcIiwgICAgICA0MDAgIDogXCJjZFwiLFxuICAgIDUgICAgOiBcInZcIiwgICAgICAgNTAgICA6IFwibFwiLCAgICAgICA1MDAgIDogXCJkXCIsXG4gICAgNiAgICA6IFwidmlcIiwgICAgICA2MCAgIDogXCJseFwiLCAgICAgIDYwMCAgOiBcImRjXCIsXG4gICAgNyAgICA6IFwidmlpXCIsICAgICA3MCAgIDogXCJseHhcIiwgICAgIDcwMCAgOiBcImRjY1wiLFxuICAgIDggICAgOiBcInZpaWlcIiwgICAgODAgICA6IFwibHh4eFwiLCAgICA4MDAgIDogXCJkY2NjXCIsXG4gICAgOSAgICA6IFwiaXhcIiwgICAgICA5MCAgIDogXCJ4Y1wiLCAgICAgIDkwMCAgOiBcImNtXCIsXG4gICAgMTAwMCA6IFwibVwiXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcmFiaWNUb1JvbWFuKG4pIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbIDEwMDAsXG4gICAgICAgICAgICAgICAgICAgOTAwICwgODAwLCA3MDAsIDYwMCwgNTAwLCA0MDAsIDMwMCwgMjAwLCAxMDAsXG4gICAgICAgICAgICAgICAgICAgOTAgICwgODAgLCA3MCAsIDYwICwgNTAgLCA0MCAsIDMwICwgMjAgLCAxMCAsXG4gICAgICAgICAgICAgICAgICAgOSAgICwgOCAgLCA3ICAsIDYgICwgNSAgLCA0ICAsIDMgICwgMiAgLCAxIF07XG5cbiAgICBsZXQgcm9tYW4gPSBcIlwiO1xuICAgIHdoaWxlIChuID4gMCkge1xuICAgICAgICBpZiAobiA8IHZhbHVlc1swXSkge1xuICAgICAgICAgICAgdmFsdWVzLnNoaWZ0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb21hbiArPSBsaXRlcmFsc1t2YWx1ZXNbMF1dO1xuICAgICAgICAgICAgbiAtPSB2YWx1ZXNbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvbWFuO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVByb21pc2UoKSB7XG4gICAgbGV0IHJlc29sdmVGbiwgcmVqZWN0Rm47XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVzb2x2ZUZuID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHByb21pc2UuX3N0YXRlID0gXCJyZXNvbHZlZFwiO1xuICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9O1xuICAgICAgICByZWplY3RGbiA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBwcm9taXNlLl9zdGF0ZSA9IFwicmVqZWN0ZWRcIjtcbiAgICAgICAgICAgIHJlamVjdChkYXRhKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcHJvbWlzZS5fc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICBwcm9taXNlLnJlc29sdmUgPSByZXNvbHZlRm47XG4gICAgcHJvbWlzZS5yZWplY3QgPSByZWplY3RGbjtcbiAgICBwcm9taXNlLnN0YXRlID0gKCkgPT4gcHJvbWlzZS5fc3RhdGU7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbiIsImNvbnN0IFVOREVGSU5FRCA9IFwidW5kZWZpbmVkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSBVTkRFRklORUQ7XG59IiwibGV0IGRlZklkID0gMTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmaW5pdGlvbklkKCkge1xuICAgIHJldHVybiBcImtkZWZcIiArIGRlZklkKys7XG59IiwiY29uc3QgREVHX1RPX1JBRCA9IE1hdGguUEkgLyAxODA7XG5jb25zdCBNQVhfTlVNID0gTnVtYmVyLk1BWF9WQUxVRTtcbmNvbnN0IE1JTl9OVU0gPSAtTnVtYmVyLk1BWF9WQUxVRTtcblxuZXhwb3J0IHsgREVHX1RPX1JBRCwgTUFYX05VTSwgTUlOX05VTSB9OyIsImltcG9ydCB7IERFR19UT19SQUQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZyhyYWRpYW5zKSB7XG4gICAgcmV0dXJuIHJhZGlhbnMgLyBERUdfVE9fUkFEO1xufSIsImNvbnN0IGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbmV4cG9ydCBjb25zdCBCT00gPSAnXFx4ZmVcXHhmZic7XG5cbi8vIEVuY29kZXMgYSBzdHJpbmcgYXMgVVRGLThcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVVVEY4KGlucHV0KSB7XG4gICAgbGV0IG91dHB1dCA9IFwiXCI7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGMgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgLy8gT25lIGJ5dGVcbiAgICAgICAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoYyk7XG4gICAgICAgIH0gZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICAvLyBUd28gYnl0ZXNcbiAgICAgICAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoMHhDMCB8IChjID4+PiA2KSk7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZnJvbUNoYXJDb2RlKDB4ODAgfCAoYyAmIDB4M2YpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgLy8gVGhyZWUgYnl0ZXNcbiAgICAgICAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoMHhFMCB8IChjID4+PiAxMikpO1xuICAgICAgICAgICAgb3V0cHV0ICs9IGZyb21DaGFyQ29kZSgweDgwIHwgKGMgPj4+IDYgJiAweDNmKSk7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZnJvbUNoYXJDb2RlKDB4ODAgfCAoYyAmIDB4M2YpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIGVuY29kZVVuaXQoY29kZVVuaXQpIHtcbiAgICByZXR1cm4gZnJvbUNoYXJDb2RlKGNvZGVVbml0ID4+IDgpICsgZnJvbUNoYXJDb2RlKGNvZGVVbml0ICYgMHgwMGZmKTtcbn1cblxuLy8gRW5jb2RlcyBhIHN0cmluZyBhcyBVVEYtMTYgYmlnLWVuZGlhblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVVURjE2QkUoaW5wdXQpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGMgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChjIDwgMHhGRkZGKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZW5jb2RlVW5pdChjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxlYWQgPSAoKGMgLSAweDEwMDAwKSA+PiAxMCkgKyAweEQ4MDA7XG4gICAgICAgICAgICBjb25zdCB0cmFpbCA9ICgoYyAtIDB4MTAwMDApICYgMHgzRkYpICsgMHhEQzAwO1xuICAgICAgICAgICAgb3V0cHV0ICs9IGVuY29kZVVuaXQobGVhZCk7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZW5jb2RlVW5pdCh0cmFpbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuIiwiaW1wb3J0IHsgZW5jb2RlVVRGOCB9IGZyb20gJy4vZW5jb2RlLXV0Zic7XG5cbmNvbnN0IEtFWV9TVFIgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVuY29kZUJhc2U2NChpbnB1dCkge1xuICAgIGxldCBvdXRwdXQgPSBcIlwiO1xuICAgIGxldCBpID0gMDtcblxuICAgIGNvbnN0IHV0ZklucHV0ID0gZW5jb2RlVVRGOChpbnB1dCk7XG5cbiAgICB3aGlsZSAoaSA8IHV0ZklucHV0Lmxlbmd0aCkge1xuICAgICAgICBsZXQgY2hyMSA9IHV0ZklucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgbGV0IGNocjIgPSB1dGZJbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICAgIGxldCBjaHIzID0gdXRmSW5wdXQuY2hhckNvZGVBdChpKyspO1xuXG4gICAgICAgIGxldCBlbmMxID0gY2hyMSA+PiAyO1xuICAgICAgICBsZXQgZW5jMiA9ICgoY2hyMSAmIDMpIDw8IDQpIHwgKGNocjIgPj4gNCk7XG4gICAgICAgIGxldCBlbmMzID0gKChjaHIyICYgMTUpIDw8IDIpIHwgKGNocjMgPj4gNik7XG4gICAgICAgIGxldCBlbmM0ID0gY2hyMyAmIDYzO1xuXG4gICAgICAgIGlmIChpc05hTihjaHIyKSkge1xuICAgICAgICAgICAgZW5jMyA9IGVuYzQgPSA2NDtcbiAgICAgICAgfSBlbHNlIGlmIChpc05hTihjaHIzKSkge1xuICAgICAgICAgICAgZW5jNCA9IDY0O1xuICAgICAgICB9XG5cbiAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICtcbiAgICAgICAgICAgIEtFWV9TVFIuY2hhckF0KGVuYzEpICsgS0VZX1NUUi5jaGFyQXQoZW5jMikgK1xuICAgICAgICAgICAgS0VZX1NUUi5jaGFyQXQoZW5jMykgKyBLRVlfU1RSLmNoYXJBdChlbmM0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufSIsImltcG9ydCBkZWZpbmVkIGZyb20gJy4vZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV2ZW50Q29vcmRpbmF0ZXMoZSkge1xuICAgIGlmIChkZWZpbmVkKChlLnggfHwge30pLmxvY2F0aW9uKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogZS54LmxvY2F0aW9uLFxuICAgICAgICAgICAgeTogZS55LmxvY2F0aW9uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogZS5wYWdlWCB8fCBlLmNsaWVudFggfHwgMCxcbiAgICAgICAgeTogZS5wYWdlWSB8fCBlLmNsaWVudFkgfHwgMFxuICAgIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXZlbnRFbGVtZW50KGUgPSB7fSkge1xuICAgIHJldHVybiBlLnRvdWNoID8gZS50b3VjaC5pbml0aWFsVG91Y2ggOiBlLnRhcmdldDtcbn0iLCJpbXBvcnQgZGVmaW5lZCBmcm9tICcuL2RlZmluZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1RyYW5zcGFyZW50KGNvbG9yKSB7XG4gICAgcmV0dXJuIGNvbG9yID09PSBcIlwiIHx8IGNvbG9yID09PSBudWxsIHx8IGNvbG9yID09PSBcIm5vbmVcIiB8fCBjb2xvciA9PT0gXCJ0cmFuc3BhcmVudFwiIHx8ICFkZWZpbmVkKGNvbG9yKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgaWYgKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGltaXRWYWx1ZSh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odmFsdWUsIG1heCksIG1pbik7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbm8tbXVsdGktc3BhY2VzLCBrZXktc3BhY2luZywgaW5kZW50LCBjYW1lbGNhc2UsIHNwYWNlLWJlZm9yZS1ibG9ja3MsIGVxZXFlcSwgYnJhY2Utc3R5bGUgKi9cbi8qIGVzbGludC1kaXNhYmxlIHNwYWNlLWluZml4LW9wcywgc3BhY2UtYmVmb3JlLWZ1bmN0aW9uLXBhcmVuLCBhcnJheS1icmFja2V0LXNwYWNpbmcsIG9iamVjdC1jdXJseS1zcGFjaW5nICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1uZXN0ZWQtdGVybmFyeSwgbWF4LXBhcmFtcywgZGVmYXVsdC1jYXNlLCBuby1lbHNlLXJldHVybiwgbm8tZW1wdHkgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduLCBuby12YXIsIGJsb2NrLXNjb3BlZC12YXIgKi9cblxuLy8gbWVyZ2VTb3J0IGlzIHN0YWJsZS5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlU29ydChhLCBjbXApIHtcbiAgICBpZiAoYS5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBhLnNsaWNlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgICAgICAgdmFyIHIgPSBbXSwgYWkgPSAwLCBiaSA9IDAsIGkgPSAwO1xuICAgICAgICB3aGlsZSAoYWkgPCBhLmxlbmd0aCAmJiBiaSA8IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoY21wKGFbYWldLCBiW2JpXSkgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJbaSsrXSA9IGFbYWkrK107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJbaSsrXSA9IGJbYmkrK107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFpIDwgYS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHIucHVzaC5hcHBseShyLCBhLnNsaWNlKGFpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJpIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHIucHVzaC5hcHBseShyLCBiLnNsaWNlKGJpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIHJldHVybiAoZnVuY3Rpb24gc29ydChhKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbSA9IE1hdGguZmxvb3IoYS5sZW5ndGggLyAyKTtcbiAgICAgICAgdmFyIGxlZnQgPSBhLnNsaWNlKDAsIG0pO1xuICAgICAgICB2YXIgcmlnaHQgPSBhLnNsaWNlKG0pO1xuICAgICAgICBsZWZ0ID0gc29ydChsZWZ0KTtcbiAgICAgICAgcmlnaHQgPSBzb3J0KHJpZ2h0KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlKGxlZnQsIHJpZ2h0KTtcbiAgICB9KShhKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm9taXNlQWxsKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn0iLCJpbXBvcnQgeyBERUdfVE9fUkFEIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByYWQoZGVncmVlcykge1xuICAgIHJldHVybiBkZWdyZWVzICogREVHX1RPX1JBRDtcbn1cbiIsImZ1bmN0aW9uIHBvdyhwKSB7XG4gICAgaWYgKHApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KDEwLCBwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gMTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm91bmQodmFsdWUsIHByZWNpc2lvbikge1xuICAgIGNvbnN0IHBvd2VyID0gcG93KHByZWNpc2lvbik7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBwb3dlcikgLyBwb3dlcjtcbn0iLCJpbXBvcnQgZGVmaW5lZCBmcm9tICcuL2RlZmluZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2YWx1ZU9yRGVmYXVsdCh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIGRlZmluZWQodmFsdWUpID8gdmFsdWUgOiBkZWZhdWx0VmFsdWU7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZEV2ZW50cyhlbGVtZW50LCBldmVudHMpIHtcbiAgICBmb3IgKGxldCBldmVudE5hbWUgaW4gZXZlbnRzKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZXMgPSBldmVudE5hbWUudHJpbSgpLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZXZlbnROYW1lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lc1tpZHhdLCBldmVudHNbZXZlbnROYW1lXSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsZW1lbnRPZmZzZXQoZWxlbWVudCkge1xuICAgIGNvbnN0IGJveCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IGJveC50b3AgKyAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApIC0gKGRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AgfHwgMCksXG4gICAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgKHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkgLSAoZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQgfHwgMClcbiAgICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsZW1lbnRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB8fCB7fTtcbiAgICBjb25zdCBzdHlsZXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc3R5bGVzKSA/IHN0eWxlcyA6IFsgc3R5bGVzIF07XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzdHlsZXNBcnJheS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGxldCBmaWVsZCA9IHN0eWxlc0FycmF5W2lkeF07XG4gICAgICAgIHJlc3VsdFtmaWVsZF0gPSBzdHlsZVtmaWVsZF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgZWxlbWVudFN0eWxlcyBmcm9tICcuL2VsZW1lbnQtc3R5bGVzJztcbmltcG9ydCBkZWZpbmVkIGZyb20gJy4vZGVmaW5lZCc7XG5cbmZ1bmN0aW9uIGdldFBpeGVscyh2YWx1ZSkge1xuICAgIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgKyBcInB4XCI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsZW1lbnRTaXplKGVsZW1lbnQsIHNpemUpIHtcbiAgICBpZiAoc2l6ZSkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHNpemU7XG5cbiAgICAgICAgaWYgKGRlZmluZWQod2lkdGgpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gZ2V0UGl4ZWxzKHdpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZpbmVkKGhlaWdodCkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZ2V0UGl4ZWxzKGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSBlbGVtZW50U3R5bGVzKGVsZW1lbnQsIFsgJ3dpZHRoJywgJ2hlaWdodCcgXSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChzaXplLndpZHRoLCAxMCksXG4gICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KHNpemUuaGVpZ2h0LCAxMClcbiAgICAgICAgfTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdW5iaW5kRXZlbnRzKGVsZW1lbnQsIGV2ZW50cyA9IHt9KSB7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBldmVudHMpIHtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lcyA9IG5hbWUudHJpbSgpLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZXZlbnROYW1lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lc1tpZHhdLCBldmVudHNbbmFtZV0sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIExSVUNhY2hlIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHNpemUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fbWFwID0ge307XG4gICAgfVxuXG4gICAgcHV0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHsga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSB9O1xuXG4gICAgICAgIG1hcFtrZXldID0gZW50cnk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IGVudHJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdGFpbC5uZXdlciA9IGVudHJ5O1xuICAgICAgICAgICAgZW50cnkub2xkZXIgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IGVudHJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2xlbmd0aCA+PSB0aGlzLl9zaXplKSB7XG4gICAgICAgICAgICBtYXBbdGhpcy5faGVhZC5rZXldID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl9oZWFkLm5ld2VyO1xuICAgICAgICAgICAgdGhpcy5faGVhZC5vbGRlciA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sZW5ndGgrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldChrZXkpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLl9tYXBba2V5XTtcblxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5faGVhZCAmJiBlbnRyeSAhPT0gdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBlbnRyeS5uZXdlcjtcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFkLm9sZGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVudHJ5ICE9PSB0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5Lm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnkubmV3ZXI7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZW50cnkub2xkZXIgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgICAgIGVudHJ5Lm5ld2VyID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RhaWwubmV3ZXIgPSBlbnRyeTtcbiAgICAgICAgICAgICAgICB0aGlzLl90YWlsID0gZW50cnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTFJVQ2FjaGU7IiwiY29uc3QgUkVQTEFDRV9SRUdFWCA9IC9cXHI/XFxufFxccnxcXHQvZztcbmNvbnN0IFNQQUNFID0gJyAnO1xuXG5mdW5jdGlvbiBub3JtYWxpemVUZXh0KHRleHQpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRleHQpLnJlcGxhY2UoUkVQTEFDRV9SRUdFWCwgU1BBQ0UpO1xufVxuXG5mdW5jdGlvbiBvYmplY3RLZXkob2JqZWN0KSB7XG4gICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIHBhcnRzLnB1c2goa2V5ICsgb2JqZWN0W2tleV0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJ0cy5zb3J0KCkuam9pbihcIlwiKTtcbn1cblxuLy8gQ29tcHV0ZXMgRk5WLTEgaGFzaFxuLy8gU2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRm93bGVyJUUyJTgwJTkzTm9sbCVFMiU4MCU5M1ZvX2hhc2hfZnVuY3Rpb25cbmZ1bmN0aW9uIGhhc2hLZXkoc3RyKSB7XG4gICAgLy8gMzItYml0IEZOVi0xIG9mZnNldCBiYXNpc1xuICAgIC8vIFNlZSBodHRwOi8vaXN0aGUuY29tL2Nob25nby90ZWNoL2NvbXAvZm52LyNGTlYtcGFyYW1cbiAgICBsZXQgaGFzaCA9IDB4ODExQzlEQzU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgICAgICBoYXNoICs9IChoYXNoIDw8IDEpICsgKGhhc2ggPDwgNCkgKyAoaGFzaCA8PCA3KSArIChoYXNoIDw8IDgpICsgKGhhc2ggPDwgMjQpO1xuICAgICAgICBoYXNoIF49IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNoID4+PiAwO1xufVxuXG5leHBvcnQgeyBvYmplY3RLZXksIGhhc2hLZXksIG5vcm1hbGl6ZVRleHQgfTsiLCJpbXBvcnQgTFJVQ2FjaGUgZnJvbSAnLi9scnUtY2FjaGUnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgb2JqZWN0S2V5LCBoYXNoS2V5LCBub3JtYWxpemVUZXh0IH0gZnJvbSAnLi91dGlsJztcblxuZnVuY3Rpb24gemVyb1NpemUoKSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IDAsIGhlaWdodDogMCwgYmFzZWxpbmU6IDAgfTtcbn1cblxuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGJhc2VsaW5lTWFya2VyU2l6ZTogMVxufTtcblxubGV0IGRlZmF1bHRNZWFzdXJlQm94O1xuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZGVmYXVsdE1lYXN1cmVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRlZmF1bHRNZWFzdXJlQm94LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50OyB0b3A6IC00MDAwcHggIWltcG9ydGFudDsgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XCIgK1xuICAgICAgICAgICAgICBcInBhZGRpbmc6IDAgIWltcG9ydGFudDsgbWFyZ2luOiAwICFpbXBvcnRhbnQ7IGJvcmRlcjogMCAhaW1wb3J0YW50O1wiICtcbiAgICAgICAgICAgICAgXCJsaW5lLWhlaWdodDogbm9ybWFsICFpbXBvcnRhbnQ7IHZpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50OyB3aGl0ZS1zcGFjZTogcHJlIWltcG9ydGFudDtcIjtcbn1cblxuY2xhc3MgVGV4dE1ldHJpY3MgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IExSVUNhY2hlKDEwMDApO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIG1lYXN1cmUodGV4dCwgc3R5bGUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB6ZXJvU2l6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3R5bGVLZXkgPSBvYmplY3RLZXkoc3R5bGUpO1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IGhhc2hLZXkodGV4dCArIHN0eWxlS2V5KTtcbiAgICAgICAgY29uc3QgY2FjaGVkUmVzdWx0ID0gdGhpcy5fY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgICBpZiAoY2FjaGVkUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2l6ZSA9IHplcm9TaXplKCk7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVCb3ggPSBvcHRpb25zLmJveCB8fCBkZWZhdWx0TWVhc3VyZUJveDtcbiAgICAgICAgY29uc3QgYmFzZWxpbmVNYXJrZXIgPSB0aGlzLl9iYXNlbGluZU1hcmtlcigpLmNsb25lTm9kZShmYWxzZSk7XG5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHN0eWxlKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBzdHlsZVtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIG1lYXN1cmVCb3guc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dFN0ciA9IG9wdGlvbnMubm9ybWFsaXplVGV4dCAhPT0gZmFsc2UgPyBub3JtYWxpemVUZXh0KHRleHQpIDogU3RyaW5nKHRleHQpO1xuXG4gICAgICAgIG1lYXN1cmVCb3gudGV4dENvbnRlbnQgPSB0ZXh0U3RyO1xuICAgICAgICBtZWFzdXJlQm94LmFwcGVuZENoaWxkKGJhc2VsaW5lTWFya2VyKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZWFzdXJlQm94KTtcblxuICAgICAgICBpZiAodGV4dFN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNpemUud2lkdGggPSBtZWFzdXJlQm94Lm9mZnNldFdpZHRoIC0gdGhpcy5vcHRpb25zLmJhc2VsaW5lTWFya2VyU2l6ZTtcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0ID0gbWVhc3VyZUJveC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBzaXplLmJhc2VsaW5lID0gYmFzZWxpbmVNYXJrZXIub2Zmc2V0VG9wICsgdGhpcy5vcHRpb25zLmJhc2VsaW5lTWFya2VyU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaXplLndpZHRoID4gMCAmJiBzaXplLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLnB1dChjYWNoZUtleSwgc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBtZWFzdXJlQm94LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobWVhc3VyZUJveCk7XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgX2Jhc2VsaW5lTWFya2VyKCkge1xuICAgICAgICBjb25zdCBtYXJrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtYXJrZXIuc3R5bGUuY3NzVGV4dCA9IFwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7d2lkdGg6IFwiICtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5iYXNlbGluZU1hcmtlclNpemUgKyBcInB4OyBoZWlnaHQ6IFwiICsgdGhpcy5vcHRpb25zLmJhc2VsaW5lTWFya2VyU2l6ZSArIFwicHg7b3ZlcmZsb3c6IGhpZGRlbjtcIjtcblxuICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgIH1cbn1cblxuVGV4dE1ldHJpY3MuY3VycmVudCA9IG5ldyBUZXh0TWV0cmljcygpO1xuXG5leHBvcnQgZGVmYXVsdCBUZXh0TWV0cmljczsiLCJpbXBvcnQgVGV4dE1ldHJpY3MgZnJvbSAnLi90ZXh0LW1ldHJpY3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZWFzdXJlVGV4dCh0ZXh0LCBzdHlsZSwgbWVhc3VyZUJveCkge1xuICAgIHJldHVybiBUZXh0TWV0cmljcy5jdXJyZW50Lm1lYXN1cmUodGV4dCwgc3R5bGUsIG1lYXN1cmVCb3gpO1xufVxuIiwiaW1wb3J0IE9ic2VydmVyc01peGluIGZyb20gJy4uL21peGlucy9vYnNlcnZlcnMtbWl4aW4nO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5jbGFzcyBPcHRpb25zU3RvcmUgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBwcmVmaXggPSBcIlwiKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG5cbiAgICAgICAgZm9yIChsZXQgZmllbGQgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgbGV0IG1lbWJlciA9IG9wdGlvbnNbZmllbGRdO1xuICAgICAgICAgICAgbWVtYmVyID0gdGhpcy5fd3JhcChtZW1iZXIsIGZpZWxkKTtcbiAgICAgICAgICAgIHRoaXNbZmllbGRdID0gbWVtYmVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0KGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gZmllbGQuc3BsaXQoXCIuXCIpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcztcblxuICAgICAgICB3aGlsZSAocGFydHMubGVuZ3RoICYmIHJlc3VsdCkge1xuICAgICAgICAgICAgbGV0IHBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0W3BhcnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzZXQoZmllbGQsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmdldChmaWVsZCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXQoZmllbGQsIHRoaXMuX3dyYXAodmFsdWUsIGZpZWxkKSk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIGZpZWxkOiB0aGlzLnByZWZpeCArIGZpZWxkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0KGZpZWxkLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBjb21wb3NpdGUgPSBmaWVsZC5pbmRleE9mKFwiLlwiKSA+PSAwO1xuICAgICAgICBsZXQgcGFyZW50T2JqID0gdGhpcztcbiAgICAgICAgbGV0IGZpZWxkTmFtZSA9IGZpZWxkO1xuXG4gICAgICAgIGlmIChjb21wb3NpdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gZmllbGROYW1lLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgIGxldCBwcmVmaXggPSB0aGlzLnByZWZpeDtcblxuICAgICAgICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHByZWZpeCArPSBmaWVsZE5hbWUgKyBcIi5cIjtcblxuICAgICAgICAgICAgICAgIGxldCBvYmogPSBwYXJlbnRPYmpbZmllbGROYW1lXTtcblxuICAgICAgICAgICAgICAgIGlmICghb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IG5ldyBPcHRpb25zU3RvcmUoe30sIHByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgIG9iai5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50T2JqW2ZpZWxkTmFtZV0gPSBvYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudE9iaiA9IG9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpZWxkTmFtZSA9IHBhcnRzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50T2JqLl9jbGVhcihmaWVsZE5hbWUpO1xuICAgICAgICBwYXJlbnRPYmpbZmllbGROYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIF9jbGVhcihmaWVsZCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpc1tmaWVsZF07XG4gICAgICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQucmVtb3ZlT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIGN1cnJlbnQucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfd3JhcChvYmplY3QsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b1N0cmluZy5jYWxsKG9iamVjdCk7XG4gICAgICAgIGxldCB3cmFwcGVkID0gb2JqZWN0O1xuXG4gICAgICAgIGlmICh3cmFwcGVkICE9PSBudWxsICYmIGRlZmluZWQod3JhcHBlZCkgJiYgdHlwZSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xuICAgICAgICAgICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgT3B0aW9uc1N0b3JlKSAmJiAhKG9iamVjdCBpbnN0YW5jZW9mIENsYXNzKSkge1xuICAgICAgICAgICAgICAgIHdyYXBwZWQgPSBuZXcgT3B0aW9uc1N0b3JlKHdyYXBwZWQsIHRoaXMucHJlZml4ICsgZmllbGQgKyBcIi5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdyYXBwZWQuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd3JhcHBlZDtcbiAgICB9XG59XG5cbk9ic2VydmVyc01peGluLmV4dGVuZChPcHRpb25zU3RvcmUucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgT3B0aW9uc1N0b3JlOyIsImZ1bmN0aW9uIHNldEFjY2Vzc29yKGZpZWxkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzW2ZpZWxkXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbZmllbGRdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRBY2Nlc3NvcihmaWVsZCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbZmllbGRdO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmluZUFjY2Vzc29ycyhmbiwgZmllbGRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG5hbWUgPSBmaWVsZHNbaV07XG4gICAgICAgIGxldCBjYXBpdGFsaXplZCA9IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLnN1YnN0cmluZygxLCBuYW1lLmxlbmd0aCk7XG5cbiAgICAgICAgZm5bXCJzZXRcIiArIGNhcGl0YWxpemVkXSA9IHNldEFjY2Vzc29yKG5hbWUpO1xuICAgICAgICBmbltcImdldFwiICsgY2FwaXRhbGl6ZWRdID0gZ2V0QWNjZXNzb3IobmFtZSk7XG4gICAgfVxufSIsImltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGRlZmluZWQsIHJhZCwgcm91bmQgfSBmcm9tICcuLi91dGlsJztcblxuY2xhc3MgTWF0cml4IGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoYSA9IDAsIGIgPSAwLCBjID0gMCwgZCA9IDAsIGUgPSAwLCBmID0gMCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIHRoaXMuZSA9IGU7XG4gICAgICAgIHRoaXMuZiA9IGY7XG4gICAgfVxuXG4gICAgbXVsdGlwbHlDb3B5KG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChcbiAgICAgICAgICAgIHRoaXMuYSAqIG1hdHJpeC5hICsgdGhpcy5jICogbWF0cml4LmIsXG4gICAgICAgICAgICB0aGlzLmIgKiBtYXRyaXguYSArIHRoaXMuZCAqIG1hdHJpeC5iLFxuICAgICAgICAgICAgdGhpcy5hICogbWF0cml4LmMgKyB0aGlzLmMgKiBtYXRyaXguZCxcbiAgICAgICAgICAgIHRoaXMuYiAqIG1hdHJpeC5jICsgdGhpcy5kICogbWF0cml4LmQsXG4gICAgICAgICAgICB0aGlzLmEgKiBtYXRyaXguZSArIHRoaXMuYyAqIG1hdHJpeC5mICsgdGhpcy5lLFxuICAgICAgICAgICAgdGhpcy5iICogbWF0cml4LmUgKyB0aGlzLmQgKiBtYXRyaXguZiArIHRoaXMuZlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGludmVydCgpIHtcbiAgICAgICAgY29uc3QgeyBhLCBiLCBjOiBkLCBkOiBlLCBlOiBnLCBmOiBoIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBkZXQgPSBhICogZSAtIGIgKiBkO1xuXG4gICAgICAgIGlmIChkZXQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoZSAvIGRldCwgLWIgLyBkZXQsIC1kIC8gZGV0LCBhIC8gZGV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoZCAqIGggLSBlICogZykgLyBkZXQsIChiICogZyAtIGEgKiBoKSAvIGRldCk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KHRoaXMuYSwgdGhpcy5iLCB0aGlzLmMsIHRoaXMuZCwgdGhpcy5lLCB0aGlzLmYpO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAoIW90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5hID09PSBvdGhlci5hICYmIHRoaXMuYiA9PT0gb3RoZXIuYiAmJlxuICAgICAgICAgICAgICAgdGhpcy5jID09PSBvdGhlci5jICYmIHRoaXMuZCA9PT0gb3RoZXIuZCAmJlxuICAgICAgICAgICAgICAgdGhpcy5lID09PSBvdGhlci5lICYmIHRoaXMuZiA9PT0gb3RoZXIuZjtcbiAgICB9XG5cbiAgICByb3VuZChwcmVjaXNpb24pIHtcbiAgICAgICAgdGhpcy5hID0gcm91bmQodGhpcy5hLCBwcmVjaXNpb24pO1xuICAgICAgICB0aGlzLmIgPSByb3VuZCh0aGlzLmIsIHByZWNpc2lvbik7XG4gICAgICAgIHRoaXMuYyA9IHJvdW5kKHRoaXMuYywgcHJlY2lzaW9uKTtcbiAgICAgICAgdGhpcy5kID0gcm91bmQodGhpcy5kLCBwcmVjaXNpb24pO1xuICAgICAgICB0aGlzLmUgPSByb3VuZCh0aGlzLmUsIHByZWNpc2lvbik7XG4gICAgICAgIHRoaXMuZiA9IHJvdW5kKHRoaXMuZiwgcHJlY2lzaW9uKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0b0FycmF5KHByZWNpc2lvbikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbIHRoaXMuYSwgdGhpcy5iLCB0aGlzLmMsIHRoaXMuZCwgdGhpcy5lLCB0aGlzLmYgXTtcblxuICAgICAgICBpZiAoZGVmaW5lZChwcmVjaXNpb24pKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHJvdW5kKHJlc3VsdFtpXSwgcHJlY2lzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcocHJlY2lzaW9uLCBzZXBhcmF0b3IgPSBcIixcIikge1xuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KHByZWNpc2lvbikuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIHN0YXRpYyB0cmFuc2xhdGUoeCwgeSkge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLCAwLCAwLCAxLCB4LCB5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdW5pdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJvdGF0ZShhbmdsZSwgeCwgeSkge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdHJpeC5hID0gTWF0aC5jb3MocmFkKGFuZ2xlKSk7XG4gICAgICAgIG1hdHJpeC5iID0gTWF0aC5zaW4ocmFkKGFuZ2xlKSk7XG4gICAgICAgIG1hdHJpeC5jID0gLW1hdHJpeC5iO1xuICAgICAgICBtYXRyaXguZCA9IG1hdHJpeC5hO1xuICAgICAgICBtYXRyaXguZSA9ICh4IC0geCAqIG1hdHJpeC5hICsgeSAqIG1hdHJpeC5iKSB8fCAwO1xuICAgICAgICBtYXRyaXguZiA9ICh5IC0geSAqIG1hdHJpeC5hIC0geCAqIG1hdHJpeC5iKSB8fCAwO1xuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuXG4gICAgc3RhdGljIHNjYWxlKHNjYWxlWCwgc2NhbGVZKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KHNjYWxlWCwgMCwgMCwgc2NhbGVZLCAwLCAwKTtcbiAgICB9XG59XG5cbk1hdHJpeC5JREVOVElUWSA9IE1hdHJpeC51bml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hdHJpeDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b01hdHJpeCh0cmFuc2Zvcm1hdGlvbikge1xuICAgIGlmICh0cmFuc2Zvcm1hdGlvbiAmJiB0eXBlb2YgdHJhbnNmb3JtYXRpb24ubWF0cml4ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWF0aW9uLm1hdHJpeCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0cmFuc2Zvcm1hdGlvbjtcbn0iLCJpbXBvcnQgZGVmaW5lQWNjZXNzb3JzIGZyb20gJy4uL2FjY2Vzc29ycy9kZWZpbmUtYWNjZXNzb3JzJztcbmltcG9ydCBPYnNlcnZlcnNNaXhpbiBmcm9tICcuLi9taXhpbnMvb2JzZXJ2ZXJzLW1peGluJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGRlZmluZWQsIE1JTl9OVU0sIE1BWF9OVU0sIHJvdW5kIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgTWF0cml4IGZyb20gJy4vbWF0cml4JztcbmltcG9ydCB0b01hdHJpeCBmcm9tICcuL3RvLW1hdHJpeCc7XG5cbmNsYXNzIFBvaW50IGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMueCA9IHggfHwgMDtcbiAgICAgICAgdGhpcy55ID0geSB8fCAwO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgJiYgb3RoZXIueCA9PT0gdGhpcy54ICYmIG90aGVyLnkgPT09IHRoaXMueTtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gICAgfVxuXG4gICAgcm90YXRlKGFuZ2xlLCBvcmlnaW4pIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luUG9pbnQgPSBQb2ludC5jcmVhdGUob3JpZ2luKSB8fCBQb2ludC5aRVJPO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybShNYXRyaXgucm90YXRlKGFuZ2xlLCBvcmlnaW5Qb2ludC54LCBvcmlnaW5Qb2ludC55KSk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKHgsIHkpIHtcbiAgICAgICAgdGhpcy54ICs9IHg7XG4gICAgICAgIHRoaXMueSArPSB5O1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0cmFuc2xhdGVXaXRoKHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZShwb2ludC54LCBwb2ludC55KTtcbiAgICB9XG5cbiAgICBtb3ZlKHgsIHkpIHtcbiAgICAgICAgdGhpcy54ID0gdGhpcy55ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlKHgsIHkpO1xuICAgIH1cblxuICAgIHNjYWxlKHNjYWxlWCwgc2NhbGVZID0gc2NhbGVYKSB7XG4gICAgICAgIHRoaXMueCAqPSBzY2FsZVg7XG4gICAgICAgIHRoaXMueSAqPSBzY2FsZVk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNjYWxlQ29weShzY2FsZVgsIHNjYWxlWSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnNjYWxlKHNjYWxlWCwgc2NhbGVZKTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gdG9NYXRyaXgodHJhbnNmb3JtYXRpb24pO1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy54ID0gbWF0cml4LmEgKiB4ICsgbWF0cml4LmMgKiB5ICsgbWF0cml4LmU7XG4gICAgICAgIHRoaXMueSA9IG1hdHJpeC5iICogeCArIG1hdHJpeC5kICogeSArIG1hdHJpeC5mO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1Db3B5KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmICh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgICAgcG9pbnQudHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBkaXN0YW5jZVRvKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGR4ID0gdGhpcy54IC0gcG9pbnQueDtcbiAgICAgICAgY29uc3QgZHkgPSB0aGlzLnkgLSBwb2ludC55O1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cblxuICAgIHJvdW5kKGRpZ2l0cykge1xuICAgICAgICB0aGlzLnggPSByb3VuZCh0aGlzLngsIGRpZ2l0cyk7XG4gICAgICAgIHRoaXMueSA9IHJvdW5kKHRoaXMueSwgZGlnaXRzKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdG9BcnJheShkaWdpdHMpIHtcbiAgICAgICAgY29uc3QgZG9Sb3VuZCA9IGRlZmluZWQoZGlnaXRzKTtcbiAgICAgICAgY29uc3QgeCA9IGRvUm91bmQgPyByb3VuZCh0aGlzLngsIGRpZ2l0cykgOiB0aGlzLng7XG4gICAgICAgIGNvbnN0IHkgPSBkb1JvdW5kID8gcm91bmQodGhpcy55LCBkaWdpdHMpIDogdGhpcy55O1xuXG4gICAgICAgIHJldHVybiBbIHgsIHkgXTtcbiAgICB9XG5cbiAgICB0b1N0cmluZyhkaWdpdHMsIHNlcGFyYXRvciA9IFwiIFwiKSB7XG4gICAgICAgIGxldCB7IHgsIHkgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGRlZmluZWQoZGlnaXRzKSkge1xuICAgICAgICAgICAgeCA9IHJvdW5kKHgsIGRpZ2l0cyk7XG4gICAgICAgICAgICB5ID0gcm91bmQoeSwgZGlnaXRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB4ICsgc2VwYXJhdG9yICsgeTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgaWYgKGRlZmluZWQoYXJnMCkpIHtcbiAgICAgICAgICAgIGlmIChhcmcwIGluc3RhbmNlb2YgUG9pbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBhcmcwLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoYXJnMFswXSwgYXJnMFsxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoYXJnMCwgYXJnMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgbWluKCkge1xuICAgICAgICBsZXQgbWluWCA9IE1BWF9OVU07XG4gICAgICAgIGxldCBtaW5ZID0gTUFYX05VTTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKHBvaW50LngsIG1pblgpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKHBvaW50LnksIG1pblkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChtaW5YLCBtaW5ZKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWF4KCkge1xuICAgICAgICBsZXQgbWF4WCA9IE1JTl9OVU07XG4gICAgICAgIGxldCBtYXhZID0gTUlOX05VTTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgocG9pbnQueCwgbWF4WCk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgocG9pbnQueSwgbWF4WSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KG1heFgsIG1heFkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtaW5Qb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChNSU5fTlVNLCBNSU5fTlVNKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWF4UG9pbnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoTUFYX05VTSwgTUFYX05VTSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBaRVJPKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KDAsIDApO1xuICAgIH1cbn1cblxuZGVmaW5lQWNjZXNzb3JzKFBvaW50LnByb3RvdHlwZSwgWyBcInhcIiwgXCJ5XCIgXSk7XG5PYnNlcnZlcnNNaXhpbi5leHRlbmQoUG9pbnQucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7XG4iLCJpbXBvcnQgZGVmaW5lQWNjZXNzb3JzIGZyb20gJy4uL2FjY2Vzc29ycy9kZWZpbmUtYWNjZXNzb3JzJztcbmltcG9ydCBPYnNlcnZlcnNNaXhpbiBmcm9tICcuLi9taXhpbnMvb2JzZXJ2ZXJzLW1peGluJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGRlZmluZWQsIHJvdW5kIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNsYXNzIFNpemUgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAwO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgJiYgb3RoZXIud2lkdGggPT09IHRoaXMud2lkdGggJiYgb3RoZXIuaGVpZ2h0ID09PSB0aGlzLmhlaWdodDtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICB0b0FycmF5KGRpZ2l0cykge1xuICAgICAgICBjb25zdCBkb1JvdW5kID0gZGVmaW5lZChkaWdpdHMpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IGRvUm91bmQgPyByb3VuZCh0aGlzLndpZHRoLCBkaWdpdHMpIDogdGhpcy53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZG9Sb3VuZCA/IHJvdW5kKHRoaXMuaGVpZ2h0LCBkaWdpdHMpIDogdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIFsgd2lkdGgsIGhlaWdodCBdO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUoYXJnMCwgYXJnMSkge1xuICAgICAgICBpZiAoZGVmaW5lZChhcmcwKSkge1xuICAgICAgICAgICAgaWYgKGFyZzAgaW5zdGFuY2VvZiBTaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZzA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgYXJnMC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpemUoYXJnMFswXSwgYXJnMFsxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgU2l6ZShhcmcwLCBhcmcxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgWkVSTygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKDAsIDApO1xuICAgIH1cbn1cblxuZGVmaW5lQWNjZXNzb3JzKFNpemUucHJvdG90eXBlLCBbIFwid2lkdGhcIiwgXCJoZWlnaHRcIiBdKTtcbk9ic2VydmVyc01peGluLmV4dGVuZChTaXplLnByb3RvdHlwZSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNpemU7IiwiaW1wb3J0IE9ic2VydmVyc01peGluIGZyb20gJy4uL21peGlucy9vYnNlcnZlcnMtbWl4aW4nO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuaW1wb3J0IFNpemUgZnJvbSAnLi9zaXplJztcblxuY2xhc3MgUmVjdCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihvcmlnaW4gPSBuZXcgUG9pbnQoKSwgc2l6ZSA9IG5ldyBTaXplKCkpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnNldE9yaWdpbihvcmlnaW4pO1xuICAgICAgICB0aGlzLnNldFNpemUoc2l6ZSk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdChcbiAgICAgICAgICAgIHRoaXMub3JpZ2luLmNsb25lKCksXG4gICAgICAgICAgICB0aGlzLnNpemUuY2xvbmUoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgJiZcbiAgICAgICAgICAgICAgIG90aGVyLm9yaWdpbi5lcXVhbHModGhpcy5vcmlnaW4pICYmXG4gICAgICAgICAgICAgICBvdGhlci5zaXplLmVxdWFscyh0aGlzLnNpemUpO1xuICAgIH1cblxuICAgIHNldE9yaWdpbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vYnNlcnZlckZpZWxkKFwib3JpZ2luXCIsIFBvaW50LmNyZWF0ZSh2YWx1ZSkpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldE9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luO1xuICAgIH1cblxuICAgIHNldFNpemUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJGaWVsZChcInNpemVcIiwgU2l6ZS5jcmVhdGUodmFsdWUpKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgIH1cblxuICAgIHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplLndpZHRoO1xuICAgIH1cblxuICAgIGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgdG9wTGVmdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luLmNsb25lKCk7XG4gICAgfVxuXG4gICAgYm90dG9tUmlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbi5jbG9uZSgpLnRyYW5zbGF0ZSh0aGlzLndpZHRoKCksIHRoaXMuaGVpZ2h0KCkpO1xuICAgIH1cblxuICAgIHRvcFJpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW4uY2xvbmUoKS50cmFuc2xhdGUodGhpcy53aWR0aCgpLCAwKTtcbiAgICB9XG5cbiAgICBib3R0b21MZWZ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW4uY2xvbmUoKS50cmFuc2xhdGUoMCwgdGhpcy5oZWlnaHQoKSk7XG4gICAgfVxuXG4gICAgY2VudGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW4uY2xvbmUoKS50cmFuc2xhdGUodGhpcy53aWR0aCgpIC8gMiwgdGhpcy5oZWlnaHQoKSAvIDIpO1xuICAgIH1cblxuICAgIGJib3gobWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHRsID0gdGhpcy50b3BMZWZ0KCkudHJhbnNmb3JtQ29weShtYXRyaXgpO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMudG9wUmlnaHQoKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5ib3R0b21SaWdodCgpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgY29uc3QgYmwgPSB0aGlzLmJvdHRvbUxlZnQoKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG5cbiAgICAgICAgcmV0dXJuIFJlY3QuZnJvbVBvaW50cyh0bCwgdHIsIGJyLCBibCk7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtQ29weShtKSB7XG4gICAgICAgIHJldHVybiBSZWN0LmZyb21Qb2ludHMoXG4gICAgICAgICAgICB0aGlzLnRvcExlZnQoKS50cmFuc2Zvcm0obSksXG4gICAgICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0KCkudHJhbnNmb3JtKG0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZXhwYW5kKHgsIHkgPSB4KSB7XG5cbiAgICAgICAgdGhpcy5zaXplLndpZHRoICs9IDIgKiB4O1xuICAgICAgICB0aGlzLnNpemUuaGVpZ2h0ICs9IDIgKiB5O1xuXG4gICAgICAgIHRoaXMub3JpZ2luLnRyYW5zbGF0ZSgteCwgLXkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4cGFuZENvcHkoeCwgeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmV4cGFuZCh4LCB5KTtcbiAgICB9XG5cbiAgICBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMub3JpZ2luO1xuICAgICAgICBjb25zdCBib3R0b21SaWdodCA9IHRoaXMuYm90dG9tUmlnaHQoKTtcbiAgICAgICAgcmV0dXJuICEocG9pbnQueCA8IG9yaWdpbi54IHx8IHBvaW50LnkgPCBvcmlnaW4ueSB8fCBib3R0b21SaWdodC54IDwgcG9pbnQueCB8fCBib3R0b21SaWdodC55IDwgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgX2lzT25QYXRoKHBvaW50LCB3aWR0aCkge1xuICAgICAgICBjb25zdCByZWN0T3V0ZXIgPSB0aGlzLmV4cGFuZENvcHkod2lkdGgsIHdpZHRoKTtcbiAgICAgICAgY29uc3QgcmVjdElubmVyID0gdGhpcy5leHBhbmRDb3B5KC13aWR0aCwgLXdpZHRoKTtcblxuICAgICAgICByZXR1cm4gcmVjdE91dGVyLmNvbnRhaW5zUG9pbnQocG9pbnQpICYmICFyZWN0SW5uZXIuY29udGFpbnNQb2ludChwb2ludCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHRvcExlZnQgPSBQb2ludC5taW4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBQb2ludC5tYXguYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG5ldyBTaXplKFxuICAgICAgICAgICAgYm90dG9tUmlnaHQueCAtIHRvcExlZnQueCxcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0LnkgLSB0b3BMZWZ0LnlcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gbmV3IFJlY3QodG9wTGVmdCwgc2l6ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHVuaW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIFJlY3QuZnJvbVBvaW50cyhcbiAgICAgICAgICAgIFBvaW50Lm1pbihhLnRvcExlZnQoKSwgYi50b3BMZWZ0KCkpLFxuICAgICAgICAgICAgUG9pbnQubWF4KGEuYm90dG9tUmlnaHQoKSwgYi5ib3R0b21SaWdodCgpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcnNlY3QoYSwgYikge1xuICAgICAgICBjb25zdCByZWN0MSA9IHtcbiAgICAgICAgICAgIGxlZnQ6IGEudG9wTGVmdCgpLngsXG4gICAgICAgICAgICB0b3A6IGEudG9wTGVmdCgpLnksXG4gICAgICAgICAgICByaWdodDogYS5ib3R0b21SaWdodCgpLngsXG4gICAgICAgICAgICBib3R0b206IGEuYm90dG9tUmlnaHQoKS55XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVjdDIgPSB7XG4gICAgICAgICAgICBsZWZ0OiBiLnRvcExlZnQoKS54LFxuICAgICAgICAgICAgdG9wOiBiLnRvcExlZnQoKS55LFxuICAgICAgICAgICAgcmlnaHQ6IGIuYm90dG9tUmlnaHQoKS54LFxuICAgICAgICAgICAgYm90dG9tOiBiLmJvdHRvbVJpZ2h0KCkueVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChyZWN0MS5sZWZ0IDw9IHJlY3QyLnJpZ2h0ICYmXG4gICAgICAgICAgICByZWN0Mi5sZWZ0IDw9IHJlY3QxLnJpZ2h0ICYmXG4gICAgICAgICAgICByZWN0MS50b3AgPD0gcmVjdDIuYm90dG9tICYmXG4gICAgICAgICAgICByZWN0Mi50b3AgPD0gcmVjdDEuYm90dG9tKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVjdC5mcm9tUG9pbnRzKFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChNYXRoLm1heChyZWN0MS5sZWZ0LCByZWN0Mi5sZWZ0KSwgTWF0aC5tYXgocmVjdDEudG9wLCByZWN0Mi50b3ApKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoTWF0aC5taW4ocmVjdDEucmlnaHQsIHJlY3QyLnJpZ2h0KSwgTWF0aC5taW4ocmVjdDEuYm90dG9tLCByZWN0Mi5ib3R0b20pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuT2JzZXJ2ZXJzTWl4aW4uZXh0ZW5kKFJlY3QucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgUmVjdDsiLCJpbXBvcnQgT2JzZXJ2ZXJzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL29ic2VydmVycy1taXhpbic7XG5pbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgdG9NYXRyaXggZnJvbSAnLi90by1tYXRyaXgnO1xuaW1wb3J0IE1hdHJpeCBmcm9tICcuL21hdHJpeCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9wb2ludCc7XG5cbmNsYXNzIFRyYW5zZm9ybWF0aW9uIGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IobWF0cml4ID0gTWF0cml4LnVuaXQoKSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1hdGlvbihcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeC5jbG9uZSgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciAmJlxuICAgICAgICAgICAgICAgb3RoZXIuX21hdHJpeC5lcXVhbHModGhpcy5fbWF0cml4KTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoeCwgeSkge1xuICAgICAgICB0aGlzLl9tYXRyaXggPSB0aGlzLl9tYXRyaXgubXVsdGlwbHlDb3B5KE1hdHJpeC50cmFuc2xhdGUoeCwgeSkpO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnNDaGFuZ2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2NhbGUoc2NhbGVYLCBzY2FsZVkgPSBzY2FsZVgsIG9yaWdpbiA9IG51bGwpIHtcbiAgICAgICAgbGV0IG9yaWdpblBvaW50ID0gb3JpZ2luO1xuXG4gICAgICAgIGlmIChvcmlnaW5Qb2ludCkge1xuICAgICAgICAgICAgb3JpZ2luUG9pbnQgPSBQb2ludC5jcmVhdGUob3JpZ2luUG9pbnQpO1xuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gdGhpcy5fbWF0cml4Lm11bHRpcGx5Q29weShNYXRyaXgudHJhbnNsYXRlKG9yaWdpblBvaW50LngsIG9yaWdpblBvaW50LnkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IHRoaXMuX21hdHJpeC5tdWx0aXBseUNvcHkoTWF0cml4LnNjYWxlKHNjYWxlWCwgc2NhbGVZKSk7XG5cbiAgICAgICAgaWYgKG9yaWdpblBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSB0aGlzLl9tYXRyaXgubXVsdGlwbHlDb3B5KE1hdHJpeC50cmFuc2xhdGUoLW9yaWdpblBvaW50LngsIC1vcmlnaW5Qb2ludC55KSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vcHRpb25zQ2hhbmdlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJvdGF0ZShhbmdsZSwgb3JpZ2luKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpblBvaW50ID0gUG9pbnQuY3JlYXRlKG9yaWdpbikgfHwgUG9pbnQuWkVSTztcblxuICAgICAgICB0aGlzLl9tYXRyaXggPSB0aGlzLl9tYXRyaXgubXVsdGlwbHlDb3B5KE1hdHJpeC5yb3RhdGUoYW5nbGUsIG9yaWdpblBvaW50LngsIG9yaWdpblBvaW50LnkpKTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zQ2hhbmdlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG11bHRpcGx5KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRvTWF0cml4KHRyYW5zZm9ybWF0aW9uKTtcblxuICAgICAgICB0aGlzLl9tYXRyaXggPSB0aGlzLl9tYXRyaXgubXVsdGlwbHlDb3B5KG1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5fb3B0aW9uc0NoYW5nZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtYXRyaXgodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnNDaGFuZ2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hdHJpeDtcbiAgICB9XG5cbiAgICBfb3B0aW9uc0NoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zQ2hhbmdlKHtcbiAgICAgICAgICAgIGZpZWxkOiBcInRyYW5zZm9ybVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXNcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5PYnNlcnZlcnNNaXhpbi5leHRlbmQoVHJhbnNmb3JtYXRpb24ucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmb3JtYXRpb247XG4iLCJpbXBvcnQgVHJhbnNmb3JtYXRpb24gZnJvbSAnLi90cmFuc2Zvcm1hdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybShtYXRyaXgpIHtcbiAgICBpZiAobWF0cml4ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChtYXRyaXggaW5zdGFuY2VvZiBUcmFuc2Zvcm1hdGlvbikge1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtYXRpb24obWF0cml4KTtcbn0iLCJpbXBvcnQgT3B0aW9uc1N0b3JlIGZyb20gJy4uL2NvcmUvb3B0aW9ucy1zdG9yZSc7XG5pbXBvcnQgT2JzZXJ2ZXJzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL29ic2VydmVycy1taXhpbic7XG5pbXBvcnQgUmVjdCBmcm9tICcuLi9nZW9tZXRyeS9yZWN0JztcbmltcG9ydCBNYXRyaXggZnJvbSAnLi4vZ2VvbWV0cnkvbWF0cml4JztcbmltcG9ydCBjcmVhdGVUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvbWV0cnkvdHJhbnNmb3JtJztcbmltcG9ydCB0b01hdHJpeCBmcm9tICcuLi9nZW9tZXRyeS90by1tYXRyaXgnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgZGVmaW5lZCwgZGVmaW5pdGlvbklkLCBpc1RyYW5zcGFyZW50LCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jbGFzcyBFbGVtZW50IGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2luaXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIF9pbml0T3B0aW9ucyhvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBjbGlwLCB0cmFuc2Zvcm0gfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgb3B0aW9ucy50cmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGlwICYmICFjbGlwLmlkKSB7XG4gICAgICAgICAgICBjbGlwLmlkID0gZGVmaW5pdGlvbklkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBuZXcgT3B0aW9uc1N0b3JlKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtKHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChcInRyYW5zZm9ybVwiLCBjcmVhdGVUcmFuc2Zvcm0odmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ2V0KFwidHJhbnNmb3JtXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFyZW50VHJhbnNmb3JtKCkge1xuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXM7XG4gICAgICAgIGxldCBwYXJlbnRNYXRyaXg7XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnQucGFyZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnNmb3JtYXRpb24gPSBlbGVtZW50LnRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50TWF0cml4ID0gdHJhbnNmb3JtYXRpb24ubWF0cml4KCkubXVsdGlwbHlDb3B5KHBhcmVudE1hdHJpeCB8fCBNYXRyaXgudW5pdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJlbnRNYXRyaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2Zvcm0ocGFyZW50TWF0cml4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGN1cnJlbnRUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtID0gdGhpcy5wYXJlbnRUcmFuc2Zvcm0oKSkge1xuICAgICAgICBjb25zdCBlbGVtZW50VHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0oKTtcbiAgICAgICAgY29uc3QgZWxlbWVudE1hdHJpeCA9IHRvTWF0cml4KGVsZW1lbnRUcmFuc2Zvcm0pO1xuXG4gICAgICAgIGxldCBwYXJlbnRNYXRyaXggPSB0b01hdHJpeChwYXJlbnRUcmFuc2Zvcm0pO1xuICAgICAgICBsZXQgY29tYmluZWRNYXRyaXg7XG5cbiAgICAgICAgaWYgKGVsZW1lbnRNYXRyaXggJiYgcGFyZW50TWF0cml4KSB7XG4gICAgICAgICAgICBjb21iaW5lZE1hdHJpeCA9IHBhcmVudE1hdHJpeC5tdWx0aXBseUNvcHkoZWxlbWVudE1hdHJpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21iaW5lZE1hdHJpeCA9IGVsZW1lbnRNYXRyaXggfHwgcGFyZW50TWF0cml4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbWJpbmVkTWF0cml4KSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVHJhbnNmb3JtKGNvbWJpbmVkTWF0cml4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZpc2libGUodmFsdWUpIHtcbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0KFwidmlzaWJsZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ2V0KFwidmlzaWJsZVwiKSAhPT0gZmFsc2U7XG4gICAgfVxuXG4gICAgY2xpcCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhdmFsdWUuaWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5pZCA9IGRlZmluaXRpb25JZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5zZXQoXCJjbGlwXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0KFwiY2xpcFwiKTtcbiAgICB9XG5cbiAgICBvcGFjaXR5KHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChcIm9wYWNpdHlcIiwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLmdldChcIm9wYWNpdHlcIiksIDEpO1xuICAgIH1cblxuICAgIGNsaXBwZWRCQm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLl9jbGlwcGVkQkJveCh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIGlmIChiYm94KSB7XG4gICAgICAgICAgICBjb25zdCBjbGlwID0gdGhpcy5jbGlwKCk7XG4gICAgICAgICAgICByZXR1cm4gY2xpcCA/IFJlY3QuaW50ZXJzZWN0KGJib3gsIGNsaXAuYmJveCh0cmFuc2Zvcm1hdGlvbikpIDogYmJveDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQsIHBhcmVudFRyYW5zZm9ybSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMuY3VycmVudFRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgbGV0IHRyYW5zZm9ybWVkUG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZFBvaW50ID0gcG9pbnQudHJhbnNmb3JtQ29weSh0cmFuc2Zvcm0ubWF0cml4KCkuaW52ZXJ0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9oYXNGaWxsKCkgJiYgdGhpcy5fY29udGFpbnNQb2ludCh0cmFuc2Zvcm1lZFBvaW50KSkgfHwgKHRoaXMuX2lzT25QYXRoICYmIHRoaXMuX2hhc1N0cm9rZSgpICYmIHRoaXMuX2lzT25QYXRoKHRyYW5zZm9ybWVkUG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2hhc0ZpbGwoKSB7XG4gICAgICAgIGNvbnN0IGZpbGwgPSB0aGlzLm9wdGlvbnMuZmlsbDtcbiAgICAgICAgcmV0dXJuIGZpbGwgJiYgIWlzVHJhbnNwYXJlbnQoZmlsbC5jb2xvcik7XG4gICAgfVxuXG4gICAgX2hhc1N0cm9rZSgpIHtcbiAgICAgICAgY29uc3Qgc3Ryb2tlID0gdGhpcy5vcHRpb25zLnN0cm9rZTtcbiAgICAgICAgcmV0dXJuIHN0cm9rZSAmJiBzdHJva2Uud2lkdGggPiAwICYmICFpc1RyYW5zcGFyZW50KHN0cm9rZS5jb2xvcik7XG4gICAgfVxuXG4gICAgX2NsaXBwZWRCQm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJib3godHJhbnNmb3JtYXRpb24pO1xuICAgIH1cbn1cblxuRWxlbWVudC5wcm90b3R5cGUubm9kZVR5cGUgPSBcIkVsZW1lbnRcIjtcblxuT2JzZXJ2ZXJzTWl4aW4uZXh0ZW5kKEVsZW1lbnQucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgRWxlbWVudDtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsbGlwc2VFeHRyZW1lQW5nbGVzKGNlbnRlciwgcngsIHJ5LCBtYXRyaXgpIHtcbiAgICBsZXQgZXh0cmVtZVggPSAwO1xuICAgIGxldCBleHRyZW1lWSA9IDA7XG5cbiAgICBpZiAobWF0cml4KSB7XG4gICAgICAgIGV4dHJlbWVYID0gTWF0aC5hdGFuMihtYXRyaXguYyAqIHJ5LCBtYXRyaXguYSAqIHJ4KTtcbiAgICAgICAgaWYgKG1hdHJpeC5iICE9PSAwKSB7XG4gICAgICAgICAgICBleHRyZW1lWSA9IE1hdGguYXRhbjIobWF0cml4LmQgKiByeSwgbWF0cml4LmIgKiByeCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBleHRyZW1lWCxcbiAgICAgICAgeTogZXh0cmVtZVlcbiAgICB9O1xufSIsImltcG9ydCBkZWZpbmVBY2Nlc3NvcnMgZnJvbSAnLi4vYWNjZXNzb3JzL2RlZmluZS1hY2Nlc3NvcnMnO1xuaW1wb3J0IE9ic2VydmVyc01peGluIGZyb20gJy4uL21peGlucy9vYnNlcnZlcnMtbWl4aW4nO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuaW1wb3J0IFJlY3QgZnJvbSAnLi9yZWN0JztcbmltcG9ydCBlbGxpcHNlRXh0cmVtZUFuZ2xlcyBmcm9tICcuL21hdGgvZWxsaXBzZS1leHRyZW1lLWFuZ2xlcyc7XG5pbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyByYWQgfSBmcm9tICcuLi91dGlsJztcblxuY29uc3QgUElfRElWXzIgPSBNYXRoLlBJIC8gMjtcblxuY2xhc3MgQ2lyY2xlIGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoY2VudGVyID0gbmV3IFBvaW50KCksIHJhZGl1cyA9IDApIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnNldENlbnRlcihjZW50ZXIpO1xuICAgICAgICB0aGlzLnNldFJhZGl1cyhyYWRpdXMpO1xuICAgIH1cblxuICAgIHNldENlbnRlcih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vYnNlcnZlckZpZWxkKFwiY2VudGVyXCIsIFBvaW50LmNyZWF0ZSh2YWx1ZSkpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldENlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2VudGVyO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgJiZcbiAgICAgICAgICAgICAgIG90aGVyLmNlbnRlci5lcXVhbHModGhpcy5jZW50ZXIpICYmXG4gICAgICAgICAgICAgICBvdGhlci5yYWRpdXMgPT09IHRoaXMucmFkaXVzO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IENpcmNsZSh0aGlzLmNlbnRlci5jbG9uZSgpLCB0aGlzLnJhZGl1cyk7XG4gICAgfVxuXG4gICAgcG9pbnRBdChhbmdsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRBdChyYWQoYW5nbGUpKTtcbiAgICB9XG5cbiAgICBiYm94KG1hdHJpeCkge1xuICAgICAgICBjb25zdCBleHRyZW1lQW5nbGVzID0gZWxsaXBzZUV4dHJlbWVBbmdsZXModGhpcy5jZW50ZXIsIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cywgbWF0cml4KTtcbiAgICAgICAgbGV0IG1pblBvaW50ID0gUG9pbnQubWF4UG9pbnQoKTtcbiAgICAgICAgbGV0IG1heFBvaW50ID0gUG9pbnQubWluUG9pbnQoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRQb2ludFggPSB0aGlzLl9wb2ludEF0KGV4dHJlbWVBbmdsZXMueCArIGkgKiBQSV9ESVZfMikudHJhbnNmb3JtQ29weShtYXRyaXgpO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRQb2ludFkgPSB0aGlzLl9wb2ludEF0KGV4dHJlbWVBbmdsZXMueSArIGkgKiBQSV9ESVZfMikudHJhbnNmb3JtQ29weShtYXRyaXgpO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRQb2ludCA9IG5ldyBQb2ludChjdXJyZW50UG9pbnRYLngsIGN1cnJlbnRQb2ludFkueSk7XG5cbiAgICAgICAgICAgIG1pblBvaW50ID0gUG9pbnQubWluKG1pblBvaW50LCBjdXJyZW50UG9pbnQpO1xuICAgICAgICAgICAgbWF4UG9pbnQgPSBQb2ludC5tYXgobWF4UG9pbnQsIGN1cnJlbnRQb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUmVjdC5mcm9tUG9pbnRzKG1pblBvaW50LCBtYXhQb2ludCk7XG4gICAgfVxuXG4gICAgX3BvaW50QXQoYW5nbGUpIHtcbiAgICAgICAgY29uc3QgeyBjZW50ZXIsIHJhZGl1cyB9ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgY2VudGVyLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksXG4gICAgICAgICAgICBjZW50ZXIueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgeyBjZW50ZXIsIHJhZGl1cyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaW5DaXJjbGUgPSBNYXRoLnBvdyhwb2ludC54IC0gY2VudGVyLngsIDIpICtcbiAgICAgICAgICAgIE1hdGgucG93KHBvaW50LnkgLSBjZW50ZXIueSwgMikgPD0gTWF0aC5wb3cocmFkaXVzLCAyKTtcbiAgICAgICAgcmV0dXJuIGluQ2lyY2xlO1xuICAgIH1cblxuICAgIF9pc09uUGF0aChwb2ludCwgd2lkdGgpIHtcbiAgICAgICAgY29uc3QgeyBjZW50ZXIsIHJhZGl1cyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgcG9pbnREaXN0YW5jZSA9IGNlbnRlci5kaXN0YW5jZVRvKHBvaW50KTtcblxuICAgICAgICByZXR1cm4gcmFkaXVzIC0gd2lkdGggPD0gcG9pbnREaXN0YW5jZSAmJiBwb2ludERpc3RhbmNlIDw9IHJhZGl1cyArIHdpZHRoO1xuICAgIH1cbn1cblxuZGVmaW5lQWNjZXNzb3JzKENpcmNsZS5wcm90b3R5cGUsIFsgXCJyYWRpdXNcIiBdKTtcbk9ic2VydmVyc01peGluLmV4dGVuZChDaXJjbGUucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlOyIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi91dGlsJztcblxuY29uc3QgR1JBRElFTlQgPSBcIkdyYWRpZW50XCI7XG5cbmNvbnN0IFBhaW50YWJsZSA9IHtcbiAgICBleHRlbmQ6IGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIHByb3RvLmZpbGwgPSB0aGlzLmZpbGw7XG4gICAgICAgIHByb3RvLnN0cm9rZSA9IHRoaXMuc3Ryb2tlO1xuICAgIH0sXG5cbiAgICBmaWxsOiBmdW5jdGlvbihjb2xvciwgb3BhY2l0eSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKGNvbG9yKSkge1xuICAgICAgICAgICAgaWYgKGNvbG9yICYmIGNvbG9yLm5vZGVUeXBlICE9PSBHUkFESUVOVCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbGwgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvclxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGRlZmluZWQob3BhY2l0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmlsbC5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zZXQoXCJmaWxsXCIsIG5ld0ZpbGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNldChcImZpbGxcIiwgY29sb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zLmdldChcImZpbGxcIik7XG4gICAgfSxcblxuICAgIHN0cm9rZTogZnVuY3Rpb24oY29sb3IsIHdpZHRoLCBvcGFjaXR5KSB7XG4gICAgICAgIGlmIChkZWZpbmVkKGNvbG9yKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChcInN0cm9rZS5jb2xvclwiLCBjb2xvcik7XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKHdpZHRoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZXQoXCJzdHJva2Uud2lkdGhcIiwgd2lkdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChvcGFjaXR5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZXQoXCJzdHJva2Uub3BhY2l0eVwiLCBvcGFjaXR5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmdldChcInN0cm9rZVwiKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYWludGFibGU7IiwiaW1wb3J0IE1hdHJpeCBmcm9tICcuLi9nZW9tZXRyeS9tYXRyaXgnO1xuaW1wb3J0IHRvTWF0cml4IGZyb20gJy4uL2dlb21ldHJ5L3RvLW1hdHJpeCc7XG5cbmNvbnN0IElERU5USVRZX01BVFJJWF9IQVNIID0gTWF0cml4LklERU5USVRZLnRvU3RyaW5nKCk7XG5cbmNvbnN0IE1lYXN1cmFibGUgPSB7XG4gICAgZXh0ZW5kOiBmdW5jdGlvbihwcm90bykge1xuICAgICAgICBwcm90by5iYm94ID0gdGhpcy5iYm94O1xuICAgICAgICBwcm90by5nZW9tZXRyeUNoYW5nZSA9IHRoaXMuZ2VvbWV0cnlDaGFuZ2U7XG4gICAgfSxcblxuICAgIGJib3g6IGZ1bmN0aW9uKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkTWF0cml4ID0gdG9NYXRyaXgodGhpcy5jdXJyZW50VHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uKSk7XG4gICAgICAgIGNvbnN0IG1hdHJpeEhhc2ggPSBjb21iaW5lZE1hdHJpeCA/IGNvbWJpbmVkTWF0cml4LnRvU3RyaW5nKCkgOiBJREVOVElUWV9NQVRSSVhfSEFTSDtcbiAgICAgICAgbGV0IGJib3g7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Jib3hDYWNoZSAmJiB0aGlzLl9tYXRyaXhIYXNoID09PSBtYXRyaXhIYXNoKSB7XG4gICAgICAgICAgICBiYm94ID0gdGhpcy5fYmJveENhY2hlLmNsb25lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYm94ID0gdGhpcy5fYmJveChjb21iaW5lZE1hdHJpeCk7XG4gICAgICAgICAgICB0aGlzLl9iYm94Q2FjaGUgPSBiYm94ID8gYmJveC5jbG9uZSgpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeEhhc2ggPSBtYXRyaXhIYXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3Ryb2tlV2lkdGggPSB0aGlzLm9wdGlvbnMuZ2V0KFwic3Ryb2tlLndpZHRoXCIpO1xuICAgICAgICBpZiAoc3Ryb2tlV2lkdGggJiYgYmJveCkge1xuICAgICAgICAgICAgYmJveC5leHBhbmQoc3Ryb2tlV2lkdGggLyAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYm94O1xuICAgIH0sXG5cbiAgICBnZW9tZXRyeUNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9iYm94Q2FjaGU7XG4gICAgICAgIHRoaXMudHJpZ2dlcihcImdlb21ldHJ5Q2hhbmdlXCIsIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXNcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWVhc3VyYWJsZTsiLCJpbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmZ1bmN0aW9uIGdlb21ldHJ5QWNjZXNzb3IobmFtZSkge1xuICAgIGNvbnN0IGZpZWxkTmFtZSA9IFwiX1wiICsgbmFtZTtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9vYnNlcnZlckZpZWxkKGZpZWxkTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1tmaWVsZE5hbWVdO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmluZUdlb21ldHJ5QWNjZXNzb3JzKGZuLCBuYW1lcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm5bbmFtZXNbaV1dID0gZ2VvbWV0cnlBY2Nlc3NvcihuYW1lc1tpXSk7XG4gICAgfVxufSIsImltcG9ydCBHZW9tZXRyeUNpcmNsZSBmcm9tICcuLi9nZW9tZXRyeS9jaXJjbGUnO1xuaW1wb3J0IFBhaW50YWJsZSBmcm9tICcuLi9taXhpbnMvcGFpbnRhYmxlJztcbmltcG9ydCBNZWFzdXJhYmxlIGZyb20gJy4uL21peGlucy9tZWFzdXJhYmxlJztcbmltcG9ydCBkZWZpbmVHZW9tZXRyeUFjY2Vzc29ycyBmcm9tICcuLi9hY2Nlc3NvcnMvZGVmaW5lLWdlb21ldHJ5LWFjY2Vzc29ycyc7XG5pbXBvcnQgRWxlbWVudCBmcm9tICcuL2VsZW1lbnQnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBERUZBVUxUX1NUUk9LRSA9IFwiIzAwMFwiO1xuXG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5Q2lyY2xlKCksIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeShnZW9tZXRyeSk7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHRoaXMub3B0aW9ucy5zdHJva2UpKSB7XG4gICAgICAgICAgICB0aGlzLnN0cm9rZShERUZBVUxUX1NUUk9LRSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByYXdCQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuYmJveCgpO1xuICAgIH1cblxuICAgIF9iYm94KG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuYmJveChtYXRyaXgpO1xuICAgIH1cblxuICAgIF9jb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5KCkuY29udGFpbnNQb2ludChwb2ludCk7XG4gICAgfVxuXG4gICAgX2lzT25QYXRoKHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5KCkuX2lzT25QYXRoKHBvaW50LCB0aGlzLm9wdGlvbnMuc3Ryb2tlLndpZHRoIC8gMik7XG4gICAgfVxufVxuXG5DaXJjbGUucHJvdG90eXBlLm5vZGVUeXBlID0gXCJDaXJjbGVcIjtcblxuUGFpbnRhYmxlLmV4dGVuZChDaXJjbGUucHJvdG90eXBlKTtcbk1lYXN1cmFibGUuZXh0ZW5kKENpcmNsZS5wcm90b3R5cGUpO1xuZGVmaW5lR2VvbWV0cnlBY2Nlc3NvcnMoQ2lyY2xlLnByb3RvdHlwZSwgWyBcImdlb21ldHJ5XCIgXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENpcmNsZTsiLCJjb25zdCBQUkVDSVNJT04gPSAxMDtcblxuZXhwb3J0IHsgUFJFQ0lTSU9OIH07IiwiaW1wb3J0IHsgUFJFQ0lTSU9OIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgcm91bmQgfSBmcm9tICcuLi8uLi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xvc2UoYSwgYiwgdG9sZXJhbmNlID0gUFJFQ0lTSU9OKSB7XG4gICAgcmV0dXJuIHJvdW5kKE1hdGguYWJzKGEgLSBiKSwgdG9sZXJhbmNlKSA9PT0gMDtcbn0iLCJpbXBvcnQgY2xvc2UgZnJvbSAnLi9jbG9zZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsb3NlT3JMZXNzKGEsIGIsIHRvbGVyYW5jZSkge1xuICAgIHJldHVybiBhIDwgYiB8fCBjbG9zZShhLCBiLCB0b2xlcmFuY2UpO1xufSIsImltcG9ydCBQb2ludCBmcm9tICcuLi9wb2ludCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxpbmVJbnRlcnNlY3Rpb24ocDAsIHAxLCBwMiwgcDMpIHtcbiAgICBjb25zdCBzMXggPSBwMS54IC0gcDAueDtcbiAgICBjb25zdCBzMnggPSBwMy54IC0gcDIueDtcbiAgICBjb25zdCBzMXkgPSBwMS55IC0gcDAueTtcbiAgICBjb25zdCBzMnkgPSBwMy55IC0gcDIueTtcbiAgICBjb25zdCBueCA9IHAwLnggLSBwMi54O1xuICAgIGNvbnN0IG55ID0gcDAueSAtIHAyLnk7XG4gICAgY29uc3QgZCA9IHMxeCAqIHMyeSAtIHMyeCAqIHMxeTtcbiAgICBjb25zdCBzID0gKHMxeCAqIG55IC0gczF5ICogbngpIC8gZDtcbiAgICBjb25zdCB0ID0gKHMyeCAqIG55IC0gczJ5ICogbngpIC8gZDtcblxuICAgIGlmIChzID49IDAgJiYgcyA8PSAxICYmIHQgPj0gMCAmJiB0IDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChwMC54ICsgdCAqIHMxeCwgcDAueSArIHQgKiBzMXkpO1xuICAgIH1cbn0iLCJpbXBvcnQgZGVmaW5lQWNjZXNzb3JzIGZyb20gJy4uL2FjY2Vzc29ycy9kZWZpbmUtYWNjZXNzb3JzJztcbmltcG9ydCBPYnNlcnZlcnNNaXhpbiBmcm9tICcuLi9taXhpbnMvb2JzZXJ2ZXJzLW1peGluJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGRlZywgcmFkLCByb3VuZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQgY2xvc2VPckxlc3MgZnJvbSAnLi9tYXRoL2Nsb3NlLW9yLWxlc3MnO1xuaW1wb3J0IGxpbmVJbnRlcnNlY3Rpb24gZnJvbSAnLi9tYXRoL2xpbmUtaW50ZXJzZWN0aW9uJztcbmltcG9ydCBlbGxpcHNlRXh0cmVtZUFuZ2xlcyBmcm9tICcuL21hdGgvZWxsaXBzZS1leHRyZW1lLWFuZ2xlcyc7XG5cbmltcG9ydCB7IFBSRUNJU0lPTiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcbmltcG9ydCBSZWN0IGZyb20gJy4vcmVjdCc7XG5pbXBvcnQgdHJhbnNmb3JtIGZyb20gJy4vdHJhbnNmb3JtJztcblxuY29uc3QgTUFYX0lOVEVSVkFMID0gNDU7XG5jb25zdCBwb3cgPSBNYXRoLnBvdztcblxuY2xhc3MgQXJjIGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoY2VudGVyID0gbmV3IFBvaW50KCksIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc2V0Q2VudGVyKGNlbnRlcik7XG5cbiAgICAgICAgdGhpcy5yYWRpdXNYID0gb3B0aW9ucy5yYWRpdXNYO1xuICAgICAgICB0aGlzLnJhZGl1c1kgPSBvcHRpb25zLnJhZGl1c1kgfHwgb3B0aW9ucy5yYWRpdXNYO1xuICAgICAgICB0aGlzLnN0YXJ0QW5nbGUgPSBvcHRpb25zLnN0YXJ0QW5nbGU7XG4gICAgICAgIHRoaXMuZW5kQW5nbGUgPSBvcHRpb25zLmVuZEFuZ2xlO1xuICAgICAgICB0aGlzLmFudGljbG9ja3dpc2UgPSBvcHRpb25zLmFudGljbG9ja3dpc2UgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMueFJvdGF0aW9uID0gb3B0aW9ucy54Um90YXRpb247XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJjKHRoaXMuY2VudGVyLCB7XG4gICAgICAgICAgICByYWRpdXNYOiB0aGlzLnJhZGl1c1gsXG4gICAgICAgICAgICByYWRpdXNZOiB0aGlzLnJhZGl1c1ksXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiB0aGlzLnN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogdGhpcy5lbmRBbmdsZSxcbiAgICAgICAgICAgIGFudGljbG9ja3dpc2U6IHRoaXMuYW50aWNsb2Nrd2lzZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRDZW50ZXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJGaWVsZChcImNlbnRlclwiLCBQb2ludC5jcmVhdGUodmFsdWUpKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRDZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNlbnRlcjtcbiAgICB9XG5cbiAgICBwb2ludEF0KGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2VudGVyO1xuICAgICAgICBjb25zdCByYWRpYW4gPSByYWQoYW5nbGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgICAgICBjZW50ZXIueCArIHRoaXMucmFkaXVzWCAqIE1hdGguY29zKHJhZGlhbiksXG4gICAgICAgICAgICBjZW50ZXIueSArIHRoaXMucmFkaXVzWSAqIE1hdGguc2luKHJhZGlhbilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjdXJ2ZVBvaW50cygpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3QgZGlyID0gdGhpcy5hbnRpY2xvY2t3aXNlID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBjdXJ2ZVBvaW50cyA9IFsgdGhpcy5wb2ludEF0KHN0YXJ0QW5nbGUpIF07XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gdGhpcy5fYXJjSW50ZXJ2YWwoKTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWxBbmdsZSA9IGludGVydmFsLmVuZEFuZ2xlIC0gaW50ZXJ2YWwuc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3Qgc3ViSW50ZXJ2YWxzQ291bnQgPSBNYXRoLmNlaWwoaW50ZXJ2YWxBbmdsZSAvIE1BWF9JTlRFUlZBTCk7XG4gICAgICAgIGNvbnN0IHN1YkludGVydmFsQW5nbGUgPSBpbnRlcnZhbEFuZ2xlIC8gc3ViSW50ZXJ2YWxzQ291bnQ7XG4gICAgICAgIGxldCBjdXJyZW50QW5nbGUgPSBzdGFydEFuZ2xlO1xuICAgICAgICBsZXQgdHJhbnNmb3JtYXRpb247XG4gICAgICAgIGlmICh0aGlzLnhSb3RhdGlvbikge1xuICAgICAgICAgICAgdHJhbnNmb3JtYXRpb24gPSB0cmFuc2Zvcm0oKS5yb3RhdGUodGhpcy54Um90YXRpb24sIHRoaXMuY2VudGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHN1YkludGVydmFsc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRBbmdsZSA9IGN1cnJlbnRBbmdsZSArIGRpciAqIHN1YkludGVydmFsQW5nbGU7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9pbnRlcnZhbEN1cnZlUG9pbnRzKGN1cnJlbnRBbmdsZSwgbmV4dEFuZ2xlLCB0cmFuc2Zvcm1hdGlvbik7XG5cbiAgICAgICAgICAgIGN1cnZlUG9pbnRzLnB1c2gocG9pbnRzLmNwMSwgcG9pbnRzLmNwMiwgcG9pbnRzLnAyKTtcbiAgICAgICAgICAgIGN1cnJlbnRBbmdsZSA9IG5leHRBbmdsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJ2ZVBvaW50cztcbiAgICB9XG5cbiAgICBiYm94KG1hdHJpeCkge1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMuX2FyY0ludGVydmFsKCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBpbnRlcnZhbC5zdGFydEFuZ2xlO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IGludGVydmFsLmVuZEFuZ2xlO1xuICAgICAgICBjb25zdCBleHRyZW1lQW5nbGVzID0gZWxsaXBzZUV4dHJlbWVBbmdsZXModGhpcy5jZW50ZXIsIHRoaXMucmFkaXVzWCwgdGhpcy5yYWRpdXNZLCBtYXRyaXgpO1xuICAgICAgICBjb25zdCBleHRyZW1lWCA9IGRlZyhleHRyZW1lQW5nbGVzLngpO1xuICAgICAgICBjb25zdCBleHRyZW1lWSA9IGRlZyhleHRyZW1lQW5nbGVzLnkpO1xuICAgICAgICBjb25zdCBlbmRQb2ludCA9IHRoaXMucG9pbnRBdChlbmRBbmdsZSkudHJhbnNmb3JtQ29weShtYXRyaXgpO1xuICAgICAgICBsZXQgY3VycmVudEFuZ2xlWCA9IGJib3hTdGFydEFuZ2xlKGV4dHJlbWVYLCBzdGFydEFuZ2xlKTtcbiAgICAgICAgbGV0IGN1cnJlbnRBbmdsZVkgPSBiYm94U3RhcnRBbmdsZShleHRyZW1lWSwgc3RhcnRBbmdsZSk7XG4gICAgICAgIGxldCBjdXJyZW50UG9pbnQgPSB0aGlzLnBvaW50QXQoc3RhcnRBbmdsZSkudHJhbnNmb3JtQ29weShtYXRyaXgpO1xuICAgICAgICBsZXQgbWluUG9pbnQgPSBQb2ludC5taW4oY3VycmVudFBvaW50LCBlbmRQb2ludCk7XG4gICAgICAgIGxldCBtYXhQb2ludCA9IFBvaW50Lm1heChjdXJyZW50UG9pbnQsIGVuZFBvaW50KTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudEFuZ2xlWCA8IGVuZEFuZ2xlIHx8IGN1cnJlbnRBbmdsZVkgPCBlbmRBbmdsZSkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRQb2ludFg7XG4gICAgICAgICAgICBpZiAoY3VycmVudEFuZ2xlWCA8IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBvaW50WCA9IHRoaXMucG9pbnRBdChjdXJyZW50QW5nbGVYKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG4gICAgICAgICAgICAgICAgY3VycmVudEFuZ2xlWCArPSA5MDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGN1cnJlbnRQb2ludFk7XG4gICAgICAgICAgICBpZiAoY3VycmVudEFuZ2xlWSA8IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBvaW50WSA9IHRoaXMucG9pbnRBdChjdXJyZW50QW5nbGVZKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG4gICAgICAgICAgICAgICAgY3VycmVudEFuZ2xlWSArPSA5MDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudFBvaW50ID0gbmV3IFBvaW50KGN1cnJlbnRQb2ludFgueCwgY3VycmVudFBvaW50WS55KTtcbiAgICAgICAgICAgIG1pblBvaW50ID0gUG9pbnQubWluKG1pblBvaW50LCBjdXJyZW50UG9pbnQpO1xuICAgICAgICAgICAgbWF4UG9pbnQgPSBQb2ludC5tYXgobWF4UG9pbnQsIGN1cnJlbnRQb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUmVjdC5mcm9tUG9pbnRzKG1pblBvaW50LCBtYXhQb2ludCk7XG4gICAgfVxuXG4gICAgX2FyY0ludGVydmFsKCkge1xuICAgICAgICBsZXQgeyBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSB9ID0gdGhpcztcblxuICAgICAgICBpZiAoYW50aWNsb2Nrd2lzZSkge1xuICAgICAgICAgICAgbGV0IG9sZFN0YXJ0ID0gc3RhcnRBbmdsZTtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgPSBlbmRBbmdsZTtcbiAgICAgICAgICAgIGVuZEFuZ2xlID0gb2xkU3RhcnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnRBbmdsZSA+IGVuZEFuZ2xlIHx8IChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSkge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gMzYwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfaW50ZXJ2YWxDdXJ2ZVBvaW50cyhzdGFydEFuZ2xlLCBlbmRBbmdsZSwgdHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBvaW50QXQoc3RhcnRBbmdsZSk7XG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wb2ludEF0KGVuZEFuZ2xlKTtcbiAgICAgICAgY29uc3QgcDFEZXJpdmF0aXZlID0gdGhpcy5fZGVyaXZhdGl2ZUF0KHN0YXJ0QW5nbGUpO1xuICAgICAgICBjb25zdCBwMkRlcml2YXRpdmUgPSB0aGlzLl9kZXJpdmF0aXZlQXQoZW5kQW5nbGUpO1xuICAgICAgICBjb25zdCB0ID0gKHJhZChlbmRBbmdsZSkgLSByYWQoc3RhcnRBbmdsZSkpIC8gMztcbiAgICAgICAgY29uc3QgY3AxID0gbmV3IFBvaW50KHAxLnggKyB0ICogcDFEZXJpdmF0aXZlLngsIHAxLnkgKyB0ICogcDFEZXJpdmF0aXZlLnkpO1xuICAgICAgICBjb25zdCBjcDIgPSBuZXcgUG9pbnQocDIueCAtIHQgKiBwMkRlcml2YXRpdmUueCwgcDIueSAtIHQgKiBwMkRlcml2YXRpdmUueSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgICAgcDEudHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgICAgIHAyLnRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgICAgICBjcDEudHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgICAgIGNwMi50cmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHAxOiBwMSxcbiAgICAgICAgICAgIGNwMTogY3AxLFxuICAgICAgICAgICAgY3AyOiBjcDIsXG4gICAgICAgICAgICBwMjogcDJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfZGVyaXZhdGl2ZUF0KGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHJhZGlhbiA9IHJhZChhbmdsZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCgtdGhpcy5yYWRpdXNYICogTWF0aC5zaW4ocmFkaWFuKSwgdGhpcy5yYWRpdXNZICogTWF0aC5jb3MocmFkaWFuKSk7XG4gICAgfVxuXG4gICAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMuX2FyY0ludGVydmFsKCk7XG4gICAgICAgIGNvbnN0IGludGVydmFsQW5nbGUgPSBpbnRlcnZhbC5lbmRBbmdsZSAtIGludGVydmFsLnN0YXJ0QW5nbGU7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyLCByYWRpdXNYLCByYWRpdXNZIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGNlbnRlci5kaXN0YW5jZVRvKHBvaW50KTtcbiAgICAgICAgY29uc3QgYW5nbGVSYWQgPSBNYXRoLmF0YW4yKHBvaW50LnkgLSBjZW50ZXIueSwgcG9pbnQueCAtIGNlbnRlci54KTtcbiAgICAgICAgY29uc3QgcG9pbnRSYWRpdXMgPSAocmFkaXVzWCAqIHJhZGl1c1kpIC9cbiAgICAgICAgICAgIE1hdGguc3FydChwb3cocmFkaXVzWCwgMikgKiBwb3coTWF0aC5zaW4oYW5nbGVSYWQpLCAyKSArIHBvdyhyYWRpdXNZLCAyKSAqIHBvdyhNYXRoLmNvcyhhbmdsZVJhZCksIDIpKTtcbiAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IHRoaXMucG9pbnRBdCh0aGlzLnN0YXJ0QW5nbGUpLnJvdW5kKFBSRUNJU0lPTik7XG4gICAgICAgIGNvbnN0IGVuZFBvaW50ID0gdGhpcy5wb2ludEF0KHRoaXMuZW5kQW5nbGUpLnJvdW5kKFBSRUNJU0lPTik7XG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbiA9IGxpbmVJbnRlcnNlY3Rpb24oY2VudGVyLCBwb2ludC5yb3VuZChQUkVDSVNJT04pLCBzdGFydFBvaW50LCBlbmRQb2ludCk7XG4gICAgICAgIGxldCBjb250YWluc1BvaW50O1xuXG4gICAgICAgIGlmIChpbnRlcnZhbEFuZ2xlIDwgMTgwKSB7XG4gICAgICAgICAgICBjb250YWluc1BvaW50ID0gaW50ZXJzZWN0aW9uICYmIGNsb3NlT3JMZXNzKGNlbnRlci5kaXN0YW5jZVRvKGludGVyc2VjdGlvbiksIGRpc3RhbmNlKSAmJiBjbG9zZU9yTGVzcyhkaXN0YW5jZSwgcG9pbnRSYWRpdXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGFuZ2xlID0gY2FsY3VsYXRlQW5nbGUoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXNYLCByYWRpdXNZLCBwb2ludC54LCBwb2ludC55KTtcbiAgICAgICAgICAgIGlmIChhbmdsZSAhPT0gMzYwKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAoMzYwICsgYW5nbGUpICUgMzYwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaW5BbmdsZVJhbmdlID0gaW50ZXJ2YWwuc3RhcnRBbmdsZSA8PSBhbmdsZSAmJiBhbmdsZSA8PSBpbnRlcnZhbC5lbmRBbmdsZTtcbiAgICAgICAgICAgIGNvbnRhaW5zUG9pbnQgPSAoaW5BbmdsZVJhbmdlICYmIGNsb3NlT3JMZXNzKGRpc3RhbmNlLCBwb2ludFJhZGl1cykpIHx8ICghaW5BbmdsZVJhbmdlICYmICghaW50ZXJzZWN0aW9uIHx8IGludGVyc2VjdGlvbi5lcXVhbHMocG9pbnQpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zUG9pbnQ7XG4gICAgfVxuXG4gICAgX2lzT25QYXRoKHBvaW50LCB3aWR0aCkge1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMuX2FyY0ludGVydmFsKCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2VudGVyO1xuICAgICAgICBsZXQgYW5nbGUgPSBjYWxjdWxhdGVBbmdsZShjZW50ZXIueCwgY2VudGVyLnksIHRoaXMucmFkaXVzWCwgdGhpcy5yYWRpdXNZLCBwb2ludC54LCBwb2ludC55KTtcbiAgICAgICAgaWYgKGFuZ2xlICE9PSAzNjApIHtcbiAgICAgICAgICAgIGFuZ2xlID0gKDM2MCArIGFuZ2xlKSAlIDM2MDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluQW5nbGVSYW5nZSA9IGludGVydmFsLnN0YXJ0QW5nbGUgPD0gYW5nbGUgJiYgYW5nbGUgPD0gaW50ZXJ2YWwuZW5kQW5nbGU7XG5cbiAgICAgICAgcmV0dXJuIGluQW5nbGVSYW5nZSAmJiB0aGlzLnBvaW50QXQoYW5nbGUpLmRpc3RhbmNlVG8ocG9pbnQpIDw9IHdpZHRoO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUG9pbnRzKHN0YXJ0LCBlbmQsIHJ4LCByeSwgbGFyZ2VBcmMsIHN3aXBlLCByb3RhdGlvbikgey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LXBhcmFtc1xuICAgICAgICBjb25zdCBhcmNQYXJhbWV0ZXJzID0gbm9ybWFsaXplQXJjUGFyYW1ldGVycyh7XG4gICAgICAgICAgICB4MTogc3RhcnQueCxcbiAgICAgICAgICAgIHkxOiBzdGFydC55LFxuICAgICAgICAgICAgeDI6IGVuZC54LFxuICAgICAgICAgICAgeTI6IGVuZC55LFxuICAgICAgICAgICAgcng6IHJ4LFxuICAgICAgICAgICAgcnk6IHJ5LFxuICAgICAgICAgICAgbGFyZ2VBcmM6IGxhcmdlQXJjLFxuICAgICAgICAgICAgc3dpcGU6IHN3aXBlLFxuICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXJjKGFyY1BhcmFtZXRlcnMuY2VudGVyLCB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBhcmNQYXJhbWV0ZXJzLnN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogYXJjUGFyYW1ldGVycy5lbmRBbmdsZSxcbiAgICAgICAgICAgIHJhZGl1c1g6IGFyY1BhcmFtZXRlcnMucmFkaXVzWCxcbiAgICAgICAgICAgIHJhZGl1c1k6IGFyY1BhcmFtZXRlcnMucmFkaXVzWSxcbiAgICAgICAgICAgIHhSb3RhdGlvbjogYXJjUGFyYW1ldGVycy54Um90YXRpb24sXG4gICAgICAgICAgICBhbnRpY2xvY2t3aXNlOiBzd2lwZSA9PT0gMFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmRlZmluZUFjY2Vzc29ycyhBcmMucHJvdG90eXBlLCBbIFwicmFkaXVzWFwiLCBcInJhZGl1c1lcIiwgXCJzdGFydEFuZ2xlXCIsIFwiZW5kQW5nbGVcIiwgXCJhbnRpY2xvY2t3aXNlXCIgXSk7XG5PYnNlcnZlcnNNaXhpbi5leHRlbmQoQXJjLnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUFuZ2xlKGN4LCBjeSwgcngsIHJ5LCB4LCB5KSB7XG4gICAgY29uc3QgY29zID0gcm91bmQoKHggLSBjeCkgLyByeCwgMyk7XG4gICAgY29uc3Qgc2luID0gcm91bmQoKHkgLSBjeSkgLyByeSwgMyk7XG5cbiAgICByZXR1cm4gcm91bmQoZGVnKE1hdGguYXRhbjIoc2luLCBjb3MpKSk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUFyY1BhcmFtZXRlcnMocGFyYW1ldGVycykge1xuICAgIGxldCB7IHgxLCB5MSwgeDIsIHkyLCByeCwgcnksIGxhcmdlQXJjLCBzd2lwZSwgcm90YXRpb24gPSAwIH0gPSBwYXJhbWV0ZXJzO1xuXG4gICAgY29uc3QgcmFkaWFucyA9IHJhZChyb3RhdGlvbik7XG4gICAgY29uc3QgY29zaW5lID0gTWF0aC5jb3MocmFkaWFucyk7XG4gICAgY29uc3Qgc2luZSA9IE1hdGguc2luKHJhZGlhbnMpO1xuXG4gICAgY29uc3QgeFQgPSBjb3NpbmUgKiAoeDEgLSB4MikgLyAyICsgc2luZSAqICh5MSAtIHkyKSAvIDI7XG4gICAgY29uc3QgeVQgPSAtc2luZSAqICh4MSAtIHgyKSAvIDIgKyBjb3NpbmUgKiAoeTEgLSB5MikgLyAyO1xuXG4gICAgY29uc3Qgc2lnbiA9IGxhcmdlQXJjICE9PSBzd2lwZSA/IDEgOiAtMTtcblxuICAgIGNvbnN0IHh0MiA9IE1hdGgucG93KHhULCAyKTtcbiAgICBjb25zdCB5dDIgPSBNYXRoLnBvdyh5VCwgMik7XG4gICAgbGV0IHJ4MiA9IE1hdGgucG93KHJ4LCAyKTtcbiAgICBsZXQgcnkyID0gTWF0aC5wb3cocnksIDIpO1xuXG4gICAgbGV0IGRlbHRhID0geHQyIC8gcngyICsgeXQyIC8gcnkyO1xuXG4gICAgaWYgKGRlbHRhID4gMSkge1xuICAgICAgICBkZWx0YSA9IE1hdGguc3FydCh4dDIgLyByeDIgKyB5dDIgLyByeTIpO1xuICAgICAgICByeCA9IGRlbHRhICogcng7XG4gICAgICAgIHJ4MiA9IE1hdGgucG93KHJ4LCAyKTtcblxuICAgICAgICByeSA9IGRlbHRhICogcnk7XG4gICAgICAgIHJ5MiA9IE1hdGgucG93KHJ5LCAyKTtcbiAgICB9XG5cbiAgICBsZXQgY29uc3RUID0gc2lnbiAqIE1hdGguc3FydCgocngyICogcnkyIC0gcngyICogeXQyIC0gcnkyICogeHQyKSAvIChyeDIgKiB5dDIgKyByeTIgKiB4dDIpKTtcbiAgICAvLyBkdWUgdG8gcm91bmRpbmcgZXJyb3JzIHRoZSB2YWx1ZSBjb3VsZCBiZWNvbWUgTmFOIGV2ZW4gYWZ0ZXIgcmFkaWkgY29ycmVjdGlvblxuICAgIGlmIChpc05hTihjb25zdFQpKSB7XG4gICAgICAgIGNvbnN0VCA9IDA7XG4gICAgfVxuXG4gICAgY29uc3QgY3hUID0gY29uc3RUICogKHJ4ICogeVQpIC8gcnk7XG4gICAgY29uc3QgY3lUID0gLSBjb25zdFQgKiAocnkgKiB4VCkgLyByeDtcblxuICAgIGNvbnN0IGN4ID0gY29zaW5lICogY3hUIC0gc2luZSAqIGN5VCArICh4MSArIHgyKSAvIDI7XG4gICAgY29uc3QgY3kgPSBzaW5lICogY3hUICsgY29zaW5lICogY3lUICsgKHkxICsgeTIpIC8gMjtcblxuXG4gICAgY29uc3QgdVggPSAoeFQgLSBjeFQpIC8gcng7XG4gICAgY29uc3QgdVkgPSAoeVQgLSBjeVQpIC8gcnk7XG4gICAgY29uc3QgdlggPSAtKHhUICsgY3hUKSAvIHJ4O1xuICAgIGNvbnN0IHZZID0gLSh5VCArIGN5VCkgLyByeTtcblxuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSAodVkgPj0gMCA/IDEgOiAtMSkgKiBkZWcoTWF0aC5hY29zKHVYIC8gTWF0aC5zcXJ0KHVYICogdVggKyB1WSAqIHVZKSkpO1xuXG4gICAgY29uc3QgYW5nbGVDb3NpbmUgPSByb3VuZCgodVggKiB2WCArIHVZICogdlkpIC8gKE1hdGguc3FydCh1WCAqIHVYICsgdVkgKiB1WSkgKiBNYXRoLnNxcnQodlggKiB2WCArIHZZICogdlkpKSwgMTApO1xuICAgIGxldCBhbmdsZSA9ICh1WCAqIHZZIC0gdVkgKiB2WCA+PSAwID8gMSA6IC0xKSAqIGRlZyhNYXRoLmFjb3MoYW5nbGVDb3NpbmUpKTtcblxuICAgIGlmICghc3dpcGUgJiYgYW5nbGUgPiAwKSB7XG4gICAgICAgIGFuZ2xlIC09IDM2MDtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGUgJiYgYW5nbGUgPCAwKSB7XG4gICAgICAgIGFuZ2xlICs9IDM2MDtcbiAgICB9XG4gICAgbGV0IGVuZEFuZ2xlID0gc3RhcnRBbmdsZSArIGFuZ2xlO1xuICAgIGNvbnN0IHNpZ25FbmRBbmdsZSA9IGVuZEFuZ2xlID49IDAgPyAxIDogLTE7XG4gICAgZW5kQW5nbGUgPSAoTWF0aC5hYnMoZW5kQW5nbGUpICUgMzYwKSAqIHNpZ25FbmRBbmdsZTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNlbnRlcjogbmV3IFBvaW50KGN4LCBjeSksXG4gICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgcmFkaXVzWDogcngsXG4gICAgICAgIHJhZGl1c1k6IHJ5LFxuICAgICAgICB4Um90YXRpb246IHJvdGF0aW9uXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYmJveFN0YXJ0QW5nbGUoYW5nbGUsIHN0YXJ0KSB7XG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBhbmdsZTtcblxuICAgIHdoaWxlIChzdGFydEFuZ2xlIDwgc3RhcnQpIHtcbiAgICAgICAgc3RhcnRBbmdsZSArPSA5MDtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhcnRBbmdsZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJjO1xuIiwiaW1wb3J0IE9ic2VydmVyc01peGluIGZyb20gJy4uL21peGlucy9vYnNlcnZlcnMtbWl4aW4nO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBwdXNoID0gW10ucHVzaDtcbmNvbnN0IHBvcCA9IFtdLnBvcDtcbmNvbnN0IHNwbGljZSA9IFtdLnNwbGljZTtcbmNvbnN0IHNoaWZ0ID0gW10uc2hpZnQ7XG5jb25zdCBzbGljZSA9IFtdLnNsaWNlO1xuY29uc3QgdW5zaGlmdCA9IFtdLnVuc2hpZnQ7XG5cbmNsYXNzIEVsZW1lbnRzQXJyYXkgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoYXJyYXkgPSBbXSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc3BsaWNlKDAsIGFycmF5Lmxlbmd0aCwgYXJyYXkpO1xuICAgIH1cblxuICAgIGVsZW1lbnRzKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3BsaWNlKDAsIHRoaXMubGVuZ3RoLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zbGljZSgwKTtcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGFyZ3VtZW50cztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcHVzaC5hcHBseSh0aGlzLCBlbGVtZW50cyk7XG5cbiAgICAgICAgdGhpcy5fYWRkKGVsZW1lbnRzKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHNsaWNlKCkge1xuICAgICAgICByZXR1cm4gc2xpY2UuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICBwb3AoKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwb3AuYXBwbHkodGhpcyk7XG5cbiAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlKFsgcmVzdWx0IF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzcGxpY2UoaW5kZXgsIGhvd01hbnkpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3NwbGljZShpbmRleCwgaG93TWFueSwgZWxlbWVudHMpO1xuXG4gICAgICAgIHRoaXMuX2NoYW5nZSgpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgc2hpZnQoKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzaGlmdC5hcHBseSh0aGlzKTtcblxuICAgICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmUoWyByZXN1bHQgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHVuc2hpZnQoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gYXJndW1lbnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB1bnNoaWZ0LmFwcGx5KHRoaXMsIGVsZW1lbnRzKTtcblxuICAgICAgICB0aGlzLl9hZGQoZWxlbWVudHMpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaW5kZXhPZihlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2lkeF0gPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBfc3BsaWNlKGluZGV4LCBob3dNYW55LCBlbGVtZW50cykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzcGxpY2UuYXBwbHkodGhpcywgWyBpbmRleCwgaG93TWFueSBdLmNvbmNhdChlbGVtZW50cykpO1xuXG4gICAgICAgIHRoaXMuX2NsZWFyT2JzZXJ2ZXIocmVzdWx0KTtcbiAgICAgICAgdGhpcy5fc2V0T2JzZXJ2ZXIoZWxlbWVudHMpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX2FkZChlbGVtZW50cykge1xuICAgICAgICB0aGlzLl9zZXRPYnNlcnZlcihlbGVtZW50cyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZSgpO1xuICAgIH1cblxuICAgIF9yZW1vdmUoZWxlbWVudHMpIHtcbiAgICAgICAgdGhpcy5fY2xlYXJPYnNlcnZlcihlbGVtZW50cyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZSgpO1xuICAgIH1cblxuICAgIF9zZXRPYnNlcnZlcihlbGVtZW50cykge1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBlbGVtZW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBlbGVtZW50c1tpZHhdLmFkZE9ic2VydmVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NsZWFyT2JzZXJ2ZXIoZWxlbWVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgZWxlbWVudHNbaWR4XS5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jaGFuZ2UoKSB7fVxufVxuXG5PYnNlcnZlcnNNaXhpbi5leHRlbmQoRWxlbWVudHNBcnJheS5wcm90b3R5cGUpO1xuXG5leHBvcnQgZGVmYXVsdCBFbGVtZW50c0FycmF5O1xuIiwiaW1wb3J0IEVsZW1lbnRzQXJyYXkgZnJvbSAnLi9lbGVtZW50cy1hcnJheSc7XG5cbmNsYXNzIEdlb21ldHJ5RWxlbWVudHNBcnJheSBleHRlbmRzIEVsZW1lbnRzQXJyYXkge1xuICAgIF9jaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb21ldHJ5RWxlbWVudHNBcnJheTsiLCJpbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vZ2VvbWV0cnkvcG9pbnQnO1xuXG5mdW5jdGlvbiBwb2ludEFjY2Vzc29yKG5hbWUpIHtcbiAgICBjb25zdCBmaWVsZE5hbWUgPSBcIl9cIiArIG5hbWU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXJGaWVsZChmaWVsZE5hbWUsIFBvaW50LmNyZWF0ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1tmaWVsZE5hbWVdO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmluZVBvaW50QWNjZXNzb3JzKGZuLCBuYW1lcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm5bbmFtZXNbaV1dID0gcG9pbnRBY2Nlc3NvcihuYW1lc1tpXSk7XG4gICAgfVxufSIsImltcG9ydCB7IGRlZyB9IGZyb20gJy4uLy4uL3V0aWwnO1xuaW1wb3J0IHRyYW5zZm9ybSBmcm9tICcuLi90cmFuc2Zvcm0nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc091dE9mRW5kUG9pbnQoZW5kUG9pbnQsIGNvbnRyb2xQb2ludCwgcG9pbnQpIHtcbiAgICBjb25zdCBhbmdsZSA9IGRlZyhNYXRoLmF0YW4yKGNvbnRyb2xQb2ludC55IC0gZW5kUG9pbnQueSwgY29udHJvbFBvaW50LnggLSBlbmRQb2ludC54KSk7XG4gICAgY29uc3Qgcm90YXRlZFBvaW50ID0gcG9pbnQudHJhbnNmb3JtQ29weSh0cmFuc2Zvcm0oKS5yb3RhdGUoLWFuZ2xlLCBlbmRQb2ludCkpO1xuXG4gICAgcmV0dXJuIHJvdGF0ZWRQb2ludC54IDwgZW5kUG9pbnQueDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYWxjdWxhdGVDdXJ2ZUF0KHQsIGZpZWxkLCBwb2ludHMpIHtcbiAgICBjb25zdCB0MSA9IDEgLSB0O1xuICAgIHJldHVybiBNYXRoLnBvdyh0MSwgMykgKiBwb2ludHNbMF1bZmllbGRdICtcbiAgICAgICAgMyAqIE1hdGgucG93KHQxLCAyKSAqIHQgKiBwb2ludHNbMV1bZmllbGRdICtcbiAgICAgICAgMyAqIE1hdGgucG93KHQsIDIpICogdDEgKiBwb2ludHNbMl1bZmllbGRdICtcbiAgICAgICAgTWF0aC5wb3codCwgMykgKiBwb2ludHNbM11bZmllbGRdO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvQ3ViaWNQb2x5bm9taWFsKHBvaW50cywgZmllbGQpIHtcbiAgICByZXR1cm4gWyAtcG9pbnRzWzBdW2ZpZWxkXSArIDMgKiBwb2ludHNbMV1bZmllbGRdIC0gMyAqIHBvaW50c1syXVtmaWVsZF0gKyBwb2ludHNbM11bZmllbGRdLFxuICAgICAgICAzICogKHBvaW50c1swXVtmaWVsZF0gLSAyICogcG9pbnRzWzFdW2ZpZWxkXSArIHBvaW50c1syXVtmaWVsZF0pLFxuICAgICAgICAzICogKC1wb2ludHNbMF1bZmllbGRdICsgcG9pbnRzWzFdW2ZpZWxkXSksXG4gICAgICAgIHBvaW50c1swXVtmaWVsZF1cbiAgICBdO1xufSIsImltcG9ydCB7IFBSRUNJU0lPTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5jbGFzcyBDb21wbGV4TnVtYmVyIGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IocmVhbCA9IDAsIGltZyA9IDApIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnJlYWwgPSByZWFsO1xuICAgICAgICB0aGlzLmltZyA9IGltZztcbiAgICB9XG5cbiAgICBhZGQoY051bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXhOdW1iZXIocm91bmQodGhpcy5yZWFsICsgY051bWJlci5yZWFsLCBQUkVDSVNJT04pLCByb3VuZCh0aGlzLmltZyArIGNOdW1iZXIuaW1nLCBQUkVDSVNJT04pKTtcbiAgICB9XG5cbiAgICBhZGRDb25zdGFudCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXhOdW1iZXIodGhpcy5yZWFsICsgdmFsdWUsIHRoaXMuaW1nKTtcbiAgICB9XG5cbiAgICBuZWdhdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleE51bWJlcigtdGhpcy5yZWFsLCAtdGhpcy5pbWcpO1xuICAgIH1cblxuICAgIG11bHRpcGx5KGNOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4TnVtYmVyKHRoaXMucmVhbCAqIGNOdW1iZXIucmVhbCAtIHRoaXMuaW1nICogY051bWJlci5pbWcsXG4gICAgICAgICAgICB0aGlzLnJlYWwgKiBjTnVtYmVyLmltZyArIHRoaXMuaW1nICogY051bWJlci5yZWFsKTtcbiAgICB9XG5cbiAgICBtdWx0aXBseUNvbnN0YW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleE51bWJlcih0aGlzLnJlYWwgKiB2YWx1ZSwgdGhpcy5pbWcgKiB2YWx1ZSk7XG4gICAgfVxuXG4gICAgbnRoUm9vdChuKSB7XG4gICAgICAgIGNvbnN0IHJhZCA9IE1hdGguYXRhbjIodGhpcy5pbWcsIHRoaXMucmVhbCk7XG4gICAgICAgIGNvbnN0IHIgPSBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy5pbWcsIDIpICsgTWF0aC5wb3codGhpcy5yZWFsLCAyKSk7XG4gICAgICAgIGNvbnN0IG50aFIgPSBNYXRoLnBvdyhyLCAxIC8gbik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4TnVtYmVyKG50aFIgKiBNYXRoLmNvcyhyYWQgLyBuKSwgbnRoUiAqIE1hdGguc2luKHJhZCAvIG4pKTsgLy9Nb2l2cmUncyBmb3JtdWxhXG4gICAgfVxuXG4gICAgZXF1YWxzKGNOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhbCA9PT0gY051bWJlci5yZWFsICYmIHRoaXMuaW1nID09PSBjTnVtYmVyLmltZztcbiAgICB9XG5cbiAgICBpc1JlYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltZyA9PT0gMDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBsZXhOdW1iZXI7IiwiaW1wb3J0IENvbXBsZXhOdW1iZXIgZnJvbSAnLi9jb21wbGV4LW51bWJlcic7XG5pbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcm91bmQgfSBmcm9tICcuLi8uLi91dGlsJztcblxuZnVuY3Rpb24gbnVtYmVyU2lnbih4KSB7XG4gICAgcmV0dXJuIHggPCAwID8gLTEgOiAxO1xufVxuXG5mdW5jdGlvbiBzb2x2ZVF1YWRyYXRpY0VxdWF0aW9uKGEsIGIsIGMpIHtcbiAgICBjb25zdCBzcXVhcmVSb290ID0gTWF0aC5zcXJ0KE1hdGgucG93KGIsIDIpIC0gNCAqIGEgKiBjKTtcbiAgICByZXR1cm4gW1xuICAgICAgICAoLWIgKyBzcXVhcmVSb290KSAvICgyICogYSksXG4gICAgICAgICgtYiAtIHNxdWFyZVJvb3QpIC8gKDIgKiBhKVxuICAgIF07XG59XG5cbi8vQ2FyZGFubydzIGZvcm11bGFcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvbHZlQ3ViaWNFcXVhdGlvbihhLCBiLCBjLCBkKSB7XG4gICAgaWYgKGEgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHNvbHZlUXVhZHJhdGljRXF1YXRpb24oYiwgYywgZCk7XG4gICAgfVxuXG4gICAgY29uc3QgcCA9ICgzICogYSAqIGMgLSBNYXRoLnBvdyhiLCAyKSkgLyAoMyAqIE1hdGgucG93KGEsIDIpKTtcbiAgICBjb25zdCBxID0gKDIgKiBNYXRoLnBvdyhiLCAzKSAtIDkgKiBhICogYiAqIGMgKyAyNyAqIE1hdGgucG93KGEsIDIpICogZCkgLyAoMjcgKiBNYXRoLnBvdyhhLCAzKSk7XG4gICAgY29uc3QgUSA9IE1hdGgucG93KHAgLyAzLCAzKSArIE1hdGgucG93KHEgLyAyLCAyKTtcbiAgICBjb25zdCBpID0gbmV3IENvbXBsZXhOdW1iZXIoMCwxKTtcbiAgICBjb25zdCBiM2EgPSAtYiAvICgzICogYSk7XG4gICAgbGV0IHgxLCB4MiwgeTEsIHkyLCB5MywgejEsIHoyO1xuXG4gICAgaWYgKFEgPCAwKSB7XG4gICAgICAgIHgxID0gbmV3IENvbXBsZXhOdW1iZXIoLXEgLyAyLCBNYXRoLnNxcnQoLVEpKS5udGhSb290KDMpO1xuICAgICAgICB4MiA9IG5ldyBDb21wbGV4TnVtYmVyKC1xIC8gMiwgLSBNYXRoLnNxcnQoLVEpKS5udGhSb290KDMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHgxID0gLXEgLyAyICsgTWF0aC5zcXJ0KFEpO1xuICAgICAgICB4MSA9IG5ldyBDb21wbGV4TnVtYmVyKG51bWJlclNpZ24oeDEpICogTWF0aC5wb3coTWF0aC5hYnMoeDEpLCAxIC8gMykpO1xuICAgICAgICB4MiA9IC1xIC8gMiAtIE1hdGguc3FydChRKTtcbiAgICAgICAgeDIgPSBuZXcgQ29tcGxleE51bWJlcihudW1iZXJTaWduKHgyKSAqIE1hdGgucG93KE1hdGguYWJzKHgyKSwgMSAvIDMpKTtcbiAgICB9XG5cbiAgICB5MSA9IHgxLmFkZCh4Mik7XG5cbiAgICB6MSA9IHgxLmFkZCh4MikubXVsdGlwbHlDb25zdGFudCgtMSAvIDIpO1xuICAgIHoyID0geDEuYWRkKHgyLm5lZ2F0ZSgpKS5tdWx0aXBseUNvbnN0YW50KE1hdGguc3FydCgzKSAvIDIpO1xuXG4gICAgeTIgPSB6MS5hZGQoaS5tdWx0aXBseSh6MikpO1xuICAgIHkzID0gejEuYWRkKGkubmVnYXRlKCkubXVsdGlwbHkoejIpKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgaWYgKHkxLmlzUmVhbCgpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHJvdW5kKHkxLnJlYWwgKyBiM2EsIFBSRUNJU0lPTikpO1xuICAgIH1cbiAgICBpZiAoeTIuaXNSZWFsKCkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocm91bmQoeTIucmVhbCArIGIzYSwgUFJFQ0lTSU9OKSk7XG4gICAgfVxuICAgIGlmICh5My5pc1JlYWwoKSkge1xuICAgICAgICByZXN1bHQucHVzaChyb3VuZCh5My5yZWFsICsgYjNhLCBQUkVDSVNJT04pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufSIsImltcG9ydCB0b0N1YmljUG9seW5vbWlhbCBmcm9tICcuL3RvLWN1YmljLXBvbHlub21pYWwnO1xuaW1wb3J0IHNvbHZlQ3ViaWNFcXVhdGlvbiBmcm9tICcuL3NvbHZlLWN1YmljLWVxdWF0aW9uJztcbmltcG9ydCBjYWxjdWxhdGVDdXJ2ZUF0IGZyb20gJy4vY2FsY3VsYXRlLWN1cnZlLWF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFzUm9vdHNJblJhbmdlKHBvaW50cywgcG9pbnQsIGZpZWxkLCByb290RmllbGQsIHJhbmdlKSB7XG4gICAgY29uc3QgcG9seW5vbWlhbCA9IHRvQ3ViaWNQb2x5bm9taWFsKHBvaW50cywgcm9vdEZpZWxkKTtcbiAgICBjb25zdCByb290cyA9IHNvbHZlQ3ViaWNFcXVhdGlvbihwb2x5bm9taWFsWzBdLCBwb2x5bm9taWFsWzFdLCBwb2x5bm9taWFsWzJdLCBwb2x5bm9taWFsWzNdIC0gcG9pbnRbcm9vdEZpZWxkXSk7XG4gICAgbGV0IGludGVyc2VjdGlvbjtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHJvb3RzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaWYgKDAgPD0gcm9vdHNbaWR4XSAmJiByb290c1tpZHhdIDw9IDEpIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvbiA9IGNhbGN1bGF0ZUN1cnZlQXQocm9vdHNbaWR4XSwgZmllbGQsIHBvaW50cyk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW50ZXJzZWN0aW9uIC0gcG9pbnRbZmllbGRdKSA8PSByYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB0b0N1YmljUG9seW5vbWlhbCBmcm9tICcuL3RvLWN1YmljLXBvbHlub21pYWwnO1xuaW1wb3J0IHNvbHZlQ3ViaWNFcXVhdGlvbiBmcm9tICcuL3NvbHZlLWN1YmljLWVxdWF0aW9uJztcbmltcG9ydCBjYWxjdWxhdGVDdXJ2ZUF0IGZyb20gJy4vY2FsY3VsYXRlLWN1cnZlLWF0JztcbmltcG9ydCBjbG9zZSBmcm9tICcuL2Nsb3NlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3VydmVJbnRlcnNlY3Rpb25zQ291bnQocG9pbnRzLCBwb2ludCwgYmJveCkge1xuICAgIGNvbnN0IHBvbHlub21pYWwgPSB0b0N1YmljUG9seW5vbWlhbChwb2ludHMsIFwieFwiKTtcbiAgICBjb25zdCByb290cyA9IHNvbHZlQ3ViaWNFcXVhdGlvbihwb2x5bm9taWFsWzBdLCBwb2x5bm9taWFsWzFdLCBwb2x5bm9taWFsWzJdLCBwb2x5bm9taWFsWzNdIC0gcG9pbnQueCk7XG4gICAgbGV0IHJheUludGVyc2VjdGlvbiwgaW50ZXJzZWN0c1JheTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm9vdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmF5SW50ZXJzZWN0aW9uID0gY2FsY3VsYXRlQ3VydmVBdChyb290c1tpXSwgXCJ5XCIsIHBvaW50cyk7XG4gICAgICAgIGludGVyc2VjdHNSYXkgPSBjbG9zZShyYXlJbnRlcnNlY3Rpb24sIHBvaW50LnkpIHx8IHJheUludGVyc2VjdGlvbiA+IHBvaW50Lnk7XG4gICAgICAgIGlmIChpbnRlcnNlY3RzUmF5ICYmICgoKHJvb3RzW2ldID09PSAwIHx8IHJvb3RzW2ldID09PSAxKSAmJiBiYm94LmJvdHRvbVJpZ2h0KCkueCA+IHBvaW50LngpIHx8ICgwIDwgcm9vdHNbaV0gJiYgcm9vdHNbaV0gPCAxKSkpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY291bnQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGluZUludGVyc2VjdGlvbnNDb3VudChhLCBiLCBwb2ludCkge1xuICAgIGxldCBpbnRlcnNlY3RzO1xuICAgIGlmIChhLnggIT09IGIueCkge1xuICAgICAgICBjb25zdCBtaW5YID0gTWF0aC5taW4oYS54LCBiLngpO1xuICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoYS54LCBiLngpO1xuICAgICAgICBjb25zdCBtaW5ZID0gTWF0aC5taW4oYS55LCBiLnkpO1xuICAgICAgICBjb25zdCBtYXhZID0gTWF0aC5tYXgoYS55LCBiLnkpO1xuICAgICAgICBjb25zdCBpblJhbmdlID0gbWluWCA8PSBwb2ludC54ICYmIHBvaW50LnggPCBtYXhYO1xuXG4gICAgICAgIGlmIChtaW5ZID09PSBtYXhZKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3RzID0gcG9pbnQueSA8PSBtaW5ZICYmIGluUmFuZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnNlY3RzID0gaW5SYW5nZSAmJiAoKChtYXhZIC0gbWluWSkgKiAoKGEueCAtIGIueCkgKiAoYS55IC0gYi55KSA+IDAgPyBwb2ludC54IC0gbWluWCA6IG1heFggLSBwb2ludC54KSkgLyAobWF4WCAtIG1pblgpICsgbWluWSAtIHBvaW50LnkpID49IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJzZWN0cyA/IDEgOiAwO1xufSIsImltcG9ydCBPYnNlcnZlcnNNaXhpbiBmcm9tICcuLi9taXhpbnMvb2JzZXJ2ZXJzLW1peGluJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCBkZWZpbmVQb2ludEFjY2Vzc29ycyBmcm9tICcuLi9hY2Nlc3NvcnMvZGVmaW5lLXBvaW50LWFjY2Vzc29ycyc7XG5pbXBvcnQgUmVjdCBmcm9tICcuL3JlY3QnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuaW1wb3J0IHRyYW5zZm9ybSBmcm9tICcuL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBkZWcsIE1JTl9OVU0sIE1BWF9OVU0gfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBpc091dE9mRW5kUG9pbnQgZnJvbSAnLi9tYXRoL2lzLW91dC1vZi1lbmQtcG9pbnQnO1xuaW1wb3J0IGNhbGN1bGF0ZUN1cnZlQXQgZnJvbSAnLi9tYXRoL2NhbGN1bGF0ZS1jdXJ2ZS1hdCc7XG5pbXBvcnQgaGFzUm9vdHNJblJhbmdlIGZyb20gJy4vbWF0aC9oYXMtcm9vdHMtaW4tcmFuZ2UnO1xuaW1wb3J0IGN1cnZlSW50ZXJzZWN0aW9uc0NvdW50IGZyb20gJy4vbWF0aC9jdXJ2ZS1pbnRlcnNlY3Rpb25zLWNvdW50JztcbmltcG9ydCBsaW5lSW50ZXJzZWN0aW9uc0NvdW50IGZyb20gJy4vbWF0aC9saW5lLWludGVyc2VjdGlvbnMtY291bnQnO1xuXG5jbGFzcyBTZWdtZW50IGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoYW5jaG9yLCBjb250cm9sSW4sIGNvbnRyb2xPdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmFuY2hvcihhbmNob3IgfHwgbmV3IFBvaW50KCkpO1xuICAgICAgICB0aGlzLmNvbnRyb2xJbihjb250cm9sSW4pO1xuICAgICAgICB0aGlzLmNvbnRyb2xPdXQoY29udHJvbE91dCk7XG4gICAgfVxuXG4gICAgYmJveFRvKHRvU2VnbWVudCwgbWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRBbmNob3IgPSB0aGlzLmFuY2hvcigpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgY29uc3QgdG9TZWdtZW50QW5jaG9yID0gdG9TZWdtZW50LmFuY2hvcigpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgbGV0IHJlY3Q7XG5cbiAgICAgICAgaWYgKHRoaXMuY29udHJvbE91dCgpICYmIHRvU2VnbWVudC5jb250cm9sSW4oKSkge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2N1cnZlQm91bmRpbmdCb3goXG4gICAgICAgICAgICAgICAgc2VnbWVudEFuY2hvciwgdGhpcy5jb250cm9sT3V0KCkudHJhbnNmb3JtQ29weShtYXRyaXgpLFxuICAgICAgICAgICAgICAgIHRvU2VnbWVudC5jb250cm9sSW4oKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCksIHRvU2VnbWVudEFuY2hvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9saW5lQm91bmRpbmdCb3goc2VnbWVudEFuY2hvciwgdG9TZWdtZW50QW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cblxuICAgIF9saW5lQm91bmRpbmdCb3gocDEsIHAyKSB7XG4gICAgICAgIHJldHVybiBSZWN0LmZyb21Qb2ludHMocDEsIHAyKTtcbiAgICB9XG5cbiAgICBfY3VydmVCb3VuZGluZ0JveChwMSwgY3AxLCBjcDIsIHAyKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IFsgcDEsIGNwMSwgY3AyLCBwMiBdO1xuICAgICAgICBjb25zdCBleHRyZW1lc1ggPSB0aGlzLl9jdXJ2ZUV4dHJlbWVzRm9yKHBvaW50cywgXCJ4XCIpO1xuICAgICAgICBjb25zdCBleHRyZW1lc1kgPSB0aGlzLl9jdXJ2ZUV4dHJlbWVzRm9yKHBvaW50cywgXCJ5XCIpO1xuICAgICAgICBjb25zdCB4TGltaXRzID0gYXJyYXlMaW1pdHMoWyBleHRyZW1lc1gubWluLCBleHRyZW1lc1gubWF4LCBwMS54LCBwMi54IF0pO1xuICAgICAgICBjb25zdCB5TGltaXRzID0gYXJyYXlMaW1pdHMoWyBleHRyZW1lc1kubWluLCBleHRyZW1lc1kubWF4LCBwMS55LCBwMi55IF0pO1xuXG4gICAgICAgIHJldHVybiBSZWN0LmZyb21Qb2ludHMobmV3IFBvaW50KHhMaW1pdHMubWluLCB5TGltaXRzLm1pbiksIG5ldyBQb2ludCh4TGltaXRzLm1heCwgeUxpbWl0cy5tYXgpKTtcbiAgICB9XG5cbiAgICBfY3VydmVFeHRyZW1lc0Zvcihwb2ludHMsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IGV4dHJlbWVzID0gdGhpcy5fY3VydmVFeHRyZW1lcyhcbiAgICAgICAgICAgIHBvaW50c1swXVtmaWVsZF0sIHBvaW50c1sxXVtmaWVsZF0sXG4gICAgICAgICAgICBwb2ludHNbMl1bZmllbGRdLCBwb2ludHNbM11bZmllbGRdXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogY2FsY3VsYXRlQ3VydmVBdChleHRyZW1lcy5taW4sIGZpZWxkLCBwb2ludHMpLFxuICAgICAgICAgICAgbWF4OiBjYWxjdWxhdGVDdXJ2ZUF0KGV4dHJlbWVzLm1heCwgZmllbGQsIHBvaW50cylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfY3VydmVFeHRyZW1lcyh4MSwgeDIsIHgzLCB4NCkge1xuICAgICAgICBjb25zdCBhID0geDEgLSAzICogeDIgKyAzICogeDMgLSB4NDtcbiAgICAgICAgY29uc3QgYiA9IC0gMiAqICh4MSAtIDIgKiB4MiArIHgzKTtcbiAgICAgICAgY29uc3QgYyA9IHgxIC0geDI7XG4gICAgICAgIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpO1xuICAgICAgICBsZXQgdDEgPSAwO1xuICAgICAgICBsZXQgdDIgPSAxO1xuXG4gICAgICAgIGlmIChhID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoYiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHQxID0gdDIgPSAtYyAvIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNxcnQpKSB7XG4gICAgICAgICAgICB0MSA9ICgtIGIgKyBzcXJ0KSAvICgyICogYSk7XG4gICAgICAgICAgICB0MiA9ICgtIGIgLSBzcXJ0KSAvICgyICogYSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWluID0gTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgMCk7XG4gICAgICAgIGlmIChtaW4gPCAwIHx8IG1pbiA+IDEpIHtcbiAgICAgICAgICAgIG1pbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF4ID0gTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgMSk7XG4gICAgICAgIGlmIChtYXggPiAxIHx8IG1heCA8IDApIHtcbiAgICAgICAgICAgIG1heCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9pbnRlcnNlY3Rpb25zVG8oc2VnbWVudCwgcG9pbnQpIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbnNDb3VudDtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbE91dCgpICYmIHNlZ21lbnQuY29udHJvbEluKCkpIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNDb3VudCA9IGN1cnZlSW50ZXJzZWN0aW9uc0NvdW50KFsgdGhpcy5hbmNob3IoKSwgdGhpcy5jb250cm9sT3V0KCksIHNlZ21lbnQuY29udHJvbEluKCksIHNlZ21lbnQuYW5jaG9yKCkgXSwgcG9pbnQsIHRoaXMuYmJveFRvKHNlZ21lbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNDb3VudCA9IGxpbmVJbnRlcnNlY3Rpb25zQ291bnQodGhpcy5hbmNob3IoKSwgc2VnbWVudC5hbmNob3IoKSwgcG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zQ291bnQ7XG4gICAgfVxuXG4gICAgX2lzT25DdXJ2ZVRvKHNlZ21lbnQsIHBvaW50LCB3aWR0aCwgZW5kU2VnbWVudCkge1xuICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5iYm94VG8oc2VnbWVudCkuZXhwYW5kKHdpZHRoLCB3aWR0aCk7XG4gICAgICAgIGlmIChiYm94LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBwMSA9IHRoaXMuYW5jaG9yKCk7XG4gICAgICAgICAgICBjb25zdCBwMiA9IHRoaXMuY29udHJvbE91dCgpO1xuICAgICAgICAgICAgY29uc3QgcDMgPSBzZWdtZW50LmNvbnRyb2xJbigpO1xuICAgICAgICAgICAgY29uc3QgcDQgPSBzZWdtZW50LmFuY2hvcigpO1xuXG4gICAgICAgICAgICBpZiAoZW5kU2VnbWVudCA9PT0gXCJzdGFydFwiICYmIHAxLmRpc3RhbmNlVG8ocG9pbnQpIDw9IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpc091dE9mRW5kUG9pbnQocDEsIHAyLCBwb2ludCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVuZFNlZ21lbnQgPT09IFwiZW5kXCIgJiYgcDQuZGlzdGFuY2VUbyhwb2ludCkgPD0gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzT3V0T2ZFbmRQb2ludChwNCwgcDMsIHBvaW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy90aGUgYXBwcm9hY2ggaXMgbm90IGVudGlyZWx5IGNvcnJlY3QgYnV0IGlzIGNsb3NlIGFuZCB0aGUgYWx0ZXJuYXRpdmVzIGFyZSBzb2x2aW5nIGEgNnRoIGRlZ3JlZSBwb2x5bm9taWFsIG9yIHRlc3RpbmcgdGhlIHNlZ21lbnQgcG9pbnRzXG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBbIHAxLCBwMiwgcDMsIHA0IF07XG4gICAgICAgICAgICBpZiAoaGFzUm9vdHNJblJhbmdlKHBvaW50cywgcG9pbnQsIFwieFwiLCBcInlcIiwgd2lkdGgpIHx8IGhhc1Jvb3RzSW5SYW5nZShwb2ludHMsIHBvaW50LCBcInlcIiwgXCJ4XCIsIHdpZHRoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0cmFuc2Zvcm0oKS5yb3RhdGUoNDUsIHBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRQb2ludHMgPSBbIHAxLnRyYW5zZm9ybUNvcHkocm90YXRpb24pLCBwMi50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uKSwgcDMudHJhbnNmb3JtQ29weShyb3RhdGlvbiksIHA0LnRyYW5zZm9ybUNvcHkocm90YXRpb24pIF07XG4gICAgICAgICAgICByZXR1cm4gaGFzUm9vdHNJblJhbmdlKHJvdGF0ZWRQb2ludHMsIHBvaW50LCBcInhcIiwgXCJ5XCIsIHdpZHRoKSB8fCBoYXNSb290c0luUmFuZ2Uocm90YXRlZFBvaW50cywgcG9pbnQsIFwieVwiLCBcInhcIiwgd2lkdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2lzT25MaW5lVG8oc2VnbWVudCwgcG9pbnQsIHdpZHRoKSB7XG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5hbmNob3IoKTtcbiAgICAgICAgY29uc3QgcDIgPSBzZWdtZW50LmFuY2hvcigpO1xuICAgICAgICBjb25zdCBhbmdsZSA9IGRlZyhNYXRoLmF0YW4yKHAyLnkgLSBwMS55LCBwMi54IC0gcDEueCkpO1xuICAgICAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QoWyBwMS54LCBwMS55IC0gd2lkdGggLyAyIF0sIFsgcDEuZGlzdGFuY2VUbyhwMiksIHdpZHRoIF0pO1xuICAgICAgICByZXR1cm4gcmVjdC5jb250YWluc1BvaW50KHBvaW50LnRyYW5zZm9ybUNvcHkodHJhbnNmb3JtKCkucm90YXRlKC1hbmdsZSwgcDEpKSk7XG4gICAgfVxuXG4gICAgX2lzT25QYXRoVG8oc2VnbWVudCwgcG9pbnQsIHdpZHRoLCBlbmRTZWdtZW50KSB7XG4gICAgICAgIGxldCBpc09uUGF0aDtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbE91dCgpICYmIHNlZ21lbnQuY29udHJvbEluKCkpIHtcbiAgICAgICAgICAgIGlzT25QYXRoID0gdGhpcy5faXNPbkN1cnZlVG8oc2VnbWVudCwgcG9pbnQsIHdpZHRoIC8gMiwgZW5kU2VnbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc09uUGF0aCA9IHRoaXMuX2lzT25MaW5lVG8oc2VnbWVudCwgcG9pbnQsIHdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNPblBhdGg7XG4gICAgfVxufVxuXG5kZWZpbmVQb2ludEFjY2Vzc29ycyhTZWdtZW50LnByb3RvdHlwZSwgWyBcImFuY2hvclwiLCBcImNvbnRyb2xJblwiLCBcImNvbnRyb2xPdXRcIiBdKTtcbk9ic2VydmVyc01peGluLmV4dGVuZChTZWdtZW50LnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIGFycmF5TGltaXRzKGFycikge1xuICAgIGxldCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIGxldCBtaW4gPSBNQVhfTlVNO1xuICAgIGxldCBtYXggPSBNSU5fTlVNO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKyspIHtcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBhcnJbaV0pO1xuICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGFycltpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWluOiBtaW4sXG4gICAgICAgIG1heDogbWF4XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VnbWVudDsiLCJpbXBvcnQgUmVjdCBmcm9tICcuLi8uLi9nZW9tZXRyeS9yZWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWxlbWVudHNCb3VuZGluZ0JveChlbGVtZW50cywgYXBwbHlUcmFuc2Zvcm0sIHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgbGV0IGJvdW5kaW5nQm94O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICBpZiAoZWxlbWVudC52aXNpYmxlKCkpIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50Qm91bmRpbmdCb3ggPSBhcHBseVRyYW5zZm9ybSA/IGVsZW1lbnQuYmJveCh0cmFuc2Zvcm1hdGlvbikgOiBlbGVtZW50LnJhd0JCb3goKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Qm91bmRpbmdCb3gpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRpbmdCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRpbmdCb3ggPSBSZWN0LnVuaW9uKGJvdW5kaW5nQm94LCBlbGVtZW50Qm91bmRpbmdCb3gpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kaW5nQm94ID0gZWxlbWVudEJvdW5kaW5nQm94O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBib3VuZGluZ0JveDtcbn1cblxuIiwiaW1wb3J0IFJlY3QgZnJvbSAnLi4vLi4vZ2VvbWV0cnkvcmVjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsZW1lbnRzQ2xpcHBlZEJvdW5kaW5nQm94KGVsZW1lbnRzLCB0cmFuc2Zvcm1hdGlvbikge1xuICAgIGxldCBib3VuZGluZ0JveDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKGVsZW1lbnQudmlzaWJsZSgpKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudEJvdW5kaW5nQm94ID0gZWxlbWVudC5jbGlwcGVkQkJveCh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgICAgICBpZiAoZWxlbWVudEJvdW5kaW5nQm94KSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kaW5nQm94KSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kaW5nQm94ID0gUmVjdC51bmlvbihib3VuZGluZ0JveCwgZWxlbWVudEJvdW5kaW5nQm94KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBib3VuZGluZ0JveCA9IGVsZW1lbnRCb3VuZGluZ0JveDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmRpbmdCb3g7XG59IiwiaW1wb3J0IEdlb21ldHJ5RWxlbWVudHNBcnJheSBmcm9tICcuL2dlb21ldHJ5LWVsZW1lbnRzLWFycmF5JztcbmltcG9ydCBFbGVtZW50IGZyb20gJy4vZWxlbWVudCc7XG5pbXBvcnQgUGF0aCBmcm9tICcuL3BhdGgnO1xuaW1wb3J0IFBhaW50YWJsZSBmcm9tICcuLi9taXhpbnMvcGFpbnRhYmxlJztcbmltcG9ydCBNZWFzdXJhYmxlIGZyb20gJy4uL21peGlucy9tZWFzdXJhYmxlJztcbmltcG9ydCBlbGVtZW50c0JvdW5kaW5nQm94IGZyb20gJy4vdXRpbHMvZWxlbWVudHMtYm91bmRpbmctYm94JztcbmltcG9ydCBlbGVtZW50c0NsaXBwZWRCb3VuZGluZ0JveCBmcm9tICcuL3V0aWxzL2VsZW1lbnRzLWNsaXBwZW5kLWJvdW5kaW5nLWJveCc7XG5pbXBvcnQgeyBkZWZpbmVkLCBsYXN0IH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNsYXNzIE11bHRpUGF0aCBleHRlbmRzIEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5wYXRocyA9IG5ldyBHZW9tZXRyeUVsZW1lbnRzQXJyYXkoKTtcbiAgICAgICAgdGhpcy5wYXRocy5hZGRPYnNlcnZlcih0aGlzKTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnN0cm9rZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlKFwiIzAwMFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVUbyh4LCB5KSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aCgpO1xuICAgICAgICBwYXRoLm1vdmVUbyh4LCB5KTtcblxuICAgICAgICB0aGlzLnBhdGhzLnB1c2gocGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbGluZVRvKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMucGF0aHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGFzdCh0aGlzLnBhdGhzKS5saW5lVG8oeCwgeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjdXJ2ZVRvKGNvbnRyb2xPdXQsIGNvbnRyb2xJbiwgcG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucGF0aHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGFzdCh0aGlzLnBhdGhzKS5jdXJ2ZVRvKGNvbnRyb2xPdXQsIGNvbnRyb2xJbiwgcG9pbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYXJjKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCByYWRpdXNYLCByYWRpdXNZLCBhbnRpY2xvY2t3aXNlKSB7XG4gICAgICAgIGlmICh0aGlzLnBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxhc3QodGhpcy5wYXRocykuYXJjKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCByYWRpdXNYLCByYWRpdXNZLCBhbnRpY2xvY2t3aXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFyY1RvKGVuZCwgcngsIHJ5LCBsYXJnZUFyYywgc3dpcGUsIHJvdGF0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxhc3QodGhpcy5wYXRocykuYXJjVG8oZW5kLCByeCwgcnksIGxhcmdlQXJjLCBzd2lwZSwgcm90YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxhc3QodGhpcy5wYXRocykuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9iYm94KG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudHNCb3VuZGluZ0JveCh0aGlzLnBhdGhzLCB0cnVlLCBtYXRyaXgpO1xuICAgIH1cblxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50c0JvdW5kaW5nQm94KHRoaXMucGF0aHMsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBfY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICBjb25zdCBwYXRocyA9IHRoaXMucGF0aHM7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGF0aHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKHBhdGhzW2lkeF0uX2NvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9pc09uUGF0aChwb2ludCkge1xuICAgICAgICBjb25zdCBwYXRocyA9IHRoaXMucGF0aHM7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5vcHRpb25zLnN0cm9rZS53aWR0aDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwYXRocy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAocGF0aHNbaWR4XS5faXNPblBhdGgocG9pbnQsIHdpZHRoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfY2xpcHBlZEJCb3godHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzQ2xpcHBlZEJvdW5kaW5nQm94KHRoaXMucGF0aHMsIHRoaXMuY3VycmVudFRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbikpO1xuICAgIH1cbn1cblxuTXVsdGlQYXRoLnByb3RvdHlwZS5ub2RlVHlwZSA9IFwiTXVsdGlQYXRoXCI7XG5cblBhaW50YWJsZS5leHRlbmQoTXVsdGlQYXRoLnByb3RvdHlwZSk7XG5NZWFzdXJhYmxlLmV4dGVuZChNdWx0aVBhdGgucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgTXVsdGlQYXRoOyIsImltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tZXRyeS9wb2ludCc7XG5pbXBvcnQgeyBsYXN0IH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFNoYXBlTWFwID0ge1xuICAgIGw6IGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwYXJhbWV0ZXJzLCBwb3NpdGlvbiB9ID0gb3B0aW9ucztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IG5ldyBQb2ludChwYXJhbWV0ZXJzW2ldLCBwYXJhbWV0ZXJzW2kgKyAxXSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzUmVsYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBwb2ludC50cmFuc2xhdGVXaXRoKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGF0aC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XG5cbiAgICAgICAgICAgIHBvc2l0aW9uLnggPSBwb2ludC54O1xuICAgICAgICAgICAgcG9zaXRpb24ueSA9IHBvaW50Lnk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYzogZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHBhcmFtZXRlcnMsIHBvc2l0aW9uIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVycy5sZW5ndGg7IGkgKz0gNikge1xuICAgICAgICAgICAgbGV0IGNvbnRyb2xPdXQgPSBuZXcgUG9pbnQocGFyYW1ldGVyc1tpXSwgcGFyYW1ldGVyc1tpICsgMV0pO1xuICAgICAgICAgICAgbGV0IGNvbnRyb2xJbiA9IG5ldyBQb2ludChwYXJhbWV0ZXJzW2kgKyAyXSwgcGFyYW1ldGVyc1tpICsgM10pO1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gbmV3IFBvaW50KHBhcmFtZXRlcnNbaSArIDRdLCBwYXJhbWV0ZXJzW2kgKyA1XSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pc1JlbGF0aXZlKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbEluLnRyYW5zbGF0ZVdpdGgocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xPdXQudHJhbnNsYXRlV2l0aChwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcG9pbnQudHJhbnNsYXRlV2l0aChwb3NpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhdGguY3VydmVUbyhjb250cm9sT3V0LCBjb250cm9sSW4sIHBvaW50KTtcblxuICAgICAgICAgICAgcG9zaXRpb24ueCA9IHBvaW50Lng7XG4gICAgICAgICAgICBwb3NpdGlvbi55ID0gcG9pbnQueTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2OiBmdW5jdGlvbihwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9ucy5pc1JlbGF0aXZlID8gMCA6IG9wdGlvbnMucG9zaXRpb24ueDtcblxuICAgICAgICB0b0xpbmVQYXJhbWF0ZXJzKG9wdGlvbnMucGFyYW1ldGVycywgdHJ1ZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLmwocGF0aCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIGg6IGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zLmlzUmVsYXRpdmUgPyAwIDogb3B0aW9ucy5wb3NpdGlvbi55O1xuXG4gICAgICAgIHRvTGluZVBhcmFtYXRlcnMob3B0aW9ucy5wYXJhbWV0ZXJzLCBmYWxzZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLmwocGF0aCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIGE6IGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwYXJhbWV0ZXJzLCBwb3NpdGlvbiB9ID0gb3B0aW9ucztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoOyBpICs9IDcpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhZGl1c1ggPSBwYXJhbWV0ZXJzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzWSA9IHBhcmFtZXRlcnNbaSArIDFdO1xuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSBwYXJhbWV0ZXJzW2kgKyAyXTtcbiAgICAgICAgICAgIGNvbnN0IGxhcmdlQXJjID0gcGFyYW1ldGVyc1tpICsgM107XG4gICAgICAgICAgICBjb25zdCBzd2lwZSA9IHBhcmFtZXRlcnNbaSArIDRdO1xuICAgICAgICAgICAgY29uc3QgZW5kUG9pbnQgPSBuZXcgUG9pbnQocGFyYW1ldGVyc1tpICsgNV0sIHBhcmFtZXRlcnNbaSArIDZdKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSZWxhdGl2ZSkge1xuICAgICAgICAgICAgICAgIGVuZFBvaW50LnRyYW5zbGF0ZVdpdGgocG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uLnggIT09IGVuZFBvaW50LnggfHwgcG9zaXRpb24ueSAhPT0gZW5kUG9pbnQueSkge1xuICAgICAgICAgICAgICAgIHBhdGguYXJjVG8oZW5kUG9pbnQsIHJhZGl1c1gsIHJhZGl1c1ksIGxhcmdlQXJjLCBzd2lwZSwgcm90YXRpb24pO1xuXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCA9IGVuZFBvaW50Lng7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueSA9IGVuZFBvaW50Lnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgczogZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHBhcmFtZXRlcnMsIHBvc2l0aW9uLCBwcmV2aW91c0NvbW1hbmQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGxldCBsYXN0Q29udHJvbEluO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0NvbW1hbmQgPT09IFwic1wiIHx8IHByZXZpb3VzQ29tbWFuZCA9PT0gXCJjXCIpIHtcbiAgICAgICAgICAgIGxhc3RDb250cm9sSW4gPSBsYXN0KGxhc3QocGF0aC5wYXRocykuc2VnbWVudHMpLmNvbnRyb2xJbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbWV0ZXJzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICBsZXQgY29udHJvbEluID0gbmV3IFBvaW50KHBhcmFtZXRlcnNbaV0sIHBhcmFtZXRlcnNbaSArIDFdKTtcbiAgICAgICAgICAgIGxldCBlbmRQb2ludCA9IG5ldyBQb2ludChwYXJhbWV0ZXJzW2kgKyAyXSwgcGFyYW1ldGVyc1tpICsgM10pO1xuICAgICAgICAgICAgbGV0IGNvbnRyb2xPdXQ7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzUmVsYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sSW4udHJhbnNsYXRlV2l0aChwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgZW5kUG9pbnQudHJhbnNsYXRlV2l0aChwb3NpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYXN0Q29udHJvbEluKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbE91dCA9IHJlZmxlY3Rpb25Qb2ludChsYXN0Q29udHJvbEluLCBwb3NpdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xPdXQgPSBwb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsYXN0Q29udHJvbEluID0gY29udHJvbEluO1xuXG4gICAgICAgICAgICBwYXRoLmN1cnZlVG8oY29udHJvbE91dCwgY29udHJvbEluLCBlbmRQb2ludCk7XG5cbiAgICAgICAgICAgIHBvc2l0aW9uLnggPSBlbmRQb2ludC54O1xuICAgICAgICAgICAgcG9zaXRpb24ueSA9IGVuZFBvaW50Lnk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcTogZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHBhcmFtZXRlcnMsIHBvc2l0aW9uIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVycy5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgICAgbGV0IGNvbnRyb2xQb2ludCA9IG5ldyBQb2ludChwYXJhbWV0ZXJzW2ldLCBwYXJhbWV0ZXJzW2kgKyAxXSk7XG4gICAgICAgICAgICBsZXQgZW5kUG9pbnQgPSBuZXcgUG9pbnQocGFyYW1ldGVyc1tpICsgMl0sIHBhcmFtZXRlcnNbaSArIDNdKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSZWxhdGl2ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludC50cmFuc2xhdGVXaXRoKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBlbmRQb2ludC50cmFuc2xhdGVXaXRoKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGN1YmljQ29udHJvbFBvaW50cyA9IHF1YWRyYXRpY1RvQ3ViaWNDb250cm9sUG9pbnRzKHBvc2l0aW9uLCBjb250cm9sUG9pbnQsIGVuZFBvaW50KTtcblxuICAgICAgICAgICAgcGF0aC5jdXJ2ZVRvKGN1YmljQ29udHJvbFBvaW50cy5jb250cm9sT3V0LCBjdWJpY0NvbnRyb2xQb2ludHMuY29udHJvbEluLCBlbmRQb2ludCk7XG5cbiAgICAgICAgICAgIHBvc2l0aW9uLnggPSBlbmRQb2ludC54O1xuICAgICAgICAgICAgcG9zaXRpb24ueSA9IGVuZFBvaW50Lnk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdDogZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHBhcmFtZXRlcnMsIHBvc2l0aW9uLCBwcmV2aW91c0NvbW1hbmQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGxldCBjb250cm9sUG9pbnQ7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzQ29tbWFuZCA9PT0gXCJxXCIgfHwgcHJldmlvdXNDb21tYW5kID09PSBcInRcIikge1xuICAgICAgICAgICAgbGV0IGxhc3RTZWdtZW50ID0gbGFzdChsYXN0KHBhdGgucGF0aHMpLnNlZ21lbnRzKTtcbiAgICAgICAgICAgIGNvbnRyb2xQb2ludCA9IGxhc3RTZWdtZW50LmNvbnRyb2xJbigpLmNsb25lKClcbiAgICAgICAgICAgICAgICAudHJhbnNsYXRlV2l0aChwb3NpdGlvbi5zY2FsZUNvcHkoLTEgLyAzKSlcbiAgICAgICAgICAgICAgICAuc2NhbGUoMyAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbWV0ZXJzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBsZXQgZW5kUG9pbnQgPSBuZXcgUG9pbnQocGFyYW1ldGVyc1tpXSwgcGFyYW1ldGVyc1tpICsgMV0pO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSZWxhdGl2ZSkge1xuICAgICAgICAgICAgICAgIGVuZFBvaW50LnRyYW5zbGF0ZVdpdGgocG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29udHJvbFBvaW50KSB7XG4gICAgICAgICAgICAgICAgY29udHJvbFBvaW50ID0gcmVmbGVjdGlvblBvaW50KGNvbnRyb2xQb2ludCwgcG9zaXRpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sUG9pbnQgPSBwb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3ViaWNDb250cm9sUG9pbnRzID0gcXVhZHJhdGljVG9DdWJpY0NvbnRyb2xQb2ludHMocG9zaXRpb24sIGNvbnRyb2xQb2ludCwgZW5kUG9pbnQpO1xuXG4gICAgICAgICAgICBwYXRoLmN1cnZlVG8oY3ViaWNDb250cm9sUG9pbnRzLmNvbnRyb2xPdXQsIGN1YmljQ29udHJvbFBvaW50cy5jb250cm9sSW4sIGVuZFBvaW50KTtcblxuICAgICAgICAgICAgcG9zaXRpb24ueCA9IGVuZFBvaW50Lng7XG4gICAgICAgICAgICBwb3NpdGlvbi55ID0gZW5kUG9pbnQueTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHRvTGluZVBhcmFtYXRlcnMocGFyYW1ldGVycywgaXNWZXJ0aWNhbCwgdmFsdWUpIHtcbiAgICBjb25zdCBpbnNlcnRQb3NpdGlvbiA9IGlzVmVydGljYWwgPyAwIDogMTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVycy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBwYXJhbWV0ZXJzLnNwbGljZShpICsgaW5zZXJ0UG9zaXRpb24sIDAsIHZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlZmxlY3Rpb25Qb2ludChwb2ludCwgY2VudGVyKSB7XG4gICAgaWYgKHBvaW50ICYmIGNlbnRlcikge1xuICAgICAgICByZXR1cm4gY2VudGVyLnNjYWxlQ29weSgyKS50cmFuc2xhdGUoLXBvaW50LngsIC1wb2ludC55KTtcbiAgICB9XG59XG5cbmNvbnN0IHRoaXJkID0gMSAvIDM7XG5cbmZ1bmN0aW9uIHF1YWRyYXRpY1RvQ3ViaWNDb250cm9sUG9pbnRzKHBvc2l0aW9uLCBjb250cm9sUG9pbnQsIGVuZFBvaW50KSB7XG4gICAgY29uc3Qgc2NhbGVkUG9pbnQgPSBjb250cm9sUG9pbnQuY2xvbmUoKS5zY2FsZSgyIC8gMyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udHJvbE91dDogc2NhbGVkUG9pbnQuY2xvbmUoKS50cmFuc2xhdGVXaXRoKHBvc2l0aW9uLnNjYWxlQ29weSh0aGlyZCkpLFxuICAgICAgICBjb250cm9sSW46IHNjYWxlZFBvaW50LnRyYW5zbGF0ZVdpdGgoZW5kUG9pbnQuc2NhbGVDb3B5KHRoaXJkKSlcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBTaGFwZU1hcDsiLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgTXVsdGlQYXRoIGZyb20gJy4uL3NoYXBlcy9tdWx0aS1wYXRoJztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tZXRyeS9wb2ludCc7XG5pbXBvcnQgU2hhcGVNYXAgZnJvbSAnLi9zaGFwZS1tYXAnO1xuXG5jb25zdCBTRUdNRU5UX1JFR0VYID0gLyhbYS1kZi16XXsxfSkoW15hLWRmLXpdKikoeik/L2dpO1xuY29uc3QgU1BMSVRfUkVHRVggPSAvWyxcXHNdPyhbK1xcLV0/KD86XFxkKlxcLlxcZCt8XFxkKykoPzpbZUVdWytcXC1dP1xcZCspPykvZztcbmNvbnN0IE1PVkUgPSBcIm1cIjtcbmNvbnN0IENMT1NFID0gXCJ6XCI7XG5cbmZ1bmN0aW9uIHBhcnNlUGFyYW1ldGVycyhzdHIpIHtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gW107XG4gICAgc3RyLnJlcGxhY2UoU1BMSVRfUkVHRVgsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIpIHtcbiAgICAgICAgcGFyYW1ldGVycy5wdXNoKHBhcnNlRmxvYXQobnVtYmVyKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBhcmFtZXRlcnM7XG59XG5cbmNsYXNzIFBhdGhQYXJzZXIgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBwYXJzZShzdHIsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbXVsdGlQYXRoID0gbmV3IE11bHRpUGF0aChvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgbGV0IHByZXZpb3VzQ29tbWFuZDtcblxuICAgICAgICBzdHIucmVwbGFjZShTRUdNRU5UX1JFR0VYLCAobWF0Y2gsIGVsZW1lbnQsIHBhcmFtcywgY2xvc2VQYXRoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29tbWFuZCA9IGVsZW1lbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGlzUmVsYXRpdmUgPSBjb21tYW5kID09PSBlbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHBhcnNlUGFyYW1ldGVycyhwYXJhbXMudHJpbSgpKTtcblxuICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT09IE1PVkUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWxhdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi54ICs9IHBhcmFtZXRlcnNbMF07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgKz0gcGFyYW1ldGVyc1sxXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi54ID0gcGFyYW1ldGVyc1swXTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ueSA9IHBhcmFtZXRlcnNbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbXVsdGlQYXRoLm1vdmVUbyhwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9IFwibFwiO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLnNwbGljZSgwLCAyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChTaGFwZU1hcFtjb21tYW5kXSkge1xuICAgICAgICAgICAgICAgIFNoYXBlTWFwW2NvbW1hbmRdKFxuICAgICAgICAgICAgICAgICAgICBtdWx0aVBhdGgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1JlbGF0aXZlOiBpc1JlbGF0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21tYW5kOiBwcmV2aW91c0NvbW1hbmRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VQYXRoICYmIGNsb3NlUGF0aC50b0xvd2VyQ2FzZSgpID09PSBDTE9TRSkge1xuICAgICAgICAgICAgICAgICAgICBtdWx0aVBhdGguY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgIT09IE1PVkUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB3aGlsZSBwYXJzaW5nIFNWRyBwYXRoLiBVbnN1cHBvcnRlZCBjb21tYW5kOiBcIiArIGNvbW1hbmQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcmV2aW91c0NvbW1hbmQgPSBjb21tYW5kO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbXVsdGlQYXRoO1xuICAgIH1cbn1cblxuUGF0aFBhcnNlci5jdXJyZW50ID0gbmV3IFBhdGhQYXJzZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgUGF0aFBhcnNlcjtcbiIsImltcG9ydCBHZW9tZXRyeUVsZW1lbnRzQXJyYXkgZnJvbSAnLi9nZW9tZXRyeS1lbGVtZW50cy1hcnJheSc7XG5pbXBvcnQgRWxlbWVudCBmcm9tICcuL2VsZW1lbnQnO1xuaW1wb3J0IFBhaW50YWJsZSBmcm9tICcuLi9taXhpbnMvcGFpbnRhYmxlJztcbmltcG9ydCBNZWFzdXJhYmxlIGZyb20gJy4uL21peGlucy9tZWFzdXJhYmxlJztcbmltcG9ydCBBcmMgZnJvbSAnLi4vZ2VvbWV0cnkvYXJjJztcbmltcG9ydCBSZWN0IGZyb20gJy4uL2dlb21ldHJ5L3JlY3QnO1xuaW1wb3J0IFNlZ21lbnQgZnJvbSAnLi4vZ2VvbWV0cnkvc2VnbWVudCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vZ2VvbWV0cnkvcG9pbnQnO1xuaW1wb3J0IFNpemUgZnJvbSAnLi4vZ2VvbWV0cnkvc2l6ZSc7XG5pbXBvcnQgbGluZUludGVyc2VjdGlvbnNDb3VudCBmcm9tICcuLi9nZW9tZXRyeS9tYXRoL2xpbmUtaW50ZXJzZWN0aW9ucy1jb3VudCc7XG5pbXBvcnQgeyBkZWZpbmVkLCBsYXN0LCByYWQgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBQYXRoUGFyc2VyIGZyb20gJy4uL3BhcnNpbmcvcGF0aC1wYXJzZXInO1xuXG5jbGFzcyBQYXRoIGV4dGVuZHMgRWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gbmV3IEdlb21ldHJ5RWxlbWVudHNBcnJheSgpO1xuICAgICAgICB0aGlzLnNlZ21lbnRzLmFkZE9ic2VydmVyKHRoaXMpO1xuXG4gICAgICAgIGlmICghZGVmaW5lZCh0aGlzLm9wdGlvbnMuc3Ryb2tlKSkge1xuICAgICAgICAgICAgdGhpcy5zdHJva2UoXCIjMDAwXCIpO1xuXG4gICAgICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnN0cm9rZS5saW5lSm9pbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0KFwic3Ryb2tlLmxpbmVKb2luXCIsIFwibWl0ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlVG8oeCwgeSkge1xuICAgICAgICB0aGlzLnN1c3BlbmQoKTtcbiAgICAgICAgdGhpcy5zZWdtZW50cy5lbGVtZW50cyhbXSk7XG4gICAgICAgIHRoaXMucmVzdW1lKCk7XG5cbiAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbGluZVRvKHgsIHkpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBkZWZpbmVkKHkpID8gbmV3IFBvaW50KHgsIHkpIDogeDtcbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IG5ldyBTZWdtZW50KHBvaW50KTtcblxuICAgICAgICB0aGlzLnNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY3VydmVUbyhjb250cm9sT3V0LCBjb250cm9sSW4sIHBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLnNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTZWdtZW50ID0gbGFzdCh0aGlzLnNlZ21lbnRzKTtcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgU2VnbWVudChwb2ludCwgY29udHJvbEluKTtcbiAgICAgICAgICAgIHRoaXMuc3VzcGVuZCgpO1xuICAgICAgICAgICAgbGFzdFNlZ21lbnQuY29udHJvbE91dChjb250cm9sT3V0KTtcbiAgICAgICAgICAgIHRoaXMucmVzdW1lKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFyYyhzdGFydEFuZ2xlLCBlbmRBbmdsZSwgcmFkaXVzWCwgcmFkaXVzWSwgYW50aWNsb2Nrd2lzZSkge1xuICAgICAgICBpZiAodGhpcy5zZWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0U2VnbWVudCA9IGxhc3QodGhpcy5zZWdtZW50cyk7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBsYXN0U2VnbWVudC5hbmNob3IoKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcmFkKHN0YXJ0QW5nbGUpO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gbmV3IFBvaW50KGFuY2hvci54IC0gcmFkaXVzWCAqIE1hdGguY29zKHN0YXJ0KSxcbiAgICAgICAgICAgICAgICBhbmNob3IueSAtIHJhZGl1c1kgKiBNYXRoLnNpbihzdGFydCkpO1xuICAgICAgICAgICAgY29uc3QgYXJjID0gbmV3IEFyYyhjZW50ZXIsIHtcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgICAgICAgICByYWRpdXNYOiByYWRpdXNYLFxuICAgICAgICAgICAgICAgIHJhZGl1c1k6IHJhZGl1c1ksXG4gICAgICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogYW50aWNsb2Nrd2lzZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZEFyY1NlZ21lbnRzKGFyYyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhcmNUbyhlbmQsIHJ4LCByeSwgbGFyZ2VBcmMsIHN3aXBlLCByb3RhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5zZWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0U2VnbWVudCA9IGxhc3QodGhpcy5zZWdtZW50cyk7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBsYXN0U2VnbWVudC5hbmNob3IoKTtcbiAgICAgICAgICAgIGNvbnN0IGFyYyA9IEFyYy5mcm9tUG9pbnRzKGFuY2hvciwgZW5kLCByeCwgcnksIGxhcmdlQXJjLCBzd2lwZSwgcm90YXRpb24pO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRBcmNTZWdtZW50cyhhcmMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9hZGRBcmNTZWdtZW50cyhhcmMpIHtcbiAgICAgICAgdGhpcy5zdXNwZW5kKCk7XG5cbiAgICAgICAgY29uc3QgY3VydmVQb2ludHMgPSBhcmMuY3VydmVQb2ludHMoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGN1cnZlUG9pbnRzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnZlVG8oY3VydmVQb2ludHNbaV0sIGN1cnZlUG9pbnRzW2kgKyAxXSwgY3VydmVQb2ludHNbaSArIDJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzdW1lKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByYXdCQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmJveCgpO1xuICAgIH1cblxuICAgIF9jb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cztcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uc0NvdW50ID0gMDtcbiAgICAgICAgbGV0IHByZXZpb3VzLCBjdXJyZW50O1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDE7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHByZXZpb3VzID0gc2VnbWVudHNbaWR4IC0gMV07XG4gICAgICAgICAgICBjdXJyZW50ID0gc2VnbWVudHNbaWR4XTtcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNDb3VudCArPSBwcmV2aW91cy5faW50ZXJzZWN0aW9uc1RvKGN1cnJlbnQsIHBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VkIHx8ICFzZWdtZW50c1swXS5hbmNob3IoKS5lcXVhbHMoc2VnbWVudHNbbGVuZ3RoIC0gMV0uYW5jaG9yKCkpKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25zQ291bnQgKz0gbGluZUludGVyc2VjdGlvbnNDb3VudChzZWdtZW50c1swXS5hbmNob3IoKSwgc2VnbWVudHNbbGVuZ3RoIC0gMV0uYW5jaG9yKCksIHBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zQ291bnQgJSAyICE9PSAwO1xuICAgIH1cblxuICAgIF9pc09uUGF0aChwb2ludCwgd2lkdGgpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHBhdGhXaWR0aCA9IHdpZHRoIHx8IHRoaXMub3B0aW9ucy5zdHJva2Uud2lkdGg7XG5cbiAgICAgICAgaWYgKGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGlmIChzZWdtZW50c1swXS5faXNPblBhdGhUbyhzZWdtZW50c1sxXSwgcG9pbnQsIHBhdGhXaWR0aCwgXCJzdGFydFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAyOyBpZHggPD0gbGVuZ3RoIC0gMjsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudHNbaWR4IC0gMV0uX2lzT25QYXRoVG8oc2VnbWVudHNbaWR4XSwgcG9pbnQsIHBhdGhXaWR0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMl0uX2lzT25QYXRoVG8oc2VnbWVudHNbbGVuZ3RoIC0gMV0sIHBvaW50LCBwYXRoV2lkdGgsIFwiZW5kXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9iYm94KG1hdHJpeCkge1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgbGV0IGJvdW5kaW5nQm94O1xuXG4gICAgICAgIGlmIChsZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGxldCBhbmNob3IgPSBzZWdtZW50c1swXS5hbmNob3IoKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG4gICAgICAgICAgICBib3VuZGluZ0JveCA9IG5ldyBSZWN0KGFuY2hvciwgU2l6ZS5aRVJPKTtcbiAgICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlZ21lbnRCb3ggPSBzZWdtZW50c1tpIC0gMV0uYmJveFRvKHNlZ21lbnRzW2ldLCBtYXRyaXgpO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZGluZ0JveCkge1xuICAgICAgICAgICAgICAgICAgICBib3VuZGluZ0JveCA9IFJlY3QudW5pb24oYm91bmRpbmdCb3gsIHNlZ21lbnRCb3gpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kaW5nQm94ID0gc2VnbWVudEJveDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm91bmRpbmdCb3g7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21SZWN0KHJlY3QsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXRoKG9wdGlvbnMpXG4gICAgICAgICAgICAubW92ZVRvKHJlY3QudG9wTGVmdCgpKVxuICAgICAgICAgICAgLmxpbmVUbyhyZWN0LnRvcFJpZ2h0KCkpXG4gICAgICAgICAgICAubGluZVRvKHJlY3QuYm90dG9tUmlnaHQoKSlcbiAgICAgICAgICAgIC5saW5lVG8ocmVjdC5ib3R0b21MZWZ0KCkpXG4gICAgICAgICAgICAuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVBvaW50cyhwb2ludHMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IG5ldyBQYXRoKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IFBvaW50LmNyZWF0ZShwb2ludHNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5tb3ZlVG8ocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5saW5lVG8ocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQXJjKGFyYywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBhcmMuc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBhcmMucG9pbnRBdChzdGFydEFuZ2xlKTtcbiAgICAgICAgcGF0aC5tb3ZlVG8oc3RhcnQueCwgc3RhcnQueSk7XG4gICAgICAgIHBhdGguYXJjKHN0YXJ0QW5nbGUsIGFyYy5lbmRBbmdsZSwgYXJjLnJhZGl1c1gsIGFyYy5yYWRpdXNZLCBhcmMuYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbn1cblxuUGF0aC5wcm90b3R5cGUubm9kZVR5cGUgPSBcIlBhdGhcIjtcblxuUGFpbnRhYmxlLmV4dGVuZChQYXRoLnByb3RvdHlwZSk7XG5NZWFzdXJhYmxlLmV4dGVuZChQYXRoLnByb3RvdHlwZSk7XG5cblBhdGgucGFyc2UgPSBmdW5jdGlvbihzdHIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUGF0aFBhcnNlci5jdXJyZW50LnBhcnNlKHN0ciwgb3B0aW9ucyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYXRoO1xuIiwiaW1wb3J0IEdlb21ldHJ5QXJjIGZyb20gJy4uL2dlb21ldHJ5L2FyYyc7XG5pbXBvcnQgRWxlbWVudCBmcm9tICcuL2VsZW1lbnQnO1xuaW1wb3J0IFBhdGggZnJvbSAnLi9wYXRoJztcbmltcG9ydCBQYWludGFibGUgZnJvbSAnLi4vbWl4aW5zL3BhaW50YWJsZSc7XG5pbXBvcnQgTWVhc3VyYWJsZSBmcm9tICcuLi9taXhpbnMvbWVhc3VyYWJsZSc7XG5pbXBvcnQgZGVmaW5lR2VvbWV0cnlBY2Nlc3NvcnMgZnJvbSAnLi4vYWNjZXNzb3JzL2RlZmluZS1nZW9tZXRyeS1hY2Nlc3NvcnMnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBERUZBVUxUX1NUUk9LRSA9IFwiIzAwMFwiO1xuXG5jbGFzcyBBcmMgZXh0ZW5kcyBFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5QXJjKCksIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5KGdlb21ldHJ5KTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnN0cm9rZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlKERFRkFVTFRfU1RST0tFKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9iYm94KG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuYmJveChtYXRyaXgpO1xuICAgIH1cblxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5KCkuYmJveCgpO1xuICAgIH1cblxuICAgIHRvUGF0aCgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IG5ldyBQYXRoKCk7XG4gICAgICAgIGNvbnN0IGN1cnZlUG9pbnRzID0gdGhpcy5nZW9tZXRyeSgpLmN1cnZlUG9pbnRzKCk7XG5cbiAgICAgICAgaWYgKGN1cnZlUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHBhdGgubW92ZVRvKGN1cnZlUG9pbnRzWzBdLngsIGN1cnZlUG9pbnRzWzBdLnkpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGN1cnZlUG9pbnRzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgICAgICAgICAgcGF0aC5jdXJ2ZVRvKGN1cnZlUG9pbnRzW2ldLCBjdXJ2ZVBvaW50c1tpICsgMV0sIGN1cnZlUG9pbnRzW2kgKyAyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG5cbiAgICBfY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeSgpLmNvbnRhaW5zUG9pbnQocG9pbnQpO1xuICAgIH1cblxuICAgIF9pc09uUGF0aChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeSgpLl9pc09uUGF0aChwb2ludCwgdGhpcy5vcHRpb25zLnN0cm9rZS53aWR0aCAvIDIpO1xuICAgIH1cbn1cblxuQXJjLnByb3RvdHlwZS5ub2RlVHlwZSA9IFwiQXJjXCI7XG5cblBhaW50YWJsZS5leHRlbmQoQXJjLnByb3RvdHlwZSk7XG5NZWFzdXJhYmxlLmV4dGVuZChBcmMucHJvdG90eXBlKTtcbmRlZmluZUdlb21ldHJ5QWNjZXNzb3JzKEFyYy5wcm90b3R5cGUsIFsgXCJnZW9tZXRyeVwiIF0pO1xuXG5leHBvcnQgZGVmYXVsdCBBcmM7IiwiaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tZXRyeS9wb2ludCc7XG5pbXBvcnQgUmVjdCBmcm9tICcuLi9nZW9tZXRyeS9yZWN0JztcbmltcG9ydCB0b01hdHJpeCBmcm9tICcuLi9nZW9tZXRyeS90by1tYXRyaXgnO1xuaW1wb3J0IFBhaW50YWJsZSBmcm9tICcuLi9taXhpbnMvcGFpbnRhYmxlJztcbmltcG9ydCBkZWZpbmVQb2ludEFjY2Vzc29ycyBmcm9tICcuLi9hY2Nlc3NvcnMvZGVmaW5lLXBvaW50LWFjY2Vzc29ycyc7XG5pbXBvcnQgeyBkZWZpbmVkLCBtZWFzdXJlVGV4dCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBERUZBVUxUX0ZPTlQgPSBcIjEycHggc2Fucy1zZXJpZlwiO1xuY29uc3QgREVGQVVMVF9GSUxMID0gXCIjMDAwXCI7XG5cbmNsYXNzIFRleHQgZXh0ZW5kcyBFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRlbnQsIHBvc2l0aW9uID0gbmV3IFBvaW50KCksIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNvbnRlbnQoY29udGVudCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24ocG9zaXRpb24pO1xuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmZvbnQpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5mb250ID0gREVGQVVMVF9GT05UO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHRoaXMub3B0aW9ucy5maWxsKSkge1xuICAgICAgICAgICAgdGhpcy5maWxsKERFRkFVTFRfRklMTCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZW50KHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChcImNvbnRlbnRcIiwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmdldChcImNvbnRlbnRcIik7XG4gICAgfVxuXG4gICAgbWVhc3VyZSgpIHtcbiAgICAgICAgY29uc3QgbWV0cmljcyA9IG1lYXN1cmVUZXh0KHRoaXMuY29udGVudCgpLCB7XG4gICAgICAgICAgICBmb250OiB0aGlzLm9wdGlvbnMuZ2V0KFwiZm9udFwiKVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbWV0cmljcztcbiAgICB9XG5cbiAgICByZWN0KCkge1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5tZWFzdXJlKCk7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zaXRpb24oKS5jbG9uZSgpO1xuICAgICAgICByZXR1cm4gbmV3IFJlY3QocG9zLCBbIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0IF0pO1xuICAgIH1cblxuICAgIGJib3godHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgY29uc3QgY29tYmluZWRNYXRyaXggPSB0b01hdHJpeCh0aGlzLmN1cnJlbnRUcmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdCgpLmJib3goY29tYmluZWRNYXRyaXgpO1xuICAgIH1cblxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlY3QoKS5iYm94KCk7XG4gICAgfVxuXG4gICAgX2NvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdCgpLmNvbnRhaW5zUG9pbnQocG9pbnQpO1xuICAgIH1cbn1cblxuVGV4dC5wcm90b3R5cGUubm9kZVR5cGUgPSBcIlRleHRcIjtcblxuUGFpbnRhYmxlLmV4dGVuZChUZXh0LnByb3RvdHlwZSk7XG5cbmRlZmluZVBvaW50QWNjZXNzb3JzKFRleHQucHJvdG90eXBlLCBbIFwicG9zaXRpb25cIiBdKTtcblxuZXhwb3J0IGRlZmF1bHQgVGV4dDsiLCJpbXBvcnQgZGVmaW5lR2VvbWV0cnlBY2Nlc3NvcnMgZnJvbSAnLi4vYWNjZXNzb3JzL2RlZmluZS1nZW9tZXRyeS1hY2Nlc3NvcnMnO1xuaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCBSZWN0IGZyb20gJy4uL2dlb21ldHJ5L3JlY3QnO1xuaW1wb3J0IHRvTWF0cml4IGZyb20gJy4uL2dlb21ldHJ5L3RvLW1hdHJpeCc7XG5pbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNsYXNzIEltYWdlIGV4dGVuZHMgRWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihzcmMsIHJlY3QgPSBuZXcgUmVjdCgpLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5zcmMoc3JjKTtcbiAgICAgICAgdGhpcy5yZWN0KHJlY3QpO1xuICAgIH1cblxuICAgIHNyYyh2YWx1ZSkge1xuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZXQoXCJzcmNcIiwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmdldChcInNyY1wiKTtcbiAgICB9XG5cbiAgICBiYm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkTWF0cml4ID0gdG9NYXRyaXgodGhpcy5jdXJyZW50VHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWN0LmJib3goY29tYmluZWRNYXRyaXgpO1xuICAgIH1cblxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWN0LmJib3goKTtcbiAgICB9XG5cbiAgICBfY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVjdC5jb250YWluc1BvaW50KHBvaW50KTtcbiAgICB9XG5cbiAgICBfaGFzRmlsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjKCk7XG4gICAgfVxufVxuXG5JbWFnZS5wcm90b3R5cGUubm9kZVR5cGUgPSBcIkltYWdlXCI7XG5cbmRlZmluZUdlb21ldHJ5QWNjZXNzb3JzKEltYWdlLnByb3RvdHlwZSwgWyBcInJlY3RcIiBdKTtcblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2U7IiwiXG5jb25zdCBUcmF2ZXJzYWJsZSA9IHtcbiAgICBleHRlbmQ6IGZ1bmN0aW9uKHByb3RvLCBjaGlsZHJlbkZpZWxkKSB7XG4gICAgICAgIHByb3RvLnRyYXZlcnNlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpc1tjaGlsZHJlbkZpZWxkXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnRyYXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnRyYXZlcnNlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmF2ZXJzYWJsZTsiLCJpbXBvcnQgRWxlbWVudCBmcm9tICcuL2VsZW1lbnQnO1xuaW1wb3J0IFRyYXZlcnNhYmxlIGZyb20gJy4uL21peGlucy90cmF2ZXJzYWJsZSc7XG5pbXBvcnQgeyBhcHBlbmQgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBlbGVtZW50c0JvdW5kaW5nQm94IGZyb20gJy4vdXRpbHMvZWxlbWVudHMtYm91bmRpbmctYm94JztcbmltcG9ydCBlbGVtZW50c0NsaXBwZWRCb3VuZGluZ0JveCBmcm9tICcuL3V0aWxzL2VsZW1lbnRzLWNsaXBwZW5kLWJvdW5kaW5nLWJveCc7XG5cbmNsYXNzIEdyb3VwIGV4dGVuZHMgRWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgfVxuXG4gICAgY2hpbGRyZW5DaGFuZ2UoYWN0aW9uLCBpdGVtcywgaW5kZXgpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKFwiY2hpbGRyZW5DaGFuZ2VcIix7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhcHBlbmQoKSB7XG4gICAgICAgIGFwcGVuZCh0aGlzLmNoaWxkcmVuLCBhcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9yZXBhcmVudChhcmd1bWVudHMsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW5DaGFuZ2UoXCJhZGRcIiwgYXJndW1lbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpbnNlcnQoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LnBhcmVudCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbkNoYW5nZShcImFkZFwiLCBbIGVsZW1lbnQgXSwgaW5kZXgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGluc2VydEF0KGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydChpbmRleCwgZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoZWxlbWVudCk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuQ2hhbmdlKFwicmVtb3ZlXCIsIFsgZWxlbWVudCBdLCBpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZW1vdmVBdChpbmRleCkge1xuICAgICAgICBpZiAoMCA8PSBpbmRleCAmJiBpbmRleCA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbkNoYW5nZShcInJlbW92ZVwiLCBbIGVsZW1lbnQgXSwgaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLl9yZXBhcmVudChpdGVtcywgbnVsbCk7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbkNoYW5nZShcInJlbW92ZVwiLCBpdGVtcywgMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYmJveCh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICByZXR1cm4gZWxlbWVudHNCb3VuZGluZ0JveCh0aGlzLmNoaWxkcmVuLCB0cnVlLCB0aGlzLmN1cnJlbnRUcmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pKTtcbiAgICB9XG5cbiAgICByYXdCQm94KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudHNCb3VuZGluZ0JveCh0aGlzLmNoaWxkcmVuLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX2NsaXBwZWRCQm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50c0NsaXBwZWRCb3VuZGluZ0JveCh0aGlzLmNoaWxkcmVuLCB0aGlzLmN1cnJlbnRUcmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pKTtcbiAgICB9XG5cbiAgICBjdXJyZW50VHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIHJldHVybiBFbGVtZW50LnByb3RvdHlwZS5jdXJyZW50VHJhbnNmb3JtLmNhbGwodGhpcywgdHJhbnNmb3JtYXRpb24pIHx8IG51bGw7XG4gICAgfVxuXG4gICAgY29udGFpbnNQb2ludChwb2ludCwgcGFyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUoKSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5jdXJyZW50VHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjaGlsZHJlbi5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2lkeF0uY29udGFpbnNQb2ludChwb2ludCwgdHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9yZXBhcmVudChlbGVtZW50cywgbmV3UGFyZW50KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudCAhPT0gdGhpcyAmJiBwYXJlbnQucmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG5ld1BhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuR3JvdXAucHJvdG90eXBlLm5vZGVUeXBlID0gXCJHcm91cFwiO1xuXG5UcmF2ZXJzYWJsZS5leHRlbmQoR3JvdXAucHJvdG90eXBlLCBcImNoaWxkcmVuXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBHcm91cDsiLCJpbXBvcnQgY3JlYXRlVHJhbnNmb3JtIGZyb20gJy4uL2dlb21ldHJ5L3RyYW5zZm9ybSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zbGF0ZVRvUG9pbnQocG9pbnQsIGJib3gsIGVsZW1lbnQpIHtcbiAgICBjb25zdCB0cmFuc29mcm0gPSBlbGVtZW50LnRyYW5zZm9ybSgpIHx8IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgIGNvbnN0IG1hdHJpeCA9IHRyYW5zb2ZybS5tYXRyaXgoKTtcbiAgICBtYXRyaXguZSArPSBwb2ludC54IC0gYmJveC5vcmlnaW4ueDtcbiAgICBtYXRyaXguZiArPSBwb2ludC55IC0gYmJveC5vcmlnaW4ueTtcblxuICAgIHRyYW5zb2ZybS5tYXRyaXgobWF0cml4KTtcbiAgICBlbGVtZW50LnRyYW5zZm9ybSh0cmFuc29mcm0pO1xufSIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxpZ25TdGFydChzaXplLCByZWN0LCBhbGlnbiwgYXhpcywgc2l6ZUZpZWxkKSB7XG4gICAgbGV0IHN0YXJ0O1xuICAgIGlmIChhbGlnbiA9PT0gXCJzdGFydFwiKSB7XG4gICAgICAgIHN0YXJ0ID0gcmVjdC5vcmlnaW5bYXhpc107XG4gICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gXCJlbmRcIikge1xuICAgICAgICBzdGFydCA9IHJlY3Qub3JpZ2luW2F4aXNdICsgcmVjdC5zaXplW3NpemVGaWVsZF0gLSBzaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gcmVjdC5vcmlnaW5bYXhpc10gKyAocmVjdC5zaXplW3NpemVGaWVsZF0gLSBzaXplKSAvIDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXJ0O1xufSIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxpZ25TdGFydFJldmVyc2Uoc2l6ZSwgcmVjdCwgYWxpZ24sIGF4aXMsIHNpemVGaWVsZCkge1xuICAgIGxldCBzdGFydDtcbiAgICBpZiAoYWxpZ24gPT09IFwic3RhcnRcIikge1xuICAgICAgICBzdGFydCA9IHJlY3Qub3JpZ2luW2F4aXNdICsgcmVjdC5zaXplW3NpemVGaWVsZF0gLSBzaXplO1xuICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09IFwiZW5kXCIpIHtcbiAgICAgICAgc3RhcnQgPSByZWN0Lm9yaWdpbltheGlzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCA9IHJlY3Qub3JpZ2luW2F4aXNdICsgKHJlY3Quc2l6ZVtzaXplRmllbGRdIC0gc2l6ZSkgLyAyO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFydDtcbn0iLCJpbXBvcnQgR3JvdXAgZnJvbSAnLi9ncm91cCc7XG5pbXBvcnQgU2l6ZSBmcm9tICcuLi9nZW9tZXRyeS9zaXplJztcbmltcG9ydCBSZWN0IGZyb20gJy4uL2dlb21ldHJ5L3JlY3QnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4uL2dlb21ldHJ5L3BvaW50JztcbmltcG9ydCBjcmVhdGVUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvbWV0cnkvdHJhbnNmb3JtJztcbmltcG9ydCB0cmFuc2xhdGVUb1BvaW50IGZyb20gJy4uL2FsaWdubWVudC90cmFuc2xhdGUtdG8tcG9pbnQnO1xuaW1wb3J0IGFsaWduU3RhcnQgZnJvbSAnLi4vYWxpZ25tZW50L2FsaWduLXN0YXJ0JztcbmltcG9ydCBhbGlnblN0YXJ0UmV2ZXJzZSBmcm9tICcuLi9hbGlnbm1lbnQvYWxpZ24tc3RhcnQtcmV2ZXJzZSc7XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBhbGlnbkNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgIGFsaWduSXRlbXM6IFwic3RhcnRcIixcbiAgICBzcGFjaW5nOiAwLFxuICAgIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIixcbiAgICBsaW5lU3BhY2luZzogMCxcbiAgICB3cmFwOiB0cnVlLFxuICAgIHJldmVyczogZmFsc2Vcbn07XG5cbmNvbnN0IGZvckVhY2ggPSAoZWxlbWVudHMsIGNhbGxiYWNrKSA9PiB7XG4gICAgZWxlbWVudHMuZm9yRWFjaChjYWxsYmFjayk7XG59O1xuXG5jb25zdCBmb3JFYWNoUmV2ZXJzZSA9IChlbGVtZW50cywgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpZHggPSBsZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgY2FsbGJhY2soZWxlbWVudHNbaWR4XSwgaWR4KTtcbiAgICB9XG59O1xuXG5jbGFzcyBMYXlvdXQgZXh0ZW5kcyBHcm91cCB7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUywgb3B0aW9ucykpO1xuICAgICAgICB0aGlzLl9yZWN0ID0gcmVjdDtcbiAgICAgICAgdGhpcy5fZmllbGRNYXAgPSB7fTtcbiAgICB9XG5cbiAgICByZWN0KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdCA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjdDtcbiAgICB9XG5cbiAgICBfaW5pdE1hcCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZmllbGRNYXAgPSB0aGlzLl9maWVsZE1hcDtcbiAgICAgICAgaWYgKG9wdGlvbnMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICAgICAgICBmaWVsZE1hcC5zaXplRmllbGQgPSBcIndpZHRoXCI7XG4gICAgICAgICAgICBmaWVsZE1hcC5ncm91cHNTaXplRmllbGQgPSBcImhlaWdodFwiO1xuICAgICAgICAgICAgZmllbGRNYXAuZ3JvdXBBeGlzID0gXCJ4XCI7XG4gICAgICAgICAgICBmaWVsZE1hcC5ncm91cHNBeGlzID0gXCJ5XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZE1hcC5zaXplRmllbGQgPSBcImhlaWdodFwiO1xuICAgICAgICAgICAgZmllbGRNYXAuZ3JvdXBzU2l6ZUZpZWxkID0gXCJ3aWR0aFwiO1xuICAgICAgICAgICAgZmllbGRNYXAuZ3JvdXBBeGlzID0gXCJ5XCI7XG4gICAgICAgICAgICBmaWVsZE1hcC5ncm91cHNBeGlzID0gXCJ4XCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICB0aGlzLmZvckVhY2ggPSBmb3JFYWNoUmV2ZXJzZTtcbiAgICAgICAgICAgIHRoaXMuanVzdGlmeUFsaWduID0gYWxpZ25TdGFydFJldmVyc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgICAgICAgICAgdGhpcy5qdXN0aWZ5QWxpZ24gPSBhbGlnblN0YXJ0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlY3QgfHwgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0TWFwKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuX3JlY3Q7XG4gICAgICAgIGNvbnN0IHsgZ3JvdXBzLCBncm91cHNTaXplIH0gPSB0aGlzLl9pbml0R3JvdXBzKCk7XG4gICAgICAgIGNvbnN0IHsgc2l6ZUZpZWxkLCBncm91cHNTaXplRmllbGQsIGdyb3VwQXhpcywgZ3JvdXBzQXhpcyB9ID0gdGhpcy5fZmllbGRNYXA7XG4gICAgICAgIGNvbnN0IGdyb3VwT3JpZ2luID0gbmV3IFBvaW50KCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRPcmlnaW4gPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG5ldyBTaXplKCk7XG4gICAgICAgIGxldCBncm91cFN0YXJ0ID0gYWxpZ25TdGFydChncm91cHNTaXplLCByZWN0LCBvcHRpb25zLmFsaWduQ29udGVudCwgZ3JvdXBzQXhpcywgZ3JvdXBzU2l6ZUZpZWxkKTtcbiAgICAgICAgbGV0IGVsZW1lbnRTdGFydCwgZ3JvdXAsIGdyb3VwQm94O1xuXG4gICAgICAgIGNvbnN0IGFycmFuZ2VFbGVtZW50cyA9IChiYm94LCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBncm91cC5lbGVtZW50c1tpZHhdO1xuXG4gICAgICAgICAgICBlbGVtZW50T3JpZ2luW2dyb3VwQXhpc10gPSBlbGVtZW50U3RhcnQ7XG4gICAgICAgICAgICBlbGVtZW50T3JpZ2luW2dyb3Vwc0F4aXNdID0gYWxpZ25TdGFydChiYm94LnNpemVbZ3JvdXBzU2l6ZUZpZWxkXSwgZ3JvdXBCb3gsIG9wdGlvbnMuYWxpZ25JdGVtcywgZ3JvdXBzQXhpcywgZ3JvdXBzU2l6ZUZpZWxkKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZVRvUG9pbnQoZWxlbWVudE9yaWdpbiwgYmJveCwgZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50U3RhcnQgKz0gYmJveC5zaXplW3NpemVGaWVsZF0gKyBvcHRpb25zLnNwYWNpbmc7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgZ3JvdXBJZHggPSAwOyBncm91cElkeCA8IGdyb3Vwcy5sZW5ndGg7IGdyb3VwSWR4KyspIHtcbiAgICAgICAgICAgIGdyb3VwID0gZ3JvdXBzW2dyb3VwSWR4XTtcbiAgICAgICAgICAgIGdyb3VwT3JpZ2luW2dyb3VwQXhpc10gPSBlbGVtZW50U3RhcnQgPSB0aGlzLmp1c3RpZnlBbGlnbihncm91cC5zaXplLCByZWN0LCBvcHRpb25zLmp1c3RpZnlDb250ZW50LCBncm91cEF4aXMsIHNpemVGaWVsZCk7XG4gICAgICAgICAgICBncm91cE9yaWdpbltncm91cHNBeGlzXSA9IGdyb3VwU3RhcnQ7XG4gICAgICAgICAgICBzaXplW3NpemVGaWVsZF0gPSBncm91cC5zaXplO1xuICAgICAgICAgICAgc2l6ZVtncm91cHNTaXplRmllbGRdID0gZ3JvdXAubGluZVNpemU7XG4gICAgICAgICAgICBncm91cEJveCA9IG5ldyBSZWN0KGdyb3VwT3JpZ2luLCBzaXplKTtcbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaChncm91cC5iYm94ZXMsIGFycmFuZ2VFbGVtZW50cyk7XG5cbiAgICAgICAgICAgIGdyb3VwU3RhcnQgKz0gZ3JvdXAubGluZVNpemUgKyBvcHRpb25zLmxpbmVTcGFjaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLndyYXAgJiYgZ3JvdXAuc2l6ZSA+IHJlY3Quc2l6ZVtzaXplRmllbGRdKSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IHJlY3Quc2l6ZVtzaXplRmllbGRdIC8gZ3JvdXBCb3guc2l6ZVtzaXplRmllbGRdO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVkU3RhcnQgPSBncm91cEJveC50b3BMZWZ0KCkuc2NhbGUoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFNpemUgPSBncm91cEJveC5zaXplW2dyb3Vwc1NpemVGaWVsZF0gKiBzY2FsZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXJ0ID0gYWxpZ25TdGFydChzY2FsZWRTaXplLCByZWN0LCBvcHRpb25zLmFsaWduQ29udGVudCwgZ3JvdXBzQXhpcywgZ3JvdXBzU2l6ZUZpZWxkKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgaWYgKGdyb3VwQXhpcyA9PT0gXCJ4XCIpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udHJhbnNsYXRlKHJlY3Qub3JpZ2luLnggLSBzY2FsZWRTdGFydC54LCBuZXdTdGFydCAtIHNjYWxlZFN0YXJ0LnkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udHJhbnNsYXRlKG5ld1N0YXJ0IC0gc2NhbGVkU3RhcnQueCwgcmVjdC5vcmlnaW4ueSAtIHNjYWxlZFN0YXJ0LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxlKHNjYWxlLCBzY2FsZSk7XG5cbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdEdyb3VwcygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjaGlsZHJlbiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBsaW5lU3BhY2luZywgd3JhcCwgc3BhY2luZyB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2l6ZUZpZWxkID0gdGhpcy5fZmllbGRNYXAuc2l6ZUZpZWxkO1xuICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLl9uZXdHcm91cCgpO1xuICAgICAgICBjb25zdCBncm91cHMgPSBbXTtcbiAgICAgICAgY29uc3QgYWRkR3JvdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKGdyb3VwKTtcbiAgICAgICAgICAgIGdyb3Vwc1NpemUgKz0gZ3JvdXAubGluZVNpemUgKyBsaW5lU3BhY2luZztcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGdyb3Vwc1NpemUgPSAtbGluZVNwYWNpbmc7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2hpbGRyZW4ubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBjaGlsZHJlbltpZHhdO1xuICAgICAgICAgICAgbGV0IGJib3ggPSBjaGlsZHJlbltpZHhdLmNsaXBwZWRCQm94KCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC52aXNpYmxlKCkgJiYgYmJveCkge1xuICAgICAgICAgICAgICAgIGlmICh3cmFwICYmIGdyb3VwLnNpemUgKyBiYm94LnNpemVbc2l6ZUZpZWxkXSArIHNwYWNpbmcgPiB0aGlzLl9yZWN0LnNpemVbc2l6ZUZpZWxkXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXAuYmJveGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVG9Hcm91cChncm91cCwgYmJveCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRHcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAgPSB0aGlzLl9uZXdHcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkR3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwID0gdGhpcy5fbmV3R3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRvR3JvdXAoZ3JvdXAsIGJib3gsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVG9Hcm91cChncm91cCwgYmJveCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdyb3VwLmJib3hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZEdyb3VwKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ3JvdXBzOiBncm91cHMsXG4gICAgICAgICAgICBncm91cHNTaXplOiBncm91cHNTaXplXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2FkZFRvR3JvdXAoZ3JvdXAsIGJib3gsIGVsZW1lbnQpIHtcbiAgICAgICAgZ3JvdXAuc2l6ZSArPSBiYm94LnNpemVbdGhpcy5fZmllbGRNYXAuc2l6ZUZpZWxkXSArIHRoaXMub3B0aW9ucy5zcGFjaW5nO1xuICAgICAgICBncm91cC5saW5lU2l6ZSA9IE1hdGgubWF4KGJib3guc2l6ZVt0aGlzLl9maWVsZE1hcC5ncm91cHNTaXplRmllbGRdLCBncm91cC5saW5lU2l6ZSk7XG4gICAgICAgIGdyb3VwLmJib3hlcy5wdXNoKGJib3gpO1xuICAgICAgICBncm91cC5lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIF9uZXdHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpbmVTaXplOiAwLFxuICAgICAgICAgICAgc2l6ZTogLXRoaXMub3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgYmJveGVzOiBbXSxcbiAgICAgICAgICAgIGVsZW1lbnRzOiBbXVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF5b3V0OyIsImltcG9ydCBkZWZpbmVHZW9tZXRyeUFjY2Vzc29ycyBmcm9tICcuLi9hY2Nlc3NvcnMvZGVmaW5lLWdlb21ldHJ5LWFjY2Vzc29ycyc7XG5pbXBvcnQgRWxlbWVudCBmcm9tICcuL2VsZW1lbnQnO1xuaW1wb3J0IFBhaW50YWJsZSBmcm9tICcuLi9taXhpbnMvcGFpbnRhYmxlJztcbmltcG9ydCBNZWFzdXJhYmxlIGZyb20gJy4uL21peGlucy9tZWFzdXJhYmxlJztcbmltcG9ydCBHZW9tZXRyeVJlY3QgZnJvbSAnLi4vZ2VvbWV0cnkvcmVjdCc7XG5pbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNsYXNzIFJlY3QgZXh0ZW5kcyBFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5UmVjdCgpLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkoZ2VvbWV0cnkpO1xuXG4gICAgICAgIGlmICghZGVmaW5lZCh0aGlzLm9wdGlvbnMuc3Ryb2tlKSkge1xuICAgICAgICAgICAgdGhpcy5zdHJva2UoXCIjMDAwXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2Jib3gobWF0cml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeS5iYm94KG1hdHJpeCk7XG4gICAgfVxuXG4gICAgcmF3QkJveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5LmJib3goKTtcbiAgICB9XG5cbiAgICBfY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuY29udGFpbnNQb2ludChwb2ludCk7XG4gICAgfVxuXG4gICAgX2lzT25QYXRoKHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5KCkuX2lzT25QYXRoKHBvaW50LCB0aGlzLm9wdGlvbnMuc3Ryb2tlLndpZHRoIC8gMik7XG4gICAgfVxufVxuXG5SZWN0LnByb3RvdHlwZS5ub2RlVHlwZSA9IFwiUmVjdFwiO1xuXG5QYWludGFibGUuZXh0ZW5kKFJlY3QucHJvdG90eXBlKTtcbk1lYXN1cmFibGUuZXh0ZW5kKFJlY3QucHJvdG90eXBlKTtcbmRlZmluZUdlb21ldHJ5QWNjZXNzb3JzKFJlY3QucHJvdG90eXBlLCBbIFwiZ2VvbWV0cnlcIiBdKTtcblxuZXhwb3J0IGRlZmF1bHQgUmVjdDtcblxuIiwiaW1wb3J0IHRyYW5zbGF0ZVRvUG9pbnQgZnJvbSAnLi90cmFuc2xhdGUtdG8tcG9pbnQnO1xuaW1wb3J0IGFsaWduU3RhcnQgZnJvbSAnLi9hbGlnbi1zdGFydCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFsaWduRWxlbWVudHMoZWxlbWVudHMsIHJlY3QsIGFsaWdubWVudCwgYXhpcywgc2l6ZUZpZWxkKSB7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBiYm94ID0gZWxlbWVudHNbaWR4XS5jbGlwcGVkQkJveCgpO1xuICAgICAgICBpZiAoYmJveCkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBiYm94Lm9yaWdpbi5jbG9uZSgpO1xuICAgICAgICAgICAgcG9pbnRbYXhpc10gPSBhbGlnblN0YXJ0KGJib3guc2l6ZVtzaXplRmllbGRdLCByZWN0LCBhbGlnbm1lbnQgfHwgXCJzdGFydFwiLCBheGlzLCBzaXplRmllbGQpO1xuICAgICAgICAgICAgdHJhbnNsYXRlVG9Qb2ludChwb2ludCwgYmJveCwgZWxlbWVudHNbaWR4XSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiXG5pbXBvcnQgYWxpZ25FbGVtZW50cyBmcm9tICcuL2FsaWduLWVsZW1lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxpZ24oZWxlbWVudHMsIHJlY3QsIGFsaWdubWVudCkge1xuICAgIGFsaWduRWxlbWVudHMoZWxlbWVudHMsIHJlY3QsIGFsaWdubWVudCwgXCJ4XCIsIFwid2lkdGhcIik7XG59IiwiaW1wb3J0IGFsaWduRWxlbWVudHMgZnJvbSAnLi9hbGlnbi1lbGVtZW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZBbGlnbihlbGVtZW50cywgcmVjdCwgYWxpZ25tZW50KSB7XG4gICAgYWxpZ25FbGVtZW50cyhlbGVtZW50cywgcmVjdCwgYWxpZ25tZW50LCBcInlcIiwgXCJoZWlnaHRcIik7XG59IiwiaW1wb3J0IFBvaW50IGZyb20gJy4uL2dlb21ldHJ5L3BvaW50JztcbmltcG9ydCB0cmFuc2xhdGVUb1BvaW50IGZyb20gJy4vdHJhbnNsYXRlLXRvLXBvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhY2tFbGVtZW50cyhlbGVtZW50cywgc3RhY2tBeGlzLCBvdGhlckF4aXMsIHNpemVGaWVsZCkge1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IG5ldyBQb2ludCgpO1xuICAgICAgICBsZXQgcHJldmlvdXNCQm94ID0gZWxlbWVudHNbMF0uYmJveDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAxOyBpZHggPCBlbGVtZW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IGVsZW1lbnRzW2lkeF0uZWxlbWVudDtcbiAgICAgICAgICAgIGxldCBiYm94ID0gZWxlbWVudHNbaWR4XS5iYm94O1xuICAgICAgICAgICAgb3JpZ2luW3N0YWNrQXhpc10gPSBwcmV2aW91c0JCb3gub3JpZ2luW3N0YWNrQXhpc10gKyBwcmV2aW91c0JCb3guc2l6ZVtzaXplRmllbGRdO1xuICAgICAgICAgICAgb3JpZ2luW290aGVyQXhpc10gPSBiYm94Lm9yaWdpbltvdGhlckF4aXNdO1xuICAgICAgICAgICAgdHJhbnNsYXRlVG9Qb2ludChvcmlnaW4sIGJib3gsIGVsZW1lbnQpO1xuICAgICAgICAgICAgYmJveC5vcmlnaW5bc3RhY2tBeGlzXSA9IG9yaWdpbltzdGFja0F4aXNdO1xuICAgICAgICAgICAgcHJldmlvdXNCQm94ID0gYmJveDtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTdGFja0VsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgY29uc3Qgc3RhY2tFbGVtZW50cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGVsZW1lbnRzW2lkeF07XG4gICAgICAgIGxldCBiYm94ID0gZWxlbWVudC5jbGlwcGVkQkJveCgpO1xuICAgICAgICBpZiAoYmJveCkge1xuICAgICAgICAgICAgc3RhY2tFbGVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGJib3g6IGJib3hcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YWNrRWxlbWVudHM7XG59IiwiaW1wb3J0IHN0YWNrRWxlbWVudHMgZnJvbSAnLi9zdGFjay1lbGVtZW50cyc7XG5pbXBvcnQgY3JlYXRlU3RhY2tFbGVtZW50cyBmcm9tICcuL2NyZWF0ZS1zdGFjay1lbGVtZW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YWNrKGVsZW1lbnRzKSB7XG4gICAgc3RhY2tFbGVtZW50cyhjcmVhdGVTdGFja0VsZW1lbnRzKGVsZW1lbnRzKSwgXCJ4XCIsIFwieVwiLCBcIndpZHRoXCIpO1xufSIsImltcG9ydCBzdGFja0VsZW1lbnRzIGZyb20gJy4vc3RhY2stZWxlbWVudHMnO1xuaW1wb3J0IGNyZWF0ZVN0YWNrRWxlbWVudHMgZnJvbSAnLi9jcmVhdGUtc3RhY2stZWxlbWVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2U3RhY2soZWxlbWVudHMpIHtcbiAgICBzdGFja0VsZW1lbnRzKGNyZWF0ZVN0YWNrRWxlbWVudHMoZWxlbWVudHMpLCBcInlcIiwgXCJ4XCIsIFwiaGVpZ2h0XCIpO1xufSIsImltcG9ydCB0cmFuc2xhdGVUb1BvaW50IGZyb20gJy4vdHJhbnNsYXRlLXRvLXBvaW50JztcbmltcG9ydCBzdGFja0VsZW1lbnRzIGZyb20gJy4vc3RhY2stZWxlbWVudHMnO1xuXG5mdW5jdGlvbiBnZXRTdGFja3MoZWxlbWVudHMsIHJlY3QsIHNpemVGaWVsZCkge1xuICAgIGNvbnN0IG1heFNpemUgPSByZWN0LnNpemVbc2l6ZUZpZWxkXTtcbiAgICBjb25zdCBzdGFja3MgPSBbXTtcbiAgICBsZXQgc3RhY2sgPSBbXTtcbiAgICBsZXQgc3RhY2tTaXplID0gMDtcbiAgICBsZXQgZWxlbWVudCwgYmJveDtcblxuICAgIGNvbnN0IGFkZEVsZW1lbnRUb1N0YWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgIGJib3g6IGJib3hcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVsZW1lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2lkeF07XG5cbiAgICAgICAgYmJveCA9IGVsZW1lbnQuY2xpcHBlZEJCb3goKTtcbiAgICAgICAgaWYgKGJib3gpIHtcbiAgICAgICAgICAgIGxldCBzaXplID0gYmJveC5zaXplW3NpemVGaWVsZF07XG4gICAgICAgICAgICBpZiAoc3RhY2tTaXplICsgc2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrcy5wdXNoKHN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgYWRkRWxlbWVudFRvU3RhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tTaXplID0gc2l6ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRFbGVtZW50VG9TdGFjaygpO1xuICAgICAgICAgICAgICAgICAgICBzdGFja3MucHVzaChzdGFjayk7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gW107XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRFbGVtZW50VG9TdGFjaygpO1xuICAgICAgICAgICAgICAgIHN0YWNrU2l6ZSArPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICBzdGFja3MucHVzaChzdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YWNrcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd3JhcEVsZW1lbnRzKGVsZW1lbnRzLCByZWN0LCBheGlzLCBvdGhlckF4aXMsIHNpemVGaWVsZCkge1xuICAgIGNvbnN0IHN0YWNrcyA9IGdldFN0YWNrcyhlbGVtZW50cywgcmVjdCwgc2l6ZUZpZWxkKTtcbiAgICBjb25zdCBvcmlnaW4gPSByZWN0Lm9yaWdpbi5jbG9uZSgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc3RhY2tzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgbGV0IHN0YWNrID0gc3RhY2tzW2lkeF07XG4gICAgICAgIGxldCBzdGFydEVsZW1lbnQgPSBzdGFja1swXTtcbiAgICAgICAgb3JpZ2luW290aGVyQXhpc10gPSBzdGFydEVsZW1lbnQuYmJveC5vcmlnaW5bb3RoZXJBeGlzXTtcbiAgICAgICAgdHJhbnNsYXRlVG9Qb2ludChvcmlnaW4sIHN0YXJ0RWxlbWVudC5iYm94LCBzdGFydEVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIHN0YXJ0RWxlbWVudC5iYm94Lm9yaWdpbltheGlzXSA9IG9yaWdpbltheGlzXTtcbiAgICAgICAgc3RhY2tFbGVtZW50cyhzdGFjaywgYXhpcywgb3RoZXJBeGlzLCBzaXplRmllbGQpO1xuICAgICAgICByZXN1bHQucHVzaChbXSk7XG4gICAgICAgIGZvciAobGV0IGVsZW1lbnRJZHggPSAwOyBlbGVtZW50SWR4IDwgc3RhY2subGVuZ3RoOyBlbGVtZW50SWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtpZHhdLnB1c2goc3RhY2tbZWxlbWVudElkeF0uZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgd3JhcEVsZW1lbnRzIGZyb20gJy4vd3JhcC1lbGVtZW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdyYXAoZWxlbWVudHMsIHJlY3QpIHtcbiAgICByZXR1cm4gd3JhcEVsZW1lbnRzKGVsZW1lbnRzLCByZWN0LCBcInhcIiwgXCJ5XCIsIFwid2lkdGhcIik7XG59IiwiaW1wb3J0IHdyYXBFbGVtZW50cyBmcm9tICcuL3dyYXAtZWxlbWVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2V3JhcChlbGVtZW50cywgcmVjdCkge1xuICAgIHJldHVybiB3cmFwRWxlbWVudHMoZWxlbWVudHMsIHJlY3QsIFwieVwiLCBcInhcIiwgXCJoZWlnaHRcIik7XG59IiwiaW1wb3J0IGNyZWF0ZVRyYW5zZm9ybSBmcm9tICcuLi9nZW9tZXRyeS90cmFuc2Zvcm0nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaXQoZWxlbWVudCwgcmVjdCkge1xuICAgIGNvbnN0IGJib3ggPSBlbGVtZW50LmNsaXBwZWRCQm94KCk7XG4gICAgaWYgKGJib3gpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudFNpemUgPSBiYm94LnNpemU7XG4gICAgICAgIGNvbnN0IHJlY3RTaXplID0gcmVjdC5zaXplO1xuICAgICAgICBpZiAocmVjdFNpemUud2lkdGggPCBlbGVtZW50U2l6ZS53aWR0aCB8fCByZWN0U2l6ZS5oZWlnaHQgPCBlbGVtZW50U2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4ocmVjdFNpemUud2lkdGggLyBlbGVtZW50U2l6ZS53aWR0aCwgcmVjdFNpemUuaGVpZ2h0IC8gZWxlbWVudFNpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGVsZW1lbnQudHJhbnNmb3JtKCkgfHwgY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2NhbGUoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgICAgIGVsZW1lbnQudHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IEVsZW1lbnRzQXJyYXkgZnJvbSAnLi4vc2hhcGVzL2VsZW1lbnRzLWFycmF5JztcblxuY2xhc3MgU3RvcHNBcnJheSBleHRlbmRzIEVsZW1lbnRzQXJyYXkge1xuICAgIF9jaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc0NoYW5nZSh7XG4gICAgICAgICAgICBmaWVsZDogXCJzdG9wc1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RvcHNBcnJheTsiLCJpbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmZ1bmN0aW9uIG9wdGlvbnNBY2Nlc3NvcihuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ2V0KG5hbWUpO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmluZU9wdGlvbnNBY2Nlc3NvcnMoZm4sIG5hbWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbltuYW1lc1tpXV0gPSBvcHRpb25zQWNjZXNzb3IobmFtZXNbaV0pO1xuICAgIH1cbn0iLCJpbXBvcnQgZGVmaW5lT3B0aW9uc0FjY2Vzc29ycyBmcm9tICcuLi9hY2Nlc3NvcnMvZGVmaW5lLW9wdGlvbnMtYWNjZXNzb3JzJztcbmltcG9ydCBPcHRpb25zU3RvcmUgZnJvbSAnLi4vY29yZS9vcHRpb25zLXN0b3JlJztcbmltcG9ydCBPYnNlcnZlcnNNaXhpbiBmcm9tICcuLi9taXhpbnMvb2JzZXJ2ZXJzLW1peGluJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi91dGlsJztcblxuY2xhc3MgR3JhZGllbnRTdG9wIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKG9mZnNldCwgY29sb3IsIG9wYWNpdHkpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBuZXcgT3B0aW9uc1N0b3JlKHtcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgb3BhY2l0eTogZGVmaW5lZChvcGFjaXR5KSA/IG9wYWNpdHkgOiAxXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wdGlvbnMuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShhcmcpIHtcbiAgICAgICAgaWYgKGRlZmluZWQoYXJnKSkge1xuICAgICAgICAgICAgbGV0IHN0b3A7XG4gICAgICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgR3JhZGllbnRTdG9wKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGFyZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJnLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gbmV3IEdyYWRpZW50U3RvcChhcmdbMF0sIGFyZ1sxXSwgYXJnWzJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IG5ldyBHcmFkaWVudFN0b3AoYXJnLm9mZnNldCwgYXJnLmNvbG9yLCBhcmcub3BhY2l0eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdG9wO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5kZWZpbmVPcHRpb25zQWNjZXNzb3JzKEdyYWRpZW50U3RvcC5wcm90b3R5cGUsIFsgXCJvZmZzZXRcIiwgXCJjb2xvclwiLCBcIm9wYWNpdHlcIiBdKTtcbk9ic2VydmVyc01peGluLmV4dGVuZChHcmFkaWVudFN0b3AucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgR3JhZGllbnRTdG9wO1xuIiwiaW1wb3J0IE9ic2VydmVyc01peGluIGZyb20gJy4uL21peGlucy9vYnNlcnZlcnMtbWl4aW4nO1xuaW1wb3J0IFN0b3BzQXJyYXkgZnJvbSAnLi9zdG9wcy1hcnJheSc7XG5pbXBvcnQgR3JhZGllbnRTdG9wIGZyb20gJy4vZ3JhZGllbnQtc3RvcCc7XG5pbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyBkZWZpbmVkLCBkZWZpbml0aW9uSWQgfSBmcm9tICcuLi91dGlsJztcblxuY2xhc3MgR3JhZGllbnQgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnN0b3BzID0gbmV3IFN0b3BzQXJyYXkodGhpcy5fY3JlYXRlU3RvcHMob3B0aW9ucy5zdG9wcykpO1xuICAgICAgICB0aGlzLnN0b3BzLmFkZE9ic2VydmVyKHRoaXMpO1xuICAgICAgICB0aGlzLl91c2VyU3BhY2UgPSBvcHRpb25zLnVzZXJTcGFjZTtcbiAgICAgICAgdGhpcy5pZCA9IGRlZmluaXRpb25JZCgpO1xuICAgIH1cblxuICAgIHVzZXJTcGFjZSh2YWx1ZSkge1xuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJTcGFjZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zQ2hhbmdlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyU3BhY2U7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVN0b3BzKHN0b3BzID0gW10pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN0b3BzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKEdyYWRpZW50U3RvcC5jcmVhdGUoc3RvcHNbaWR4XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBhZGRTdG9wKG9mZnNldCwgY29sb3IsIG9wYWNpdHkpIHtcbiAgICAgICAgdGhpcy5zdG9wcy5wdXNoKG5ldyBHcmFkaWVudFN0b3Aob2Zmc2V0LCBjb2xvciwgb3BhY2l0eSkpO1xuICAgIH1cblxuICAgIHJlbW92ZVN0b3Aoc3RvcCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuc3RvcHMuaW5kZXhPZihzdG9wKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuR3JhZGllbnQucHJvdG90eXBlLm5vZGVUeXBlID0gXCJHcmFkaWVudFwiO1xuXG5PYnNlcnZlcnNNaXhpbi5leHRlbmQoR3JhZGllbnQucHJvdG90eXBlKTtcblxuT2JqZWN0LmFzc2lnbihHcmFkaWVudC5wcm90b3R5cGUsIHtcbiAgICBvcHRpb25zQ2hhbmdlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcihcIm9wdGlvbnNDaGFuZ2VcIiwge1xuICAgICAgICAgICAgZmllbGQ6IFwiZ3JhZGllbnRcIiArIChlID8gXCIuXCIgKyBlLmZpZWxkIDogXCJcIiksXG4gICAgICAgICAgICB2YWx1ZTogdGhpc1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgZ2VvbWV0cnlDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnNDaGFuZ2UoKTtcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgR3JhZGllbnQ7IiwiaW1wb3J0IGRlZmluZVBvaW50QWNjZXNzb3JzIGZyb20gJy4uL2FjY2Vzc29ycy9kZWZpbmUtcG9pbnQtYWNjZXNzb3JzJztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tZXRyeS9wb2ludCc7XG5pbXBvcnQgR3JhZGllbnQgZnJvbSAnLi9ncmFkaWVudCc7XG5cbmNsYXNzIExpbmVhckdyYWRpZW50IGV4dGVuZHMgR3JhZGllbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnN0YXJ0KG9wdGlvbnMuc3RhcnQgfHwgbmV3IFBvaW50KCkpO1xuXG4gICAgICAgIHRoaXMuZW5kKG9wdGlvbnMuZW5kIHx8IG5ldyBQb2ludCgxLCAwKSk7XG4gICAgfVxufVxuXG5kZWZpbmVQb2ludEFjY2Vzc29ycyhMaW5lYXJHcmFkaWVudC5wcm90b3R5cGUsIFsgXCJzdGFydFwiLCBcImVuZFwiIF0pO1xuXG5leHBvcnQgZGVmYXVsdCBMaW5lYXJHcmFkaWVudDsiLCJpbXBvcnQgZGVmaW5lUG9pbnRBY2Nlc3NvcnMgZnJvbSAnLi4vYWNjZXNzb3JzL2RlZmluZS1wb2ludC1hY2Nlc3NvcnMnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4uL2dlb21ldHJ5L3BvaW50JztcbmltcG9ydCBHcmFkaWVudCBmcm9tICcuL2dyYWRpZW50JztcbmltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi91dGlsJztcblxuY2xhc3MgUmFkaWFsR3JhZGllbnQgZXh0ZW5kcyBHcmFkaWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2VudGVyKG9wdGlvbnMuY2VudGVyIHx8IG5ldyBQb2ludCgpKTtcbiAgICAgICAgdGhpcy5fcmFkaXVzID0gZGVmaW5lZChvcHRpb25zLnJhZGl1cykgPyBvcHRpb25zLnJhZGl1cyA6IDE7XG4gICAgICAgIHRoaXMuX2ZhbGxiYWNrRmlsbCA9IG9wdGlvbnMuZmFsbGJhY2tGaWxsO1xuICAgIH1cblxuICAgIHJhZGl1cyh2YWx1ZSkge1xuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JhZGl1cyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fcmFkaXVzO1xuICAgIH1cblxuICAgIGZhbGxiYWNrRmlsbCh2YWx1ZSkge1xuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZhbGxiYWNrRmlsbCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zQ2hhbmdlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9mYWxsYmFja0ZpbGw7XG4gICAgfVxufVxuXG5kZWZpbmVQb2ludEFjY2Vzc29ycyhSYWRpYWxHcmFkaWVudC5wcm90b3R5cGUsIFsgXCJjZW50ZXJcIiBdKTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkaWFsR3JhZGllbnQ7IiwiZXhwb3J0IGZ1bmN0aW9uIHN3aW5nKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIDAuNSAtIE1hdGguY29zKHBvc2l0aW9uICogTWF0aC5QSSkgLyAyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEVsYXN0aWMocG9zaXRpb24sIHRpbWUsIHN0YXJ0LCBkaWZmKSB7XG4gICAgbGV0IHMgPSAxLjcwMTU4LFxuICAgICAgICBwID0gMCxcbiAgICAgICAgYSA9IGRpZmY7XG5cbiAgICBpZiAocG9zaXRpb24gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc3RhcnQgKyBkaWZmO1xuICAgIH1cblxuICAgIGlmICghcCkge1xuICAgICAgICBwID0gMC41O1xuICAgIH1cblxuICAgIGlmIChhIDwgTWF0aC5hYnMoZGlmZikpIHtcbiAgICAgICAgYSA9IGRpZmY7XG4gICAgICAgIHMgPSBwIC8gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oZGlmZiAvIGEpO1xuICAgIH1cblxuICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogcG9zaXRpb24pICpcbiAgICAgICAgICAgTWF0aC5zaW4oKE51bWJlcihwb3NpdGlvbikgLSBzKSAqICgxLjEgKiBNYXRoLlBJKSAvIHApICsgZGlmZiArIHN0YXJ0O1xufVxuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBBbmltYXRpb25GYWN0b3J5IGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihuYW1lLCB0eXBlKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgbGV0IG1hdGNoO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudHlwZSkge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBpdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG1hdGNoLnR5cGUoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkFuaW1hdGlvbkZhY3RvcnkuY3VycmVudCA9IG5ldyBBbmltYXRpb25GYWN0b3J5KCk7XG5cbmV4cG9ydCBkZWZhdWx0IEFuaW1hdGlvbkZhY3Rvcnk7XG4iLCJpbXBvcnQgKiBhcyBlYXNpbmdGdW5jdGlvbnMgZnJvbSAnLi9lYXNpbmctZnVuY3Rpb25zJztcbmltcG9ydCB7IGxpbWl0VmFsdWUgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGFuaW1hdGlvbkZyYW1lLCBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgQW5pbWF0aW9uRmFjdG9yeSBmcm9tICcuL2FuaW1hdGlvbi1mYWN0b3J5JztcblxuY29uc3Qgbm93ID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufTtcblxuY2xhc3MgQW5pbWF0aW9uIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cblxuICAgIHNldHVwKCkge31cbiAgICBzdGVwKCkge31cblxuICAgIHBsYXkoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgZHVyYXRpb24sIGRlbGF5ID0gMCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgZWFzaW5nID0gZWFzaW5nRnVuY3Rpb25zW29wdGlvbnMuZWFzaW5nXTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBub3coKSArIGRlbGF5O1xuICAgICAgICBjb25zdCBmaW5pc2ggPSBzdGFydCArIGR1cmF0aW9uO1xuXG4gICAgICAgIGlmIChkdXJhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGVwKDEpO1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9vcCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhbGxUaW1lID0gbm93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IGxpbWl0VmFsdWUod2FsbFRpbWUgLSBzdGFydCwgMCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRpbWUgLyBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWFzaW5nUG9zaXRpb24gPSBlYXNpbmcocG9zaXRpb24sIHRpbWUsIDAsIDEsIGR1cmF0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZXAoZWFzaW5nUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh3YWxsVGltZSA8IGZpbmlzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbG9vcCgpO1xuICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRoaXMuX3N0b3BwZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICB9XG59XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUub3B0aW9ucyA9IHtcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGVhc2luZzogXCJzd2luZ1wiXG59O1xuXG5BbmltYXRpb24uY3JlYXRlID0gZnVuY3Rpb24odHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBBbmltYXRpb25GYWN0b3J5LmN1cnJlbnQuY3JlYXRlKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQW5pbWF0aW9uO1xuIiwiaW1wb3J0IHsgQ2xhc3MsIGxvZ1RvQ29uc29sZSB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIFN1cmZhY2VGYWN0b3J5IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIobmFtZSwgdHlwZSwgb3JkZXIpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgY29uc3QgZmlyc3QgPSBpdGVtc1swXTtcbiAgICAgICAgY29uc3QgZW50cnkgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIG9yZGVyOiBvcmRlclxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghZmlyc3QgfHwgb3JkZXIgPCBmaXJzdC5vcmRlcikge1xuICAgICAgICAgICAgaXRlbXMudW5zaGlmdChlbnRyeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgICAgIGxldCBtYXRjaCA9IGl0ZW1zWzBdO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudHlwZSkge1xuICAgICAgICAgICAgY29uc3QgcHJlZmVycmVkID0gb3B0aW9ucy50eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2ldLm5hbWUgPT09IHByZWZlcnJlZCkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbWF0Y2gudHlwZShlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZ1RvQ29uc29sZShcbiAgICAgICAgICAgIFwiV2FybmluZzogVW5hYmxlIHRvIGNyZWF0ZSBLZW5kbyBVSSBEcmF3aW5nIFN1cmZhY2UuIFBvc3NpYmxlIGNhdXNlczpcXG5cIiArXG4gICAgICAgICAgICBgLSBUaGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFNWRyBhbmQgQ2FudmFzLiBVc2VyIGFnZW50OiAkeyBuYXZpZ2F0b3IudXNlckFnZW50IH1gKTtcbiAgICB9XG59XG5cblN1cmZhY2VGYWN0b3J5LmN1cnJlbnQgPSBuZXcgU3VyZmFjZUZhY3RvcnkoKTtcblxuZXhwb3J0IGRlZmF1bHQgU3VyZmFjZUZhY3Rvcnk7IiwiaW1wb3J0IEdyb3VwIGZyb20gJy4uL3NoYXBlcy9ncm91cCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vZ2VvbWV0cnkvcG9pbnQnO1xuaW1wb3J0IFN1cmZhY2VGYWN0b3J5IGZyb20gJy4vc3VyZmFjZS1mYWN0b3J5JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgZXZlbnRFbGVtZW50LCBldmVudENvb3JkaW5hdGVzLCBlbGVtZW50U3R5bGVzLCBlbGVtZW50U2l6ZSwgZWxlbWVudE9mZnNldCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBldmVudHMgPSBbXG4gICAgXCJjbGlja1wiLFxuICAgIFwibW91c2VlbnRlclwiLFxuICAgIFwibW91c2VsZWF2ZVwiLFxuICAgIFwibW91c2Vtb3ZlXCIsXG4gICAgXCJyZXNpemVcIlxuXTtcblxuY2xhc3MgU3VyZmFjZSBleHRlbmRzIE9ic2VydmFibGUge1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmVsZW1lbnQuX2tlbmRvRXhwb3J0VmlzdWFsID0gdGhpcy5leHBvcnRWaXN1YWwuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLl9jbGljayA9IHRoaXMuX2hhbmRsZXIoXCJjbGlja1wiKTtcbiAgICAgICAgdGhpcy5fbW91c2VlbnRlciA9IHRoaXMuX2hhbmRsZXIoXCJtb3VzZWVudGVyXCIpO1xuICAgICAgICB0aGlzLl9tb3VzZWxlYXZlID0gdGhpcy5faGFuZGxlcihcIm1vdXNlbGVhdmVcIik7XG4gICAgICAgIHRoaXMuX21vdXNlbW92ZSA9IHRoaXMuX2hhbmRsZXIoXCJtb3VzZW1vdmVcIik7XG5cbiAgICAgICAgdGhpcy5fdmlzdWFsID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgZWxlbWVudFNpemUoZWxlbWVudCwgdGhpcy5vcHRpb25zKTtcblxuICAgICAgICB0aGlzLmJpbmQoZXZlbnRzLCB0aGlzLm9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2VuYWJsZVRyYWNraW5nKCk7XG4gICAgfVxuXG4gICAgZHJhdyhlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3Zpc3VhbC5jaGlsZHJlbi5wdXNoKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl92aXN1YWwuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl92aXN1YWwgPSBudWxsO1xuICAgICAgICB0aGlzLmVsZW1lbnQuX2tlbmRvRXhwb3J0VmlzdWFsID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICB9XG5cbiAgICBldmVudFRhcmdldChlKSB7XG4gICAgICAgIGxldCBkb21Ob2RlID0gZXZlbnRFbGVtZW50KGUpO1xuICAgICAgICBsZXQgbm9kZTtcblxuICAgICAgICB3aGlsZSAoIW5vZGUgJiYgZG9tTm9kZSkge1xuICAgICAgICAgICAgbm9kZSA9IGRvbU5vZGUuX2tlbmRvTm9kZTtcbiAgICAgICAgICAgIGlmIChkb21Ob2RlID09PSB0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9tTm9kZSA9IGRvbU5vZGUucGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5zcmNFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzdWFsO1xuICAgIH1cblxuICAgIGdldFNpemUoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50U2l6ZSh0aGlzLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIGN1cnJlbnRTaXplKHNpemUpIHtcbiAgICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTaXplKHNpemUpIHtcbiAgICAgICAgZWxlbWVudFNpemUodGhpcy5lbGVtZW50LCBzaXplKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRTaXplKHNpemUpO1xuICAgICAgICB0aGlzLl9yZXNpemUoKTtcbiAgICB9XG5cbiAgICByZXNpemUoZm9yY2UpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgICBjb25zdCBjdXJyZW50U2l6ZSA9IHRoaXMuY3VycmVudFNpemUoKTtcblxuICAgICAgICBpZiAoZm9yY2UgfHwgKHNpemUud2lkdGggPiAwIHx8IHNpemUuaGVpZ2h0ID4gMCkgJiYgKCFjdXJyZW50U2l6ZSB8fCBzaXplLndpZHRoICE9PSBjdXJyZW50U2l6ZS53aWR0aCB8fCBzaXplLmhlaWdodCAhPT0gY3VycmVudFNpemUuaGVpZ2h0KSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2l6ZShzaXplKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZShzaXplLCBmb3JjZSk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJyZXNpemVcIiwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaXplKHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U2l6ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgc3VzcGVuZFRyYWNraW5nKCkge1xuICAgICAgICB0aGlzLl9zdXNwZW5kZWRUcmFja2luZyA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVzdW1lVHJhY2tpbmcoKSB7XG4gICAgICAgIHRoaXMuX3N1c3BlbmRlZFRyYWNraW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX2VuYWJsZVRyYWNraW5nKCkge31cblxuICAgIF9yZXNpemUoKSB7fVxuXG4gICAgX2hhbmRsZXIoZXZlbnROYW1lKSB7XG4gICAgICAgIHJldHVybiAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZXZlbnRUYXJnZXQoZSk7XG4gICAgICAgICAgICBpZiAobm9kZSAmJiAhdGhpcy5fc3VzcGVuZGVkVHJhY2tpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoZXZlbnROYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IG5vZGUsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50TmFtZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9lbGVtZW50T2Zmc2V0KCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCB7IHBhZGRpbmdMZWZ0LCBwYWRkaW5nVG9wIH0gPSBlbGVtZW50U3R5bGVzKGVsZW1lbnQsIFsgXCJwYWRkaW5nTGVmdFwiLCBcInBhZGRpbmdUb3BcIiBdKTtcbiAgICAgICAgY29uc3QgeyBsZWZ0LCB0b3AgfSA9IGVsZW1lbnRPZmZzZXQoZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQgKyBwYXJzZUludChwYWRkaW5nTGVmdCwgMTApLFxuICAgICAgICAgICAgdG9wOiB0b3AgKyBwYXJzZUludChwYWRkaW5nVG9wLCAxMClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfc3VyZmFjZVBvaW50KGUpIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5fZWxlbWVudE9mZnNldCgpO1xuICAgICAgICBjb25zdCBjb29yZCA9IGV2ZW50Q29vcmRpbmF0ZXMoZSk7XG4gICAgICAgIGNvbnN0IHggPSBjb29yZC54IC0gb2Zmc2V0LmxlZnQ7XG4gICAgICAgIGNvbnN0IHkgPSBjb29yZC55IC0gb2Zmc2V0LnRvcDtcblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpO1xuICAgIH1cbn1cblxuU3VyZmFjZS5jcmVhdGUgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFN1cmZhY2VGYWN0b3J5LmN1cnJlbnQuY3JlYXRlKGVsZW1lbnQsIG9wdGlvbnMpO1xufTtcblxuU3VyZmFjZS5zdXBwb3J0ID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IFN1cmZhY2U7XG4iLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEJhc2VOb2RlIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNoaWxkTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIGlmIChzcmNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNyY0VsZW1lbnQgPSBzcmNFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNyY0VsZW1lbnQucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGROb2RlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBsb2FkKCkge31cblxuICAgIG9ic2VydmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNyY0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3JjRWxlbWVudC5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZChub2RlKSB7XG4gICAgICAgIHRoaXMuY2hpbGROb2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICBub2RlLnBhcmVudCA9IHRoaXM7XG4gICAgfVxuXG4gICAgaW5zZXJ0QXQobm9kZSwgcG9zKSB7XG4gICAgICAgIHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UocG9zLCAwLCBub2RlKTtcbiAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzO1xuICAgIH1cblxuICAgIHJlbW92ZShpbmRleCwgY291bnQpIHtcbiAgICAgICAgY29uc3QgZW5kID0gaW5kZXggKyBjb3VudDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGROb2Rlc1tpXS5yZW1vdmVTZWxmKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnNwbGljZShpbmRleCwgY291bnQpO1xuICAgIH1cblxuICAgIHJlbW92ZVNlbGYoKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKDAsIHRoaXMuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgIH1cblxuICAgIGludmFsaWRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuaW52YWxpZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2VvbWV0cnlDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIGNoaWxkcmVuQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuYWN0aW9uID09PSBcImFkZFwiKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoZS5pdGVtcywgZS5pbmRleCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5hY3Rpb24gPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGUuaW5kZXgsIGUuaXRlbXMubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZU5vZGU7IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXJBdHRyKG5hbWUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIChkZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbCkgPyBgICR7IG5hbWUgfT1cIiR7IHZhbHVlIH1cIiBgIDogXCJcIjtcbn0iLCJpbXBvcnQgcmVuZGVyQXR0ciBmcm9tICcuL3JlbmRlci1hdHRyaWJ1dGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXJBbGxBdHRyKGF0dHJzKSB7XG4gICAgbGV0IG91dHB1dCA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvdXRwdXQgKz0gcmVuZGVyQXR0cihhdHRyc1tpXVswXSwgYXR0cnNbaV1bMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXJTdHlsZShhdHRycykge1xuICAgIGxldCBvdXRwdXQgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gYXR0cnNbaV1bMV07XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGF0dHJzW2ldWzBdICsgXCI6XCIgKyB2YWx1ZSArIFwiO1wiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG91dHB1dCAhPT0gXCJcIikge1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbn0iLCJjb25zdCBOT0RFX01BUCA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBOT0RFX01BUDsiLCJjb25zdCBTVkdfTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5jb25zdCBOT05FID0gXCJub25lXCI7XG5cbmV4cG9ydCB7IFNWR19OUywgTk9ORSB9OyIsImltcG9ydCB7IFNWR19OUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmxldCByZW5kZXJTVkcgPSBmdW5jdGlvbihjb250YWluZXIsIHN2Zykge1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBzdmc7XG59O1xuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgdGVzdEZyYWdtZW50ID0gXCI8c3ZnIHhtbG5zPSdcIiArIFNWR19OUyArIFwiJz48L3N2Zz5cIjtcbiAgICBjb25zdCB0ZXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBoYXNQYXJzZXIgPSB0eXBlb2YgRE9NUGFyc2VyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgdGVzdENvbnRhaW5lci5pbm5lckhUTUwgPSB0ZXN0RnJhZ21lbnQ7XG5cbiAgICBpZiAoaGFzUGFyc2VyICYmIHRlc3RDb250YWluZXIuZmlyc3RDaGlsZC5uYW1lc3BhY2VVUkkgIT09IFNWR19OUykge1xuICAgICAgICByZW5kZXJTVkcgPSBmdW5jdGlvbihjb250YWluZXIsIHN2Zykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICAgICAgY29uc3QgY2hhcnREb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN2ZywgXCJ0ZXh0L3htbFwiKTtcbiAgICAgICAgICAgIGNvbnN0IGltcG9ydGVkRG9jID0gZG9jdW1lbnQuYWRvcHROb2RlKGNoYXJ0RG9jLmRvY3VtZW50RWxlbWVudCk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGltcG9ydGVkRG9jKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlbmRlclNWRzsiLCJpbXBvcnQgQmFzZU5vZGUgZnJvbSAnLi4vY29yZS9iYXNlLW5vZGUnO1xuaW1wb3J0IHJlbmRlckFsbEF0dHIgZnJvbSAnLi91dGlscy9yZW5kZXItYWxsLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHJlbmRlckF0dHIgZnJvbSAnLi91dGlscy9yZW5kZXItYXR0cmlidXRlJztcbmltcG9ydCByZW5kZXJTdHlsZSBmcm9tICcuL3V0aWxzL3JlbmRlci1zdHlsZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5pbXBvcnQgcmVuZGVyU1ZHIGZyb20gJy4vdXRpbHMvcmVuZGVyLXN2Zyc7XG5pbXBvcnQgeyBTVkdfTlMsIE5PTkUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzdXBwb3J0IH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi91dGlsJztcblxuY29uc3QgVFJBTlNGT1JNID0gXCJ0cmFuc2Zvcm1cIjtcbmNvbnN0IERlZmluaXRpb25NYXAgPSB7XG4gICAgY2xpcDogXCJjbGlwLXBhdGhcIixcbiAgICBmaWxsOiBcImZpbGxcIlxufTtcblxuZnVuY3Rpb24gaXNEZWZpbml0aW9uKHR5cGUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiY2xpcFwiIHx8ICh0eXBlID09PSBcImZpbGxcIiAmJiAoIXZhbHVlIHx8IHZhbHVlLm5vZGVUeXBlID09PSBcIkdyYWRpZW50XCIpKTtcbn1cblxuZnVuY3Rpb24gYmFzZVVybCgpIHtcbiAgICBjb25zdCBiYXNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJiYXNlXCIpWzBdO1xuICAgIGxldCBocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgdXJsID0gXCJcIjtcblxuICAgIGlmIChiYXNlICYmICEoc3VwcG9ydC5icm93c2VyIHx8IHt9KS5tc2llKSB7XG4gICAgICAgIGNvbnN0IGhhc2hJbmRleCA9IGhyZWYuaW5kZXhPZihcIiNcIik7XG4gICAgICAgIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBocmVmID0gaHJlZi5zdWJzdHJpbmcoMCwgaGFzaEluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVybCA9IGhyZWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybDtcbn1cblxuY2xhc3MgTm9kZSBleHRlbmRzIEJhc2VOb2RlIHtcblxuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoc3JjRWxlbWVudCk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMgPSB7fTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5fa2VuZG9Ob2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFyRGVmaW5pdGlvbnMoKTtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGxvYWQoZWxlbWVudHMsIHBvcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNFbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNyY0VsZW1lbnQuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IG5ldyBOT0RFX01BUFtzcmNFbGVtZW50Lm5vZGVUeXBlXShzcmNFbGVtZW50LCB0aGlzLm9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChwb3MpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChjaGlsZE5vZGUsIHBvcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkTm9kZS5jcmVhdGVEZWZpbml0aW9ucygpO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNoaWxkTm9kZS5sb2FkKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLmF0dGFjaFRvKGVsZW1lbnQsIHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByb290KCkge1xuICAgICAgICBsZXQgcm9vdCA9IHRoaXM7XG5cbiAgICAgICAgd2hpbGUgKHJvb3QucGFyZW50KSB7XG4gICAgICAgICAgICByb290ID0gcm9vdC5wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG5cbiAgICBhdHRhY2hUbyhkb21FbGVtZW50LCBwb3MpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcmVuZGVyU1ZHKGNvbnRhaW5lcixcbiAgICAgICAgICAgIFwiPHN2ZyB4bWxucz0nXCIgKyBTVkdfTlMgKyBcIicgdmVyc2lvbj0nMS4xJz5cIiArXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKSArXG4gICAgICAgICAgICBcIjwvc3ZnPlwiXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lci5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChwb3MpKSB7XG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudC5pbnNlcnRCZWZvcmUoZWxlbWVudCwgZG9tRWxlbWVudC5jaGlsZE5vZGVzW3Bvc10gfHwgbnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Ll9rZW5kb05vZGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5lbGVtZW50Ll9rZW5kb05vZGUgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy5jaGlsZE5vZGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGRFbGVtZW50ID0gZWxlbWVudC5jaGlsZE5vZGVzW2ldO1xuICAgICAgICAgICAgbm9kZXNbaV0uc2V0RWxlbWVudChjaGlsZEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJEZWZpbml0aW9ucygpO1xuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkTm9kZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hpbGROb2RlcyA9IFtdO1xuICAgIH1cblxuICAgIHJlbW92ZVNlbGYoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlbW92ZVNlbGYoKTtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyQ2hpbGRyZW4oKSB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy5jaGlsZE5vZGVzO1xuICAgICAgICBsZXQgb3V0cHV0ID0gXCJcIjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gbm9kZXNbaV0ucmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCB7IGZpZWxkLCB2YWx1ZSB9ID0gZTtcblxuICAgICAgICBpZiAoZmllbGQgPT09IFwidmlzaWJsZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmNzcyhcImRpc3BsYXlcIiwgdmFsdWUgPyBcIlwiIDogTk9ORSk7XG4gICAgICAgIH0gZWxzZSBpZiAoRGVmaW5pdGlvbk1hcFtmaWVsZF0gJiYgaXNEZWZpbml0aW9uKGZpZWxkLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGVmaW5pdGlvbihmaWVsZCwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkID09PSBcIm9wYWNpdHlcIikge1xuICAgICAgICAgICAgdGhpcy5hdHRyKFwib3BhY2l0eVwiLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQgPT09IFwiY3Vyc29yXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY3NzKFwiY3Vyc29yXCIsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gXCJpZFwiKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHIoXCJpZFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cihcImlkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIub3B0aW9uc0NoYW5nZShlKTtcbiAgICB9XG5cbiAgICBhdHRyKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWxsQXR0cihhdHRycykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHIoYXR0cnNbaV1bMF0sIGF0dHJzW2ldWzFdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNzcyhuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsbENzcyhzdHlsZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY3NzKHN0eWxlc1tpXVswXSwgc3R5bGVzW2ldWzFdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUF0dHIobmFtZSkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFwVHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICAgICAgICBjb25zdCBhdHRycyA9IFtdO1xuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBhdHRycy5wdXNoKFtcbiAgICAgICAgICAgICAgICBUUkFOU0ZPUk0sXG4gICAgICAgICAgICAgICAgXCJtYXRyaXgoXCIgKyB0cmFuc2Zvcm0ubWF0cml4KCkudG9TdHJpbmcoNikgKyBcIilcIlxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgcmVuZGVyVHJhbnNmb3JtKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQWxsQXR0cihcbiAgICAgICAgICAgIHRoaXMubWFwVHJhbnNmb3JtKHRoaXMuc3JjRWxlbWVudC50cmFuc2Zvcm0oKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1DaGFuZ2UodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmFsbEF0dHIodGhpcy5tYXBUcmFuc2Zvcm0odmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cihUUkFOU0ZPUk0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFwU3R5bGUoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBbIFsgXCJjdXJzb3JcIiwgb3B0aW9ucy5jdXJzb3IgXSBdO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnZpc2libGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdHlsZS5wdXNoKFsgXCJkaXNwbGF5XCIsIE5PTkUgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgcmVuZGVyU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwic3R5bGVcIiwgcmVuZGVyU3R5bGUodGhpcy5tYXBTdHlsZSh0cnVlKSkpO1xuICAgIH1cblxuICAgIHJlbmRlck9wYWNpdHkoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwib3BhY2l0eVwiLCB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5vcGFjaXR5KTtcbiAgICB9XG5cbiAgICByZW5kZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckF0dHIoXCJpZFwiLCB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5pZCk7XG4gICAgfVxuXG4gICAgY3JlYXRlRGVmaW5pdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHNyY0VsZW1lbnQgPSB0aGlzLnNyY0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb25zID0gdGhpcy5kZWZpbml0aW9ucztcbiAgICAgICAgaWYgKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzcmNFbGVtZW50Lm9wdGlvbnM7XG4gICAgICAgICAgICBsZXQgaGFzRGVmaW5pdGlvbnM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGZpZWxkIGluIERlZmluaXRpb25NYXApIHtcbiAgICAgICAgICAgICAgICBsZXQgZGVmaW5pdGlvbiA9IG9wdGlvbnMuZ2V0KGZpZWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5pdGlvbiAmJiBpc0RlZmluaXRpb24oZmllbGQsIGRlZmluaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25zW2ZpZWxkXSA9IGRlZmluaXRpb247XG4gICAgICAgICAgICAgICAgICAgIGhhc0RlZmluaXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmluaXRpb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25zOiBkZWZpbml0aW9uc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVmaW5pdGlvbkNoYW5nZShlKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZGVmaW5pdGlvbkNoYW5nZShlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZURlZmluaXRpb24odHlwZSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSB0aGlzLmRlZmluaXRpb25zO1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gZGVmaW5pdGlvbnNbdHlwZV07XG4gICAgICAgIGNvbnN0IGF0dHIgPSBEZWZpbml0aW9uTWFwW3R5cGVdO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0ge307XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICBkZWZpbml0aW9uW3R5cGVdID0gY3VycmVudDtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcInJlbW92ZVwiLFxuICAgICAgICAgICAgICAgIGRlZmluaXRpb25zOiBkZWZpbml0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlbGV0ZSBkZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmaW5pdGlvblt0eXBlXSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IGRlZmluaXRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVmaW5pdGlvbnNbdHlwZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuYXR0cihhdHRyLCB0aGlzLnJlZlVybCh2YWx1ZS5pZCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJEZWZpbml0aW9ucygpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSB0aGlzLmRlZmluaXRpb25zO1xuXG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbkNoYW5nZSh7XG4gICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICBkZWZpbml0aW9uczogZGVmaW5pdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICByZW5kZXJEZWZpbml0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckFsbEF0dHIodGhpcy5tYXBEZWZpbml0aW9ucygpKTtcbiAgICB9XG5cbiAgICBtYXBEZWZpbml0aW9ucygpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSB0aGlzLmRlZmluaXRpb25zO1xuICAgICAgICBjb25zdCBhdHRycyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGZpZWxkIGluIGRlZmluaXRpb25zKSB7XG4gICAgICAgICAgICBhdHRycy5wdXNoKFsgRGVmaW5pdGlvbk1hcFtmaWVsZF0sIHRoaXMucmVmVXJsKGRlZmluaXRpb25zW2ZpZWxkXS5pZCkgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgcmVmVXJsKGlkKSB7XG4gICAgICAgIGNvbnN0IHNraXBCYXNlSHJlZiA9ICh0aGlzLm9wdGlvbnMgfHwge30pLnNraXBCYXNlSHJlZjtcbiAgICAgICAgY29uc3QgYmFzZUhyZWYgPSB0aGlzLmJhc2VVcmwoKS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIik7XG4gICAgICAgIGNvbnN0IGJhc2UgPSBza2lwQmFzZUhyZWYgPyAnJyA6IGJhc2VIcmVmO1xuICAgICAgICByZXR1cm4gYHVybCgkeyBiYXNlIH0jJHsgaWQgfSlgO1xuICAgIH1cblxuICAgIGJhc2VVcmwoKSB7XG4gICAgICAgIHJldHVybiBiYXNlVXJsKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb2RlO1xuIiwiaW1wb3J0IE5vZGUgZnJvbSAnLi9ub2RlJztcbmltcG9ydCByZW5kZXJBdHRyIGZyb20gJy4vdXRpbHMvcmVuZGVyLWF0dHJpYnV0ZSc7XG5cbmNsYXNzIEdyYWRpZW50U3RvcE5vZGUgZXh0ZW5kcyBOb2RlIHtcbiAgICB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8c3RvcCAke3RoaXMucmVuZGVyT2Zmc2V0KCl9ICR7dGhpcy5yZW5kZXJTdHlsZSgpfSAvPmA7XG4gICAgfVxuXG4gICAgcmVuZGVyT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQXR0cihcIm9mZnNldFwiLCB0aGlzLnNyY0VsZW1lbnQub2Zmc2V0KCkpO1xuICAgIH1cblxuICAgIG1hcFN0eWxlKCkge1xuICAgICAgICBjb25zdCBzcmNFbGVtZW50ID0gdGhpcy5zcmNFbGVtZW50O1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgWyBcInN0b3AtY29sb3JcIiwgc3JjRWxlbWVudC5jb2xvcigpIF0sXG4gICAgICAgICAgICBbIFwic3RvcC1vcGFjaXR5XCIsIHNyY0VsZW1lbnQub3BhY2l0eSgpIF1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuZmllbGQgPT09IFwib2Zmc2V0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cihlLmZpZWxkLCBlLnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLmZpZWxkID09PSBcImNvbG9yXCIgfHwgZS5maWVsZCA9PT0gXCJvcGFjaXR5XCIpIHtcbiAgICAgICAgICAgIHRoaXMuY3NzKFwic3RvcC1cIiArIGUuZmllbGQsIGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmFkaWVudFN0b3BOb2RlOyIsImltcG9ydCBHcmFkaWVudFN0b3BOb2RlIGZyb20gJy4vZ3JhZGllbnQtc3RvcC1ub2RlJztcbmltcG9ydCBCYXNlTm9kZSBmcm9tICcuLi9jb3JlL2Jhc2Utbm9kZSc7XG5pbXBvcnQgTm9kZSBmcm9tICcuL25vZGUnO1xuaW1wb3J0IHJlbmRlckFsbEF0dHIgZnJvbSAnLi91dGlscy9yZW5kZXItYWxsLWF0dHJpYnV0ZXMnO1xuXG5jbGFzcyBHcmFkaWVudE5vZGUgZXh0ZW5kcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihzcmNFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKHNyY0VsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuaWQgPSBzcmNFbGVtZW50LmlkO1xuXG4gICAgICAgIHRoaXMubG9hZFN0b3BzKCk7XG4gICAgfVxuXG4gICAgbG9hZFN0b3BzKCkge1xuICAgICAgICBjb25zdCBzdG9wcyA9IHRoaXMuc3JjRWxlbWVudC5zdG9wcztcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzdG9wcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBsZXQgc3RvcE5vZGUgPSBuZXcgR3JhZGllbnRTdG9wTm9kZShzdG9wc1tpZHhdKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0b3BOb2RlKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgc3RvcE5vZGUuYXR0YWNoVG8oZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuZmllbGQgPT09IFwiZ3JhZGllbnQuc3RvcHNcIikge1xuICAgICAgICAgICAgQmFzZU5vZGUucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmxvYWRTdG9wcygpO1xuICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09IFwiZ3JhZGllbnRcIikge1xuICAgICAgICAgICAgdGhpcy5hbGxBdHRyKHRoaXMubWFwQ29vcmRpbmF0ZXMoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJDb29yZGluYXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckFsbEF0dHIodGhpcy5tYXBDb29yZGluYXRlcygpKTtcbiAgICB9XG5cbiAgICBtYXBTcGFjZSgpIHtcbiAgICAgICAgcmV0dXJuIFsgXCJncmFkaWVudFVuaXRzXCIsIHRoaXMuc3JjRWxlbWVudC51c2VyU3BhY2UoKSA/IFwidXNlclNwYWNlT25Vc2VcIiA6IFwib2JqZWN0Qm91bmRpbmdCb3hcIiBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JhZGllbnROb2RlOyIsImltcG9ydCBHcmFkaWVudE5vZGUgZnJvbSAnLi9ncmFkaWVudC1ub2RlJztcblxuY2xhc3MgTGluZWFyR3JhZGllbnROb2RlIGV4dGVuZHMgR3JhZGllbnROb2RlIHtcbiAgICB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8bGluZWFyR3JhZGllbnQgaWQ9JyR7IHRoaXMuaWQgfScgJHsgdGhpcy5yZW5kZXJDb29yZGluYXRlcygpIH0+JHsgdGhpcy5yZW5kZXJDaGlsZHJlbigpIH08L2xpbmVhckdyYWRpZW50PmA7XG4gICAgfVxuXG4gICAgbWFwQ29vcmRpbmF0ZXMoKSB7XG4gICAgICAgIGNvbnN0IHNyY0VsZW1lbnQgPSB0aGlzLnNyY0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gc3JjRWxlbWVudC5zdGFydCgpO1xuICAgICAgICBjb25zdCBlbmQgPSBzcmNFbGVtZW50LmVuZCgpO1xuICAgICAgICBjb25zdCBhdHRycyA9IFtcbiAgICAgICAgICAgIFsgXCJ4MVwiLCBzdGFydC54IF0sXG4gICAgICAgICAgICBbIFwieTFcIiwgc3RhcnQueSBdLFxuICAgICAgICAgICAgWyBcIngyXCIsIGVuZC54IF0sXG4gICAgICAgICAgICBbIFwieTJcIiwgZW5kLnkgXSxcbiAgICAgICAgICAgIHRoaXMubWFwU3BhY2UoKVxuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpbmVhckdyYWRpZW50Tm9kZTsiLCJpbXBvcnQgR3JhZGllbnROb2RlIGZyb20gJy4vZ3JhZGllbnQtbm9kZSc7XG5cbmNsYXNzIFJhZGlhbEdyYWRpZW50Tm9kZSBleHRlbmRzIEdyYWRpZW50Tm9kZSB7XG4gICAgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBgPHJhZGlhbEdyYWRpZW50IGlkPSckeyB0aGlzLmlkIH0nICR7IHRoaXMucmVuZGVyQ29vcmRpbmF0ZXMoKX0+JHsgdGhpcy5yZW5kZXJDaGlsZHJlbigpIH08L3JhZGlhbEdyYWRpZW50PmA7XG4gICAgfVxuXG4gICAgbWFwQ29vcmRpbmF0ZXMoKSB7XG4gICAgICAgIGNvbnN0IHNyY0VsZW1lbnQgPSB0aGlzLnNyY0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHNyY0VsZW1lbnQuY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHNyY0VsZW1lbnQucmFkaXVzKCk7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gW1xuICAgICAgICAgICAgWyBcImN4XCIsIGNlbnRlci54IF0sXG4gICAgICAgICAgICBbIFwiY3lcIiwgY2VudGVyLnkgXSxcbiAgICAgICAgICAgIFsgXCJyXCIsIHJhZGl1cyBdLFxuICAgICAgICAgICAgdGhpcy5tYXBTcGFjZSgpXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlhbEdyYWRpZW50Tm9kZTsiLCJpbXBvcnQgTm9kZSBmcm9tICcuL25vZGUnO1xuXG5jbGFzcyBDbGlwTm9kZSBleHRlbmRzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnNyY0VsZW1lbnQgPSBzcmNFbGVtZW50O1xuICAgICAgICB0aGlzLmlkID0gc3JjRWxlbWVudC5pZDtcblxuICAgICAgICB0aGlzLmxvYWQoWyBzcmNFbGVtZW50IF0pO1xuICAgIH1cblxuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxjbGlwUGF0aCBpZD0nJHsgdGhpcy5pZCB9Jz4keyB0aGlzLnJlbmRlckNoaWxkcmVuKCkgfTwvY2xpcFBhdGg+YDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENsaXBOb2RlOyIsImltcG9ydCBMaW5lYXJHcmFkaWVudCBmcm9tICcuLi9ncmFkaWVudHMvbGluZWFyLWdyYWRpZW50JztcbmltcG9ydCBSYWRpYWxHcmFkaWVudCBmcm9tICcuLi9ncmFkaWVudHMvcmFkaWFsLWdyYWRpZW50JztcbmltcG9ydCBMaW5lYXJHcmFkaWVudE5vZGUgZnJvbSAnLi9saW5lYXItZ3JhZGllbnQtbm9kZSc7XG5pbXBvcnQgUmFkaWFsR3JhZGllbnROb2RlIGZyb20gJy4vcmFkaWFsLWdyYWRpZW50LW5vZGUnO1xuaW1wb3J0IE5vZGUgZnJvbSAnLi9ub2RlJztcbmltcG9ydCBDbGlwTm9kZSBmcm9tICcuL2NsaXAtbm9kZSc7XG5cbmNsYXNzIERlZmluaXRpb25Ob2RlIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbk1hcCA9IHt9O1xuICAgIH1cblxuICAgIGF0dGFjaFRvKGRvbUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9tRWxlbWVudDtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8ZGVmcz4keyB0aGlzLnJlbmRlckNoaWxkcmVuKCkgfTwvZGVmcz5gO1xuICAgIH1cblxuICAgIGRlZmluaXRpb25DaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCB7IGRlZmluaXRpb25zLCBhY3Rpb24gfSA9IGU7XG5cbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJhZGRcIikge1xuICAgICAgICAgICAgdGhpcy5hZGREZWZpbml0aW9ucyhkZWZpbml0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlbW92ZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZURlZmluaXRpb25zKGRlZmluaXRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZURlZmluaXRpb24odHlwZSwgaXRlbSkge1xuICAgICAgICBsZXQgbm9kZVR5cGU7XG4gICAgICAgIGlmICh0eXBlID09PSBcImNsaXBcIikge1xuICAgICAgICAgICAgbm9kZVR5cGUgPSBDbGlwTm9kZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImZpbGxcIikge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBMaW5lYXJHcmFkaWVudCkge1xuICAgICAgICAgICAgICAgIG5vZGVUeXBlID0gTGluZWFyR3JhZGllbnROb2RlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtIGluc3RhbmNlb2YgUmFkaWFsR3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICBub2RlVHlwZSA9IFJhZGlhbEdyYWRpZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IG5vZGVUeXBlKGl0ZW0pO1xuICAgIH1cblxuICAgIGFkZERlZmluaXRpb25zKGRlZmluaXRpb25zKSB7XG4gICAgICAgIGZvciAobGV0IGZpZWxkIGluIGRlZmluaXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmFkZERlZmluaXRpb24oZmllbGQsIGRlZmluaXRpb25zW2ZpZWxkXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGREZWZpbml0aW9uKHR5cGUsIHNyY0VsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBkZWZpbml0aW9uTWFwIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBpZCA9IHNyY0VsZW1lbnQuaWQ7XG4gICAgICAgIGNvbnN0IG1hcEl0ZW0gPSBkZWZpbml0aW9uTWFwW2lkXTtcbiAgICAgICAgaWYgKCFtYXBJdGVtKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5jcmVhdGVEZWZpbml0aW9uKHR5cGUsIHNyY0VsZW1lbnQpO1xuICAgICAgICAgICAgZGVmaW5pdGlvbk1hcFtpZF0gPSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogbm9kZSxcbiAgICAgICAgICAgICAgICBjb3VudDogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBub2RlLmF0dGFjaFRvKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXBJdGVtLmNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVEZWZpbml0aW9ucyhkZWZpbml0aW9ucykge1xuICAgICAgICBmb3IgKGxldCBmaWVsZCBpbiBkZWZpbml0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVEZWZpbml0aW9uKGRlZmluaXRpb25zW2ZpZWxkXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVEZWZpbml0aW9uKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbk1hcCA9IHRoaXMuZGVmaW5pdGlvbk1hcDtcbiAgICAgICAgY29uc3QgaWQgPSBzcmNFbGVtZW50LmlkO1xuICAgICAgICBjb25zdCBtYXBJdGVtID0gZGVmaW5pdGlvbk1hcFtpZF07XG5cbiAgICAgICAgaWYgKG1hcEl0ZW0pIHtcbiAgICAgICAgICAgIG1hcEl0ZW0uY291bnQtLTtcbiAgICAgICAgICAgIGlmIChtYXBJdGVtLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUodGhpcy5jaGlsZE5vZGVzLmluZGV4T2YobWFwSXRlbS5lbGVtZW50KSwgMSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRlZmluaXRpb25NYXBbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEZWZpbml0aW9uTm9kZTsiLCJpbXBvcnQgQmFzZU5vZGUgZnJvbSAnLi4vY29yZS9iYXNlLW5vZGUnO1xuaW1wb3J0IE5vZGUgZnJvbSAnLi9ub2RlJztcbmltcG9ydCBEZWZpbml0aW9uTm9kZSBmcm9tICcuL2RlZmluaXRpb24tbm9kZSc7XG5cbmNsYXNzIFJvb3ROb2RlIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmRlZnMgPSBuZXcgRGVmaW5pdGlvbk5vZGUoKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUbyhkb21FbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvbUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGVmcy5hdHRhY2hUbyhkb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgQmFzZU5vZGUucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZnMucmVuZGVyKCkgKyB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgZGVmaW5pdGlvbkNoYW5nZShlKSB7XG4gICAgICAgIHRoaXMuZGVmcy5kZWZpbml0aW9uQ2hhbmdlKGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUm9vdE5vZGU7IiwiaW1wb3J0IEJhc2VTdXJmYWNlIGZyb20gJy4uL2NvcmUvc3VyZmFjZSc7XG5pbXBvcnQgU3VyZmFjZUZhY3RvcnkgZnJvbSAnLi4vY29yZS9zdXJmYWNlLWZhY3RvcnknO1xuaW1wb3J0IFJvb3ROb2RlIGZyb20gJy4vcm9vdC1ub2RlJztcbmltcG9ydCBHcm91cCBmcm9tICcuLi9zaGFwZXMvZ3JvdXAnO1xuaW1wb3J0IHRyYW5zZm9ybSBmcm9tICcuLi9nZW9tZXRyeS90cmFuc2Zvcm0nO1xuaW1wb3J0IHJlbmRlclNWRyBmcm9tICcuL3V0aWxzL3JlbmRlci1zdmcnO1xuaW1wb3J0IHsgU1ZHX05TIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYmluZEV2ZW50cywgdW5iaW5kRXZlbnRzLCBlbGVtZW50U3R5bGVzIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFJUTCA9ICdydGwnO1xuXG5mdW5jdGlvbiBhbGlnblRvU2NyZWVuKGVsZW1lbnQpIHtcbiAgICBsZXQgY3RtO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY3RtID0gZWxlbWVudC5nZXRTY3JlZW5DVE0gPyBlbGVtZW50LmdldFNjcmVlbkNUTSgpIDogbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuXG4gICAgaWYgKGN0bSkge1xuICAgICAgICBjb25zdCBsZWZ0ID0gLSBjdG0uZSAlIDE7XG4gICAgICAgIGNvbnN0IHRvcCA9IC0gY3RtLmYgJSAxO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG5cbiAgICAgICAgaWYgKGxlZnQgIT09IDAgfHwgdG9wICE9PSAwKSB7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIHN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgU3VyZmFjZSBleHRlbmRzIEJhc2VTdXJmYWNlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgUm9vdE5vZGUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBydGw6IGVsZW1lbnRTdHlsZXMoZWxlbWVudCwgJ2RpcmVjdGlvbicpLmRpcmVjdGlvbiA9PT0gUlRMXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucykpO1xuXG4gICAgICAgIHJlbmRlclNWRyh0aGlzLmVsZW1lbnQsIHRoaXMuX3RlbXBsYXRlKCkpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50ID0gdGhpcy5lbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuXG4gICAgICAgIGFsaWduVG9TY3JlZW4odGhpcy5fcm9vdEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3QuYXR0YWNoVG8odGhpcy5fcm9vdEVsZW1lbnQpO1xuXG4gICAgICAgIGJpbmRFdmVudHModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBjbGljazogdGhpcy5fY2xpY2ssXG4gICAgICAgICAgICBtb3VzZW92ZXI6IHRoaXMuX21vdXNlZW50ZXIsXG4gICAgICAgICAgICBtb3VzZW91dDogdGhpcy5fbW91c2VsZWF2ZSxcbiAgICAgICAgICAgIG1vdXNlbW92ZTogdGhpcy5fbW91c2Vtb3ZlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yb290RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB1bmJpbmRFdmVudHModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IHRoaXMuX2NsaWNrLFxuICAgICAgICAgICAgICAgIG1vdXNlb3ZlcjogdGhpcy5fbW91c2VlbnRlcixcbiAgICAgICAgICAgICAgICBtb3VzZW91dDogdGhpcy5fbW91c2VsZWF2ZSxcbiAgICAgICAgICAgICAgICBtb3VzZW1vdmU6IHRoaXMuX21vdXNlbW92ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKG9mZnNldCkge1xuICAgICAgICBjb25zdCB2aWV3Qm94ID0gYCR7IE1hdGgucm91bmQob2Zmc2V0LngpIH0gJHsgTWF0aC5yb3VuZChvZmZzZXQueSkgfSAkeyB0aGlzLl9zaXplLndpZHRoIH0gJHsgdGhpcy5fc2l6ZS5oZWlnaHQgfWA7XG5cbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIHZpZXdCb3gpO1xuICAgIH1cblxuICAgIGRyYXcoZWxlbWVudCkge1xuICAgICAgICBzdXBlci5kcmF3KGVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9yb290LmxvYWQoWyBlbGVtZW50IF0pO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBzdXBlci5jbGVhcigpO1xuICAgICAgICB0aGlzLl9yb290LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgc3ZnKCkge1xuICAgICAgICByZXR1cm4gXCI8P3htbCB2ZXJzaW9uPScxLjAnID8+XCIgKyB0aGlzLl90ZW1wbGF0ZSgpO1xuICAgIH1cblxuICAgIGV4cG9ydFZpc3VhbCgpIHtcbiAgICAgICAgbGV0IHsgX3Zpc3VhbDogdmlzdWFsLCBfb2Zmc2V0OiBvZmZzZXQgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKG9mZnNldCkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcCA9IG5ldyBHcm91cCgpO1xuICAgICAgICAgICAgd3JhcC5jaGlsZHJlbi5wdXNoKHZpc3VhbCk7XG5cbiAgICAgICAgICAgIHdyYXAudHJhbnNmb3JtKFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSgpLnRyYW5zbGF0ZSgtb2Zmc2V0LngsIC1vZmZzZXQueSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHZpc3VhbCA9IHdyYXA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmlzdWFsO1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9vZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHRoaXMuX29mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBgPHN2ZyBzdHlsZT0nd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgb3ZlcmZsb3c6IGhpZGRlbjsnIHhtbG5zPSckeyBTVkdfTlMgfScgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHZlcnNpb249JzEuMSc+JHsgdGhpcy5fcm9vdC5yZW5kZXIoKSB9PC9zdmc+YDtcbiAgICB9XG59XG5cblN1cmZhY2UucHJvdG90eXBlLnR5cGUgPSBcInN2Z1wiO1xuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoXCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0Jhc2ljU3RydWN0dXJlXCIsIFwiMS4xXCIpKSB7XG4gICAgQmFzZVN1cmZhY2Uuc3VwcG9ydC5zdmcgPSB0cnVlO1xuICAgIFN1cmZhY2VGYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoXCJzdmdcIiwgU3VyZmFjZSwgMTApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdXJmYWNlOyIsImltcG9ydCBOb2RlIGZyb20gJy4vbm9kZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5cbmNsYXNzIEdyb3VwTm9kZSBleHRlbmRzIE5vZGUge1xuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxnJHsgdGhpcy5yZW5kZXJJZCgpICsgdGhpcy5yZW5kZXJUcmFuc2Zvcm0oKSArIHRoaXMucmVuZGVyU3R5bGUoKSArIHRoaXMucmVuZGVyT3BhY2l0eSgpICsgdGhpcy5yZW5kZXJEZWZpbml0aW9ucygpIH0+JHsgdGhpcy5yZW5kZXJDaGlsZHJlbigpIH08L2c+YDtcbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuZmllbGQgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtQ2hhbmdlKGUudmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIub3B0aW9uc0NoYW5nZShlKTtcbiAgICB9XG59XG5cbk5PREVfTUFQLkdyb3VwID0gR3JvdXBOb2RlO1xuXG5leHBvcnQgZGVmYXVsdCBHcm91cE5vZGU7IiwiY29uc3QgREFTSF9BUlJBWVMgPSB7XG4gICAgZG90OiBbIDEuNSwgMy41IF0sXG4gICAgZGFzaDogWyA0LCAzLjUgXSxcbiAgICBsb25nZGFzaDogWyA4LCAzLjUgXSxcbiAgICBkYXNoZG90OiBbIDMuNSwgMy41LCAxLjUsIDMuNSBdLFxuICAgIGxvbmdkYXNoZG90OiBbIDgsIDMuNSwgMS41LCAzLjUgXSxcbiAgICBsb25nZGFzaGRvdGRvdDogWyA4LCAzLjUsIDEuNSwgMy41LCAxLjUsIDMuNSBdXG59O1xuXG5jb25zdCBTT0xJRCA9IFwic29saWRcIjtcbmNvbnN0IEJVVFQgPSBcImJ1dHRcIjtcblxuZXhwb3J0IHsgREFTSF9BUlJBWVMsIFNPTElELCBCVVRUIH07IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi9ub2RlJztcbmltcG9ydCB7IGRlZmluZWQsIGlzVHJhbnNwYXJlbnQgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IERBU0hfQVJSQVlTLCBTT0xJRCwgQlVUVCB9IGZyb20gJy4uL2NvcmUvY29uc3RhbnRzJztcbmltcG9ydCB7IE5PTkUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgcmVuZGVyQWxsQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hbGwtYXR0cmlidXRlcyc7XG5pbXBvcnQgcmVuZGVyQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hdHRyaWJ1dGUnO1xuaW1wb3J0IE5PREVfTUFQIGZyb20gJy4vbm9kZS1tYXAnO1xuXG5jb25zdCBBVFRSSUJVVEVfTUFQID0ge1xuICAgIFwiZmlsbC5vcGFjaXR5XCI6IFwiZmlsbC1vcGFjaXR5XCIsXG4gICAgXCJzdHJva2UuY29sb3JcIjogXCJzdHJva2VcIixcbiAgICBcInN0cm9rZS53aWR0aFwiOiBcInN0cm9rZS13aWR0aFwiLFxuICAgIFwic3Ryb2tlLm9wYWNpdHlcIjogXCJzdHJva2Utb3BhY2l0eVwiXG59O1xuY29uc3QgU1BBQ0UgPSBcIiBcIjtcblxuY2xhc3MgUGF0aE5vZGUgZXh0ZW5kcyBOb2RlIHtcblxuICAgIGdlb21ldHJ5Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLmF0dHIoXCJkXCIsIHRoaXMucmVuZGVyRGF0YSgpKTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgb3B0aW9uc0NoYW5nZShlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5maWVsZCkge1xuICAgICAgICAgICAgY2FzZSBcImZpbGxcIjpcbiAgICAgICAgICAgICAgICBpZiAoZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbEF0dHIodGhpcy5tYXBGaWxsKGUudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIoXCJmaWxsXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcImZpbGwuY29sb3JcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmFsbEF0dHIodGhpcy5tYXBGaWxsKHsgY29sb3I6IGUudmFsdWUgfSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwic3Ryb2tlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxBdHRyKHRoaXMubWFwU3Ryb2tlKGUudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIoXCJzdHJva2VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1DaGFuZ2UoZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IEFUVFJJQlVURV9NQVBbZS5maWVsZF07XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyKG5hbWUsIGUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLm9wdGlvbnNDaGFuZ2UoZSk7XG4gICAgfVxuXG4gICAgY29udGVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5zcmNFbGVtZW50LmNvbnRlbnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByaW50UGF0aCh0aGlzLnNyY0VsZW1lbnQpO1xuICAgIH1cblxuICAgIHByaW50UGF0aChwYXRoKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zZWdtZW50cztcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBvdXRwdXQsIGN1cnJlbnRUeXBlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlZ21lbnRUeXBlID0gdGhpcy5zZWdtZW50VHlwZShzZWdtZW50c1tpIC0gMV0sIHNlZ21lbnRzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudFR5cGUgIT09IGN1cnJlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUeXBlID0gc2VnbWVudFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goc2VnbWVudFR5cGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJMXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh0aGlzLnByaW50UG9pbnRzKHNlZ21lbnRzW2ldLmFuY2hvcigpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh0aGlzLnByaW50UG9pbnRzKHNlZ21lbnRzW2kgLSAxXS5jb250cm9sT3V0KCksIHNlZ21lbnRzW2ldLmNvbnRyb2xJbigpLCBzZWdtZW50c1tpXS5hbmNob3IoKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0cHV0ID0gXCJNXCIgKyB0aGlzLnByaW50UG9pbnRzKHNlZ21lbnRzWzBdLmFuY2hvcigpKSArIFNQQUNFICsgcGFydHMuam9pbihTUEFDRSk7XG4gICAgICAgICAgICBpZiAocGF0aC5vcHRpb25zLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIG91dHB1dCArPSBcIlpcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaW50UG9pbnRzKCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBhcmd1bWVudHM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBvaW50c1tpXS50b1N0cmluZygzKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCIgXCIpO1xuICAgIH1cblxuICAgIHNlZ21lbnRUeXBlKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCkge1xuICAgICAgICByZXR1cm4gc2VnbWVudFN0YXJ0LmNvbnRyb2xPdXQoKSAmJiBzZWdtZW50RW5kLmNvbnRyb2xJbigpID8gXCJDXCIgOiBcIkxcIjtcbiAgICB9XG5cbiAgICBtYXBTdHJva2Uoc3Ryb2tlKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gW107XG5cbiAgICAgICAgaWYgKHN0cm9rZSAmJiAhaXNUcmFuc3BhcmVudChzdHJva2UuY29sb3IpKSB7XG4gICAgICAgICAgICBhdHRycy5wdXNoKFsgXCJzdHJva2VcIiwgc3Ryb2tlLmNvbG9yIF0pO1xuICAgICAgICAgICAgYXR0cnMucHVzaChbIFwic3Ryb2tlLXdpZHRoXCIsIHN0cm9rZS53aWR0aCBdKTtcbiAgICAgICAgICAgIGF0dHJzLnB1c2goWyBcInN0cm9rZS1saW5lY2FwXCIsIHRoaXMucmVuZGVyTGluZWNhcChzdHJva2UpIF0pO1xuICAgICAgICAgICAgYXR0cnMucHVzaChbIFwic3Ryb2tlLWxpbmVqb2luXCIsIHN0cm9rZS5saW5lSm9pbiBdKTtcblxuICAgICAgICAgICAgaWYgKGRlZmluZWQoc3Ryb2tlLm9wYWNpdHkpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMucHVzaChbIFwic3Ryb2tlLW9wYWNpdHlcIiwgc3Ryb2tlLm9wYWNpdHkgXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKHN0cm9rZS5kYXNoVHlwZSkpIHtcbiAgICAgICAgICAgICAgICBhdHRycy5wdXNoKFsgXCJzdHJva2UtZGFzaGFycmF5XCIsIHRoaXMucmVuZGVyRGFzaFR5cGUoc3Ryb2tlKSBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF0dHJzLnB1c2goWyBcInN0cm9rZVwiLCBOT05FIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHJlbmRlclN0cm9rZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckFsbEF0dHIoXG4gICAgICAgICAgICB0aGlzLm1hcFN0cm9rZSh0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5zdHJva2UpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyRGFzaFR5cGUoc3Ryb2tlKSB7XG4gICAgICAgIGNvbnN0IHsgZGFzaFR5cGUsIHdpZHRoID0gMSB9ID0gc3Ryb2tlO1xuXG4gICAgICAgIGlmIChkYXNoVHlwZSAmJiBkYXNoVHlwZSAhPT0gU09MSUQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhc2hBcnJheSA9IERBU0hfQVJSQVlTW2Rhc2hUeXBlLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGFzaEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZGFzaEFycmF5W2ldICogd2lkdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCIgXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyTGluZWNhcChzdHJva2UpIHtcbiAgICAgICAgY29uc3QgeyBkYXNoVHlwZSwgbGluZUNhcCB9ID0gc3Ryb2tlO1xuXG4gICAgICAgIHJldHVybiAoZGFzaFR5cGUgJiYgZGFzaFR5cGUgIT09IFwic29saWRcIikgPyBCVVRUIDogbGluZUNhcDtcbiAgICB9XG5cbiAgICBtYXBGaWxsKGZpbGwpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBbXTtcbiAgICAgICAgaWYgKCEoZmlsbCAmJiBmaWxsLm5vZGVUeXBlID09PSBcIkdyYWRpZW50XCIpKSB7XG4gICAgICAgICAgICBpZiAoZmlsbCAmJiAhaXNUcmFuc3BhcmVudChmaWxsLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzLnB1c2goWyBcImZpbGxcIiwgZmlsbC5jb2xvciBdKTtcblxuICAgICAgICAgICAgICAgIGlmIChkZWZpbmVkKGZpbGwub3BhY2l0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMucHVzaChbIFwiZmlsbC1vcGFjaXR5XCIsIGZpbGwub3BhY2l0eSBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJzLnB1c2goWyBcImZpbGxcIiwgTk9ORSBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICByZW5kZXJGaWxsKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQWxsQXR0cihcbiAgICAgICAgICAgIHRoaXMubWFwRmlsbCh0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5maWxsKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxwYXRoICR7IHRoaXMucmVuZGVySWQoKSB9ICR7IHRoaXMucmVuZGVyU3R5bGUoKSB9ICR7IHRoaXMucmVuZGVyT3BhY2l0eSgpIH0gJHsgcmVuZGVyQXR0cignZCcsIHRoaXMucmVuZGVyRGF0YSgpKSB9YCArXG4gICAgICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlclN0cm9rZSgpIH0keyB0aGlzLnJlbmRlckZpbGwoKSB9JHsgdGhpcy5yZW5kZXJEZWZpbml0aW9ucygpIH0keyB0aGlzLnJlbmRlclRyYW5zZm9ybSgpIH0+PC9wYXRoPmA7XG4gICAgfVxufVxuXG5OT0RFX01BUC5QYXRoID0gUGF0aE5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IFBhdGhOb2RlOyIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5cbmNsYXNzIEFyY05vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG4gICAgcmVuZGVyRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpbnRQYXRoKHRoaXMuc3JjRWxlbWVudC50b1BhdGgoKSk7XG4gICAgfVxufVxuXG5OT0RFX01BUC5BcmMgPSBBcmNOb2RlO1xuXG5leHBvcnQgZGVmYXVsdCBBcmNOb2RlOyIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5cbmNsYXNzIENpcmNsZU5vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG5cbiAgICBnZW9tZXRyeUNoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXIoKTtcbiAgICAgICAgdGhpcy5hdHRyKFwiY3hcIiwgY2VudGVyLngpO1xuICAgICAgICB0aGlzLmF0dHIoXCJjeVwiLCBjZW50ZXIueSk7XG4gICAgICAgIHRoaXMuYXR0cihcInJcIiwgdGhpcy5yYWRpdXMoKSk7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIGNlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjRWxlbWVudC5nZW9tZXRyeSgpLmNlbnRlcjtcbiAgICB9XG5cbiAgICByYWRpdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNyY0VsZW1lbnQuZ2VvbWV0cnkoKS5yYWRpdXM7XG4gICAgfVxuXG4gICAgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBgPGNpcmNsZSAkeyB0aGlzLnJlbmRlcklkKCkgfSAkeyB0aGlzLnJlbmRlclN0eWxlKCkgfSAkeyB0aGlzLnJlbmRlck9wYWNpdHkoKSB9YCArXG4gICAgICAgICAgICAgICAgICAgIGBjeD0nJHsgdGhpcy5jZW50ZXIoKS54IH0nIGN5PSckeyB0aGlzLmNlbnRlcigpLnkgfScgcj0nJHsgdGhpcy5yYWRpdXMoKSB9J2AgK1xuICAgICAgICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJTdHJva2UoKSB9ICR7IHRoaXMucmVuZGVyRmlsbCgpIH0gJHsgdGhpcy5yZW5kZXJEZWZpbml0aW9ucygpIH1gICtcbiAgICAgICAgICAgICAgICAgICAgYCR7IHRoaXMucmVuZGVyVHJhbnNmb3JtKCkgfSA+PC9jaXJjbGU+YDtcbiAgICB9XG59XG5cbk5PREVfTUFQLkNpcmNsZSA9IENpcmNsZU5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IENpcmNsZU5vZGU7IiwiaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcbmltcG9ydCBOT0RFX01BUCBmcm9tICcuL25vZGUtbWFwJztcblxuY2xhc3MgUmVjdE5vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG5cbiAgICBnZW9tZXRyeUNoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLnNyY0VsZW1lbnQuZ2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5hdHRyKFwieFwiLCBnZW9tZXRyeS5vcmlnaW4ueCk7XG4gICAgICAgIHRoaXMuYXR0cihcInlcIiwgZ2VvbWV0cnkub3JpZ2luLnkpO1xuICAgICAgICB0aGlzLmF0dHIoXCJ3aWR0aFwiLCBnZW9tZXRyeS5zaXplLndpZHRoKTtcbiAgICAgICAgdGhpcy5hdHRyKFwiaGVpZ2h0XCIsIGdlb21ldHJ5LnNpemUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjRWxlbWVudC5nZW9tZXRyeSgpLnNpemU7XG4gICAgfVxuXG4gICAgb3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcmNFbGVtZW50Lmdlb21ldHJ5KCkub3JpZ2luO1xuICAgIH1cblxuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxyZWN0ICR7IHRoaXMucmVuZGVySWQoKSB9ICR7IHRoaXMucmVuZGVyU3R5bGUoKSB9ICR7IHRoaXMucmVuZGVyT3BhY2l0eSgpIH0geD0nJHsgdGhpcy5vcmlnaW4oKS54IH0nIHk9JyR7IHRoaXMub3JpZ2luKCkueSB9JyBgICtcbiAgICAgICAgICAgICAgICAgICAgYHdpZHRoPSckeyB0aGlzLnNpemUoKS53aWR0aCB9JyBoZWlnaHQ9JyR7IHRoaXMuc2l6ZSgpLmhlaWdodCB9JyAkeyB0aGlzLnJlbmRlclN0cm9rZSgpIH0gYCArXG4gICAgICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckZpbGwoKSB9ICR7IHRoaXMucmVuZGVyRGVmaW5pdGlvbnMoKSB9ICR7IHRoaXMucmVuZGVyVHJhbnNmb3JtKCkgfSAvPmA7XG4gICAgfVxufVxuXG5OT0RFX01BUC5SZWN0ID0gUmVjdE5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IFJlY3ROb2RlOyIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5pbXBvcnQgcmVuZGVyQWxsQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hbGwtYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBodG1sRW5jb2RlIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgSW1hZ2VOb2RlIGV4dGVuZHMgUGF0aE5vZGUge1xuXG4gICAgZ2VvbWV0cnlDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuYWxsQXR0cih0aGlzLm1hcFBvc2l0aW9uKCkpO1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuZmllbGQgPT09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYWxsQXR0cih0aGlzLm1hcFNvdXJjZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLm9wdGlvbnNDaGFuZ2UoZSk7XG4gICAgfVxuXG4gICAgbWFwUG9zaXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLnNyY0VsZW1lbnQucmVjdCgpO1xuICAgICAgICBjb25zdCB0bCA9IHJlY3QudG9wTGVmdCgpO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbIFwieFwiLCB0bC54IF0sXG4gICAgICAgICAgICBbIFwieVwiLCB0bC55IF0sXG4gICAgICAgICAgICBbIFwid2lkdGhcIiwgcmVjdC53aWR0aCgpICsgXCJweFwiIF0sXG4gICAgICAgICAgICBbIFwiaGVpZ2h0XCIsIHJlY3QuaGVpZ2h0KCkgKyBcInB4XCIgXVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHJlbmRlclBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQWxsQXR0cih0aGlzLm1hcFBvc2l0aW9uKCkpO1xuICAgIH1cblxuICAgIG1hcFNvdXJjZShlbmNvZGUpIHtcbiAgICAgICAgbGV0IHNyYyA9IHRoaXMuc3JjRWxlbWVudC5zcmMoKTtcblxuICAgICAgICBpZiAoZW5jb2RlKSB7XG4gICAgICAgICAgICBzcmMgPSBodG1sRW5jb2RlKHNyYyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyBbIFwieGxpbms6aHJlZlwiLCBzcmMgXSBdO1xuICAgIH1cblxuICAgIHJlbmRlclNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckFsbEF0dHIodGhpcy5tYXBTb3VyY2UodHJ1ZSkpO1xuICAgIH1cblxuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxpbWFnZSBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSdub25lJyAkeyB0aGlzLnJlbmRlcklkKCkgfSAkeyB0aGlzLnJlbmRlclN0eWxlKCkgfSAkeyB0aGlzLnJlbmRlclRyYW5zZm9ybSgpfSAkeyB0aGlzLnJlbmRlck9wYWNpdHkoKSB9YCArXG4gICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJQb3NpdGlvbigpIH0gJHsgdGhpcy5yZW5kZXJTb3VyY2UoKSB9ICR7IHRoaXMucmVuZGVyRGVmaW5pdGlvbnMoKX0+YCArXG4gICAgICAgICAgICAgICBgPC9pbWFnZT5gO1xuICAgIH1cbn1cblxuTk9ERV9NQVAuSW1hZ2UgPSBJbWFnZU5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlTm9kZTsiLCJpbXBvcnQgUGF0aE5vZGUgZnJvbSAnLi9wYXRoLW5vZGUnO1xuaW1wb3J0IHJlbmRlclN0eWxlIGZyb20gJy4vdXRpbHMvcmVuZGVyLXN0eWxlJztcbmltcG9ydCByZW5kZXJBdHRyIGZyb20gJy4vdXRpbHMvcmVuZGVyLWF0dHJpYnV0ZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5pbXBvcnQgeyBodG1sRW5jb2RlLCBzdXBwb3J0IH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IG5vcm1hbGl6ZVRleHQgfSBmcm9tICcuLi90ZXh0LW1ldHJpY3MnO1xuXG5jb25zdCBFTlRJVFlfUkVHRVggPSAvJig/OlthLXpBLVpdK3wjXFxkKyk7L2c7XG5cbmZ1bmN0aW9uIGRlY29kZUVudGl0aWVzKHRleHQpIHtcbiAgICBpZiAoIXRleHQgfHwgdHlwZW9mIHRleHQgIT09IFwic3RyaW5nXCIgfHwgIUVOVElUWV9SRUdFWC50ZXN0KHRleHQpKSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnQgPSBkZWNvZGVFbnRpdGllcy5fZWxlbWVudDtcbiAgICBFTlRJVFlfUkVHRVgubGFzdEluZGV4ID0gMDtcblxuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoRU5USVRZX1JFR0VYLCAobWF0Y2gpID0+IHtcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBtYXRjaDtcblxuICAgICAgICByZXR1cm4gZWxlbWVudC50ZXh0Q29udGVudCB8fCBlbGVtZW50LmlubmVyVGV4dDtcbiAgICB9KTtcbn1cblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGRlY29kZUVudGl0aWVzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG59XG5cbmNsYXNzIFRleHROb2RlIGV4dGVuZHMgUGF0aE5vZGUge1xuXG4gICAgZ2VvbWV0cnlDaGFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zKCk7XG4gICAgICAgIHRoaXMuYXR0cihcInhcIiwgcG9zLngpO1xuICAgICAgICB0aGlzLmF0dHIoXCJ5XCIsIHBvcy55KTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgb3B0aW9uc0NoYW5nZShlKSB7XG4gICAgICAgIGlmIChlLmZpZWxkID09PSBcImZvbnRcIikge1xuICAgICAgICAgICAgdGhpcy5hdHRyKFwic3R5bGVcIiwgcmVuZGVyU3R5bGUodGhpcy5tYXBTdHlsZSgpKSk7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5maWVsZCA9PT0gXCJjb250ZW50XCIpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbnRlbnQodGhpcy5zcmNFbGVtZW50LmNvbnRlbnQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5vcHRpb25zQ2hhbmdlKGUpO1xuICAgIH1cblxuICAgIG1hcFN0eWxlKGVuY29kZSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN1cGVyLm1hcFN0eWxlKGVuY29kZSk7XG4gICAgICAgIGxldCBmb250ID0gdGhpcy5zcmNFbGVtZW50Lm9wdGlvbnMuZm9udDtcblxuICAgICAgICBpZiAoZW5jb2RlKSB7XG4gICAgICAgICAgICBmb250ID0gaHRtbEVuY29kZShmb250KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlLnB1c2goWyBcImZvbnRcIiwgZm9udCBdLCBbIFwid2hpdGUtc3BhY2VcIiwgXCJwcmVcIiBdKTtcblxuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgcG9zKCkge1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLnNyY0VsZW1lbnQucG9zaXRpb24oKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc3JjRWxlbWVudC5tZWFzdXJlKCk7XG4gICAgICAgIHJldHVybiBwb3MuY2xvbmUoKS5zZXRZKHBvcy55ICsgc2l6ZS5iYXNlbGluZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLnNyY0VsZW1lbnQuY29udGVudCgpO1xuICAgICAgICBjb250ZW50ID0gZGVjb2RlRW50aXRpZXMoY29udGVudCk7XG4gICAgICAgIGNvbnRlbnQgPSBodG1sRW5jb2RlKGNvbnRlbnQpO1xuXG4gICAgICAgIHJldHVybiBub3JtYWxpemVUZXh0KGNvbnRlbnQpO1xuICAgIH1cblxuICAgIHJlbmRlclRleHRBbmNob3IoKSB7XG4gICAgICAgIGxldCBhbmNob3I7XG5cbiAgICAgICAgaWYgKCh0aGlzLm9wdGlvbnMgfHwge30pLnJ0bCAmJiAhKHN1cHBvcnQuYnJvd3Nlci5tc2llIHx8IHN1cHBvcnQuYnJvd3Nlci5lZGdlKSkge1xuICAgICAgICAgICAgYW5jaG9yID0gJ2VuZCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVuZGVyQXR0cihcInRleHQtYW5jaG9yXCIsIGFuY2hvcik7XG4gICAgfVxuXG4gICAgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBgPHRleHQgJHsgdGhpcy5yZW5kZXJJZCgpIH0gJHsgdGhpcy5yZW5kZXJUZXh0QW5jaG9yKCkgfSAkeyB0aGlzLnJlbmRlclN0eWxlKCkgfSAkeyB0aGlzLnJlbmRlck9wYWNpdHkoKSB9YCArXG4gICAgICAgICAgICAgICAgICAgIGB4PSckeyB0aGlzLnBvcygpLnggfScgeT0nJHsgdGhpcy5wb3MoKS55IH0nICR7IHRoaXMucmVuZGVyU3Ryb2tlKCkgfSAkeyB0aGlzLnJlbmRlclRyYW5zZm9ybSgpIH0gJHsgdGhpcy5yZW5kZXJEZWZpbml0aW9ucygpIH1gICtcbiAgICAgICAgICAgICAgICAgICAgYCR7IHRoaXMucmVuZGVyRmlsbCgpIH0+JHsgdGhpcy5yZW5kZXJDb250ZW50KCkgfTwvdGV4dD5gO1xuICAgIH1cbn1cblxuTk9ERV9NQVAuVGV4dCA9IFRleHROb2RlO1xuXG5leHBvcnQgZGVmYXVsdCBUZXh0Tm9kZTsiLCJpbXBvcnQgUGF0aE5vZGUgZnJvbSAnLi9wYXRoLW5vZGUnO1xuaW1wb3J0IE5PREVfTUFQIGZyb20gJy4vbm9kZS1tYXAnO1xuXG5jbGFzcyBNdWx0aVBhdGhOb2RlIGV4dGVuZHMgUGF0aE5vZGUge1xuICAgIHJlbmRlckRhdGEoKSB7XG4gICAgICAgIGNvbnN0IHBhdGhzID0gdGhpcy5zcmNFbGVtZW50LnBhdGhzO1xuXG4gICAgICAgIGlmIChwYXRocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMucHJpbnRQYXRoKHBhdGhzW2ldKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuam9pbihcIiBcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbk5PREVfTUFQLk11bHRpUGF0aCA9IE11bHRpUGF0aE5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IE11bHRpUGF0aE5vZGU7IiwiaW1wb3J0IFJvb3ROb2RlIGZyb20gJy4vcm9vdC1ub2RlJztcbmltcG9ydCB7IEdyb3VwIH0gZnJvbSAnLi4vc2hhcGVzJztcbmltcG9ydCB7IHRyYW5zZm9ybSB9IGZyb20gJy4uL2dlb21ldHJ5JztcbmltcG9ydCB7IFNWR19OUyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXhwb3J0R3JvdXAoZ3JvdXApIHtcbiAgICBjb25zdCByb290ID0gbmV3IFJvb3ROb2RlKHtcbiAgICAgICAgc2tpcEJhc2VIcmVmOiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgYmJveCA9IGdyb3VwLmNsaXBwZWRCQm94KCk7XG4gICAgbGV0IHJvb3RHcm91cCA9IGdyb3VwO1xuXG4gICAgaWYgKGJib3gpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gYmJveC5nZXRPcmlnaW4oKTtcbiAgICAgICAgY29uc3QgZXhwb3J0Um9vdCA9IG5ldyBHcm91cCgpO1xuICAgICAgICBleHBvcnRSb290LnRyYW5zZm9ybSh0cmFuc2Zvcm0oKS50cmFuc2xhdGUoLW9yaWdpbi54LCAtb3JpZ2luLnkpKTtcbiAgICAgICAgZXhwb3J0Um9vdC5jaGlsZHJlbi5wdXNoKGdyb3VwKTtcbiAgICAgICAgcm9vdEdyb3VwID0gZXhwb3J0Um9vdDtcbiAgICB9XG5cbiAgICByb290LmxvYWQoWyByb290R3JvdXAgXSk7XG5cbiAgICBjb25zdCBzdmcgPSBgPD94bWwgdmVyc2lvbj0nMS4wJyA/PjxzdmcgeG1sbnM9JyR7IFNWR19OUyB9JyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgdmVyc2lvbj0nMS4xJz4keyByb290LnJlbmRlcigpIH08L3N2Zz5gO1xuXG4gICAgcm9vdC5kZXN0cm95KCk7XG5cbiAgICByZXR1cm4gc3ZnO1xufSIsImNvbnN0IE5PREVfTUFQID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IE5PREVfTUFQOyIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyUGF0aChjdHgsIHBhdGgpIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdGguc2VnbWVudHM7XG5cbiAgICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgc2VnbWVudCA9IHNlZ21lbnRzWzBdO1xuICAgIGxldCBhbmNob3IgPSBzZWdtZW50LmFuY2hvcigpO1xuICAgIGN0eC5tb3ZlVG8oYW5jaG9yLngsIGFuY2hvci55KTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuICAgICAgICBhbmNob3IgPSBzZWdtZW50LmFuY2hvcigpO1xuXG4gICAgICAgIGxldCBwcmV2U2VnID0gc2VnbWVudHNbaSAtIDFdO1xuICAgICAgICBsZXQgcHJldk91dCA9IHByZXZTZWcuY29udHJvbE91dCgpO1xuICAgICAgICBsZXQgY29udHJvbEluID0gc2VnbWVudC5jb250cm9sSW4oKTtcblxuICAgICAgICBpZiAocHJldk91dCAmJiBjb250cm9sSW4pIHtcbiAgICAgICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHByZXZPdXQueCwgcHJldk91dC55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbEluLngsIGNvbnRyb2xJbi55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yLngsIGFuY2hvci55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oYW5jaG9yLngsIGFuY2hvci55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwYXRoLm9wdGlvbnMuY2xvc2VkKSB7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9XG59IiwiaW1wb3J0IEJhc2VOb2RlIGZyb20gJy4uL2NvcmUvYmFzZS1ub2RlJztcbmltcG9ydCBOT0RFX01BUCBmcm9tICcuL25vZGUtbWFwJztcbmltcG9ydCByZW5kZXJQYXRoIGZyb20gJy4vdXRpbHMvcmVuZGVyLXBhdGgnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jbGFzcyBOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoc3JjRWxlbWVudCk7XG4gICAgICAgIGlmIChzcmNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmluaXRDbGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0Q2xpcCgpIHtcbiAgICAgICAgY29uc3QgY2xpcCA9IHRoaXMuc3JjRWxlbWVudC5jbGlwKCk7XG4gICAgICAgIGlmIChjbGlwKSB7XG4gICAgICAgICAgICB0aGlzLmNsaXAgPSBjbGlwO1xuICAgICAgICAgICAgY2xpcC5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAodGhpcy5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNyY0VsZW1lbnQucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFyQ2xpcCgpO1xuXG4gICAgICAgIHN1cGVyLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgY2xlYXJDbGlwKCkge1xuICAgICAgICBpZiAodGhpcy5jbGlwKSB7XG4gICAgICAgICAgICB0aGlzLmNsaXAucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jbGlwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q2xpcChjdHgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xpcCkge1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgcmVuZGVyUGF0aChjdHgsIHRoaXMuY2xpcCk7XG4gICAgICAgICAgICBjdHguY2xpcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3B0aW9uc0NoYW5nZShlKSB7XG4gICAgICAgIGlmIChlLmZpZWxkID09PSBcImNsaXBcIikge1xuICAgICAgICAgICAgdGhpcy5jbGVhckNsaXAoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdENsaXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLm9wdGlvbnNDaGFuZ2UoZSk7XG4gICAgfVxuXG4gICAgc2V0VHJhbnNmb3JtKGN0eCkge1xuICAgICAgICBpZiAodGhpcy5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLnNyY0VsZW1lbnQudHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgY3R4LnRyYW5zZm9ybS5hcHBseShjdHgsIHRyYW5zZm9ybS5tYXRyaXgoKS50b0FycmF5KDYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRFbGVtZW50cyhlbGVtZW50cywgcG9zLCBjb3JzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzcmNFbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSBzcmNFbGVtZW50LmNoaWxkcmVuO1xuXG4gICAgICAgICAgICBsZXQgY2hpbGROb2RlID0gbmV3IE5PREVfTUFQW3NyY0VsZW1lbnQubm9kZVR5cGVdKHNyY0VsZW1lbnQsIGNvcnMpO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNoaWxkTm9kZS5sb2FkKGNoaWxkcmVuLCBwb3MsIGNvcnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChwb3MpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChjaGlsZE5vZGUsIHBvcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKGVsZW1lbnRzLCBwb3MsIGNvcnMpIHtcbiAgICAgICAgdGhpcy5sb2FkRWxlbWVudHMoZWxlbWVudHMsIHBvcywgY29ycyk7XG5cbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgc2V0T3BhY2l0eShjdHgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3JjRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3Qgb3BhY2l0eSA9IHRoaXMuc3JjRWxlbWVudC5vcGFjaXR5KCk7XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChvcGFjaXR5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsQWxwaGEoY3R4LCBvcGFjaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdsb2JhbEFscGhhKGN0eCwgdmFsdWUpIHtcbiAgICAgICAgbGV0IG9wYWN0aXR5ID0gdmFsdWU7XG4gICAgICAgIGlmIChvcGFjdGl0eSAmJiBjdHguZ2xvYmFsQWxwaGEpIHtcbiAgICAgICAgICAgIG9wYWN0aXR5ICo9IGN0eC5nbG9iYWxBbHBoYTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBvcGFjdGl0eTtcbiAgICB9XG5cbiAgICB2aXNpYmxlKCkge1xuICAgICAgICBjb25zdCBzcmMgPSB0aGlzLnNyY0VsZW1lbnQ7XG4gICAgICAgIHJldHVybiAhc3JjIHx8IChzcmMgJiYgc3JjLm9wdGlvbnMudmlzaWJsZSAhPT0gZmFsc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTm9kZTsiLCJpbXBvcnQgTm9kZSBmcm9tICcuL25vZGUnO1xuaW1wb3J0IFRyYXZlcnNhYmxlIGZyb20gJy4uL21peGlucy90cmF2ZXJzYWJsZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5cbmNsYXNzIEdyb3VwTm9kZSBleHRlbmRzIE5vZGUge1xuXG4gICAgcmVuZGVyVG8oY3R4KSB7XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgICAgdGhpcy5zZXRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgICAgdGhpcy5zZXRDbGlwKGN0eCk7XG4gICAgICAgIHRoaXMuc2V0T3BhY2l0eShjdHgpO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSB0aGlzLmNoaWxkTm9kZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5yZW5kZXJUbyhjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG59XG5cblRyYXZlcnNhYmxlLmV4dGVuZChHcm91cE5vZGUucHJvdG90eXBlLCBcImNoaWxkTm9kZXNcIik7XG5cbk5PREVfTUFQLkdyb3VwID0gR3JvdXBOb2RlO1xuXG5leHBvcnQgZGVmYXVsdCBHcm91cE5vZGU7IiwiaW1wb3J0IEdyb3VwTm9kZSBmcm9tICcuL2dyb3VwLW5vZGUnO1xuaW1wb3J0IFRyYXZlcnNhYmxlIGZyb20gJy4uL21peGlucy90cmF2ZXJzYWJsZSc7XG5pbXBvcnQgeyBhbmltYXRpb25GcmFtZSwgdGhyb3R0bGUgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBGUkFNRV9ERUxBWSA9IDEwMDAgLyA2MDtcblxuY2xhc3MgUm9vdE5vZGUgZXh0ZW5kcyBHcm91cE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgc2l6ZSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgICAgY29uc3QgaW52YWxpZGF0ZUhhbmRsZXIgPSB0aGlzLl9pbnZhbGlkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSA9IHRocm90dGxlKCgpID0+IHtcbiAgICAgICAgICAgIGFuaW1hdGlvbkZyYW1lKGludmFsaWRhdGVIYW5kbGVyKTtcbiAgICAgICAgfSwgRlJBTUVfREVMQVkpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLmN0eCA9IG51bGw7XG4gICAgfVxuXG4gICAgbG9hZChlbGVtZW50cywgcG9zLCBjb3JzKSB7XG4gICAgICAgIHRoaXMubG9hZEVsZW1lbnRzKGVsZW1lbnRzLCBwb3MsIGNvcnMpO1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgX3Jlc2NhbGUoKSB7XG4gICAgICAgIGNvbnN0IHsgY2FudmFzLCBzaXplIH0gPSB0aGlzO1xuICAgICAgICBsZXQgc2NhbGUgPSAxO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93LmRldmljZVBpeGVsUmF0aW8gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzY2FsZSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gc2l6ZS53aWR0aCAqIHNjYWxlO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgdGhpcy5jdHguc2NhbGUoc2NhbGUsIHNjYWxlKTtcbiAgICB9XG5cbiAgICBfaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN0eCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVzY2FsZSgpO1xuXG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5yZW5kZXJUbyh0aGlzLmN0eCk7XG4gICAgfVxufVxuXG5UcmF2ZXJzYWJsZS5leHRlbmQoUm9vdE5vZGUucHJvdG90eXBlLCBcImNoaWxkTm9kZXNcIik7XG5cbmV4cG9ydCBkZWZhdWx0IFJvb3ROb2RlO1xuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBRdWFkUm9vdCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnNoYXBlcyA9IFtdO1xuICAgIH1cblxuICAgIF9hZGQoc2hhcGUsIGJib3gpIHtcbiAgICAgICAgdGhpcy5zaGFwZXMucHVzaCh7XG4gICAgICAgICAgICBiYm94OiBiYm94LFxuICAgICAgICAgICAgc2hhcGU6IHNoYXBlXG4gICAgICAgIH0pO1xuICAgICAgICBzaGFwZS5fcXVhZE5vZGUgPSB0aGlzO1xuICAgIH1cblxuICAgIHBvaW50U2hhcGVzKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzaGFwZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKHNoYXBlc1tpZHhdLmJib3guY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzaGFwZXNbaWR4XS5zaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpbnNlcnQoc2hhcGUsIGJib3gpIHtcbiAgICAgICAgdGhpcy5fYWRkKHNoYXBlLCBiYm94KTtcbiAgICB9XG5cbiAgICByZW1vdmUoc2hhcGUpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHNoYXBlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKHNoYXBlc1tpZHhdLnNoYXBlID09PSBzaGFwZSkge1xuICAgICAgICAgICAgICAgIHNoYXBlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUXVhZFJvb3Q7IiwiaW1wb3J0IFF1YWRSb290IGZyb20gJy4vcXVhZC1yb290JztcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuLi9nZW9tZXRyeSc7XG5pbXBvcnQgeyBhcHBlbmQgfSBmcm9tICcuLi91dGlsJztcblxuY2xhc3MgUXVhZE5vZGUgZXh0ZW5kcyBRdWFkUm9vdCB7XG4gICAgY29uc3RydWN0b3IocmVjdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMucmVjdCA9IHJlY3Q7XG4gICAgfVxuXG4gICAgaW5Cb3VuZHMocmVjdCkge1xuICAgICAgICBjb25zdCBub2RlUmVjdCA9IHRoaXMucmVjdDtcbiAgICAgICAgY29uc3Qgbm9kZUJvdHRvbVJpZ2h0ID0gbm9kZVJlY3QuYm90dG9tUmlnaHQoKTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSByZWN0LmJvdHRvbVJpZ2h0KCk7XG4gICAgICAgIGNvbnN0IGluQm91bmRzID0gbm9kZVJlY3Qub3JpZ2luLnggPD0gcmVjdC5vcmlnaW4ueCAmJiBub2RlUmVjdC5vcmlnaW4ueSA8PSByZWN0Lm9yaWdpbi55ICYmIGJvdHRvbVJpZ2h0LnggPD0gbm9kZUJvdHRvbVJpZ2h0LnggJiZcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0LnkgPD0gbm9kZUJvdHRvbVJpZ2h0Lnk7XG4gICAgICAgIHJldHVybiBpbkJvdW5kcztcbiAgICB9XG5cbiAgICBwb2ludFNoYXBlcyhwb2ludCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3VwZXIucG9pbnRTaGFwZXMocG9pbnQpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBhcHBlbmQocmVzdWx0LCBjaGlsZHJlbltpZHhdLnBvaW50U2hhcGVzKHBvaW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpbnNlcnQoc2hhcGUsIGJib3gpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBsZXQgaW5zZXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5pbkJvdW5kcyhiYm94KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hhcGVzLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGQoc2hhcGUsIGJib3gpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjaGlsZHJlbi5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbltpZHhdLmluc2VydChzaGFwZSwgYmJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFpbnNlcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGQoc2hhcGUsIGJib3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc2VydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnNlcnRlZDtcbiAgICB9XG5cbiAgICBfaW5pdENoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCB7IHJlY3QsIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSByZWN0LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBoYWxmV2lkdGggPSByZWN0LndpZHRoKCkgLyAyO1xuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gcmVjdC5oZWlnaHQoKSAvIDI7XG5cbiAgICAgICAgY2hpbGRyZW4ucHVzaChcbiAgICAgICAgICAgIG5ldyBRdWFkTm9kZShuZXcgUmVjdChbIHJlY3Qub3JpZ2luLngsIHJlY3Qub3JpZ2luLnkgXSwgWyBoYWxmV2lkdGgsIGhhbGZIZWlnaHQgXSkpLFxuICAgICAgICAgICAgbmV3IFF1YWROb2RlKG5ldyBSZWN0KFsgY2VudGVyLngsIHJlY3Qub3JpZ2luLnkgXSwgWyBoYWxmV2lkdGgsIGhhbGZIZWlnaHQgXSkpLFxuICAgICAgICAgICAgbmV3IFF1YWROb2RlKG5ldyBSZWN0KFsgcmVjdC5vcmlnaW4ueCwgY2VudGVyLnkgXSwgWyBoYWxmV2lkdGgsIGhhbGZIZWlnaHQgXSkpLFxuICAgICAgICAgICAgbmV3IFF1YWROb2RlKG5ldyBSZWN0KFsgY2VudGVyLngsIGNlbnRlci55IF0sIFsgaGFsZldpZHRoLCBoYWxmSGVpZ2h0IF0pKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUXVhZE5vZGU7IiwiaW1wb3J0IFF1YWRSb290IGZyb20gJy4vcXVhZC1yb290JztcbmltcG9ydCBRdWFkTm9kZSBmcm9tICcuL3F1YWQtbm9kZSc7XG5pbXBvcnQgeyBSZWN0IH0gZnJvbSAnLi4vZ2VvbWV0cnknO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgYXBwZW5kIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFJPT1RfU0laRSA9IDMwMDA7XG5jb25zdCBMRVZFTF9TVEVQID0gMTAwMDA7XG5jb25zdCBNQVhfTEVWRUwgPSA3NTtcblxuY2xhc3MgU2hhcGVzUXVhZFRyZWUgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmluaXRSb290cygpO1xuICAgIH1cblxuICAgIGluaXRSb290cygpIHtcbiAgICAgICAgdGhpcy5yb290TWFwID0ge307XG4gICAgICAgIHRoaXMucm9vdCA9IG5ldyBRdWFkUm9vdCgpO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50cyA9IFtdO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBjb25zdCByb290RWxlbWVudHMgPSB0aGlzLnJvb3RFbGVtZW50cztcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcm9vdEVsZW1lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHJvb3RFbGVtZW50c1tpZHhdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRSb290cygpO1xuICAgIH1cblxuICAgIHBvaW50U2hhcGUocG9pbnQpIHtcbiAgICAgICAgY29uc3Qgc2VjdG9yUm9vdCA9ICggdGhpcy5yb290TWFwWyBNYXRoLmZsb29yKCBwb2ludC54IC8gUk9PVF9TSVpFICkgXSB8fCB7fSApWyBNYXRoLmZsb29yKCBwb2ludC55IC8gUk9PVF9TSVpFICkgXTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucm9vdC5wb2ludFNoYXBlcyhwb2ludCk7XG5cbiAgICAgICAgaWYgKHNlY3RvclJvb3QpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoc2VjdG9yUm9vdC5wb2ludFNoYXBlcyhwb2ludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hc3NpZ25aaW5kZXgocmVzdWx0KTtcblxuICAgICAgICByZXN1bHQuc29ydCh6SW5kZXhDb21wYXJlcik7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHJlc3VsdC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2lkeF0uY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0W2lkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3NpZ25aaW5kZXgoZWxlbWVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50c1tpZHhdO1xuICAgICAgICAgICAgbGV0IHpJbmRleCA9IDA7XG4gICAgICAgICAgICBsZXQgbGV2ZWxXZWlnaHQgPSBNYXRoLnBvdyhMRVZFTF9TVEVQLCBNQVhfTEVWRUwpO1xuICAgICAgICAgICAgbGV0IHBhcmVudHMgPSBbXTtcblxuICAgICAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gcGFyZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICB6SW5kZXggKz0gKChlbGVtZW50LnBhcmVudCA/IGVsZW1lbnQucGFyZW50LmNoaWxkcmVuIDogdGhpcy5yb290RWxlbWVudHMpLmluZGV4T2YoZWxlbWVudCkgKyAxKSAqIGxldmVsV2VpZ2h0O1xuICAgICAgICAgICAgICAgIGxldmVsV2VpZ2h0IC89IExFVkVMX1NURVA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsZW1lbnRzW2lkeF0uX3pJbmRleCA9IHpJbmRleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoZSkge1xuICAgICAgICBpZiAoZS5maWVsZCA9PT0gXCJ0cmFuc2Zvcm1cIiB8fCBlLmZpZWxkID09PSBcInN0cm9rZS53aWR0aFwiKSB7XG4gICAgICAgICAgICB0aGlzLmJib3hDaGFuZ2UoZS5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdlb21ldHJ5Q2hhbmdlKGUpIHtcbiAgICAgICAgdGhpcy5iYm94Q2hhbmdlKGUuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgYmJveENoYW5nZShlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBcIkdyb3VwXCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYmJveENoYW5nZShlbGVtZW50LmNoaWxkcmVuW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuX3F1YWROb2RlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5fcXVhZE5vZGUucmVtb3ZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5zZXJ0U2hhcGUoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGQoZWxlbWVudHMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHNBcnJheSA9IEFycmF5LmlzQXJyYXkoZWxlbWVudHMpID8gZWxlbWVudHMuc2xpY2UoMCkgOiBbIGVsZW1lbnRzIF07XG5cbiAgICAgICAgYXBwZW5kKHRoaXMucm9vdEVsZW1lbnRzLCBlbGVtZW50c0FycmF5KTtcbiAgICAgICAgdGhpcy5faW5zZXJ0KGVsZW1lbnRzQXJyYXkpO1xuICAgIH1cblxuICAgIGNoaWxkcmVuQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuYWN0aW9uID09PSBcInJlbW92ZVwiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBlLml0ZW1zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShlLml0ZW1zW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW5zZXJ0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuaXRlbXMsIDApKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbnNlcnQoZWxlbWVudHMpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQ7XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50cy5wb3AoKTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gXCJHcm91cFwiKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kKGVsZW1lbnRzLCBlbGVtZW50LmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zZXJ0U2hhcGUoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5zZXJ0U2hhcGUoc2hhcGUpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHNoYXBlLmJib3goKTtcbiAgICAgICAgaWYgKGJib3gpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3RvcnMgPSB0aGlzLmdldFNlY3RvcnMoYmJveCk7XG4gICAgICAgICAgICBjb25zdCB4ID0gc2VjdG9yc1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBzZWN0b3JzWzFdWzBdO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pblJvb3Qoc2VjdG9ycykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QuaW5zZXJ0KHNoYXBlLCBiYm94KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdE1hcCA9IHRoaXMucm9vdE1hcDtcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RNYXBbeF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdE1hcFt4XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghcm9vdE1hcFt4XVt5XSkge1xuICAgICAgICAgICAgICAgICAgICByb290TWFwW3hdW3ldID0gbmV3IFF1YWROb2RlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlY3QoWyB4ICogUk9PVF9TSVpFLCB5ICogUk9PVF9TSVpFIF0sIFsgUk9PVF9TSVpFLCBST09UX1NJWkUgXSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByb290TWFwW3hdW3ldLmluc2VydChzaGFwZSwgYmJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmUoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuXG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBcIkdyb3VwXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNoaWxkcmVuLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShjaGlsZHJlbltpZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Ll9xdWFkTm9kZSkge1xuICAgICAgICAgICAgZWxlbWVudC5fcXVhZE5vZGUucmVtb3ZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQuX3F1YWROb2RlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5Sb290KHNlY3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIHNlY3RvcnNbMF0ubGVuZ3RoID4gMSB8fCBzZWN0b3JzWzFdLmxlbmd0aCA+IDE7XG4gICAgfVxuXG4gICAgZ2V0U2VjdG9ycyhyZWN0KSB7XG4gICAgICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gcmVjdC5ib3R0b21SaWdodCgpO1xuICAgICAgICBjb25zdCBib3R0b21YID0gTWF0aC5mbG9vcihib3R0b21SaWdodC54IC8gUk9PVF9TSVpFKTtcbiAgICAgICAgY29uc3QgYm90dG9tWSA9IE1hdGguZmxvb3IoYm90dG9tUmlnaHQueSAvIFJPT1RfU0laRSk7XG4gICAgICAgIGNvbnN0IHNlY3RvcnMgPSBbIFtdLCBbXSBdO1xuICAgICAgICBmb3IgKGxldCB4ID0gTWF0aC5mbG9vcihyZWN0Lm9yaWdpbi54IC8gUk9PVF9TSVpFKTsgeCA8PSBib3R0b21YOyB4KyspIHtcbiAgICAgICAgICAgIHNlY3RvcnNbMF0ucHVzaCh4KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB5ID0gTWF0aC5mbG9vcihyZWN0Lm9yaWdpbi55IC8gUk9PVF9TSVpFKTsgeSA8PSBib3R0b21ZOyB5KyspIHtcbiAgICAgICAgICAgIHNlY3RvcnNbMV0ucHVzaCh5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdG9ycztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHpJbmRleENvbXBhcmVyKHgxLCB4Mikge1xuICAgIGlmICh4MS5fekluZGV4IDwgeDIuX3pJbmRleCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHgxLl96SW5kZXggPiB4Mi5fekluZGV4KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hhcGVzUXVhZFRyZWU7IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jbGFzcyBTdXJmYWNlQ3Vyc29yIHtcblxuICAgIGNvbnN0cnVjdG9yKHN1cmZhY2UpIHtcbiAgICAgICAgc3VyZmFjZS5iaW5kKFwibW91c2VlbnRlclwiLCB0aGlzLl9tb3VzZWVudGVyLmJpbmQodGhpcykpO1xuICAgICAgICBzdXJmYWNlLmJpbmQoXCJtb3VzZWxlYXZlXCIsIHRoaXMuX21vdXNlbGVhdmUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gc3VyZmFjZS5lbGVtZW50O1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9yZXNldEN1cnNvcigpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0Q3Vyc29yKCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnQ7XG4gICAgfVxuXG4gICAgX21vdXNlZW50ZXIoZSkge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLl9zaGFwZUN1cnNvcihlKTtcblxuICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgICAgdGhpcy5fcmVzZXRDdXJzb3IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRDdXJzb3IgPSB0aGlzLl9nZXRDdXJzb3IoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yKGN1cnNvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2VsZWF2ZSgpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRDdXJzb3IoKTtcbiAgICB9XG5cbiAgICBfc2hhcGVDdXJzb3IoZSkge1xuICAgICAgICBsZXQgc2hhcGUgPSBlLmVsZW1lbnQ7XG5cbiAgICAgICAgd2hpbGUgKHNoYXBlICYmICFkZWZpbmVkKHNoYXBlLm9wdGlvbnMuY3Vyc29yKSkge1xuICAgICAgICAgICAgc2hhcGUgPSBzaGFwZS5wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhcGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzaGFwZS5vcHRpb25zLmN1cnNvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRDdXJzb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc3R5bGUuY3Vyc29yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldEN1cnNvcihjdXJzb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBjdXJzb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVzZXRDdXJzb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3IodGhpcy5fZGVmYXVsdEN1cnNvciB8fCBcIlwiKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jdXJyZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdXJmYWNlQ3Vyc29yO1xuXG4iLCJpbXBvcnQgQmFzZVN1cmZhY2UgZnJvbSAnLi4vY29yZS9zdXJmYWNlJztcbmltcG9ydCBTdXJmYWNlRmFjdG9yeSBmcm9tICcuLi9jb3JlL3N1cmZhY2UtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVQcm9taXNlLCBwcm9taXNlQWxsLCBiaW5kRXZlbnRzLCBlbGVtZW50U2l6ZSwgdW5iaW5kRXZlbnRzIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgUm9vdE5vZGUgZnJvbSAnLi9yb290LW5vZGUnO1xuaW1wb3J0IFNoYXBlc1F1YWRUcmVlIGZyb20gJy4uL3NlYXJjaC9zaGFwZXMtcXVhZC10cmVlJztcbmltcG9ydCBTdXJmYWNlQ3Vyc29yIGZyb20gJy4vc3VyZmFjZS1jdXJzb3InO1xuXG5jbGFzcyBTdXJmYWNlIGV4dGVuZHMgQmFzZVN1cmZhY2Uge1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5fdGVtcGxhdGUodGhpcyk7XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICBjb25zdCBzaXplID0gZWxlbWVudFNpemUoZWxlbWVudCk7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gc2l6ZS53aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50ID0gY2FudmFzO1xuXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgUm9vdE5vZGUoY2FudmFzLCBzaXplKTtcblxuICAgICAgICB0aGlzLl9tb3VzZVRyYWNrSGFuZGxlciA9IHRoaXMuX3RyYWNrTW91c2UuYmluZCh0aGlzKTtcblxuICAgICAgICBiaW5kRXZlbnRzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgY2xpY2s6IHRoaXMuX21vdXNlVHJhY2tIYW5kbGVyLFxuICAgICAgICAgICAgbW91c2Vtb3ZlOiB0aGlzLl9tb3VzZVRyYWNrSGFuZGxlclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2VhcmNoVHJlZSkge1xuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVHJlZS5jbGVhcigpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3NlYXJjaFRyZWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY3Vyc29yKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJzb3IuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2N1cnNvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVuYmluZEV2ZW50cyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIGNsaWNrOiB0aGlzLl9tb3VzZVRyYWNrSGFuZGxlcixcbiAgICAgICAgICAgIG1vdXNlbW92ZTogdGhpcy5fbW91c2VUcmFja0hhbmRsZXJcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZHJhdyhlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyLmRyYXcoZWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3Jvb3QubG9hZChbIGVsZW1lbnQgXSwgdW5kZWZpbmVkLCB0aGlzLm9wdGlvbnMuY29ycyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NlYXJjaFRyZWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlYXJjaFRyZWUuYWRkKFsgZWxlbWVudCBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBzdXBlci5jbGVhcigpO1xuICAgICAgICB0aGlzLl9yb290LmNsZWFyKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NlYXJjaFRyZWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlYXJjaFRyZWUuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jdXJzb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvci5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnRUYXJnZXQoZSkge1xuICAgICAgICBpZiAodGhpcy5fc2VhcmNoVHJlZSkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl9zdXJmYWNlUG9pbnQoZSk7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuX3NlYXJjaFRyZWUucG9pbnRTaGFwZShwb2ludCk7XG4gICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbWFnZSgpIHtcbiAgICAgICAgY29uc3QgeyBfcm9vdDogcm9vdCwgX3Jvb3RFbGVtZW50OiByb290RWxlbWVudCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbG9hZGluZ1N0YXRlcyA9IFtdO1xuXG4gICAgICAgIHJvb3QudHJhdmVyc2UoKGNoaWxkTm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZS5sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgbG9hZGluZ1N0YXRlcy5wdXNoKGNoaWxkTm9kZS5sb2FkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IGNyZWF0ZVByb21pc2UoKTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZURhdGFVUkwgPSAoKSA9PiB7XG4gICAgICAgICAgICByb290Ll9pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJvb3RFbGVtZW50LnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwcm9taXNlQWxsKGxvYWRpbmdTdGF0ZXMpLnRoZW4ocmVzb2x2ZURhdGFVUkwsIHJlc29sdmVEYXRhVVJMKTtcblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBzdXNwZW5kVHJhY2tpbmcoKSB7XG4gICAgICAgIHN1cGVyLnN1c3BlbmRUcmFja2luZygpO1xuICAgICAgICBpZiAodGhpcy5fc2VhcmNoVHJlZSkge1xuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVHJlZS5jbGVhcigpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3NlYXJjaFRyZWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bWVUcmFja2luZygpIHtcbiAgICAgICAgc3VwZXIucmVzdW1lVHJhY2tpbmcoKTtcbiAgICAgICAgaWYgKCF0aGlzLl9zZWFyY2hUcmVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWFyY2hUcmVlID0gbmV3IFNoYXBlc1F1YWRUcmVlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSB0aGlzLl9yb290LmNoaWxkTm9kZXM7XG4gICAgICAgICAgICBjb25zdCByb290RWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50cy5wdXNoKGNoaWxkTm9kZXNbaWR4XS5zcmNFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NlYXJjaFRyZWUuYWRkKHJvb3RFbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVzaXplKCkge1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC53aWR0aCA9IHRoaXMuX3NpemUud2lkdGg7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LmhlaWdodCA9IHRoaXMuX3NpemUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX3Jvb3Quc2l6ZSA9IHRoaXMuX3NpemU7XG4gICAgICAgIHRoaXMuX3Jvb3QuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIF90ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiPGNhbnZhcyBzdHlsZT0nd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsnPjwvY2FudmFzPlwiO1xuICAgIH1cblxuICAgIF9lbmFibGVUcmFja2luZygpIHtcbiAgICAgICAgdGhpcy5fc2VhcmNoVHJlZSA9IG5ldyBTaGFwZXNRdWFkVHJlZSgpO1xuICAgICAgICB0aGlzLl9jdXJzb3IgPSBuZXcgU3VyZmFjZUN1cnNvcih0aGlzKTtcblxuICAgICAgICBzdXBlci5fZW5hYmxlVHJhY2tpbmcoKTtcbiAgICB9XG5cbiAgICBfdHJhY2tNb3VzZShlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdXNwZW5kZWRUcmFja2luZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLmV2ZW50VGFyZ2V0KGUpO1xuXG4gICAgICAgIGlmIChlLnR5cGUgIT09IFwiY2xpY2tcIikge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNoYXBlID0gdGhpcy5fY3VycmVudFNoYXBlO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTaGFwZSAmJiBjdXJyZW50U2hhcGUgIT09IHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwibW91c2VsZWF2ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGN1cnJlbnRTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtb3VzZWxlYXZlXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNoYXBlICYmIGN1cnJlbnRTaGFwZSAhPT0gc2hhcGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJtb3VzZWVudGVyXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogc2hhcGUsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibW91c2VlbnRlclwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcIm1vdXNlbW92ZVwiLCB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogc2hhcGUsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1vdXNlbW92ZVwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFNoYXBlID0gc2hhcGU7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcImNsaWNrXCIsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBzaGFwZSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2xpY2tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblN1cmZhY2UucHJvdG90eXBlLnR5cGUgPSBcImNhbnZhc1wiO1xuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dCkge1xuICAgIEJhc2VTdXJmYWNlLnN1cHBvcnQuY2FudmFzID0gdHJ1ZTtcbiAgICBTdXJmYWNlRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFwiY2FudmFzXCIsIFN1cmZhY2UsIDIwKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3VyZmFjZTtcbiIsImltcG9ydCBOb2RlIGZyb20gJy4vbm9kZSc7XG5pbXBvcnQgeyBwYXJzZUNvbG9yIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGlzVHJhbnNwYXJlbnQsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgTGluZWFyR3JhZGllbnQgZnJvbSAnLi4vZ3JhZGllbnRzL2xpbmVhci1ncmFkaWVudCc7XG5pbXBvcnQgUmFkaWFsR3JhZGllbnQgZnJvbSAnLi4vZ3JhZGllbnRzL3JhZGlhbC1ncmFkaWVudCc7XG5pbXBvcnQgeyBEQVNIX0FSUkFZUywgU09MSUQsIEJVVFQgfSBmcm9tICcuLi9jb3JlL2NvbnN0YW50cyc7XG5pbXBvcnQgcmVuZGVyUGF0aCBmcm9tICcuL3V0aWxzL3JlbmRlci1wYXRoJztcbmltcG9ydCBOT0RFX01BUCBmcm9tICcuL25vZGUtbWFwJztcblxuZnVuY3Rpb24gYWRkR3JhZGllbnRTdG9wcyhncmFkaWVudCwgc3RvcHMpIHtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzdG9wcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGxldCBzdG9wID0gc3RvcHNbaWR4XTtcbiAgICAgICAgbGV0IGNvbG9yID0gcGFyc2VDb2xvcihzdG9wLmNvbG9yKCkpO1xuXG4gICAgICAgIGNvbG9yLmEgKj0gc3RvcC5vcGFjaXR5KCk7XG5cbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3Aub2Zmc2V0KCksIGNvbG9yLnRvQ3NzUmdiYSgpKTtcbiAgICB9XG59XG5cbmNsYXNzIFBhdGhOb2RlIGV4dGVuZHMgTm9kZSB7XG5cbiAgICByZW5kZXJUbyhjdHgpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgICB0aGlzLnNldFRyYW5zZm9ybShjdHgpO1xuICAgICAgICB0aGlzLnNldENsaXAoY3R4KTtcbiAgICAgICAgdGhpcy5zZXRPcGFjaXR5KGN0eCk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyUG9pbnRzKGN0eCwgdGhpcy5zcmNFbGVtZW50KTtcblxuICAgICAgICB0aGlzLnNldExpbmVEYXNoKGN0eCk7XG4gICAgICAgIHRoaXMuc2V0TGluZUNhcChjdHgpO1xuICAgICAgICB0aGlzLnNldExpbmVKb2luKGN0eCk7XG5cbiAgICAgICAgdGhpcy5zZXRGaWxsKGN0eCk7XG4gICAgICAgIHRoaXMuc2V0U3Ryb2tlKGN0eCk7XG5cbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBzZXRGaWxsKGN0eCkge1xuICAgICAgICBjb25zdCBmaWxsID0gdGhpcy5zcmNFbGVtZW50Lm9wdGlvbnMuZmlsbDtcbiAgICAgICAgbGV0IGhhc0ZpbGwgPSBmYWxzZTtcblxuICAgICAgICBpZiAoZmlsbCkge1xuICAgICAgICAgICAgaWYgKGZpbGwubm9kZVR5cGUgPT09IFwiR3JhZGllbnRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0R3JhZGllbnRGaWxsKGN0eCwgZmlsbCk7XG4gICAgICAgICAgICAgICAgaGFzRmlsbCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc1RyYW5zcGFyZW50KGZpbGwuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGwuY29sb3I7XG5cbiAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsQWxwaGEoY3R4LCBmaWxsLm9wYWNpdHkpO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgICAgICAgICAgIGhhc0ZpbGwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhhc0ZpbGw7XG4gICAgfVxuXG4gICAgc2V0R3JhZGllbnRGaWxsKGN0eCwgZmlsbCkge1xuICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5zcmNFbGVtZW50LnJhd0JCb3goKTtcbiAgICAgICAgbGV0IGdyYWRpZW50O1xuXG4gICAgICAgIGlmIChmaWxsIGluc3RhbmNlb2YgTGluZWFyR3JhZGllbnQpIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IGZpbGwuc3RhcnQoKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBmaWxsLmVuZCgpO1xuICAgICAgICAgICAgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoc3RhcnQueCwgc3RhcnQueSwgZW5kLngsIGVuZC55KTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxsIGluc3RhbmNlb2YgUmFkaWFsR3JhZGllbnQpIHtcbiAgICAgICAgICAgIGxldCBjZW50ZXIgPSBmaWxsLmNlbnRlcigpO1xuICAgICAgICAgICAgZ3JhZGllbnQgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoY2VudGVyLngsIGNlbnRlci55LCAwLCBjZW50ZXIueCwgY2VudGVyLnksIGZpbGwucmFkaXVzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkR3JhZGllbnRTdG9wcyhncmFkaWVudCwgZmlsbC5zdG9wcyk7XG5cbiAgICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgICBpZiAoIWZpbGwudXNlclNwYWNlKCkpIHtcbiAgICAgICAgICAgIGN0eC50cmFuc2Zvcm0oYmJveC53aWR0aCgpLCAwLCAwLCBiYm94LmhlaWdodCgpLCBiYm94Lm9yaWdpbi54LCBiYm94Lm9yaWdpbi55KTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XG4gICAgICAgIGN0eC5maWxsKCk7XG5cbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBzZXRTdHJva2UoY3R4KSB7XG4gICAgICAgIGNvbnN0IHN0cm9rZSA9IHRoaXMuc3JjRWxlbWVudC5vcHRpb25zLnN0cm9rZTtcbiAgICAgICAgaWYgKHN0cm9rZSAmJiAhaXNUcmFuc3BhcmVudChzdHJva2UuY29sb3IpICYmIHN0cm9rZS53aWR0aCA+IDApIHtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0cm9rZS5jb2xvcjtcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSB2YWx1ZU9yRGVmYXVsdChzdHJva2Uud2lkdGgsIDEpO1xuXG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxBbHBoYShjdHgsIHN0cm9rZS5vcGFjaXR5KTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGFzaFR5cGUoKSB7XG4gICAgICAgIGNvbnN0IHN0cm9rZSA9IHRoaXMuc3JjRWxlbWVudC5vcHRpb25zLnN0cm9rZTtcbiAgICAgICAgaWYgKHN0cm9rZSAmJiBzdHJva2UuZGFzaFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJva2UuZGFzaFR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldExpbmVEYXNoKGN0eCkge1xuICAgICAgICBjb25zdCBkYXNoVHlwZSA9IHRoaXMuZGFzaFR5cGUoKTtcbiAgICAgICAgaWYgKGRhc2hUeXBlICYmIGRhc2hUeXBlICE9PSBTT0xJRCkge1xuICAgICAgICAgICAgY29uc3QgZGFzaEFycmF5ID0gREFTSF9BUlJBWVNbZGFzaFR5cGVdO1xuICAgICAgICAgICAgaWYgKGN0eC5zZXRMaW5lRGFzaCkge1xuICAgICAgICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaChkYXNoQXJyYXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHgubW96RGFzaCA9IGRhc2hBcnJheTtcbiAgICAgICAgICAgICAgICBjdHgud2Via2l0TGluZURhc2ggPSBkYXNoQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRMaW5lQ2FwKGN0eCkge1xuICAgICAgICBjb25zdCBkYXNoVHlwZSA9IHRoaXMuZGFzaFR5cGUoKTtcbiAgICAgICAgY29uc3Qgc3Ryb2tlID0gdGhpcy5zcmNFbGVtZW50Lm9wdGlvbnMuc3Ryb2tlO1xuICAgICAgICBpZiAoZGFzaFR5cGUgJiYgZGFzaFR5cGUgIT09IFNPTElEKSB7XG4gICAgICAgICAgICBjdHgubGluZUNhcCA9IEJVVFQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc3Ryb2tlICYmIHN0cm9rZS5saW5lQ2FwKSB7XG4gICAgICAgICAgICBjdHgubGluZUNhcCA9IHN0cm9rZS5saW5lQ2FwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0TGluZUpvaW4oY3R4KSB7XG4gICAgICAgIGNvbnN0IHN0cm9rZSA9IHRoaXMuc3JjRWxlbWVudC5vcHRpb25zLnN0cm9rZTtcbiAgICAgICAgaWYgKHN0cm9rZSAmJiBzdHJva2UubGluZUpvaW4pIHtcbiAgICAgICAgICAgIGN0eC5saW5lSm9pbiA9IHN0cm9rZS5saW5lSm9pbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclBvaW50cyhjdHgsIHBhdGgpIHtcbiAgICAgICAgcmVuZGVyUGF0aChjdHgsIHBhdGgpO1xuICAgIH1cbn1cblxuTk9ERV9NQVAuUGF0aCA9IFBhdGhOb2RlO1xuXG5leHBvcnQgZGVmYXVsdCBQYXRoTm9kZTtcbiIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5pbXBvcnQgcmVuZGVyUGF0aCBmcm9tICcuL3V0aWxzL3JlbmRlci1wYXRoJztcblxuY2xhc3MgQXJjTm9kZSBleHRlbmRzIFBhdGhOb2RlIHtcbiAgICByZW5kZXJQb2ludHMoY3R4KSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLnNyY0VsZW1lbnQudG9QYXRoKCk7XG4gICAgICAgIHJlbmRlclBhdGgoY3R4LCBwYXRoKTtcbiAgICB9XG59XG5cbk5PREVfTUFQLkFyYyA9IEFyY05vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IEFyY05vZGU7IiwiaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcbmltcG9ydCBOT0RFX01BUCBmcm9tICcuL25vZGUtbWFwJztcblxuY2xhc3MgQ2lyY2xlTm9kZSBleHRlbmRzIFBhdGhOb2RlIHtcbiAgICByZW5kZXJQb2ludHMoY3R4KSB7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyLCByYWRpdXMgfSA9IHRoaXMuc3JjRWxlbWVudC5nZW9tZXRyeSgpO1xuXG4gICAgICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICB9XG59XG5cbk5PREVfTUFQLkNpcmNsZSA9IENpcmNsZU5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IENpcmNsZU5vZGU7IiwiaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcbmltcG9ydCBOT0RFX01BUCBmcm9tICcuL25vZGUtbWFwJztcblxuY2xhc3MgUmVjdE5vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG4gICAgcmVuZGVyUG9pbnRzKGN0eCkge1xuICAgICAgICBjb25zdCB7IG9yaWdpbiwgc2l6ZSB9ID0gdGhpcy5zcmNFbGVtZW50Lmdlb21ldHJ5KCk7XG5cbiAgICAgICAgY3R4LnJlY3Qob3JpZ2luLngsIG9yaWdpbi55LCBzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XG4gICAgfVxufVxuXG5OT0RFX01BUC5SZWN0ID0gUmVjdE5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IFJlY3ROb2RlOyIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5pbXBvcnQgeyBjcmVhdGVQcm9taXNlIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNsYXNzIEltYWdlTm9kZSBleHRlbmRzIFBhdGhOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihzcmNFbGVtZW50LCBjb3JzKSB7XG4gICAgICAgIHN1cGVyKHNyY0VsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMub25Mb2FkID0gdGhpcy5vbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkVycm9yID0gdGhpcy5vbkVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5sb2FkaW5nID0gY3JlYXRlUHJvbWlzZSgpO1xuXG4gICAgICAgIGNvbnN0IGltZyA9IHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaWYgKGNvcnMgJiYgISgvXmRhdGE6L2kudGVzdChzcmNFbGVtZW50LnNyYygpKSkpIHtcbiAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IGNvcnM7XG4gICAgICAgIH1cblxuICAgICAgICBpbWcuc3JjID0gc3JjRWxlbWVudC5zcmMoKTtcblxuICAgICAgICBpZiAoaW1nLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uTG9hZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IHRoaXMub25Mb2FkO1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSB0aGlzLm9uRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJUbyhjdHgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZy5zdGF0ZSgpID09PSBcInJlc29sdmVkXCIpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNmb3JtKGN0eCk7XG4gICAgICAgICAgICB0aGlzLnNldENsaXAoY3R4KTtcblxuICAgICAgICAgICAgdGhpcy5kcmF3SW1hZ2UoY3R4KTtcblxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoZSkge1xuICAgICAgICBpZiAoZS5maWVsZCA9PT0gXCJzcmNcIikge1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gY3JlYXRlUHJvbWlzZSgpO1xuICAgICAgICAgICAgdGhpcy5pbWcuc3JjID0gdGhpcy5zcmNFbGVtZW50LnNyYygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIub3B0aW9uc0NoYW5nZShlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgb25FcnJvcigpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nLnJlamVjdChuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIlVuYWJsZSB0byBsb2FkIGltYWdlICdcIiArIHRoaXMuaW1nLnNyYyArXG4gICAgICAgICAgICBcIicuIENoZWNrIGZvciBjb25uZWN0aXZpdHkgYW5kIHZlcmlmeSBDT1JTIGhlYWRlcnMuXCJcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgZHJhd0ltYWdlKGN0eCkge1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5zcmNFbGVtZW50LnJlY3QoKTtcbiAgICAgICAgY29uc3QgdG9wTGVmdCA9IHJlY3QudG9wTGVmdCgpO1xuXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICB0aGlzLmltZywgdG9wTGVmdC54LCB0b3BMZWZ0LnksIHJlY3Qud2lkdGgoKSwgcmVjdC5oZWlnaHQoKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuTk9ERV9NQVAuSW1hZ2UgPSBJbWFnZU5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlTm9kZTsiLCJpbXBvcnQgUGF0aE5vZGUgZnJvbSAnLi9wYXRoLW5vZGUnO1xuaW1wb3J0IE5PREVfTUFQIGZyb20gJy4vbm9kZS1tYXAnO1xuXG5jbGFzcyBUZXh0Tm9kZSBleHRlbmRzIFBhdGhOb2RlIHtcbiAgICByZW5kZXJUbyhjdHgpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuc3JjRWxlbWVudDtcbiAgICAgICAgY29uc3QgcG9zID0gdGV4dC5wb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBzaXplID0gdGV4dC5tZWFzdXJlKCk7XG5cbiAgICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgICB0aGlzLnNldFRyYW5zZm9ybShjdHgpO1xuICAgICAgICB0aGlzLnNldENsaXAoY3R4KTtcbiAgICAgICAgdGhpcy5zZXRPcGFjaXR5KGN0eCk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGN0eC5mb250ID0gdGV4dC5vcHRpb25zLmZvbnQ7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0RmlsbChjdHgpKSB7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGV4dC5jb250ZW50KCksIHBvcy54LCBwb3MueSArIHNpemUuYmFzZWxpbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0U3Ryb2tlKGN0eCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TGluZURhc2goY3R4KTtcbiAgICAgICAgICAgIGN0eC5zdHJva2VUZXh0KHRleHQuY29udGVudCgpLCBwb3MueCwgcG9zLnkgKyBzaXplLmJhc2VsaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxufVxuXG5cbk5PREVfTUFQLlRleHQgPSBUZXh0Tm9kZTtcblxuZXhwb3J0IGRlZmF1bHQgVGV4dE5vZGU7IiwiaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcbmltcG9ydCBOT0RFX01BUCBmcm9tICcuL25vZGUtbWFwJztcbmltcG9ydCByZW5kZXJQYXRoIGZyb20gJy4vdXRpbHMvcmVuZGVyLXBhdGgnO1xuXG5jbGFzcyBNdWx0aVBhdGhOb2RlIGV4dGVuZHMgUGF0aE5vZGUge1xuICAgIHJlbmRlclBvaW50cyhjdHgpIHtcbiAgICAgICAgY29uc3QgcGF0aHMgPSB0aGlzLnNyY0VsZW1lbnQucGF0aHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlbmRlclBhdGgoY3R4LCBwYXRoc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbk5PREVfTUFQLk11bHRpUGF0aCA9IE11bHRpUGF0aE5vZGU7XG5cbmV4cG9ydCBkZWZhdWx0IE11bHRpUGF0aE5vZGU7IiwiaW1wb3J0IFN1cmZhY2UgZnJvbSAnLi9zdXJmYWNlJztcbmltcG9ydCB7IHRyYW5zZm9ybSB9IGZyb20gJy4uL2dlb21ldHJ5JztcbmltcG9ydCBHcm91cCBmcm9tICcuLi9zaGFwZXMvZ3JvdXAnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHBvcnRJbWFnZShncm91cCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgICB3aWR0aDogXCI4MDBweFwiLCBoZWlnaHQ6IFwiNjAwcHhcIixcbiAgICAgICAgY29yczogXCJBbm9ueW1vdXNcIlxuICAgIH07XG5cbiAgICBsZXQgZXhwb3J0Um9vdCA9IGdyb3VwO1xuICAgIGNvbnN0IGJib3ggPSBncm91cC5jbGlwcGVkQkJveCgpO1xuXG5cbiAgICBpZiAoYmJveCkge1xuICAgICAgICBjb25zdCBvcmlnaW4gPSBiYm94LmdldE9yaWdpbigpO1xuICAgICAgICBleHBvcnRSb290ID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIGV4cG9ydFJvb3QudHJhbnNmb3JtKHRyYW5zZm9ybSgpLnRyYW5zbGF0ZSgtb3JpZ2luLngsIC1vcmlnaW4ueSkpO1xuICAgICAgICBleHBvcnRSb290LmNoaWxkcmVuLnB1c2goZ3JvdXApO1xuXG4gICAgICAgIGNvbnN0IHNpemUgPSBiYm94LmdldFNpemUoKTtcbiAgICAgICAgZGVmYXVsdHMud2lkdGggPSBzaXplLndpZHRoICsgXCJweFwiO1xuICAgICAgICBkZWZhdWx0cy5oZWlnaHQgPSBzaXplLmhlaWdodCArIFwicHhcIjtcbiAgICB9XG5cbiAgICBjb25zdCBzdXJmYWNlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBzdHlsZSA9IGNvbnRhaW5lci5zdHlsZTtcblxuICAgIHN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBzdHlsZS53aWR0aCA9IHN1cmZhY2VPcHRpb25zLndpZHRoO1xuICAgIHN0eWxlLmhlaWdodCA9IHN1cmZhY2VPcHRpb25zLmhlaWdodDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgICBjb25zdCBzdXJmYWNlID0gbmV3IFN1cmZhY2UoY29udGFpbmVyLCBzdXJmYWNlT3B0aW9ucyk7XG4gICAgc3VyZmFjZS5zdXNwZW5kVHJhY2tpbmcoKTtcbiAgICBzdXJmYWNlLmRyYXcoZXhwb3J0Um9vdCk7XG5cbiAgICBjb25zdCBwcm9taXNlID0gc3VyZmFjZS5pbWFnZSgpO1xuICAgIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgIHN1cmZhY2UuZGVzdHJveSgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgfTtcbiAgICBwcm9taXNlLnRoZW4oZGVzdHJveSwgZGVzdHJveSk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn0iLCJpbXBvcnQgeyBjcmVhdGVQcm9taXNlLCBlbmNvZGVCYXNlNjQgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBleHBvcnRHcm91cCBmcm9tICcuL2V4cG9ydC1ncm91cCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4cG9ydFNWRyhncm91cCwgb3B0aW9ucykge1xuICAgIGxldCBzdmcgPSBleHBvcnRHcm91cChncm91cCk7XG5cbiAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucmF3KSB7XG4gICAgICAgIHN2ZyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIiArIGVuY29kZUJhc2U2NChzdmcpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVQcm9taXNlKCkucmVzb2x2ZShzdmcpO1xufVxuIiwiaW1wb3J0IHsgc3VwcG9ydCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLW11bHRpLXNwYWNlcywga2V5LXNwYWNpbmcsIGluZGVudCwgY2FtZWxjYXNlLCBzcGFjZS1iZWZvcmUtYmxvY2tzLCBlcWVxZXEsIGJyYWNlLXN0eWxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBzcGFjZS1pbmZpeC1vcHMsIHNwYWNlLWJlZm9yZS1mdW5jdGlvbi1wYXJlbiwgYXJyYXktYnJhY2tldC1zcGFjaW5nLCBvYmplY3QtY3VybHktc3BhY2luZyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tbmVzdGVkLXRlcm5hcnksIG1heC1wYXJhbXMsIGRlZmF1bHQtY2FzZSwgbm8tZWxzZS1yZXR1cm4sIG5vLWVtcHR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiwgbm8tdmFyLCBibG9jay1zY29wZWQtdmFyICovXG5cbi8vIFhYWDogcmVtb3ZlIHRoaXMganVuayAoYXNzdW1lIGB0cnVlYCkgd2hlbiB3ZSBubyBsb25nZXIgaGF2ZSB0byBzdXBwb3J0IElFIDwgMTBcbi8vIElFIDkgKGF0IGxlYXN0IGNvbXBhdGliaWxpdHkpIHJlcG9ydHMgaGF2aW5nIFVpbnQ4QXJyYXkgYnV0IHRoZSByZXF1ZXN0IHJlc3BvbnNlIGRvZXMgbm90IGNvbnRhaW4gQXJyYXlCdWZmZXIgd2hpY2ggcmVzdWx0cyBpbiBtaXNzaW5nIHRhYmxlIGhlYWQgZXJyb3JcbmNvbnN0IEhBU19UWVBFRF9BUlJBWVMgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgc3VwcG9ydC5icm93c2VyICYmICghc3VwcG9ydC5icm93c2VyLm1zaWUgfHwgc3VwcG9ydC5icm93c2VyLnZlcnNpb24gPiA5KTtcblxuY29uc3QgQkFTRTY0ID0gKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGtleVN0ciA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIjtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZWNvZGU6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gc3RyLnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXFw9XS9nLCBcIlwiKSwgaSA9IDAsIG4gPSBpbnB1dC5sZW5ndGgsIG91dHB1dCA9IFtdO1xuXG4gICAgICAgICAgICB3aGlsZSAoaSA8IG4pIHtcbiAgICAgICAgICAgICAgICB2YXIgZW5jMSA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5jMiA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5jMyA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5jNCA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcblxuICAgICAgICAgICAgICAgIHZhciBjaHIxID0gKGVuYzEgPDwgMikgfCAoZW5jMiA+Pj4gNCk7XG4gICAgICAgICAgICAgICAgdmFyIGNocjIgPSAoKGVuYzIgJiAxNSkgPDwgNCkgfCAoZW5jMyA+Pj4gMik7XG4gICAgICAgICAgICAgICAgdmFyIGNocjMgPSAoKGVuYzMgJiAzKSA8PCA2KSB8IGVuYzQ7XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChjaHIxKTtcbiAgICAgICAgICAgICAgICBpZiAoZW5jMyAhPSA2NCkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChjaHIyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVuYzQgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goY2hyMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9LFxuICAgICAgICBlbmNvZGU6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICAgICAgICB2YXIgaSA9IDAsIG4gPSBieXRlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gXCJcIjtcblxuICAgICAgICAgICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNocjEgPSBieXRlc1tpKytdO1xuICAgICAgICAgICAgICAgIHZhciBjaHIyID0gYnl0ZXNbaSsrXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hyMyA9IGJ5dGVzW2krK107XG5cbiAgICAgICAgICAgICAgICB2YXIgZW5jMSA9IGNocjEgPj4+IDI7XG4gICAgICAgICAgICAgICAgdmFyIGVuYzIgPSAoKGNocjEgJiAzKSA8PCA0KSB8IChjaHIyID4+PiA0KTtcbiAgICAgICAgICAgICAgICB2YXIgZW5jMyA9ICgoY2hyMiAmIDE1KSA8PCAyKSB8IChjaHIzID4+PiA2KTtcbiAgICAgICAgICAgICAgICB2YXIgZW5jNCA9IGNocjMgJiA2MztcblxuICAgICAgICAgICAgICAgIGlmIChpIC0gbiA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYzMgPSBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpIC0gbiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYzQgPSA2NDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0ga2V5U3RyLmNoYXJBdChlbmMxKSArIGtleVN0ci5jaGFyQXQoZW5jMikgKyBrZXlTdHIuY2hhckF0KGVuYzMpICsga2V5U3RyLmNoYXJBdChlbmM0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9O1xufSgpKTtcblxuZnVuY3Rpb24gQmluYXJ5U3RyZWFtKGRhdGEpIHtcbiAgICB2YXIgb2Zmc2V0ID0gMCwgbGVuZ3RoID0gMDtcbiAgICBpZiAoZGF0YSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGEgPSBIQVNfVFlQRURfQVJSQVlTID8gbmV3IFVpbnQ4QXJyYXkoMjU2KSA6IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBlbnN1cmUgPSBIQVNfVFlQRURfQVJSQVlTID8gZnVuY3Rpb24obGVuKSB7XG4gICAgICAgIGlmIChsZW4gPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgVWludDhBcnJheShNYXRoLm1heChsZW4gKyAyNTYsIGRhdGEubGVuZ3RoICogMikpO1xuICAgICAgICAgICAgdG1wLnNldChkYXRhLCAwKTtcbiAgICAgICAgICAgIGRhdGEgPSB0bXA7XG4gICAgICAgIH1cbiAgICB9IDogZnVuY3Rpb24oKSB7fTtcblxuICAgIHZhciBnZXQgPSBIQVNfVFlQRURfQVJSQVlTID8gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgMCwgbGVuZ3RoKTtcbiAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICB2YXIgd3JpdGUgPSBIQVNfVFlQRURfQVJSQVlTID8gZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBieXRlcyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JpdGVTdHJpbmcoYnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGg7XG4gICAgICAgIGVuc3VyZShvZmZzZXQgKyBsZW4pO1xuICAgICAgICBkYXRhLnNldChieXRlcywgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IGxlbjtcbiAgICAgICAgaWYgKG9mZnNldCA+IGxlbmd0aCkge1xuICAgICAgICAgICAgbGVuZ3RoID0gb2Zmc2V0O1xuICAgICAgICB9XG4gICAgfSA6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYnl0ZXMgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHdyaXRlU3RyaW5nKGJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB3cml0ZUJ5dGUoYnl0ZXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzbGljZSA9IEhBU19UWVBFRF9BUlJBWVMgPyBmdW5jdGlvbihzdGFydCwgbGVuZ3RoKSB7XG4gICAgICAgIGlmIChkYXRhLmJ1ZmZlci5zbGljZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLnNsaWNlKHN0YXJ0LCBzdGFydCArIGxlbmd0aCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSUUxMFxuICAgICAgICAgICAgdmFyIHggPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgeC5zZXQobmV3IFVpbnQ4QXJyYXkoZGF0YS5idWZmZXIsIHN0YXJ0LCBsZW5ndGgpKTtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgfSA6IGZ1bmN0aW9uKHN0YXJ0LCBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgbGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZW9mKCkge1xuICAgICAgICByZXR1cm4gb2Zmc2V0ID49IGxlbmd0aDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEJ5dGUoKSB7XG4gICAgICAgIHJldHVybiBvZmZzZXQgPCBsZW5ndGggPyBkYXRhW29mZnNldCsrXSA6IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdyaXRlQnl0ZShiKSB7XG4gICAgICAgIGVuc3VyZShvZmZzZXQpO1xuICAgICAgICBkYXRhW29mZnNldCsrXSA9IGIgJiAweEZGO1xuICAgICAgICBpZiAob2Zmc2V0ID4gbGVuZ3RoKSB7XG4gICAgICAgICAgICBsZW5ndGggPSBvZmZzZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZFNob3J0KCkge1xuICAgICAgICByZXR1cm4gKHJlYWRCeXRlKCkgPDwgOCkgfCByZWFkQnl0ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3cml0ZVNob3J0KHcpIHtcbiAgICAgICAgd3JpdGVCeXRlKHcgPj4gOCk7XG4gICAgICAgIHdyaXRlQnl0ZSh3KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZFNob3J0XygpIHtcbiAgICAgICAgdmFyIHcgPSByZWFkU2hvcnQoKTtcbiAgICAgICAgcmV0dXJuIHcgPj0gMHg4MDAwID8gdyAtIDB4MTAwMDAgOiB3O1xuICAgIH1cbiAgICBmdW5jdGlvbiB3cml0ZVNob3J0Xyh3KSB7XG4gICAgICAgIHdyaXRlU2hvcnQodyA8IDAgPyB3ICsgMHgxMDAwMCA6IHcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTG9uZygpIHtcbiAgICAgICAgcmV0dXJuIChyZWFkU2hvcnQoKSAqIDB4MTAwMDApICsgcmVhZFNob3J0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdyaXRlTG9uZyh3KSB7XG4gICAgICAgIHdyaXRlU2hvcnQoKHcgPj4+IDE2KSAmIDB4RkZGRik7XG4gICAgICAgIHdyaXRlU2hvcnQodyAmIDB4RkZGRik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRMb25nXygpIHtcbiAgICAgICAgdmFyIHcgPSByZWFkTG9uZygpO1xuICAgICAgICByZXR1cm4gdyA+PSAweDgwMDAwMDAwID8gdyAtIDB4MTAwMDAwMDAwIDogdztcbiAgICB9XG4gICAgZnVuY3Rpb24gd3JpdGVMb25nXyh3KSB7XG4gICAgICAgIHdyaXRlTG9uZyh3IDwgMCA/IHcgKyAweDEwMDAwMDAwMCA6IHcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkRml4ZWQoKSB7XG4gICAgICAgIHJldHVybiByZWFkTG9uZygpIC8gMHgxMDAwMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd3JpdGVGaXhlZChmKSB7XG4gICAgICAgIHdyaXRlTG9uZyhNYXRoLnJvdW5kKGYgKiAweDEwMDAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRGaXhlZF8oKSB7XG4gICAgICAgIHJldHVybiByZWFkTG9uZ18oKSAvIDB4MTAwMDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdyaXRlRml4ZWRfKGYpIHtcbiAgICAgICAgd3JpdGVMb25nXyhNYXRoLnJvdW5kKGYgKiAweDEwMDAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWQobGVuKSB7XG4gICAgICAgIHJldHVybiB0aW1lcyhsZW4sIHJlYWRCeXRlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZFN0cmluZyhsZW4pIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCByZWFkKGxlbikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3cml0ZVN0cmluZyhzdHIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHdyaXRlQnl0ZShzdHIuY2hhckNvZGVBdChpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGltZXMobiwgcmVhZGVyKSB7XG4gICAgICAgIGZvciAodmFyIHJldCA9IG5ldyBBcnJheShuKSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIHJldFtpXSA9IHJlYWRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgdmFyIHN0cmVhbSA9IHtcbiAgICAgICAgZW9mICAgICAgICAgOiBlb2YsXG4gICAgICAgIHJlYWRCeXRlICAgIDogcmVhZEJ5dGUsXG4gICAgICAgIHdyaXRlQnl0ZSAgIDogd3JpdGVCeXRlLFxuICAgICAgICByZWFkU2hvcnQgICA6IHJlYWRTaG9ydCxcbiAgICAgICAgd3JpdGVTaG9ydCAgOiB3cml0ZVNob3J0LFxuICAgICAgICByZWFkTG9uZyAgICA6IHJlYWRMb25nLFxuICAgICAgICB3cml0ZUxvbmcgICA6IHdyaXRlTG9uZyxcbiAgICAgICAgcmVhZEZpeGVkICAgOiByZWFkRml4ZWQsXG4gICAgICAgIHdyaXRlRml4ZWQgIDogd3JpdGVGaXhlZCxcblxuICAgICAgICAvLyBzaWduZWQgbnVtYmVycy5cbiAgICAgICAgcmVhZFNob3J0XyAgOiByZWFkU2hvcnRfLFxuICAgICAgICB3cml0ZVNob3J0XyA6IHdyaXRlU2hvcnRfLFxuICAgICAgICByZWFkTG9uZ18gICA6IHJlYWRMb25nXyxcbiAgICAgICAgd3JpdGVMb25nXyAgOiB3cml0ZUxvbmdfLFxuICAgICAgICByZWFkRml4ZWRfICA6IHJlYWRGaXhlZF8sXG4gICAgICAgIHdyaXRlRml4ZWRfIDogd3JpdGVGaXhlZF8sXG5cbiAgICAgICAgcmVhZCAgICAgICAgOiByZWFkLFxuICAgICAgICB3cml0ZSAgICAgICA6IHdyaXRlLFxuICAgICAgICByZWFkU3RyaW5nICA6IHJlYWRTdHJpbmcsXG4gICAgICAgIHdyaXRlU3RyaW5nIDogd3JpdGVTdHJpbmcsXG5cbiAgICAgICAgdGltZXMgICAgICAgOiB0aW1lcyxcbiAgICAgICAgZ2V0ICAgICAgICAgOiBnZXQsXG4gICAgICAgIHNsaWNlICAgICAgIDogc2xpY2UsXG5cbiAgICAgICAgb2Zmc2V0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgIGlmIChwb3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHBvcztcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICAgICAgfSxcblxuICAgICAgICBza2lwOiBmdW5jdGlvbihuYnl0ZXMpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSBuYnl0ZXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRklYIENBTExFUi4gIEJpbmFyeVN0cmVhbSBpcyBubyBsb25nZXIgY29udmVydGlibGUgdG8gc3RyaW5nIVwiKTtcbiAgICAgICAgfSxcblxuICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbGVuZ3RoOyB9LFxuXG4gICAgICAgIHNhdmVFeGN1cnNpb246IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBvZmZzZXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB3cml0ZUJhc2U2NDogZnVuY3Rpb24oYmFzZTY0KSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmF0b2IpIHtcbiAgICAgICAgICAgICAgICB3cml0ZVN0cmluZyh3aW5kb3cuYXRvYihiYXNlNjQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd3JpdGUoQkFTRTY0LmRlY29kZShiYXNlNjQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYmFzZTY0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBCQVNFNjQuZW5jb2RlKGdldCgpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gc3RyZWFtO1xufVxuXG5mdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuICAgIHZhciBvdXRwdXQgPSBbXSxcbiAgICAgICAgY291bnRlciA9IDAsXG4gICAgICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBleHRyYTtcbiAgICB3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuICAgICAgICB2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG4gICAgICAgIGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuICAgICAgICAgICAgZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuICAgICAgICAgICAgaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuICAgICAgICAgICAgICAgIC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb3VudGVyLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuICAgIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICB2YXIgb3V0cHV0ID0gXCJcIjtcbiAgICAgICAgaWYgKHZhbHVlID4gMHhGRkZGKSB7XG4gICAgICAgICAgICB2YWx1ZSAtPSAweDEwMDAwO1xuICAgICAgICAgICAgb3V0cHV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuICAgICAgICAgICAgdmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9KS5qb2luKFwiXCIpO1xufVxuXG5mdW5jdGlvbiBhdG9iVWludDhBcnJheShiYXNlNjQpIHtcbiAgICBjb25zdCBkYXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBkYXRhLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgcmVzdWx0W2lkeF0gPSBkYXRhLmNoYXJDb2RlQXQoaWR4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVaW50OEFycmF5KGRhdGEpIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBkYXRhLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgcmVzdWx0W2lkeF0gPSBkYXRhW2lkeF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NCkge1xuICAgIGlmICh3aW5kb3cuYXRvYikge1xuICAgICAgICByZXR1cm4gYXRvYlVpbnQ4QXJyYXkoYmFzZTY0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlVWludDhBcnJheShCQVNFNjQuZGVjb2RlKGJhc2U2NCkpO1xufVxuXG5leHBvcnQge1xuICAgIEhBU19UWVBFRF9BUlJBWVMsXG4gICAgQkFTRTY0LFxuICAgIEJpbmFyeVN0cmVhbSxcbiAgICB1Y3MyZGVjb2RlLFxuICAgIHVjczJlbmNvZGUsXG4gICAgYmFzZTY0VG9VaW50OEFycmF5XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tbXVsdGktc3BhY2VzLCBrZXktc3BhY2luZywgaW5kZW50LCBjYW1lbGNhc2UsIHNwYWNlLWJlZm9yZS1ibG9ja3MsIGVxZXFlcSwgYnJhY2Utc3R5bGUgKi9cbi8qIGVzbGludC1kaXNhYmxlIHNwYWNlLWluZml4LW9wcywgc3BhY2UtYmVmb3JlLWZ1bmN0aW9uLXBhcmVuLCBhcnJheS1icmFja2V0LXNwYWNpbmcsIG9iamVjdC1jdXJseS1zcGFjaW5nICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1uZXN0ZWQtdGVybmFyeSwgbWF4LXBhcmFtcywgZGVmYXVsdC1jYXNlLCBuby1lbHNlLXJldHVybiwgbm8tZW1wdHkgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduLCBuby12YXIsIGJsb2NrLXNjb3BlZC12YXIgKi9cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXFxcbiAqXG4gKiBUaGUgY29kZSBpbiB0aGlzIGZpbGUsIGFsdGhvdWdoIHdyaXR0ZW4gZnJvbSBzY3JhdGNoLCBpcyBpbmZsdWVuY2VkIGJ5IHRoZVxuICogVHJ1ZVR5cGUgcGFyc2VyL2VuY29kZXIgaW4gUERGS2l0IC0tIGh0dHA6Ly9wZGZraXQub3JnLyAoYSBDb2ZmZWVTY3JpcHRcbiAqIGxpYnJhcnkgZm9yIHByb2R1Y2luZyBQREYgZmlsZXMpLlxuICpcbiAqIFBERktpdCBpcyAoYykgRGV2b24gR292ZXR0IDIwMTQgYW5kIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqXG5cXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgeyBCaW5hcnlTdHJlYW0sIHVjczJkZWNvZGUgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIGtleSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuXG5mdW5jdGlvbiBzb3J0ZWRLZXlzKG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnNvcnQoZnVuY3Rpb24oYSwgYil7IHJldHVybiBhIC0gYjsgfSkubWFwKHBhcnNlRmxvYXQpO1xufVxuXG4vLy9cblxuZnVuY3Rpb24gRGlyZWN0b3J5KGRhdGEpIHtcbiAgICB0aGlzLnJhdyA9IGRhdGE7XG4gICAgdGhpcy5zY2FsZXJUeXBlID0gZGF0YS5yZWFkTG9uZygpO1xuICAgIHRoaXMudGFibGVDb3VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5zZWFyY2hSYW5nZSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5lbnRyeVNlbGVjdG9yID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLnJhbmdlU2hpZnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuXG4gICAgdmFyIHRhYmxlcyA9IHRoaXMudGFibGVzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRhYmxlQ291bnQ7ICsraSkge1xuICAgICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgICAgICB0YWcgICAgICA6IGRhdGEucmVhZFN0cmluZyg0KSxcbiAgICAgICAgICAgIGNoZWNrc3VtIDogZGF0YS5yZWFkTG9uZygpLFxuICAgICAgICAgICAgb2Zmc2V0ICAgOiBkYXRhLnJlYWRMb25nKCksXG4gICAgICAgICAgICBsZW5ndGggICA6IGRhdGEucmVhZExvbmcoKVxuICAgICAgICB9O1xuICAgICAgICB0YWJsZXNbZW50cnkudGFnXSA9IGVudHJ5O1xuICAgIH1cbn1cblxuRGlyZWN0b3J5LnByb3RvdHlwZSA9IHtcblxuICAgIHJlYWRUYWJsZTogZnVuY3Rpb24obmFtZSwgQ3Rvcikge1xuICAgICAgICB2YXIgZGVmID0gdGhpcy50YWJsZXNbbmFtZV07XG4gICAgICAgIGlmICghZGVmKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYWJsZSBcIiArIG5hbWUgKyBcIiBub3QgZm91bmQgaW4gZGlyZWN0b3J5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpc1tuYW1lXSA9IGRlZi50YWJsZSA9IG5ldyBDdG9yKHRoaXMsIGRlZikpO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKHRhYmxlcykge1xuICAgICAgICB2YXIgdGFibGVDb3VudCA9IE9iamVjdC5rZXlzKHRhYmxlcykubGVuZ3RoO1xuXG4gICAgICAgIHZhciBtYXhwb3cyID0gTWF0aC5wb3coMiwgTWF0aC5mbG9vcihNYXRoLmxvZyh0YWJsZUNvdW50KSAvIE1hdGguTE4yKSk7XG4gICAgICAgIHZhciBzZWFyY2hSYW5nZSA9IG1heHBvdzIgKiAxNjtcbiAgICAgICAgdmFyIGVudHJ5U2VsZWN0b3IgPSBNYXRoLmZsb29yKE1hdGgubG9nKG1heHBvdzIpIC8gTWF0aC5MTjIpO1xuICAgICAgICB2YXIgcmFuZ2VTaGlmdCA9IHRhYmxlQ291bnQgKiAxNiAtIHNlYXJjaFJhbmdlO1xuXG4gICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgb3V0LndyaXRlTG9uZyh0aGlzLnNjYWxlclR5cGUpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0YWJsZUNvdW50KTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoc2VhcmNoUmFuZ2UpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydChlbnRyeVNlbGVjdG9yKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQocmFuZ2VTaGlmdCk7XG5cbiAgICAgICAgdmFyIGRpcmVjdG9yeUxlbmd0aCA9IHRhYmxlQ291bnQgKiAxNjtcbiAgICAgICAgdmFyIG9mZnNldCA9IG91dC5vZmZzZXQoKSArIGRpcmVjdG9yeUxlbmd0aDtcbiAgICAgICAgdmFyIGhlYWRPZmZzZXQgPSBudWxsO1xuICAgICAgICB2YXIgdGFibGVEYXRhID0gQmluYXJ5U3RyZWFtKCk7XG5cbiAgICAgICAgZm9yICh2YXIgdGFnIGluIHRhYmxlcykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHRhYmxlcywgdGFnKSkge1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IHRhYmxlc1t0YWddO1xuXG4gICAgICAgICAgICAgICAgb3V0LndyaXRlU3RyaW5nKHRhZyk7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlTG9uZyh0aGlzLmNoZWNrc3VtKHRhYmxlKSk7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlTG9uZyhvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG91dC53cml0ZUxvbmcodGFibGUubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgIHRhYmxlRGF0YS53cml0ZSh0YWJsZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhZyA9PSBcImhlYWRcIikge1xuICAgICAgICAgICAgICAgICAgICBoZWFkT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gdGFibGUubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCAlIDQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGVEYXRhLndyaXRlQnl0ZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb3V0LndyaXRlKHRhYmxlRGF0YS5nZXQoKSk7XG4gICAgICAgIHZhciBzdW0gPSB0aGlzLmNoZWNrc3VtKG91dC5nZXQoKSk7XG4gICAgICAgIHZhciBhZGp1c3RtZW50ID0gMHhCMUIwQUZCQSAtIHN1bTtcblxuICAgICAgICBvdXQub2Zmc2V0KGhlYWRPZmZzZXQgKyA4KTtcbiAgICAgICAgb3V0LndyaXRlTG9uZyhhZGp1c3RtZW50KTtcbiAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICB9LFxuXG4gICAgY2hlY2tzdW06IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZGF0YSA9IEJpbmFyeVN0cmVhbShkYXRhKTtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgIHdoaWxlICghZGF0YS5lb2YoKSkge1xuICAgICAgICAgICAgc3VtICs9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtICYgMHhGRkZGRkZGRjtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBkZWZ0YWJsZShtZXRob2RzKSB7XG4gICAgZnVuY3Rpb24gQ3RvcihmaWxlLCBkZWYpIHtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gZGVmO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGRlZi5sZW5ndGg7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gZGVmLm9mZnNldDtcbiAgICAgICAgdGhpcy5maWxlID0gZmlsZTtcbiAgICAgICAgdGhpcy5yYXdEYXRhID0gZmlsZS5yYXc7XG4gICAgICAgIHRoaXMucGFyc2UoZmlsZS5yYXcpO1xuICAgIH1cbiAgICBDdG9yLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3RGF0YS5zbGljZSh0aGlzLm9mZnNldCwgdGhpcy5sZW5ndGgpO1xuICAgIH07XG4gICAgZm9yICh2YXIgaSBpbiBtZXRob2RzKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShtZXRob2RzLCBpKSkge1xuICAgICAgICAgICAgQ3RvcltpXSA9IEN0b3IucHJvdG90eXBlW2ldID0gbWV0aG9kc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQ3Rvcjtcbn1cblxudmFyIEhlYWRUYWJsZSA9IGRlZnRhYmxlKHtcbiAgICBwYXJzZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBkYXRhLm9mZnNldCh0aGlzLm9mZnNldCk7XG4gICAgICAgIHRoaXMudmVyc2lvbiAgICAgICAgICAgICA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgdGhpcy5yZXZpc2lvbiAgICAgICAgICAgID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICB0aGlzLmNoZWNrU3VtQWRqdXN0bWVudCAgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgIHRoaXMubWFnaWNOdW1iZXIgICAgICAgICA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgdGhpcy5mbGFncyAgICAgICAgICAgICAgID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy51bml0c1BlckVtICAgICAgICAgID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVkICAgICAgICAgICAgID0gZGF0YS5yZWFkKDgpO1xuICAgICAgICB0aGlzLm1vZGlmaWVkICAgICAgICAgICAgPSBkYXRhLnJlYWQoOCk7XG5cbiAgICAgICAgdGhpcy54TWluID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueU1pbiA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLnhNYXggPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy55TWF4ID0gZGF0YS5yZWFkU2hvcnRfKCk7XG5cbiAgICAgICAgdGhpcy5tYWNTdHlsZSAgICAgICAgICAgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmxvd2VzdFJlY1BQRU0gICAgICA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMuZm9udERpcmVjdGlvbkhpbnQgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMuaW5kZXhUb0xvY0Zvcm1hdCAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMuZ2x5cGhEYXRhRm9ybWF0ICAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGluZGV4VG9Mb2NGb3JtYXQpIHtcbiAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICBvdXQud3JpdGVMb25nKHRoaXMudmVyc2lvbik7XG4gICAgICAgIG91dC53cml0ZUxvbmcodGhpcy5yZXZpc2lvbik7XG4gICAgICAgIG91dC53cml0ZUxvbmcoMCk7ICAgICAgIC8vIGNoZWNrc3VtIGFkanVzdG1lbnQ7IHNoYWxsIGJlIGNvbXB1dGVkIGxhdGVyXG4gICAgICAgIG91dC53cml0ZUxvbmcodGhpcy5tYWdpY051bWJlcik7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMuZmxhZ3MpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLnVuaXRzUGVyRW0pO1xuICAgICAgICBvdXQud3JpdGUodGhpcy5jcmVhdGVkKTtcbiAgICAgICAgb3V0LndyaXRlKHRoaXMubW9kaWZpZWQpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy54TWluKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMueU1pbik7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLnhNYXgpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy55TWF4KTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYWNTdHlsZSk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubG93ZXN0UmVjUFBFTSk7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLmZvbnREaXJlY3Rpb25IaW50KTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKGluZGV4VG9Mb2NGb3JtYXQpOyAvLyB0aGlzIHdpbGwgZGVwZW5kIG9uIHRoZSBgbG9jYWAgdGFibGVcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMuZ2x5cGhEYXRhRm9ybWF0KTtcbiAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICB9XG59KTtcblxudmFyIExvY2FUYWJsZSA9IGRlZnRhYmxlKHtcbiAgICBwYXJzZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBkYXRhLm9mZnNldCh0aGlzLm9mZnNldCk7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLmZpbGUuaGVhZC5pbmRleFRvTG9jRm9ybWF0O1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm9mZnNldHMgPSBkYXRhLnRpbWVzKHRoaXMubGVuZ3RoIC8gMiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gMiAqIGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0cyA9IGRhdGEudGltZXModGhpcy5sZW5ndGggLyA0LCBkYXRhLnJlYWRMb25nKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgb2Zmc2V0T2Y6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldHNbaWRdO1xuICAgIH0sXG4gICAgbGVuZ3RoT2Y6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldHNbaWQgKyAxXSAtIHRoaXMub2Zmc2V0c1tpZF07XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKG9mZnNldHMpIHtcbiAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICB2YXIgbmVlZHNMb25nRm9ybWF0ID0gb2Zmc2V0c1tvZmZzZXRzLmxlbmd0aCAtIDFdID4gMHhGRkZGO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9mZnNldHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChuZWVkc0xvbmdGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVMb25nKG9mZnNldHNbaV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydChvZmZzZXRzW2ldIC8gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogbmVlZHNMb25nRm9ybWF0ID8gMSA6IDAsXG4gICAgICAgICAgICB0YWJsZTogb3V0LmdldCgpXG4gICAgICAgIH07XG4gICAgfVxufSk7XG5cbnZhciBIaGVhVGFibGUgPSBkZWZ0YWJsZSh7XG4gICAgcGFyc2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZGF0YS5vZmZzZXQodGhpcy5vZmZzZXQpO1xuXG4gICAgICAgIHRoaXMudmVyc2lvbiAgICAgICAgICAgICAgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgIHRoaXMuYXNjZW50ICAgICAgICAgICAgICAgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy5kZXNjZW50ICAgICAgICAgICAgICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLmxpbmVHYXAgICAgICAgICAgICAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMuYWR2YW5jZVdpZHRoTWF4ICAgICAgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLm1pbkxlZnRTaWRlQmVhcmluZyAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMubWluUmlnaHRTaWRlQmVhcmluZyAgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy54TWF4RXh0ZW50ICAgICAgICAgICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLmNhcmV0U2xvcGVSaXNlICAgICAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMuY2FyZXRTbG9wZVJ1biAgICAgICAgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy5jYXJldE9mZnNldCAgICAgICAgICA9IGRhdGEucmVhZFNob3J0XygpO1xuXG4gICAgICAgIGRhdGEuc2tpcCg0ICogMik7ICAgICAgIC8vIHJlc2VydmVkXG5cbiAgICAgICAgdGhpcy5tZXRyaWNEYXRhRm9ybWF0ICAgICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLm51bU9mTG9uZ0hvck1ldHJpY3MgID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oaWRzKSB7XG4gICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgb3V0LndyaXRlTG9uZyh0aGlzLnZlcnNpb24pO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5hc2NlbnQpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5kZXNjZW50KTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMubGluZUdhcCk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMuYWR2YW5jZVdpZHRoTWF4KTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMubWluTGVmdFNpZGVCZWFyaW5nKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMubWluUmlnaHRTaWRlQmVhcmluZyk7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLnhNYXhFeHRlbnQpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5jYXJldFNsb3BlUmlzZSk7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLmNhcmV0U2xvcGVSdW4pO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5jYXJldE9mZnNldCk7XG5cbiAgICAgICAgb3V0LndyaXRlKFsgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCBdKTsgLy8gcmVzZXJ2ZWQgYnl0ZXNcblxuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5tZXRyaWNEYXRhRm9ybWF0KTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoaWRzLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBvdXQuZ2V0KCk7XG4gICAgfVxufSk7XG5cbnZhciBNYXhwVGFibGUgPSBkZWZ0YWJsZSh7XG4gICAgcGFyc2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZGF0YS5vZmZzZXQodGhpcy5vZmZzZXQpO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgIHRoaXMubnVtR2x5cGhzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhQb2ludHMgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLm1heENvbnRvdXJzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhDb21wb25lbnRQb2ludHMgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLm1heENvbXBvbmVudENvbnRvdXJzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhab25lcyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWF4VHdpbGlnaHRQb2ludHMgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLm1heFN0b3JhZ2UgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLm1heEZ1bmN0aW9uRGVmcyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWF4SW5zdHJ1Y3Rpb25EZWZzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhTdGFja0VsZW1lbnRzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhTaXplT2ZJbnN0cnVjdGlvbnMgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLm1heENvbXBvbmVudEVsZW1lbnRzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhDb21wb25lbnREZXB0aCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGdseXBoSWRzKSB7XG4gICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgb3V0LndyaXRlTG9uZyh0aGlzLnZlcnNpb24pO1xuICAgICAgICBvdXQud3JpdGVTaG9ydChnbHlwaElkcy5sZW5ndGgpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heFBvaW50cyk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubWF4Q29udG91cnMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heENvbXBvbmVudFBvaW50cyk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubWF4Q29tcG9uZW50Q29udG91cnMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heFpvbmVzKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYXhUd2lsaWdodFBvaW50cyk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubWF4U3RvcmFnZSk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubWF4RnVuY3Rpb25EZWZzKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYXhJbnN0cnVjdGlvbkRlZnMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heFN0YWNrRWxlbWVudHMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heFNpemVPZkluc3RydWN0aW9ucyk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubWF4Q29tcG9uZW50RWxlbWVudHMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heENvbXBvbmVudERlcHRoKTtcbiAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICB9XG59KTtcblxudmFyIEhtdHhUYWJsZSA9IGRlZnRhYmxlKHtcbiAgICBwYXJzZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBkYXRhLm9mZnNldCh0aGlzLm9mZnNldCk7XG4gICAgICAgIHZhciBkaXIgPSB0aGlzLmZpbGUsIGhoZWEgPSBkaXIuaGhlYTtcbiAgICAgICAgdGhpcy5tZXRyaWNzID0gZGF0YS50aW1lcyhoaGVhLm51bU9mTG9uZ0hvck1ldHJpY3MsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkdmFuY2U6IGRhdGEucmVhZFNob3J0KCksXG4gICAgICAgICAgICAgICAgbHNiOiBkYXRhLnJlYWRTaG9ydF8oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBsc2JDb3VudCA9IGRpci5tYXhwLm51bUdseXBocyAtIGRpci5oaGVhLm51bU9mTG9uZ0hvck1ldHJpY3M7XG4gICAgICAgIHRoaXMubGVmdFNpZGVCZWFyaW5ncyA9IGRhdGEudGltZXMobHNiQ291bnQsIGRhdGEucmVhZFNob3J0Xyk7XG4gICAgfSxcbiAgICBmb3JHbHlwaDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdmFyIG1ldHJpY3MgPSB0aGlzLm1ldHJpY3M7XG4gICAgICAgIHZhciBuID0gbWV0cmljcy5sZW5ndGg7XG4gICAgICAgIGlmIChpZCA8IG4pIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRyaWNzW2lkXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWR2YW5jZTogbWV0cmljc1tuIC0gMV0uYWR2YW5jZSxcbiAgICAgICAgICAgIGxzYjogdGhpcy5sZWZ0U2lkZUJlYXJpbmdzW2lkIC0gbl1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oZ2x5cGhJZHMpIHtcbiAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdseXBoSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuZm9yR2x5cGgoZ2x5cGhJZHNbaV0pO1xuICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQobS5hZHZhbmNlKTtcbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0XyhtLmxzYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICB9XG59KTtcblxudmFyIEdseWZUYWJsZSA9IChmdW5jdGlvbigpe1xuXG4gICAgZnVuY3Rpb24gU2ltcGxlR2x5cGgocmF3KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3O1xuICAgIH1cbiAgICBTaW1wbGVHbHlwaC5wcm90b3R5cGUgPSB7XG4gICAgICAgIGNvbXBvdW5kOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJhdy5nZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgQVJHXzFfQU5EXzJfQVJFX1dPUkRTICAgICA9IDB4MDAwMTtcbiAgICB2YXIgV0VfSEFWRV9BX1NDQUxFICAgICAgICAgICA9IDB4MDAwODtcbiAgICB2YXIgTU9SRV9DT01QT05FTlRTICAgICAgICAgICA9IDB4MDAyMDtcbiAgICB2YXIgV0VfSEFWRV9BTl9YX0FORF9ZX1NDQUxFICA9IDB4MDA0MDtcbiAgICB2YXIgV0VfSEFWRV9BX1RXT19CWV9UV08gICAgICA9IDB4MDA4MDtcbiAgICAvL3ZhciBXRV9IQVZFX0lOU1RSVUNUSU9OUyAgICAgID0gMHgwMTAwO1xuXG4gICAgZnVuY3Rpb24gQ29tcG91bmRHbHlwaChkYXRhKSB7XG4gICAgICAgIHRoaXMucmF3ID0gZGF0YTtcbiAgICAgICAgdmFyIGlkcyA9IHRoaXMuZ2x5cGhJZHMgPSBbXTtcbiAgICAgICAgdmFyIG9mZnNldHMgPSB0aGlzLmlkT2Zmc2V0cyA9IFtdO1xuICAgICAgICB3aGlsZSAodHJ1ZSkgeyAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICAgICAgICAgdmFyIGZsYWdzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIG9mZnNldHMucHVzaChkYXRhLm9mZnNldCgpKTtcbiAgICAgICAgICAgIGlkcy5wdXNoKGRhdGEucmVhZFNob3J0KCkpO1xuXG4gICAgICAgICAgICBpZiAoIShmbGFncyAmIE1PUkVfQ09NUE9ORU5UUykpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5za2lwKGZsYWdzICYgQVJHXzFfQU5EXzJfQVJFX1dPUkRTID8gNCA6IDIpO1xuXG4gICAgICAgICAgICBpZiAoZmxhZ3MgJiBXRV9IQVZFX0FfVFdPX0JZX1RXTykge1xuICAgICAgICAgICAgICAgIGRhdGEuc2tpcCg4KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxhZ3MgJiBXRV9IQVZFX0FOX1hfQU5EX1lfU0NBTEUpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnNraXAoNCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZsYWdzICYgV0VfSEFWRV9BX1NDQUxFKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5za2lwKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQ29tcG91bmRHbHlwaC5wcm90b3R5cGUgPSB7XG4gICAgICAgIGNvbXBvdW5kOiB0cnVlLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKG9sZDJuZXcpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0odGhpcy5yYXcuZ2V0KCkpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdseXBoSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5nbHlwaElkc1tpXTtcbiAgICAgICAgICAgICAgICBvdXQub2Zmc2V0KHRoaXMuaWRPZmZzZXRzW2ldKTtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydChvbGQybmV3W2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0LmdldCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBkZWZ0YWJsZSh7XG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2x5cGhGb3I6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSB0aGlzLmNhY2hlO1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGNhY2hlLCBpZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVbaWRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbG9jYSA9IHRoaXMuZmlsZS5sb2NhO1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGxvY2EubGVuZ3RoT2YoaWQpO1xuXG4gICAgICAgICAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChjYWNoZVtpZF0gPSBudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJhd0RhdGE7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5vZmZzZXQgKyBsb2NhLm9mZnNldE9mKGlkKTtcbiAgICAgICAgICAgIHZhciByYXcgPSBCaW5hcnlTdHJlYW0oZGF0YS5zbGljZShvZmZzZXQsIGxlbmd0aCkpO1xuXG4gICAgICAgICAgICB2YXIgbnVtYmVyT2ZDb250b3VycyA9IHJhdy5yZWFkU2hvcnRfKCk7XG4gICAgICAgICAgICB2YXIgeE1pbiA9IHJhdy5yZWFkU2hvcnRfKCk7XG4gICAgICAgICAgICB2YXIgeU1pbiA9IHJhdy5yZWFkU2hvcnRfKCk7XG4gICAgICAgICAgICB2YXIgeE1heCA9IHJhdy5yZWFkU2hvcnRfKCk7XG4gICAgICAgICAgICB2YXIgeU1heCA9IHJhdy5yZWFkU2hvcnRfKCk7XG5cbiAgICAgICAgICAgIHZhciBnbHlwaCA9IGNhY2hlW2lkXSA9IG51bWJlck9mQ29udG91cnMgPT0gLTEgPyBuZXcgQ29tcG91bmRHbHlwaChyYXcpIDogbmV3IFNpbXBsZUdseXBoKHJhdyk7XG5cbiAgICAgICAgICAgIGdseXBoLm51bWJlck9mQ29udG91cnMgPSBudW1iZXJPZkNvbnRvdXJzO1xuICAgICAgICAgICAgZ2x5cGgueE1pbiA9IHhNaW47XG4gICAgICAgICAgICBnbHlwaC55TWluID0geU1pbjtcbiAgICAgICAgICAgIGdseXBoLnhNYXggPSB4TWF4O1xuICAgICAgICAgICAgZ2x5cGgueU1heCA9IHlNYXg7XG5cbiAgICAgICAgICAgIHJldHVybiBnbHlwaDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbihnbHlwaHMsIG9sZElkcywgb2xkMm5ldykge1xuICAgICAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpLCBvZmZzZXRzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZElkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IG9sZElkc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgZ2x5cGggPSBnbHlwaHNbaWRdO1xuICAgICAgICAgICAgICAgIG9mZnNldHMucHVzaChvdXQub2Zmc2V0KCkpO1xuICAgICAgICAgICAgICAgIGlmIChnbHlwaCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQud3JpdGUoZ2x5cGgucmVuZGVyKG9sZDJuZXcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmZzZXRzLnB1c2gob3V0Lm9mZnNldCgpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGFibGU6IG91dC5nZXQoKSxcbiAgICAgICAgICAgICAgICBvZmZzZXRzOiBvZmZzZXRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG5cbn0oKSk7XG5cbnZhciBOYW1lVGFibGUgPSAoZnVuY3Rpb24oKXtcblxuICAgIGZ1bmN0aW9uIE5hbWVFbnRyeSh0ZXh0LCBlbnRyeSkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB0aGlzLnBsYXRmb3JtSUQgPSBlbnRyeS5wbGF0Zm9ybUlEO1xuICAgICAgICB0aGlzLnBsYXRmb3JtU3BlY2lmaWNJRCA9IGVudHJ5LnBsYXRmb3JtU3BlY2lmaWNJRDtcbiAgICAgICAgdGhpcy5sYW5ndWFnZUlEID0gZW50cnkubGFuZ3VhZ2VJRDtcbiAgICAgICAgdGhpcy5uYW1lSUQgPSBlbnRyeS5uYW1lSUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZnRhYmxlKHtcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEub2Zmc2V0KHRoaXMub2Zmc2V0KTtcbiAgICAgICAgICAgIGRhdGEucmVhZFNob3J0KCk7ICAgLy8gZm9ybWF0XG4gICAgICAgICAgICB2YXIgY291bnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgdmFyIHN0cmluZ09mZnNldCA9IHRoaXMub2Zmc2V0ICsgZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIHZhciBuYW1lUmVjb3JkcyA9IGRhdGEudGltZXMoY291bnQsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1JRCAgICAgICAgIDogZGF0YS5yZWFkU2hvcnQoKSxcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1TcGVjaWZpY0lEIDogZGF0YS5yZWFkU2hvcnQoKSxcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VJRCAgICAgICAgIDogZGF0YS5yZWFkU2hvcnQoKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZUlEICAgICAgICAgICAgIDogZGF0YS5yZWFkU2hvcnQoKSxcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoICAgICAgICAgICAgIDogZGF0YS5yZWFkU2hvcnQoKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICAgICAgICAgICAgIDogZGF0YS5yZWFkU2hvcnQoKSArIHN0cmluZ09mZnNldFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzdHJpbmdzID0gdGhpcy5zdHJpbmdzID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVSZWNvcmRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlYyA9IG5hbWVSZWNvcmRzW2ldO1xuICAgICAgICAgICAgICAgIGRhdGEub2Zmc2V0KHJlYy5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gZGF0YS5yZWFkU3RyaW5nKHJlYy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICghc3RyaW5nc1tyZWMubmFtZUlEXSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmdzW3JlYy5uYW1lSURdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0cmluZ3NbcmVjLm5hbWVJRF0ucHVzaChuZXcgTmFtZUVudHJ5KHRleHQsIHJlYykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wb3N0c2NyaXB0RW50cnkgPSBzdHJpbmdzWzZdWzBdO1xuICAgICAgICAgICAgdGhpcy5wb3N0c2NyaXB0TmFtZSA9IHRoaXMucG9zdHNjcmlwdEVudHJ5LnRleHQucmVwbGFjZSgvW15cXHgyMC1cXHg3Rl0vZywgXCJcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbihwc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgICAgICAgICAgdmFyIHN0ckNvdW50ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gc3RyaW5ncykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShzdHJpbmdzLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJDb3VudCArPSBzdHJpbmdzW2ldLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3V0ID0gQmluYXJ5U3RyZWFtKCk7XG4gICAgICAgICAgICB2YXIgc3RyVGFibGUgPSBCaW5hcnlTdHJlYW0oKTtcblxuICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoMCk7ICAvLyBmb3JtYXRcbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0KHN0ckNvdW50KTtcbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0KDYgKyAxMiAqIHN0ckNvdW50KTsgLy8gc3RyaW5nT2Zmc2V0XG5cbiAgICAgICAgICAgIGZvciAoaSBpbiBzdHJpbmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHN0cmluZ3MsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gaSA9PSA2ID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5hbWVFbnRyeShwc05hbWUsIHRoaXMucG9zdHNjcmlwdEVudHJ5KVxuICAgICAgICAgICAgICAgICAgICBdIDogc3RyaW5nc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaXN0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gbGlzdFtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dC53cml0ZVNob3J0KHN0ci5wbGF0Zm9ybUlEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dC53cml0ZVNob3J0KHN0ci5wbGF0Zm9ybVNwZWNpZmljSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoc3RyLmxhbmd1YWdlSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoc3RyLm5hbWVJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydChzdHIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dC53cml0ZVNob3J0KHN0clRhYmxlLm9mZnNldCgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyVGFibGUud3JpdGVTdHJpbmcoc3RyLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXQud3JpdGUoc3RyVGFibGUuZ2V0KCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb3V0LmdldCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbn0pKCk7XG5cbnZhciBQb3N0VGFibGUgPSAoZnVuY3Rpb24oKXtcblxuICAgIHZhciBQT1NUU0NSSVBUX0dMWVBIUyA9IFwiLm5vdGRlZiAubnVsbCBub25tYXJraW5ncmV0dXJuIHNwYWNlIGV4Y2xhbSBxdW90ZWRibCBudW1iZXJzaWduIGRvbGxhciBwZXJjZW50IGFtcGVyc2FuZCBxdW90ZXNpbmdsZSBwYXJlbmxlZnQgcGFyZW5yaWdodCBhc3RlcmlzayBwbHVzIGNvbW1hIGh5cGhlbiBwZXJpb2Qgc2xhc2ggemVybyBvbmUgdHdvIHRocmVlIGZvdXIgZml2ZSBzaXggc2V2ZW4gZWlnaHQgbmluZSBjb2xvbiBzZW1pY29sb24gbGVzcyBlcXVhbCBncmVhdGVyIHF1ZXN0aW9uIGF0IEEgQiBDIEQgRSBGIEcgSCBJIEogSyBMIE0gTiBPIFAgUSBSIFMgVCBVIFYgVyBYIFkgWiBicmFja2V0bGVmdCBiYWNrc2xhc2ggYnJhY2tldHJpZ2h0IGFzY2lpY2lyY3VtIHVuZGVyc2NvcmUgZ3JhdmUgYSBiIGMgZCBlIGYgZyBoIGkgaiBrIGwgbSBuIG8gcCBxIHIgcyB0IHUgdiB3IHggeSB6IGJyYWNlbGVmdCBiYXIgYnJhY2VyaWdodCBhc2NpaXRpbGRlIEFkaWVyZXNpcyBBcmluZyBDY2VkaWxsYSBFYWN1dGUgTnRpbGRlIE9kaWVyZXNpcyBVZGllcmVzaXMgYWFjdXRlIGFncmF2ZSBhY2lyY3VtZmxleCBhZGllcmVzaXMgYXRpbGRlIGFyaW5nIGNjZWRpbGxhIGVhY3V0ZSBlZ3JhdmUgZWNpcmN1bWZsZXggZWRpZXJlc2lzIGlhY3V0ZSBpZ3JhdmUgaWNpcmN1bWZsZXggaWRpZXJlc2lzIG50aWxkZSBvYWN1dGUgb2dyYXZlIG9jaXJjdW1mbGV4IG9kaWVyZXNpcyBvdGlsZGUgdWFjdXRlIHVncmF2ZSB1Y2lyY3VtZmxleCB1ZGllcmVzaXMgZGFnZ2VyIGRlZ3JlZSBjZW50IHN0ZXJsaW5nIHNlY3Rpb24gYnVsbGV0IHBhcmFncmFwaCBnZXJtYW5kYmxzIHJlZ2lzdGVyZWQgY29weXJpZ2h0IHRyYWRlbWFyayBhY3V0ZSBkaWVyZXNpcyBub3RlcXVhbCBBRSBPc2xhc2ggaW5maW5pdHkgcGx1c21pbnVzIGxlc3NlcXVhbCBncmVhdGVyZXF1YWwgeWVuIG11IHBhcnRpYWxkaWZmIHN1bW1hdGlvbiBwcm9kdWN0IHBpIGludGVncmFsIG9yZGZlbWluaW5lIG9yZG1hc2N1bGluZSBPbWVnYSBhZSBvc2xhc2ggcXVlc3Rpb25kb3duIGV4Y2xhbWRvd24gbG9naWNhbG5vdCByYWRpY2FsIGZsb3JpbiBhcHByb3hlcXVhbCBEZWx0YSBndWlsbGVtb3RsZWZ0IGd1aWxsZW1vdHJpZ2h0IGVsbGlwc2lzIG5vbmJyZWFraW5nc3BhY2UgQWdyYXZlIEF0aWxkZSBPdGlsZGUgT0Ugb2UgZW5kYXNoIGVtZGFzaCBxdW90ZWRibGxlZnQgcXVvdGVkYmxyaWdodCBxdW90ZWxlZnQgcXVvdGVyaWdodCBkaXZpZGUgbG96ZW5nZSB5ZGllcmVzaXMgWWRpZXJlc2lzIGZyYWN0aW9uIGN1cnJlbmN5IGd1aWxzaW5nbGxlZnQgZ3VpbHNpbmdscmlnaHQgZmkgZmwgZGFnZ2VyZGJsIHBlcmlvZGNlbnRlcmVkIHF1b3Rlc2luZ2xiYXNlIHF1b3RlZGJsYmFzZSBwZXJ0aG91c2FuZCBBY2lyY3VtZmxleCBFY2lyY3VtZmxleCBBYWN1dGUgRWRpZXJlc2lzIEVncmF2ZSBJYWN1dGUgSWNpcmN1bWZsZXggSWRpZXJlc2lzIElncmF2ZSBPYWN1dGUgT2NpcmN1bWZsZXggYXBwbGUgT2dyYXZlIFVhY3V0ZSBVY2lyY3VtZmxleCBVZ3JhdmUgZG90bGVzc2kgY2lyY3VtZmxleCB0aWxkZSBtYWNyb24gYnJldmUgZG90YWNjZW50IHJpbmcgY2VkaWxsYSBodW5nYXJ1bWxhdXQgb2dvbmVrIGNhcm9uIExzbGFzaCBsc2xhc2ggU2Nhcm9uIHNjYXJvbiBaY2Fyb24gemNhcm9uIGJyb2tlbmJhciBFdGggZXRoIFlhY3V0ZSB5YWN1dGUgVGhvcm4gdGhvcm4gbWludXMgbXVsdGlwbHkgb25lc3VwZXJpb3IgdHdvc3VwZXJpb3IgdGhyZWVzdXBlcmlvciBvbmVoYWxmIG9uZXF1YXJ0ZXIgdGhyZWVxdWFydGVycyBmcmFuYyBHYnJldmUgZ2JyZXZlIElkb3RhY2NlbnQgU2NlZGlsbGEgc2NlZGlsbGEgQ2FjdXRlIGNhY3V0ZSBDY2Fyb24gY2Nhcm9uIGRjcm9hdFwiLnNwbGl0KC9cXHMrL2cpO1xuXG4gICAgcmV0dXJuIGRlZnRhYmxlKHtcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEub2Zmc2V0KHRoaXMub2Zmc2V0KTtcblxuICAgICAgICAgICAgdGhpcy5mb3JtYXQgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgICAgICB0aGlzLml0YWxpY0FuZ2xlID0gZGF0YS5yZWFkRml4ZWRfKCk7XG4gICAgICAgICAgICB0aGlzLnVuZGVybGluZVBvc2l0aW9uID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgICAgICB0aGlzLnVuZGVybGluZVRoaWNrbmVzcyA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICAgICAgdGhpcy5pc0ZpeGVkUGl0Y2ggPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgICAgICB0aGlzLm1pbk1lbVR5cGU0MiA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgICAgIHRoaXMubWF4TWVtVHlwZTQyID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgdGhpcy5taW5NZW1UeXBlMSA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgICAgIHRoaXMubWF4TWVtVHlwZTEgPSBkYXRhLnJlYWRMb25nKCk7XG5cbiAgICAgICAgICAgIHZhciBudW1iZXJPZkdseXBocztcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmZvcm1hdCkge1xuICAgICAgICAgICAgICBjYXNlIDB4MDAwMTAwMDA6XG4gICAgICAgICAgICAgIGNhc2UgMHgwMDAzMDAwMDpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDB4MDAwMjAwMDA6XG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZHbHlwaHMgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2x5cGhOYW1lSW5kZXggPSBkYXRhLnRpbWVzKG51bWJlck9mR2x5cGhzLCBkYXRhLnJlYWRTaG9ydCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBsaW1pdCA9IHRoaXMub2Zmc2V0ICsgdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGRhdGEub2Zmc2V0KCkgPCBsaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWVzLnB1c2goZGF0YS5yZWFkU3RyaW5nKGRhdGEucmVhZEJ5dGUoKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDB4MDAwMjUwMDA6XG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZHbHlwaHMgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0cyA9IGRhdGEucmVhZChudW1iZXJPZkdseXBocyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAweDAwMDQwMDAwOlxuICAgICAgICAgICAgICAgIHRoaXMubWFwID0gZGF0YS50aW1lcyh0aGlzLmZpbGUubWF4cC5udW1HbHlwaHMsIGRhdGEucmVhZFNob3J0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2x5cGhGb3I6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgY2FzZSAweDAwMDEwMDAwOlxuICAgICAgICAgICAgICAgIHJldHVybiBQT1NUU0NSSVBUX0dMWVBIU1tjb2RlXSB8fCBcIi5ub3RkZWZcIjtcblxuICAgICAgICAgICAgICBjYXNlIDB4MDAwMjAwMDA6XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nbHlwaE5hbWVJbmRleFtjb2RlXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCBQT1NUU0NSSVBUX0dMWVBIUy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBPU1RTQ1JJUFRfR0xZUEhTW2luZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZXNbaW5kZXggLSBQT1NUU0NSSVBUX0dMWVBIUy5sZW5ndGhdIHx8IFwiLm5vdGRlZlwiO1xuXG4gICAgICAgICAgICAgIGNhc2UgMHgwMDAyNTAwMDpcblxuICAgICAgICAgICAgICBjYXNlIDB4MDAwMzAwMDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiLm5vdGRlZlwiO1xuXG4gICAgICAgICAgICAgIGNhc2UgMHgwMDA0MDAwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBbY29kZV0gfHwgMHhGRkZGO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKG1hcHBpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1hdCA9PSAweDAwMDMwMDAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmF3KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGtlZXAgb3JpZ2luYWwgaGVhZGVyLCBidXQgc2V0IGZvcm1hdCB0byAyLjBcbiAgICAgICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0odGhpcy5yYXdEYXRhLnNsaWNlKHRoaXMub2Zmc2V0LCAzMikpO1xuICAgICAgICAgICAgb3V0LndyaXRlTG9uZygweDAwMDIwMDAwKTtcbiAgICAgICAgICAgIG91dC5vZmZzZXQoMzIpO1xuXG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIHN0cmluZ3MgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXBwaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gbWFwcGluZ1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zdCA9IHRoaXMuZ2x5cGhGb3IoaWQpO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IFBPU1RTQ1JJUFRfR0xZUEhTLmluZGV4T2YocG9zdCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goUE9TVFNDUklQVF9HTFlQSFMubGVuZ3RoICsgc3RyaW5ncy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2gocG9zdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXQud3JpdGVTaG9ydChtYXBwaW5nLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbmRleGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoaW5kZXhlc1tpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlQnl0ZShzdHJpbmdzW2ldLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlU3RyaW5nKHN0cmluZ3NbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3V0LmdldCgpO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG52YXIgQ21hcFRhYmxlID0gKGZ1bmN0aW9uKCl7XG5cbiAgICBmdW5jdGlvbiBDbWFwRW50cnkoZGF0YSwgb2Zmc2V0LCBjb2RlTWFwKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5wbGF0Zm9ybUlEID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgc2VsZi5wbGF0Zm9ybVNwZWNpZmljSUQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICBzZWxmLm9mZnNldCA9IG9mZnNldCArIGRhdGEucmVhZExvbmcoKTtcblxuICAgICAgICBkYXRhLnNhdmVFeGN1cnNpb24oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBjb2RlO1xuICAgICAgICAgICAgZGF0YS5vZmZzZXQoc2VsZi5vZmZzZXQpO1xuICAgICAgICAgICAgc2VsZi5mb3JtYXQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHNlbGYuZm9ybWF0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzZWxmLmxlbmd0aCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICAgICAgc2VsZi5sYW5ndWFnZSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBjb2RlTWFwW2ldID0gZGF0YS5yZWFkQnl0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgc2VsZi5sZW5ndGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHNlbGYubGFuZ3VhZ2UgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHZhciBzZWdDb3VudCA9IGRhdGEucmVhZFNob3J0KCkgLyAyO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5za2lwKDYpOyAgICAgICAvLyBzZWFyY2hSYW5nZSwgZW50cnlTZWxlY3RvciwgcmFuZ2VTaGlmdFxuICAgICAgICAgICAgICAgIHZhciBlbmRDb2RlID0gZGF0YS50aW1lcyhzZWdDb3VudCwgZGF0YS5yZWFkU2hvcnQpO1xuICAgICAgICAgICAgICAgIGRhdGEuc2tpcCgyKTsgICAgICAgLy8gcmVzZXJ2ZWQgcGFkXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0Q29kZSA9IGRhdGEudGltZXMoc2VnQ291bnQsIGRhdGEucmVhZFNob3J0KTtcbiAgICAgICAgICAgICAgICB2YXIgaWREZWx0YSA9IGRhdGEudGltZXMoc2VnQ291bnQsIGRhdGEucmVhZFNob3J0Xyk7XG4gICAgICAgICAgICAgICAgdmFyIGlkUmFuZ2VPZmZzZXQgPSBkYXRhLnRpbWVzKHNlZ0NvdW50LCBkYXRhLnJlYWRTaG9ydCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAoc2VsZi5sZW5ndGggKyBzZWxmLm9mZnNldCAtIGRhdGEub2Zmc2V0KCkpIC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgZ2x5cGhJZHMgPSBkYXRhLnRpbWVzKGNvdW50LCBkYXRhLnJlYWRTaG9ydCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2VnQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBzdGFydENvZGVbaV0sIGVuZCA9IGVuZENvZGVbaV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29kZSA9IHN0YXJ0OyBjb2RlIDw9IGVuZDsgKytjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2x5cGhJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZFJhbmdlT2Zmc2V0W2ldID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2x5cGhJZCA9IGNvZGUgKyBpZERlbHRhW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIG5vbi16ZXJvLCBpZFJhbmdlT2Zmc2V0IGNvbnRhaW5zIGZvciBlYWNoIHNlZ21lbnQgdGhlIGJ5dGUgb2Zmc2V0IG9mIHRoZSBHbHlwaCBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludG8gdGhlIGdseXBoSWRzIHRhYmxlLCBmcm9tIHRoZSAqY3VycmVudCogYGlgIGNlbGwgb2YgaWRSYW5nZU9mZnNldC4gIEluIG90aGVyIHdvcmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgb2Zmc2V0IHNwYW5zIGZyb20gdGhlIGZpcnN0IGludG8gdGhlIHNlY29uZCBhcnJheS4gIFRoaXMgd29ya3MsIGJlY2F1c2UgdGhlIGFycmF5c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFyZSBjb25zZWN1dGl2ZSBpbiB0aGUgVFRGIGZpbGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgWyAuLi5pZFJhbmdlT2Zmc2V0Li4uIF1bIC4uLmdseXBoSWRzLi4uIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAuLi4uLi4gNDggLi4uLi4uICAgICAgIC4uLi4gSUQgLi4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICBeLS0tLS0gNDggYnl0ZXMgLS0tLS1eXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoYnV0IEkgY2FuJ3Qgc3RvcCB3b25kZXJpbmcgd2h5IGlzIGl0IG5vdCBqdXN0IGEgcGxhaW4gaW5kZXgsIHBvc3NpYmx5IGluY3JlbWVudGVkIGJ5IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB0aGF0IHdlIGNhbiBoYXZlIHRoYXQgc3BlY2lhbCBgemVyb2AgdmFsdWUuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnRzIG9mIGlkUmFuZ2VPZmZzZXQgYXJlIGV2ZW4gbnVtYmVycywgYmVjYXVzZSBib3RoIGFycmF5cyBjb250YWluIDE2LWJpdCB3b3JkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB5ZXQgdGhlIG9mZnNldCBpcyBpbiBieXRlcy4gIFRoYXQgaXMgd2h5IHdlIGRpdmlkZSBpdCBieSAyLiAgVGhlbiB3ZSBzdWJ0cmFjdCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1haW5pbmcgc2VnbWVudHMgKHNlZ0NvdW50LWkpLCBhbmQgYWRkIHRoZSBjb2RlLXN0YXJ0IG9mZnNldCwgdG8gd2hpY2ggd2UgbmVlZCB0byBhZGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY29ycmVzcG9uZGluZyBkZWx0YSB0byBnZXQgdGhlIGFjdHVhbCBnbHlwaCBJRC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBpZFJhbmdlT2Zmc2V0W2ldIC8gMiAtIChzZWdDb3VudCAtIGkpICsgKGNvZGUgLSBzdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2x5cGhJZCA9IGdseXBoSWRzW2luZGV4XSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnbHlwaElkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdseXBoSWQgKz0gaWREZWx0YVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlTWFwW2NvZGVdID0gZ2x5cGhJZCAmIDB4RkZGRjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgc2VsZi5sZW5ndGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHNlbGYubGFuZ3VhZ2UgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIGNvZGUgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsZW5ndGgtLSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZU1hcFtjb2RlKytdID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICBkYXRhLnJlYWRTaG9ydCgpOyAvLyByZXNlcnZlZFxuICAgICAgICAgICAgICAgIHNlbGYubGVuZ3RoID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgICAgIHNlbGYubGFuZ3VhZ2UgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgICAgICAgICAgdmFyIG5ncm91cHMgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ncm91cHMtLSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZENoYXJDb2RlID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2x5cGhDb2RlID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY29kZSA8PSBlbmRDaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZU1hcFtjb2RlKytdID0gZ2x5cGhDb2RlKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoXCJVbmhhbmRsZWQgQ01BUCBmb3JtYXQ6IFwiICsgc2VsZi5mb3JtYXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyQ2hhcm1hcChuY2lkMm9naWQsIG9naWQybmdpZCkge1xuICAgICAgICB2YXIgY29kZXMgPSBzb3J0ZWRLZXlzKG5jaWQyb2dpZCk7XG4gICAgICAgIHZhciBzdGFydENvZGVzID0gW107XG4gICAgICAgIHZhciBlbmRDb2RlcyA9IFtdO1xuICAgICAgICB2YXIgbGFzdCA9IG51bGw7XG4gICAgICAgIHZhciBkaWZmID0gbnVsbDtcblxuICAgICAgICBmdW5jdGlvbiBuZXdfZ2lkKGNoYXJjb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2dpZDJuZ2lkW25jaWQyb2dpZFtjaGFyY29kZV1dO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2Rlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBjb2Rlc1tpXTtcbiAgICAgICAgICAgIHZhciBnaWQgPSBuZXdfZ2lkKGNvZGUpO1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gZ2lkIC0gY29kZTtcbiAgICAgICAgICAgIGlmIChsYXN0ID09IG51bGwgfHwgZGVsdGEgIT09IGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgICAgICAgICAgICBlbmRDb2Rlcy5wdXNoKGxhc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFydENvZGVzLnB1c2goY29kZSk7XG4gICAgICAgICAgICAgICAgZGlmZiA9IGRlbHRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdCA9IGNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgICAgZW5kQ29kZXMucHVzaChsYXN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbmRDb2Rlcy5wdXNoKDB4RkZGRik7XG4gICAgICAgIHN0YXJ0Q29kZXMucHVzaCgweEZGRkYpO1xuXG4gICAgICAgIHZhciBzZWdDb3VudCA9IHN0YXJ0Q29kZXMubGVuZ3RoO1xuICAgICAgICB2YXIgc2VnQ291bnRYMiA9IHNlZ0NvdW50ICogMjtcbiAgICAgICAgdmFyIHNlYXJjaFJhbmdlID0gMiAqIE1hdGgucG93KDIsIE1hdGguZmxvb3IoTWF0aC5sb2coc2VnQ291bnQpIC8gTWF0aC5MTjIpKTtcbiAgICAgICAgdmFyIGVudHJ5U2VsZWN0b3IgPSBNYXRoLmxvZyhzZWFyY2hSYW5nZSAvIDIpIC8gTWF0aC5MTjI7XG4gICAgICAgIHZhciByYW5nZVNoaWZ0ID0gc2VnQ291bnRYMiAtIHNlYXJjaFJhbmdlO1xuXG4gICAgICAgIHZhciBkZWx0YXMgPSBbXTtcbiAgICAgICAgdmFyIHJhbmdlT2Zmc2V0cyA9IFtdO1xuICAgICAgICB2YXIgZ2x5cGhJZHMgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2VnQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0Q29kZSA9IHN0YXJ0Q29kZXNbaV07XG4gICAgICAgICAgICB2YXIgZW5kQ29kZSA9IGVuZENvZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHN0YXJ0Q29kZSA9PSAweEZGRkYpIHtcbiAgICAgICAgICAgICAgICBkZWx0YXMucHVzaCgwKTtcbiAgICAgICAgICAgICAgICByYW5nZU9mZnNldHMucHVzaCgwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGFydEdseXBoID0gbmV3X2dpZChzdGFydENvZGUpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0Q29kZSAtIHN0YXJ0R2x5cGggPj0gMHg4MDAwKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFzLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgcmFuZ2VPZmZzZXRzLnB1c2goMiAqIChnbHlwaElkcy5sZW5ndGggKyBzZWdDb3VudCAtIGkpKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnRDb2RlOyBqIDw9IGVuZENvZGU7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBnbHlwaElkcy5wdXNoKG5ld19naWQoaikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsdGFzLnB1c2goc3RhcnRHbHlwaCAtIHN0YXJ0Q29kZSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VPZmZzZXRzLnB1c2goMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0ID0gQmluYXJ5U3RyZWFtKCk7XG5cbiAgICAgICAgb3V0LndyaXRlU2hvcnQoMyk7ICAgICAgLy8gcGxhdGZvcm1JRFxuICAgICAgICBvdXQud3JpdGVTaG9ydCgxKTsgICAgICAvLyBwbGF0Zm9ybVNwZWNpZmljSURcbiAgICAgICAgb3V0LndyaXRlTG9uZygxMik7ICAgICAgLy8gb2Zmc2V0XG4gICAgICAgIG91dC53cml0ZVNob3J0KDQpOyAgICAgIC8vIGZvcm1hdFxuICAgICAgICBvdXQud3JpdGVTaG9ydCgxNiArIHNlZ0NvdW50ICogOCArIGdseXBoSWRzLmxlbmd0aCAqIDIpOyAvLyBsZW5ndGhcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoMCk7ICAgICAgLy8gbGFuZ3VhZ2VcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoc2VnQ291bnRYMik7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHNlYXJjaFJhbmdlKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoZW50cnlTZWxlY3Rvcik7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHJhbmdlU2hpZnQpO1xuXG4gICAgICAgIGVuZENvZGVzLmZvckVhY2gob3V0LndyaXRlU2hvcnQpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCgwKTsgICAgICAvLyByZXNlcnZlZCBwYWRcbiAgICAgICAgc3RhcnRDb2Rlcy5mb3JFYWNoKG91dC53cml0ZVNob3J0KTtcbiAgICAgICAgZGVsdGFzLmZvckVhY2gob3V0LndyaXRlU2hvcnRfKTtcbiAgICAgICAgcmFuZ2VPZmZzZXRzLmZvckVhY2gob3V0LndyaXRlU2hvcnQpO1xuICAgICAgICBnbHlwaElkcy5mb3JFYWNoKG91dC53cml0ZVNob3J0KTtcblxuICAgICAgICByZXR1cm4gb3V0LmdldCgpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZ0YWJsZSh7XG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gc2VsZi5vZmZzZXQ7XG4gICAgICAgICAgICBkYXRhLm9mZnNldChvZmZzZXQpO1xuICAgICAgICAgICAgc2VsZi5jb2RlTWFwID0ge307XG4gICAgICAgICAgICBzZWxmLnZlcnNpb24gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgdmFyIHRhYmxlQ291bnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgc2VsZi50YWJsZXMgPSBkYXRhLnRpbWVzKHRhYmxlQ291bnQsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDbWFwRW50cnkoZGF0YSwgb2Zmc2V0LCBzZWxmLmNvZGVNYXApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24obmNpZDJvZ2lkLCBvZ2lkMm5naWQpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0KDApOyAgLy8gdmVyc2lvblxuICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoMSk7ICAvLyB0YWJsZUNvdW50XG4gICAgICAgICAgICBvdXQud3JpdGUocmVuZGVyQ2hhcm1hcChuY2lkMm9naWQsIG9naWQybmdpZCkpO1xuICAgICAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59KSgpO1xuXG52YXIgT1MyVGFibGUgPSBkZWZ0YWJsZSh7XG4gICAgcGFyc2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZGF0YS5vZmZzZXQodGhpcy5vZmZzZXQpO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmF2ZXJhZ2VDaGFyV2lkdGggPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy53ZWlnaHRDbGFzcyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMud2lkdGhDbGFzcyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMueVN1YnNjcmlwdFhTaXplID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN1YnNjcmlwdFlTaXplID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN1YnNjcmlwdFhPZmZzZXQgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy55U3Vic2NyaXB0WU9mZnNldCA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLnlTdXBlcnNjcmlwdFhTaXplID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN1cGVyc2NyaXB0WVNpemUgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy55U3VwZXJzY3JpcHRYT2Zmc2V0ID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN1cGVyc2NyaXB0WU9mZnNldCA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLnlTdHJpa2VvdXRTaXplID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN0cmlrZW91dFBvc2l0aW9uID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMuZmFtaWx5Q2xhc3MgPSBkYXRhLnJlYWRTaG9ydF8oKTtcblxuICAgICAgICB0aGlzLnBhbm9zZSA9IGRhdGEudGltZXMoMTAsIGRhdGEucmVhZEJ5dGUpO1xuICAgICAgICB0aGlzLmNoYXJSYW5nZSA9IGRhdGEudGltZXMoNCwgZGF0YS5yZWFkTG9uZyk7XG5cbiAgICAgICAgdGhpcy52ZW5kb3JJRCA9IGRhdGEucmVhZFN0cmluZyg0KTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmZpcnN0Q2hhckluZGV4ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5sYXN0Q2hhckluZGV4ID0gZGF0YS5yZWFkU2hvcnQoKTtcblxuICAgICAgICBpZiAodGhpcy52ZXJzaW9uID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hc2NlbnQgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgICAgIHRoaXMuZGVzY2VudCA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICAgICAgdGhpcy5saW5lR2FwID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgICAgICB0aGlzLndpbkFzY2VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICB0aGlzLndpbkRlc2NlbnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgdGhpcy5jb2RlUGFnZVJhbmdlID0gZGF0YS50aW1lcygyLCBkYXRhLnJlYWRMb25nKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhIZWlnaHQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwSGVpZ2h0ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRDaGFyID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJyZWFrQ2hhciA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhDb250ZXh0ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KCk7XG4gICAgfVxufSk7XG5cbnZhciBzdWJzZXRUYWcgPSAxMDAwMDA7XG5cbmZ1bmN0aW9uIG5leHRTdWJzZXRUYWcoKSB7XG4gICAgdmFyIHJldCA9IFwiXCIsIG4gPSBTdHJpbmcoc3Vic2V0VGFnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobi5jaGFyQ29kZUF0KGkpIC0gNDggKyA2NSk7XG4gICAgfVxuICAgICsrc3Vic2V0VGFnO1xuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIFN1YmZvbnQoZm9udCkge1xuICAgIHRoaXMuZm9udCA9IGZvbnQ7XG4gICAgdGhpcy5zdWJzZXQgPSB7fTtcbiAgICB0aGlzLnVuaWNvZGVzID0ge307XG4gICAgdGhpcy5vZ2lkMm5naWQgPSB7IDA6IDAgfTtcbiAgICB0aGlzLm5naWQyb2dpZCA9IHsgMDogMCB9O1xuICAgIHRoaXMubmNpZDJvZ2lkID0ge307XG4gICAgdGhpcy5uZXh0ID0gdGhpcy5maXJzdENoYXIgPSAxO1xuICAgIHRoaXMubmV4dEdpZCA9IDE7XG4gICAgdGhpcy5wc05hbWUgPSBuZXh0U3Vic2V0VGFnKCkgKyBcIitcIiArIHRoaXMuZm9udC5wc05hbWU7XG59XG5cblN1YmZvbnQucHJvdG90eXBlID0ge1xuICAgIHVzZTogZnVuY3Rpb24oY2gpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIGNoID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB1Y3MyZGVjb2RlKGNoKS5yZWR1Y2UoZnVuY3Rpb24ocmV0LCBjb2RlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShzZWxmLnVzZShjb2RlKSk7XG4gICAgICAgICAgICB9LCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29kZSA9IHNlbGYudW5pY29kZXNbY2hdO1xuICAgICAgICBpZiAoIWNvZGUpIHtcbiAgICAgICAgICAgIGNvZGUgPSBzZWxmLm5leHQrKztcbiAgICAgICAgICAgIHNlbGYuc3Vic2V0W2NvZGVdID0gY2g7XG4gICAgICAgICAgICBzZWxmLnVuaWNvZGVzW2NoXSA9IGNvZGU7XG5cbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIG5ldyBHSUQgKGdseXBoIElEKSBhbmQgbWFpbnRhaW4gbmV3R0lEIC0+XG4gICAgICAgICAgICAvLyBvbGRHSUQgYW5kIGJhY2sgbWFwcGluZ3NcbiAgICAgICAgICAgIHZhciBvbGRfZ2lkID0gc2VsZi5mb250LmNtYXAuY29kZU1hcFtjaF07XG4gICAgICAgICAgICBpZiAob2xkX2dpZCkge1xuICAgICAgICAgICAgICAgIHNlbGYubmNpZDJvZ2lkW2NvZGVdID0gb2xkX2dpZDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vZ2lkMm5naWRbb2xkX2dpZF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3X2dpZCA9IHNlbGYubmV4dEdpZCsrO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm9naWQybmdpZFtvbGRfZ2lkXSA9IG5ld19naWQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubmdpZDJvZ2lkW25ld19naWRdID0gb2xkX2dpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfSxcbiAgICBlbmNvZGVUZXh0OiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZSh0ZXh0KTtcbiAgICB9LFxuICAgIGdseXBoSWRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNvcnRlZEtleXModGhpcy5vZ2lkMm5naWQpO1xuICAgIH0sXG4gICAgZ2x5cGhzRm9yOiBmdW5jdGlvbihnbHlwaElkcywgcmVzdWx0KSB7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdseXBoSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBnbHlwaElkc1tpXTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0W2lkXSkge1xuICAgICAgICAgICAgICAgIHZhciBnbHlwaCA9IHJlc3VsdFtpZF0gPSB0aGlzLmZvbnQuZ2x5Zi5nbHlwaEZvcihpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGdseXBoICYmIGdseXBoLmNvbXBvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2x5cGhzRm9yKGdseXBoLmdseXBoSWRzLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGdseXBocyA9IHRoaXMuZ2x5cGhzRm9yKHRoaXMuZ2x5cGhJZHMoKSk7XG5cbiAgICAgICAgLy8gYWRkIG1pc3Npbmcgc3ViLWdseXBoc1xuICAgICAgICBmb3IgKHZhciBvbGRfZ2lkIGluIGdseXBocykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGdseXBocywgb2xkX2dpZCkpIHtcbiAgICAgICAgICAgICAgICBvbGRfZ2lkID0gcGFyc2VJbnQob2xkX2dpZCwgMTApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9naWQybmdpZFtvbGRfZ2lkXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdfZ2lkID0gdGhpcy5uZXh0R2lkKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2dpZDJuZ2lkW29sZF9naWRdID0gbmV3X2dpZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZ2lkMm9naWRbbmV3X2dpZF0gPSBvbGRfZ2lkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG11c3Qgb2J0YWluIG9sZF9naWRfaWRzIGluIGFuIG9yZGVyIG1hdGNoaW5nIHNvcnRlZFxuICAgICAgICAvLyBuZXdfZ2lkX2lkc1xuICAgICAgICB2YXIgbmV3X2dpZF9pZHMgPSBzb3J0ZWRLZXlzKHRoaXMubmdpZDJvZ2lkKTtcbiAgICAgICAgdmFyIG9sZF9naWRfaWRzID0gbmV3X2dpZF9pZHMubWFwKGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5naWQyb2dpZFtpZF07XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHZhciBmb250ID0gdGhpcy5mb250O1xuICAgICAgICB2YXIgZ2x5ZiA9IGZvbnQuZ2x5Zi5yZW5kZXIoZ2x5cGhzLCBvbGRfZ2lkX2lkcywgdGhpcy5vZ2lkMm5naWQpO1xuICAgICAgICB2YXIgbG9jYSA9IGZvbnQubG9jYS5yZW5kZXIoZ2x5Zi5vZmZzZXRzKTtcblxuICAgICAgICB0aGlzLmxhc3RDaGFyID0gdGhpcy5uZXh0IC0gMTtcblxuICAgICAgICB2YXIgdGFibGVzID0ge1xuICAgICAgICAgICAgXCJjbWFwXCIgOiBDbWFwVGFibGUucmVuZGVyKHRoaXMubmNpZDJvZ2lkLCB0aGlzLm9naWQybmdpZCksXG4gICAgICAgICAgICBcImdseWZcIiA6IGdseWYudGFibGUsXG4gICAgICAgICAgICBcImxvY2FcIiA6IGxvY2EudGFibGUsXG4gICAgICAgICAgICBcImhtdHhcIiA6IGZvbnQuaG10eC5yZW5kZXIob2xkX2dpZF9pZHMpLFxuICAgICAgICAgICAgXCJoaGVhXCIgOiBmb250LmhoZWEucmVuZGVyKG9sZF9naWRfaWRzKSxcbiAgICAgICAgICAgIFwibWF4cFwiIDogZm9udC5tYXhwLnJlbmRlcihvbGRfZ2lkX2lkcyksXG4gICAgICAgICAgICBcInBvc3RcIiA6IGZvbnQucG9zdC5yZW5kZXIob2xkX2dpZF9pZHMpLFxuICAgICAgICAgICAgXCJuYW1lXCIgOiBmb250Lm5hbWUucmVuZGVyKHRoaXMucHNOYW1lKSxcbiAgICAgICAgICAgIFwiaGVhZFwiIDogZm9udC5oZWFkLnJlbmRlcihsb2NhLmZvcm1hdCksXG4gICAgICAgICAgICBcIk9TLzJcIiA6IGZvbnQub3MyLnJlbmRlcigpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udC5kaXJlY3RvcnkucmVuZGVyKHRhYmxlcyk7XG4gICAgfSxcbiAgICBjaWRUb0dpZE1hcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0oKSwgbGVuID0gMDtcbiAgICAgICAgZm9yICh2YXIgY2lkID0gdGhpcy5maXJzdENoYXI7IGNpZCA8IHRoaXMubmV4dDsgKytjaWQpIHtcbiAgICAgICAgICAgIHdoaWxlIChsZW4gPCBjaWQpIHtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydCgwKTtcbiAgICAgICAgICAgICAgICBsZW4rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbGRfZ2lkID0gdGhpcy5uY2lkMm9naWRbY2lkXTtcbiAgICAgICAgICAgIGlmIChvbGRfZ2lkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld19naWQgPSB0aGlzLm9naWQybmdpZFtvbGRfZ2lkXTtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydChuZXdfZ2lkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZW4rKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0LmdldCgpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIFRURkZvbnQocmF3RGF0YSwgbmFtZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZGF0YSA9IHNlbGYuY29udGVudHMgPSBCaW5hcnlTdHJlYW0ocmF3RGF0YSk7XG4gICAgaWYgKGRhdGEucmVhZFN0cmluZyg0KSA9PSBcInR0Y2ZcIikge1xuICAgICAgICB2YXIgb2Zmc2V0O1xuICAgICAgICBjb25zdCBwYXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGF0YS5vZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgICAgIHNlbGYucGFyc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHNwZWNpZnkgYSBuYW1lIGZvciBUVEMgZmlsZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5yZWFkTG9uZygpOyAgICAgICAgLy8gdmVyc2lvblxuICAgICAgICB2YXIgbnVtRm9udHMgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRm9udHM7ICsraSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgZGF0YS5zYXZlRXhjdXJzaW9uKHBhcnNlKTtcbiAgICAgICAgICAgIGlmIChzZWxmLnBzTmFtZSA9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvbnQgXCIgKyBuYW1lICsgXCIgbm90IGZvdW5kIGluIGNvbGxlY3Rpb25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YS5vZmZzZXQoMCk7XG4gICAgICAgIHNlbGYucGFyc2UoKTtcbiAgICB9XG59XG5cblRURkZvbnQucHJvdG90eXBlID0ge1xuICAgIHBhcnNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpciA9IHRoaXMuZGlyZWN0b3J5ID0gbmV3IERpcmVjdG9yeSh0aGlzLmNvbnRlbnRzKTtcblxuICAgICAgICB0aGlzLmhlYWQgPSBkaXIucmVhZFRhYmxlKFwiaGVhZFwiLCBIZWFkVGFibGUpO1xuICAgICAgICB0aGlzLmxvY2EgPSBkaXIucmVhZFRhYmxlKFwibG9jYVwiLCBMb2NhVGFibGUpO1xuICAgICAgICB0aGlzLmhoZWEgPSBkaXIucmVhZFRhYmxlKFwiaGhlYVwiLCBIaGVhVGFibGUpO1xuICAgICAgICB0aGlzLm1heHAgPSBkaXIucmVhZFRhYmxlKFwibWF4cFwiLCBNYXhwVGFibGUpO1xuICAgICAgICB0aGlzLmhtdHggPSBkaXIucmVhZFRhYmxlKFwiaG10eFwiLCBIbXR4VGFibGUpO1xuICAgICAgICB0aGlzLmdseWYgPSBkaXIucmVhZFRhYmxlKFwiZ2x5ZlwiLCBHbHlmVGFibGUpO1xuICAgICAgICB0aGlzLm5hbWUgPSBkaXIucmVhZFRhYmxlKFwibmFtZVwiLCBOYW1lVGFibGUpO1xuICAgICAgICB0aGlzLnBvc3QgPSBkaXIucmVhZFRhYmxlKFwicG9zdFwiLCBQb3N0VGFibGUpO1xuICAgICAgICB0aGlzLmNtYXAgPSBkaXIucmVhZFRhYmxlKFwiY21hcFwiLCBDbWFwVGFibGUpO1xuICAgICAgICB0aGlzLm9zMiAgPSBkaXIucmVhZFRhYmxlKFwiT1MvMlwiLCBPUzJUYWJsZSk7XG5cbiAgICAgICAgdGhpcy5wc05hbWUgPSB0aGlzLm5hbWUucG9zdHNjcmlwdE5hbWU7XG4gICAgICAgIHRoaXMuYXNjZW50ID0gdGhpcy5vczIuYXNjZW50IHx8IHRoaXMuaGhlYS5hc2NlbnQ7XG4gICAgICAgIHRoaXMuZGVzY2VudCA9IHRoaXMub3MyLmRlc2NlbnQgfHwgdGhpcy5oaGVhLmRlc2NlbnQ7XG4gICAgICAgIHRoaXMubGluZUdhcCA9IHRoaXMub3MyLmxpbmVHYXAgfHwgdGhpcy5oaGVhLmxpbmVHYXA7XG4gICAgICAgIHRoaXMuc2NhbGUgPSAxMDAwIC8gdGhpcy5oZWFkLnVuaXRzUGVyRW07XG4gICAgfSxcbiAgICB3aWR0aE9mR2x5cGg6IGZ1bmN0aW9uKGdseXBoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhtdHguZm9yR2x5cGgoZ2x5cGgpLmFkdmFuY2UgKiB0aGlzLnNjYWxlO1xuICAgIH0sXG4gICAgbWFrZVN1YnNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViZm9udCh0aGlzKTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBUVEZGb250IH07XG4iLCJpbXBvcnQgeyBkZWZsYXRlIGFzIHBha29EZWZsYXRlIH0gZnJvbSAncGFrby9kaXN0L3Bha29fZGVmbGF0ZSc7XG5cbmV4cG9ydCBjb25zdCBkZWZsYXRlID0gcGFrb0RlZmxhdGU7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0c0RlZmxhdGUoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLW11bHRpLXNwYWNlcywga2V5LXNwYWNpbmcsIGluZGVudCwgY2FtZWxjYXNlLCBzcGFjZS1iZWZvcmUtYmxvY2tzLCBlcWVxZXEsIGJyYWNlLXN0eWxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBzcGFjZS1pbmZpeC1vcHMsIHNwYWNlLWJlZm9yZS1mdW5jdGlvbi1wYXJlbiwgYXJyYXktYnJhY2tldC1zcGFjaW5nLCBvYmplY3QtY3VybHktc3BhY2luZyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tbmVzdGVkLXRlcm5hcnksIG1heC1wYXJhbXMsIGRlZmF1bHQtY2FzZSwgbm8tZWxzZS1yZXR1cm4sIG5vLWVtcHR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiwgbm8tdmFyLCBibG9jay1zY29wZWQtdmFyICovXG5cbmltcG9ydCB7IEJpbmFyeVN0cmVhbSwgdWNzMmVuY29kZSwgYmFzZTY0VG9VaW50OEFycmF5LCBIQVNfVFlQRURfQVJSQVlTIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IHN1cHBvcnQgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgVFRGRm9udCB9IGZyb20gXCIuL3R0ZlwiO1xuaW1wb3J0IHsgZGVmbGF0ZSwgc3VwcG9ydHNEZWZsYXRlIH0gZnJvbSAnLi9kZWZsYXRlJztcbmltcG9ydCB7IGVuY29kZVVURjE2QkUsIEJPTSB9IGZyb20gXCIuLi91dGlsL2VuY29kZS11dGZcIjtcblxuY29uc3QgYnJvd3NlciA9IHN1cHBvcnQuYnJvd3NlcjtcbmNvbnN0IE5MID0gXCJcXG5cIjtcblxudmFyIFJFU09VUkNFX0NPVU5URVIgPSAwO1xuXG5jb25zdCBQQVBFUl9TSVpFID0ge1xuICAgIGEwICAgICAgICA6IFsgMjM4My45NCAsIDMzNzAuMzkgXSxcbiAgICBhMSAgICAgICAgOiBbIDE2ODMuNzggLCAyMzgzLjk0IF0sXG4gICAgYTIgICAgICAgIDogWyAxMTkwLjU1ICwgMTY4My43OCBdLFxuICAgIGEzICAgICAgICA6IFsgODQxLjg5ICAsIDExOTAuNTUgXSxcbiAgICBhNCAgICAgICAgOiBbIDU5NS4yOCAgLCA4NDEuODkgIF0sXG4gICAgYTUgICAgICAgIDogWyA0MTkuNTMgICwgNTk1LjI4ICBdLFxuICAgIGE2ICAgICAgICA6IFsgMjk3LjY0ICAsIDQxOS41MyAgXSxcbiAgICBhNyAgICAgICAgOiBbIDIwOS43NiAgLCAyOTcuNjQgIF0sXG4gICAgYTggICAgICAgIDogWyAxNDcuNDAgICwgMjA5Ljc2ICBdLFxuICAgIGE5ICAgICAgICA6IFsgMTA0Ljg4ICAsIDE0Ny40MCAgXSxcbiAgICBhMTAgICAgICAgOiBbIDczLjcwICAgLCAxMDQuODggIF0sXG4gICAgYjAgICAgICAgIDogWyAyODM0LjY1ICwgNDAwOC4xOSBdLFxuICAgIGIxICAgICAgICA6IFsgMjAwNC4wOSAsIDI4MzQuNjUgXSxcbiAgICBiMiAgICAgICAgOiBbIDE0MTcuMzIgLCAyMDA0LjA5IF0sXG4gICAgYjMgICAgICAgIDogWyAxMDAwLjYzICwgMTQxNy4zMiBdLFxuICAgIGI0ICAgICAgICA6IFsgNzA4LjY2ICAsIDEwMDAuNjMgXSxcbiAgICBiNSAgICAgICAgOiBbIDQ5OC45MCAgLCA3MDguNjYgIF0sXG4gICAgYjYgICAgICAgIDogWyAzNTQuMzMgICwgNDk4LjkwICBdLFxuICAgIGI3ICAgICAgICA6IFsgMjQ5LjQ1ICAsIDM1NC4zMyAgXSxcbiAgICBiOCAgICAgICAgOiBbIDE3NS43NSAgLCAyNDkuNDUgIF0sXG4gICAgYjkgICAgICAgIDogWyAxMjQuNzIgICwgMTc1Ljc1ICBdLFxuICAgIGIxMCAgICAgICA6IFsgODcuODcgICAsIDEyNC43MiAgXSxcbiAgICBjMCAgICAgICAgOiBbIDI1OTkuMzcgLCAzNjc2LjU0IF0sXG4gICAgYzEgICAgICAgIDogWyAxODM2Ljg1ICwgMjU5OS4zNyBdLFxuICAgIGMyICAgICAgICA6IFsgMTI5OC4yNyAsIDE4MzYuODUgXSxcbiAgICBjMyAgICAgICAgOiBbIDkxOC40MyAgLCAxMjk4LjI3IF0sXG4gICAgYzQgICAgICAgIDogWyA2NDkuMTMgICwgOTE4LjQzICBdLFxuICAgIGM1ICAgICAgICA6IFsgNDU5LjIxICAsIDY0OS4xMyAgXSxcbiAgICBjNiAgICAgICAgOiBbIDMyMy4xNSAgLCA0NTkuMjEgIF0sXG4gICAgYzcgICAgICAgIDogWyAyMjkuNjEgICwgMzIzLjE1ICBdLFxuICAgIGM4ICAgICAgICA6IFsgMTYxLjU3ICAsIDIyOS42MSAgXSxcbiAgICBjOSAgICAgICAgOiBbIDExMy4zOSAgLCAxNjEuNTcgIF0sXG4gICAgYzEwICAgICAgIDogWyA3OS4zNyAgICwgMTEzLjM5ICBdLFxuICAgIGV4ZWN1dGl2ZSA6IFsgNTIxLjg2ICAsIDc1Ni4wMCAgXSxcbiAgICBmb2xpbyAgICAgOiBbIDYxMi4wMCAgLCA5MzYuMDAgIF0sXG4gICAgbGVnYWwgICAgIDogWyA2MTIuMDAgICwgMTAwOC4wMCBdLFxuICAgIGxldHRlciAgICA6IFsgNjEyLjAwICAsIDc5Mi4wMCAgXSxcbiAgICB0YWJsb2lkICAgOiBbIDc5Mi4wMCAgLCAxMjI0LjAwIF1cbn07XG5cbmZ1bmN0aW9uIG1ha2VPdXRwdXQoKSB7XG4gICAgdmFyIGluZGVudExldmVsID0gMCwgb3V0cHV0ID0gQmluYXJ5U3RyZWFtKCk7XG4gICAgZnVuY3Rpb24gb3V0KCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHggPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG91dHB1dCB1bmRlZmluZWQgdG8gUERGXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeCBpbnN0YW5jZW9mIFBERlZhbHVlKSB7XG4gICAgICAgICAgICAgICAgeC5iZWZvcmVSZW5kZXIob3V0KTtcbiAgICAgICAgICAgICAgICB4LnJlbmRlcihvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheSh4KSkge1xuICAgICAgICAgICAgICAgIHJlbmRlckFycmF5KHgsIG91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0RhdGUoeCkpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJEYXRlKHgsIG91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgeCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBvdXRwdXQgTmFOIHRvIFBERlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGl0IGRvZXNuJ3QgZW5kIHVwIGluIGV4cG9uZW50IG5vdGF0aW9uXG4gICAgICAgICAgICAgICAgdmFyIG51bSA9IHgudG9GaXhlZCg3KTtcbiAgICAgICAgICAgICAgICBpZiAobnVtLmluZGV4T2YoXCIuXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtID0gbnVtLnJlcGxhY2UoL1xcLj8wKyQvLCBcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG51bSA9PSBcIi0wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dC53cml0ZVN0cmluZyhudW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL3N0cmluZ3xib29sZWFuLy50ZXN0KHR5cGVvZiB4KSkge1xuICAgICAgICAgICAgICAgIG91dHB1dC53cml0ZVN0cmluZyhTdHJpbmcoeCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHguZ2V0ID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIG91dHB1dC53cml0ZSh4LmdldCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB4ID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXgpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LndyaXRlU3RyaW5nKFwibnVsbFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvdXQobmV3IFBERkRpY3Rpb25hcnkoeCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBvdXQud3JpdGVEYXRhID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBvdXRwdXQud3JpdGUoZGF0YSk7XG4gICAgfTtcbiAgICBvdXQud2l0aEluZGVudCA9IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgKytpbmRlbnRMZXZlbDtcbiAgICAgICAgZihvdXQpO1xuICAgICAgICAtLWluZGVudExldmVsO1xuICAgIH07XG4gICAgb3V0LmluZGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBvdXQoTkwsIHBhZChcIlwiLCBpbmRlbnRMZXZlbCAqIDIsIFwiICBcIikpO1xuICAgICAgICBvdXQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIG91dC5vZmZzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG91dHB1dC5vZmZzZXQoKTtcbiAgICB9O1xuICAgIG91dC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGSVggQ0FMTEVSXCIpO1xuICAgIH07XG4gICAgb3V0LmdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gb3V0cHV0LmdldCgpO1xuICAgIH07XG4gICAgb3V0LnN0cmVhbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gd3JhcE9iamVjdCh2YWx1ZSwgaWQpIHtcbiAgICB2YXIgYmVmb3JlUmVuZGVyID0gdmFsdWUuYmVmb3JlUmVuZGVyO1xuICAgIHZhciByZW5kZXJWYWx1ZSA9IHZhbHVlLnJlbmRlcjtcblxuICAgIHZhbHVlLmJlZm9yZVJlbmRlciA9IGZ1bmN0aW9uKCl7fTtcblxuICAgIHZhbHVlLnJlbmRlciA9IGZ1bmN0aW9uKG91dCkge1xuICAgICAgICBvdXQoaWQsIFwiIDAgUlwiKTtcbiAgICB9O1xuXG4gICAgdmFsdWUucmVuZGVyRnVsbCA9IGZ1bmN0aW9uKG91dCkge1xuICAgICAgICB2YWx1ZS5fb2Zmc2V0ID0gb3V0Lm9mZnNldCgpO1xuICAgICAgICBvdXQoaWQsIFwiIDAgb2JqIFwiKTtcbiAgICAgICAgYmVmb3JlUmVuZGVyLmNhbGwodmFsdWUsIG91dCk7XG4gICAgICAgIHJlbmRlclZhbHVlLmNhbGwodmFsdWUsIG91dCk7XG4gICAgICAgIG91dChcIiBlbmRvYmpcIik7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFwZXJPcHRpb25zKGdldE9wdGlvbikge1xuICAgIGlmICh0eXBlb2YgZ2V0T3B0aW9uICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGdldE9wdGlvbjtcbiAgICAgICAgZ2V0T3B0aW9uID0gZnVuY3Rpb24oa2V5LCBkZWYpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXkgaW4gb3B0aW9ucyA/IG9wdGlvbnNba2V5XSA6IGRlZjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHBhcGVyU2l6ZSA9IGdldE9wdGlvbihcInBhcGVyU2l6ZVwiLCBQQVBFUl9TSVpFLmE0KTtcbiAgICBpZiAoIXBhcGVyU2l6ZSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFwZXJTaXplID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcGFwZXJTaXplID0gUEFQRVJfU0laRVtwYXBlclNpemUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIGlmIChwYXBlclNpemUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwYXBlciBzaXplXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFwZXJTaXplWzBdID0gdW5pdHNUb1BvaW50cyhwYXBlclNpemVbMF0pO1xuICAgIHBhcGVyU2l6ZVsxXSA9IHVuaXRzVG9Qb2ludHMocGFwZXJTaXplWzFdKTtcblxuICAgIGlmIChnZXRPcHRpb24oXCJsYW5kc2NhcGVcIiwgZmFsc2UpKSB7XG4gICAgICAgIHBhcGVyU2l6ZSA9IFtcbiAgICAgICAgICAgIE1hdGgubWF4KHBhcGVyU2l6ZVswXSwgcGFwZXJTaXplWzFdKSxcbiAgICAgICAgICAgIE1hdGgubWluKHBhcGVyU2l6ZVswXSwgcGFwZXJTaXplWzFdKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHZhciBtYXJnaW4gPSBnZXRPcHRpb24oXCJtYXJnaW5cIik7XG4gICAgaWYgKG1hcmdpbikge1xuICAgICAgICBpZiAodHlwZW9mIG1hcmdpbiA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtYXJnaW4gPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgbWFyZ2luID0gdW5pdHNUb1BvaW50cyhtYXJnaW4sIDApO1xuICAgICAgICAgICAgbWFyZ2luID0geyBsZWZ0OiBtYXJnaW4sIHRvcDogbWFyZ2luLCByaWdodDogbWFyZ2luLCBib3R0b206IG1hcmdpbiB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWFyZ2luID0ge1xuICAgICAgICAgICAgICAgIGxlZnQgICA6IHVuaXRzVG9Qb2ludHMobWFyZ2luLmxlZnQsIDApLFxuICAgICAgICAgICAgICAgIHRvcCAgICA6IHVuaXRzVG9Qb2ludHMobWFyZ2luLnRvcCwgMCksXG4gICAgICAgICAgICAgICAgcmlnaHQgIDogdW5pdHNUb1BvaW50cyhtYXJnaW4ucmlnaHQsIDApLFxuICAgICAgICAgICAgICAgIGJvdHRvbSA6IHVuaXRzVG9Qb2ludHMobWFyZ2luLmJvdHRvbSwgMClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldE9wdGlvbihcImFkZE1hcmdpblwiKSkge1xuICAgICAgICAgICAgcGFwZXJTaXplWzBdICs9IG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0O1xuICAgICAgICAgICAgcGFwZXJTaXplWzFdICs9IG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHBhcGVyU2l6ZTogcGFwZXJTaXplLCBtYXJnaW46IG1hcmdpbiB9O1xufVxuXG5mdW5jdGlvbiBQREZEb2N1bWVudChvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBvdXQgPSBtYWtlT3V0cHV0KCk7XG4gICAgdmFyIG9iamNvdW50ID0gMDtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9uKG5hbWUsIGRlZnZhbCkge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMgJiYgb3B0aW9uc1tuYW1lXSAhPSBudWxsKSA/IG9wdGlvbnNbbmFtZV0gOiBkZWZ2YWw7XG4gICAgfVxuXG4gICAgc2VsZi5nZXRPcHRpb24gPSBnZXRPcHRpb247XG5cbiAgICBzZWxmLmF0dGFjaCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChvYmplY3RzLmluZGV4T2YodmFsdWUpIDwgMCkge1xuICAgICAgICAgICAgd3JhcE9iamVjdCh2YWx1ZSwgKytvYmpjb3VudCk7XG4gICAgICAgICAgICBvYmplY3RzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgc2VsZi5wYWdlcyA9IFtdO1xuXG4gICAgc2VsZi5GT05UUyA9IHt9O1xuICAgIHNlbGYuSU1BR0VTID0ge307XG4gICAgc2VsZi5HUkFEX0NPTF9GVU5DVElPTlMgPSB7fTsgLy8gY2FjaGUgZm9yIGNvbG9yIGdyYWRpZW50IGZ1bmN0aW9uc1xuICAgIHNlbGYuR1JBRF9PUENfRlVOQ1RJT05TID0ge307IC8vIGNhY2hlIGZvciBvcGFjaXR5IGdyYWRpZW50IGZ1bmN0aW9uc1xuICAgIHNlbGYuR1JBRF9DT0wgPSB7fTsgICAgIC8vIGNhY2hlIGZvciB3aG9sZSBjb2xvciBncmFkaWVudCBvYmplY3RzXG4gICAgc2VsZi5HUkFEX09QQyA9IHt9OyAgICAgLy8gY2FjaGUgZm9yIHdob2xlIG9wYWNpdHkgZ3JhZGllbnQgb2JqZWN0c1xuXG4gICAgdmFyIGNhdGFsb2cgPSBzZWxmLmF0dGFjaChuZXcgUERGQ2F0YWxvZygpKTtcbiAgICB2YXIgcGFnZVRyZWUgPSBzZWxmLmF0dGFjaChuZXcgUERGUGFnZVRyZWUoKSk7XG5cbiAgICBpZiAoZ2V0T3B0aW9uKFwiYXV0b1ByaW50XCIpKSB7XG4gICAgICAgIGxldCBuYW1lVHJlZSA9IHt9O1xuICAgICAgICBuYW1lVHJlZS5KYXZhU2NyaXB0ID0gbmV3IFBERkRpY3Rpb25hcnkoeyBOYW1lczogW1xuICAgICAgICAgICAgbmV3IFBERlN0cmluZyhcIkpTXCIpLCBzZWxmLmF0dGFjaChuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICAgICAgUzogXyhcIkphdmFTY3JpcHRcIiksXG4gICAgICAgICAgICAgICAgSlM6IG5ldyBQREZTdHJpbmcoXCJwcmludCh0cnVlKTtcIilcbiAgICAgICAgICAgIH0pKVxuICAgICAgICBdIH0pO1xuICAgICAgICBjYXRhbG9nLnByb3BzLk5hbWVzID0gbmV3IFBERkRpY3Rpb25hcnkobmFtZVRyZWUpO1xuICAgIH1cblxuICAgIGNhdGFsb2cuc2V0UGFnZXMocGFnZVRyZWUpO1xuXG4gICAgdmFyIGluZm8gPSBzZWxmLmF0dGFjaChuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgIFByb2R1Y2VyICAgICA6IG5ldyBQREZTdHJpbmcoZ2V0T3B0aW9uKFwicHJvZHVjZXJcIiwgXCJLZW5kbyBVSSBQREYgR2VuZXJhdG9yXCIpLCB0cnVlKSwgLy8gWFhYOiBrZW5kby52ZXJzaW9uP1xuICAgICAgICBUaXRsZSAgICAgICAgOiBuZXcgUERGU3RyaW5nKGdldE9wdGlvbihcInRpdGxlXCIsIFwiXCIpLCB0cnVlKSxcbiAgICAgICAgQXV0aG9yICAgICAgIDogbmV3IFBERlN0cmluZyhnZXRPcHRpb24oXCJhdXRob3JcIiwgXCJcIiksIHRydWUpLFxuICAgICAgICBTdWJqZWN0ICAgICAgOiBuZXcgUERGU3RyaW5nKGdldE9wdGlvbihcInN1YmplY3RcIiwgXCJcIiksIHRydWUpLFxuICAgICAgICBLZXl3b3JkcyAgICAgOiBuZXcgUERGU3RyaW5nKGdldE9wdGlvbihcImtleXdvcmRzXCIsIFwiXCIpLCB0cnVlKSxcbiAgICAgICAgQ3JlYXRvciAgICAgIDogbmV3IFBERlN0cmluZyhnZXRPcHRpb24oXCJjcmVhdG9yXCIsIFwiS2VuZG8gVUkgUERGIEdlbmVyYXRvclwiKSwgdHJ1ZSksXG4gICAgICAgIENyZWF0aW9uRGF0ZSA6IGdldE9wdGlvbihcImRhdGVcIiwgbmV3IERhdGUoKSlcbiAgICB9KSk7XG5cbiAgICBzZWxmLmFkZFBhZ2UgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBwYXBlck9wdGlvbnMgID0gZ2V0UGFwZXJPcHRpb25zKGZ1bmN0aW9uKG5hbWUsIGRlZnZhbCl7XG4gICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMgJiYgb3B0aW9uc1tuYW1lXSAhPSBudWxsKSA/IG9wdGlvbnNbbmFtZV0gOiBkZWZ2YWw7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcGFwZXJTaXplICAgICA9IHBhcGVyT3B0aW9ucy5wYXBlclNpemU7XG4gICAgICAgIHZhciBtYXJnaW4gICAgICAgID0gcGFwZXJPcHRpb25zLm1hcmdpbjtcbiAgICAgICAgdmFyIGNvbnRlbnRXaWR0aCAgPSBwYXBlclNpemVbMF07XG4gICAgICAgIHZhciBjb250ZW50SGVpZ2h0ID0gcGFwZXJTaXplWzFdO1xuICAgICAgICBpZiAobWFyZ2luKSB7XG4gICAgICAgICAgICBjb250ZW50V2lkdGggLT0gbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQ7XG4gICAgICAgICAgICBjb250ZW50SGVpZ2h0IC09IG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZW50ID0gbmV3IFBERlN0cmVhbShtYWtlT3V0cHV0KCksIG51bGwsIHRydWUpO1xuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgICBDb250ZW50cyA6IHNlbGYuYXR0YWNoKGNvbnRlbnQpLFxuICAgICAgICAgICAgUGFyZW50ICAgOiBwYWdlVHJlZSxcbiAgICAgICAgICAgIE1lZGlhQm94IDogWyAwLCAwLCBwYXBlclNpemVbMF0sIHBhcGVyU2l6ZVsxXSBdXG4gICAgICAgIH07XG4gICAgICAgIHZhciBwYWdlID0gbmV3IFBERlBhZ2Uoc2VsZiwgcHJvcHMpO1xuICAgICAgICBwYWdlLl9jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgcGFnZVRyZWUuYWRkUGFnZShzZWxmLmF0dGFjaChwYWdlKSk7XG5cbiAgICAgICAgLy8gY2FudmFzLWxpa2UgY29vcmQuIHN5c3RlbS4gICgwLDApIGlzIHVwcGVyLWxlZnQuXG4gICAgICAgIC8vIHRleHQgbXVzdCBiZSB2ZXJ0aWNhbGx5IG1pcm9ycmVkIGJlZm9yZSBkcmF3aW5nLlxuICAgICAgICBwYWdlLnRyYW5zZm9ybSgxLCAwLCAwLCAtMSwgMCwgcGFwZXJTaXplWzFdKTtcblxuICAgICAgICBpZiAobWFyZ2luKSB7XG4gICAgICAgICAgICBwYWdlLnRyYW5zbGF0ZShtYXJnaW4ubGVmdCwgbWFyZ2luLnRvcCk7XG4gICAgICAgICAgICAvLyBYWFg6IGNsaXAgdG8gcmlnaHQvYm90dG9tIG1hcmdpbi4gIE1ha2UgdGhpcyBvcHRpb25hbD9cbiAgICAgICAgICAgIHBhZ2UucmVjdCgwLCAwLCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpO1xuICAgICAgICAgICAgcGFnZS5jbGlwKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICAgIHJldHVybiBwYWdlO1xuICAgIH07XG5cbiAgICBzZWxmLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgLy8vIGZpbGUgaGVhZGVyXG4gICAgICAgIG91dChcIiVQREYtMS40XCIsIE5MLCBcIiVcXHhjMlxceGMxXFx4ZGFcXHhjZlxceGNlXCIsIE5MLCBOTCk7XG5cbiAgICAgICAgLy8vIGZpbGUgYm9keVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgb2JqZWN0c1tpXS5yZW5kZXJGdWxsKG91dCk7XG4gICAgICAgICAgICBvdXQoTkwsIE5MKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLyBjcm9zcy1yZWZlcmVuY2UgdGFibGVcbiAgICAgICAgdmFyIHhyZWZPZmZzZXQgPSBvdXQub2Zmc2V0KCk7XG4gICAgICAgIG91dChcInhyZWZcIiwgTkwsIDAsIFwiIFwiLCBvYmplY3RzLmxlbmd0aCArIDEsIE5MKTtcbiAgICAgICAgb3V0KFwiMDAwMDAwMDAwMCA2NTUzNSBmIFwiLCBOTCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBvdXQoemVyb3BhZChvYmplY3RzW2ldLl9vZmZzZXQsIDEwKSwgXCIgMDAwMDAgbiBcIiwgTkwpO1xuICAgICAgICB9XG4gICAgICAgIG91dChOTCk7XG5cbiAgICAgICAgLy8vIHRyYWlsZXJcbiAgICAgICAgb3V0KFwidHJhaWxlclwiLCBOTCk7XG4gICAgICAgIG91dChuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICBTaXplOiBvYmplY3RzLmxlbmd0aCArIDEsXG4gICAgICAgICAgICBSb290OiBjYXRhbG9nLFxuICAgICAgICAgICAgSW5mbzogaW5mb1xuICAgICAgICB9KSwgTkwsIE5MKTtcblxuICAgICAgICAvLy8gZW5kXG4gICAgICAgIG91dChcInN0YXJ0eHJlZlwiLCBOTCwgeHJlZk9mZnNldCwgTkwpO1xuICAgICAgICBvdXQoXCIlJUVPRlwiLCBOTCk7XG5cbiAgICAgICAgcmV0dXJuIG91dC5zdHJlYW0oKS5vZmZzZXQoMCk7XG4gICAgfTtcbn1cblxudmFyIEZPTlRfQ0FDSEUgPSB7XG4gICAgXCJUaW1lcy1Sb21hblwiICAgICAgICAgICA6IHRydWUsXG4gICAgXCJUaW1lcy1Cb2xkXCIgICAgICAgICAgICA6IHRydWUsXG4gICAgXCJUaW1lcy1JdGFsaWNcIiAgICAgICAgICA6IHRydWUsXG4gICAgXCJUaW1lcy1Cb2xkSXRhbGljXCIgICAgICA6IHRydWUsXG4gICAgXCJIZWx2ZXRpY2FcIiAgICAgICAgICAgICA6IHRydWUsXG4gICAgXCJIZWx2ZXRpY2EtQm9sZFwiICAgICAgICA6IHRydWUsXG4gICAgXCJIZWx2ZXRpY2EtT2JsaXF1ZVwiICAgICA6IHRydWUsXG4gICAgXCJIZWx2ZXRpY2EtQm9sZE9ibGlxdWVcIiA6IHRydWUsXG4gICAgXCJDb3VyaWVyXCIgICAgICAgICAgICAgICA6IHRydWUsXG4gICAgXCJDb3VyaWVyLUJvbGRcIiAgICAgICAgICA6IHRydWUsXG4gICAgXCJDb3VyaWVyLU9ibGlxdWVcIiAgICAgICA6IHRydWUsXG4gICAgXCJDb3VyaWVyLUJvbGRPYmxpcXVlXCIgICA6IHRydWUsXG4gICAgXCJTeW1ib2xcIiAgICAgICAgICAgICAgICA6IHRydWUsXG4gICAgXCJaYXBmRGluZ2JhdHNcIiAgICAgICAgICA6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGxvYWRCaW5hcnkodXJsLCBjb250KSB7XG4gICAgLy8gSUUgdGhyb3dzIEFjY2Vzc3MgZGVuaWVkIGVycm9yIGZvciBEYXRhIFVSSXNcbiAgICBsZXQgbTtcbiAgICBpZiAoYnJvd3Nlci5tc2llICYmIChtID0gL15kYXRhOi4qPztiYXNlNjQsL2kuZXhlYyh1cmwpKSkge1xuICAgICAgICBjb250KGJhc2U2NFRvVWludDhBcnJheSh1cmwuc3Vic3RyKG1bMF0ubGVuZ3RoKSkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgbG9hZCBVUkw6ICVzXCIsIHVybCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhcIkNhbm5vdCBsb2FkIFVSTDogJXNcIiwgdXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250KG51bGwpO1xuICAgIH1cbiAgICB2YXIgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgaWYgKEhBU19UWVBFRF9BUlJBWVMpIHtcbiAgICAgICAgcmVxLnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbiAgICB9XG4gICAgcmVxLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDAgfHwgcmVxLnN0YXR1cyA9PSAzMDQpIHtcbiAgICAgICAgICAgIGlmIChIQVNfVFlQRURfQVJSQVlTKSB7XG4gICAgICAgICAgICAgICAgY29udChuZXcgVWludDhBcnJheShyZXEucmVzcG9uc2UpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udChuZXcgd2luZG93LlZCQXJyYXkocmVxLnJlc3BvbnNlQm9keSkudG9BcnJheSgpKTsgLy8gSUU5IG9ubHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJlcS5vbmVycm9yID0gZXJyb3I7XG4gICAgcmVxLnNlbmQobnVsbCk7XG59XG5cbmZ1bmN0aW9uIGxvYWRGb250KHVybCwgY29udCkge1xuICAgIHZhciBmb250ID0gRk9OVF9DQUNIRVt1cmxdO1xuICAgIGlmIChmb250KSB7XG4gICAgICAgIGNvbnQoZm9udCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZEJpbmFyeSh1cmwsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBsb2FkIGZvbnQgZnJvbSBcIiArIHVybCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBmb250ID0gbmV3IFRURkZvbnQoZGF0YSk7XG4gICAgICAgICAgICAgICAgRk9OVF9DQUNIRVt1cmxdID0gZm9udDtcbiAgICAgICAgICAgICAgICBjb250KGZvbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbnZhciBJTUFHRV9DQUNIRSA9IHt9O1xuXG5mdW5jdGlvbiBjbGVhckltYWdlQ2FjaGUoKSB7XG4gICAgSU1BR0VfQ0FDSEUgPSB7fTtcbn1cblxuZnVuY3Rpb24gbG9hZEltYWdlKHVybCwgc2l6ZSwgY29udCkge1xuICAgIHZhciBpbWcgPSBJTUFHRV9DQUNIRVt1cmxdLCBibG9idXJsLCBibG9iO1xuICAgIGlmIChpbWcpIHtcbiAgICAgICAgY29udChpbWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpZiAoISgvXmRhdGE6L2kudGVzdCh1cmwpKSkge1xuICAgICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSEFTX1RZUEVEX0FSUkFZUyAmJiAhKC9eZGF0YTovaS50ZXN0KHVybCkpKSB7XG4gICAgICAgICAgICAvLyBJRTEwIGZhaWxzIHRvIGxvYWQgaW1hZ2VzIGZyb20gYW5vdGhlciBkb21haW4gZXZlbiB3aGVuIHRoZSBzZXJ2ZXIgc2VuZHMgdGhlXG4gICAgICAgICAgICAvLyBwcm9wZXIgQ09SUyBoZWFkZXJzLiAgYSBYSFIsIGhvd2V2ZXIsIHdpbGwgYmUgYWJsZSB0byBsb2FkIHRoZSBkYXRhLlxuICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTk3MzQ1MTYvMTU0OTg1XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gT24gdGhlIG90aGVyIGhhbmQsIGl0J3Mgd29ydGggZG9pbmcgaXQgdGhpcyB3YXkgZm9yIGFsbCBicm93c2VycyB3aGljaCBzdXBwb3J0XG4gICAgICAgICAgICAvLyByZXNwb25zZVR5cGUgPSBcImJsb2JcIiAoSEFTX1RZUEVEX0FSUkFZUyB3aWxsIGJlIHRydWUpLCBiZWNhdXNlIHdlIGNhbiBpbnNwZWN0IHRoZVxuICAgICAgICAgICAgLy8gbWltZSB0eXBlIGFuZCBpZiBpdCdzIGEgSlBFRyAodmVyeSBjb21tb24gY2FzZSkgd2UgY2FuIHNhdmUgYSBsb3Qgb2YgdGltZSBpblxuICAgICAgICAgICAgLy8gX2xvYWQgYmVsb3cuXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYmxvYiA9IHhoci5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICBibG9idXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICBfbG9hZChibG9idXJsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB4aHIub25lcnJvciA9IF9vbmVycm9yO1xuICAgICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgdXJsLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBcImJsb2JcIjtcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfbG9hZCh1cmwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2xvYWQodXJsKSB7XG4gICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgICAgIGlmIChpbWcuY29tcGxldGUgJiYgIWJyb3dzZXIubXNpZSkge1xuICAgICAgICAgICAgLy8gSUUsIGJsZXNzIGl0J3MgbGl0dGxlIGhlYXJ0LCBzYXlzIGltZy5jb21wbGV0ZSA9PSB0cnVlIGV2ZW4gdGhvdWdoIHRoZSBpbWFnZSBpc1xuICAgICAgICAgICAgLy8gbm90IGxvYWRlZCAod2lkdGg9MCksIHRoZXJlZm9yZSB3ZSBtdXN0IGdvIHRoZSBvbmxvYWQgcm91dGUgKHRpY2tldCA5Mjk2MzUpLlxuICAgICAgICAgICAgX29ubG9hZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IF9vbmxvYWQ7XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IF9vbmVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3RyeWNhbnZhcygpIHtcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0geyB3aWR0aDogaW1nLndpZHRoLCBoZWlnaHQ6IGltZy5oZWlnaHQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBjYW52YXMud2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIGltZ2RhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbWdkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAvLyBpdCB0YWludGVkIHRoZSBjYW52YXMgLS0gY2FuJ3QgZHJhdyBpdC5cbiAgICAgICAgICAgIF9vbmVycm9yKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoYmxvYnVybCkge1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbiBjYXNlIGl0IGNvbnRhaW5zIHRyYW5zcGFyZW5jeSwgd2UgbXVzdCBzZXBhcmF0ZSByZ2IgZGF0YSBmcm9tIHRoZSBhbHBoYVxuICAgICAgICAvLyBjaGFubmVsIGFuZCBjcmVhdGUgYSBQREZSYXdJbWFnZSBpbWFnZSB3aXRoIG9wYWNpdHkuICBvdGhlcndpc2Ugd2UgY2FuIHVzZSBhXG4gICAgICAgIC8vIFBERkpwZWdJbWFnZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gdG8gZG8gdGhpcyBpbiBvbmUgc3RlcCwgd2UgY3JlYXRlIHRoZSByZ2IgYW5kIGFscGhhIHN0cmVhbXMgYW55d2F5LCBldmVuIGlmXG4gICAgICAgIC8vIHdlIG1pZ2h0IGVuZCB1cCBub3QgdXNpbmcgdGhlbSBpZiBoYXNBbHBoYSByZW1haW5zIGZhbHNlLlxuXG4gICAgICAgIHZhciBoYXNBbHBoYSA9IGZhbHNlLCByZ2IgPSBCaW5hcnlTdHJlYW0oKSwgYWxwaGEgPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgdmFyIHJhd2J5dGVzID0gaW1nZGF0YS5kYXRhO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgcmF3Ynl0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZ2Iud3JpdGVCeXRlKHJhd2J5dGVzW2krK10pO1xuICAgICAgICAgICAgcmdiLndyaXRlQnl0ZShyYXdieXRlc1tpKytdKTtcbiAgICAgICAgICAgIHJnYi53cml0ZUJ5dGUocmF3Ynl0ZXNbaSsrXSk7XG4gICAgICAgICAgICB2YXIgYSA9IHJhd2J5dGVzW2krK107XG4gICAgICAgICAgICBpZiAoYSA8IDI1NSkge1xuICAgICAgICAgICAgICAgIGhhc0FscGhhID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFscGhhLndyaXRlQnl0ZShhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNBbHBoYSkge1xuICAgICAgICAgICAgaW1nID0gbmV3IFBERlJhd0ltYWdlKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0LCByZ2IsIGFscGhhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIHRyYW5zcGFyZW5jeSwgZW5jb2RlIGFzIEpQRUcuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIpO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc3Vic3RyKGRhdGEuaW5kZXhPZihcIjtiYXNlNjQsXCIpICsgOCk7XG5cbiAgICAgICAgICAgIHZhciBzdHJlYW0gPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgICAgIHN0cmVhbS53cml0ZUJhc2U2NChkYXRhKTtcbiAgICAgICAgICAgIGltZyA9IG5ldyBQREZKcGVnSW1hZ2Uoc3RyZWFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnQoSU1BR0VfQ0FDSEVbdXJsXSA9IGltZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX29uZXJyb3IoKSB7XG4gICAgICAgIGNvbnQoSU1BR0VfQ0FDSEVbdXJsXSA9IFwiRVJST1JcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX29ubG9hZCgpIHtcbiAgICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgICAgIC8vIGJ1dCBpZiByZXF1ZXN0ZWQgc2l6ZSBpcyBiaWdnZXIgdGhhbiB0aGUgaW1hZ2UsIGp1c3QgdXNlIHRoZSBvcmlnaW5hbCBpbWFnZS5cbiAgICAgICAgICAgIGlmIChzaXplLndpZHRoID49IGltZy53aWR0aCB8fCBzaXplLmhlaWdodCA+PSBpbWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaXplICYmIGJsb2IgJiYgL15pbWFnZVxcL2pwZT9nJC9pLnRlc3QoYmxvYi50eXBlKSkge1xuICAgICAgICAgICAgLy8gSWYgd2Uga25vdyB3ZSBnb3QgYSBKUEVHLCB3ZSBjYW4gc2tpcCB0aGUgcHJvY2VzcyBvZiByZW5kZXJpbmcgaXQgdG8gYVxuICAgICAgICAgICAgLy8gY2FudmFzLCBnZXR0aW5nIHRoZSBwaXhlbCBkYXRhLCBzZWFyY2hpbmcgZm9yIHRyYW5zcGFyZW5jeSB3ZSBrbm93IHdlIHdvbid0XG4gICAgICAgICAgICAvLyBmaW5kLCBnZXR0aW5nIGJhY2sgYSBkYXRhIFVSSSBhbmQgdGhlbiBkZWNvZGluZyB0aGUgQkFTRTY0IHRvIGZpbmFsbHkgZ2V0IHRoZVxuICAgICAgICAgICAgLy8gYmluYXJ5IHdlIGFscmVhZHkgaGF2ZS4gIEFsc28sIHdlIGF2b2lkIGRvd25ncmFkaW5nIHRoZSBpbWFnZSBxdWFsaXR5LCB3aXRoXG4gICAgICAgICAgICAvLyB0aGUgcG9zc2libGUgZHJhd2JhY2sgb2YgbWFraW5nIGEgYmlnZ2VyIFBERjsgc3RpbGwsIHNlZW1zIGxlZ2l0LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEJlc2lkZXMgc2F2aW5nIGEgbG90IG9mIHdvcmssIHRoaXMgYWxzbyByZXVzZXMgdGhlIGJ1ZmZlciBtZW1vcnlcbiAgICAgICAgICAgIC8vIChCaW5hcnlTdHJlYW0gZG9lcyBub3QgY3JlYXRlIGEgY29weSksIHBvdGVudGlhbGx5IHNhdmluZyBzb21lIEdDIGN5Y2xlcy5cbiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWcgPSBuZXcgUERGSnBlZ0ltYWdlKEJpbmFyeVN0cmVhbShuZXcgVWludDhBcnJheSh0aGlzLnJlc3VsdCkpKTtcbiAgICAgICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChibG9idXJsKTtcbiAgICAgICAgICAgICAgICAgICAgY29udChJTUFHRV9DQUNIRVt1cmxdID0gaW1nKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIGFuIGVycm9yIHBhcnNpbmcgdGhlIEpQRUcgc3RyZWFtLCBpdCBjb3VsZCBiZSBkdWUgdG8gYVxuICAgICAgICAgICAgICAgICAgICAvLyBtaXNjb25maWd1cmVkIHNlcnZlciAoaW1wcm9wZXIgY29udGVudC10eXBlOlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby11aS1jb3JlL2lzc3Vlcy80MTg0KS4gIElmIHRoYXQncyB0aGUgY2FzZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGNhbnZhcyB3aWxsIHN0aWxsIGJlIGFibGUgdG8gZHJhdyBpdC5cbiAgICAgICAgICAgICAgICAgICAgX3RyeWNhbnZhcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdHJ5Y2FudmFzKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1hbnlMb2FkZXIobG9hZE9uZSkge1xuICAgIHJldHVybiBmdW5jdGlvbih1cmxzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgbiA9IHVybHMubGVuZ3RoLCBpID0gbjtcbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICBpZiAoLS1uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICAgICAgbG9hZE9uZSh1cmxzW2ldLCBuZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbnZhciBsb2FkRm9udHMgPSBtYW55TG9hZGVyKGxvYWRGb250KTtcbnZhciBsb2FkSW1hZ2VzID0gZnVuY3Rpb24oaW1hZ2VzLCBjYWxsYmFjaykge1xuICAgIHZhciB1cmxzID0gT2JqZWN0LmtleXMoaW1hZ2VzKSwgbiA9IHVybHMubGVuZ3RoO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICBpZiAoLS1uID09PSAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVybHMuZm9yRWFjaChmdW5jdGlvbih1cmwpe1xuICAgICAgICBsb2FkSW1hZ2UodXJsLCBpbWFnZXNbdXJsXSwgbmV4dCk7XG4gICAgfSk7XG59O1xuXG5QREZEb2N1bWVudC5wcm90b3R5cGUgPSB7XG4gICAgbG9hZEZvbnRzOiBsb2FkRm9udHMsXG4gICAgbG9hZEltYWdlczogbG9hZEltYWdlcyxcblxuICAgIGdldEZvbnQ6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB2YXIgZm9udCA9IHRoaXMuRk9OVFNbdXJsXTtcbiAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICBmb250ID0gRk9OVF9DQUNIRVt1cmxdO1xuICAgICAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRm9udCBcIiArIHVybCArIFwiIGhhcyBub3QgYmVlbiBsb2FkZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm9udCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGZvbnQgPSB0aGlzLmF0dGFjaChuZXcgUERGU3RhbmRhcmRGb250KHVybCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb250ID0gdGhpcy5hdHRhY2gobmV3IFBERkZvbnQodGhpcywgZm9udCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5GT05UU1t1cmxdID0gZm9udDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2U6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB2YXIgaW1nID0gdGhpcy5JTUFHRVNbdXJsXTtcbiAgICAgICAgaWYgKCFpbWcpIHtcbiAgICAgICAgICAgIGltZyA9IElNQUdFX0NBQ0hFW3VybF07XG4gICAgICAgICAgICBpZiAoIWltZykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkltYWdlIFwiICsgdXJsICsgXCIgaGFzIG5vdCBiZWVuIGxvYWRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbWcgPT09IFwiRVJST1JcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1nID0gdGhpcy5JTUFHRVNbdXJsXSA9IHRoaXMuYXR0YWNoKGltZy5hc1N0cmVhbSh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltZztcbiAgICB9LFxuXG4gICAgZ2V0T3BhY2l0eUdTOiBmdW5jdGlvbihvcGFjaXR5LCBmb3JTdHJva2UpIHtcbiAgICAgICAgdmFyIGlkID0gcGFyc2VGbG9hdChvcGFjaXR5KS50b0ZpeGVkKDMpO1xuICAgICAgICBvcGFjaXR5ID0gcGFyc2VGbG9hdChpZCk7XG4gICAgICAgIGlkICs9IGZvclN0cm9rZSA/IFwiU1wiIDogXCJGXCI7XG4gICAgICAgIHZhciBjYWNoZSA9IHRoaXMuX29wYWNpdHlHU0NhY2hlIHx8ICh0aGlzLl9vcGFjaXR5R1NDYWNoZSA9IHt9KTtcbiAgICAgICAgdmFyIGdzID0gY2FjaGVbaWRdO1xuICAgICAgICBpZiAoIWdzKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgVHlwZTogXyhcIkV4dEdTdGF0ZVwiKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmb3JTdHJva2UpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5DQSA9IG9wYWNpdHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb3BzLmNhID0gb3BhY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdzID0gdGhpcy5hdHRhY2gobmV3IFBERkRpY3Rpb25hcnkocHJvcHMpKTtcbiAgICAgICAgICAgIGdzLl9yZXNvdXJjZU5hbWUgPSBfKFwiR1NcIiArICgrK1JFU09VUkNFX0NPVU5URVIpKTtcbiAgICAgICAgICAgIGNhY2hlW2lkXSA9IGdzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncztcbiAgICB9LFxuXG4gICAgZGljdDogZnVuY3Rpb24ocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQREZEaWN0aW9uYXJ5KHByb3BzKTtcbiAgICB9LFxuXG4gICAgbmFtZTogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHJldHVybiBfKHN0cik7XG4gICAgfSxcblxuICAgIHN0cmVhbTogZnVuY3Rpb24ocHJvcHMsIGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQREZTdHJlYW0oY29udGVudCwgcHJvcHMpO1xuICAgIH1cbn07XG5cbi8qIC0tLS0tWyB1dGlscyBdLS0tLS0gKi9cblxuZnVuY3Rpb24gcGFkKHN0ciwgbGVuLCBjaCkge1xuICAgIHdoaWxlIChzdHIubGVuZ3RoIDwgbGVuKSB7XG4gICAgICAgIHN0ciA9IGNoICsgc3RyO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuXG5mdW5jdGlvbiB6ZXJvcGFkKG4sIGxlbikge1xuICAgIHJldHVybiBwYWQoU3RyaW5nKG4pLCBsZW4sIFwiMFwiKTtcbn1cblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBBcnJheTtcbn07XG5cbmZ1bmN0aW9uIGlzRGF0ZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRGF0ZTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQXJyYXkoYSwgb3V0KSB7XG4gICAgb3V0KFwiW1wiKTtcbiAgICBpZiAoYS5sZW5ndGggPiAwKSB7XG4gICAgICAgIG91dC53aXRoSW5kZW50KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDAgJiYgaSAlIDggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LmluZGVudChhW2ldKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvdXQoXCIgXCIsIGFbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vb3V0LmluZGVudCgpO1xuICAgIH1cbiAgICBvdXQoXCIgXVwiKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyRGF0ZShkYXRlLCBvdXQpIHtcbiAgICBvdXQoXCIoRDpcIixcbiAgICAgICAgemVyb3BhZChkYXRlLmdldFVUQ0Z1bGxZZWFyKCksIDQpLFxuICAgICAgICB6ZXJvcGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsIDIpLFxuICAgICAgICB6ZXJvcGFkKGRhdGUuZ2V0VVRDRGF0ZSgpLCAyKSxcbiAgICAgICAgemVyb3BhZChkYXRlLmdldFVUQ0hvdXJzKCksIDIpLFxuICAgICAgICB6ZXJvcGFkKGRhdGUuZ2V0VVRDTWludXRlcygpLCAyKSxcbiAgICAgICAgemVyb3BhZChkYXRlLmdldFVUQ1NlY29uZHMoKSwgMiksXG4gICAgICAgIFwiWilcIik7XG59XG5cbmZ1bmN0aW9uIG1tMnB0KG1tKSB7XG4gICAgcmV0dXJuIG1tICogKDcyLzI1LjQpO1xufVxuXG5mdW5jdGlvbiBjbTJwdChjbSkge1xuICAgIHJldHVybiBtbTJwdChjbSAqIDEwKTtcbn1cblxuZnVuY3Rpb24gaW4ycHQoaW5jaCkgIHtcbiAgICByZXR1cm4gaW5jaCAqIDcyO1xufVxuXG5cbmZ1bmN0aW9uIHVuaXRzVG9Qb2ludHMoeCwgZGVmKSB7XG4gICAgaWYgKHR5cGVvZiB4ID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgeCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhciBtO1xuICAgICAgICBtID0gL15cXHMqKFswLTkuXSspXFxzKihtbXxjbXxpbnxwdClcXHMqJC8uZXhlYyh4KTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KG1bMV0pO1xuICAgICAgICAgICAgaWYgKCFpc05hTihudW0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1bMl0gPT0gXCJwdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIFwibW1cIjogbW0ycHQsXG4gICAgICAgICAgICAgICAgICAgIFwiY21cIjogY20ycHQsXG4gICAgICAgICAgICAgICAgICAgIFwiaW5cIjogaW4ycHRcbiAgICAgICAgICAgICAgICB9W21bMl1dKG51bSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlZiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHBhcnNlIHVuaXQ6IFwiICsgeCk7XG59XG5cbi8qIC0tLS0tWyBQREYgYmFzaWMgb2JqZWN0cyBdLS0tLS0gKi9cblxuZnVuY3Rpb24gUERGVmFsdWUoKXt9XG5cblBERlZhbHVlLnByb3RvdHlwZS5iZWZvcmVSZW5kZXIgPSBmdW5jdGlvbigpe307XG5cbmZ1bmN0aW9uIGRlZmNsYXNzKEN0b3IsIHByb3RvLCBCYXNlKSB7XG4gICAgaWYgKCFCYXNlKSB7XG4gICAgICAgIEJhc2UgPSBQREZWYWx1ZTtcbiAgICB9XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBuZXcgQmFzZSgpO1xuICAgIGZvciAodmFyIGkgaW4gcHJvdG8pIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHByb3RvLCBpKSkge1xuICAgICAgICAgICAgQ3Rvci5wcm90b3R5cGVbaV0gPSBwcm90b1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQ3Rvcjtcbn1cblxudmFyIFBERlN0cmluZyA9IGRlZmNsYXNzKGZ1bmN0aW9uIFBERlN0cmluZyh2YWx1ZSwgdXRmMTZiZSl7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMudXRmMTZiZSA9IEJvb2xlYW4odXRmMTZiZSk7XG59LCB7XG4gICAgcmVuZGVyOiBmdW5jdGlvbihvdXQpIHtcbiAgICAgICAgbGV0IHR4dCA9IHRoaXMudmFsdWU7XG4gICAgICAgIGlmICh0eHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdHh0ID0gdGhpcy52YWx1ZS5yZXBsYWNlKC8oW1xcKFxcKVxcXFxdKS9nLCBcIlxcXFwkMVwiKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudXRmMTZiZSkge1xuICAgICAgICAgICAgICAgIHR4dCA9IEJPTSArIGVuY29kZVVURjE2QkUodHh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG91dChcIihcIiwgdHh0LCBcIilcIik7XG4gICAgfSxcbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbn0pO1xuXG52YXIgUERGSGV4U3RyaW5nID0gZGVmY2xhc3MoZnVuY3Rpb24gUERGSGV4U3RyaW5nKHZhbHVlKXtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG59LCB7XG4gICAgcmVuZGVyOiBmdW5jdGlvbihvdXQpIHtcbiAgICAgICAgb3V0KFwiPFwiKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhbHVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBvdXQoemVyb3BhZCh0aGlzLnZhbHVlLmNoYXJDb2RlQXQoaSkudG9TdHJpbmcoMTYpLCA0KSk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0KFwiPlwiKTtcbiAgICB9XG59LCBQREZTdHJpbmcpO1xuXG4vLy8gbmFtZXNcblxudmFyIFBERk5hbWUgPSBkZWZjbGFzcyhmdW5jdGlvbiBQREZOYW1lKG5hbWUpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xufSwge1xuICAgIHJlbmRlcjogZnVuY3Rpb24ob3V0KSB7XG4gICAgICAgIG91dChcIi9cIiArIHRoaXMuZXNjYXBlKCkpO1xuICAgIH0sXG4gICAgZXNjYXBlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZS5yZXBsYWNlKC9bXlxceDIxLVxceDdFXS9nLCBmdW5jdGlvbihjKXtcbiAgICAgICAgICAgIHJldHVybiBcIiNcIiArIHplcm9wYWQoYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSwgMik7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cbn0pO1xuXG52YXIgUERGTmFtZV9jYWNoZSA9IHt9O1xuUERGTmFtZS5nZXQgPSBfO1xuXG5mdW5jdGlvbiBfKG5hbWUpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoUERGTmFtZV9jYWNoZSwgbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIFBERk5hbWVfY2FjaGVbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiAoUERGTmFtZV9jYWNoZVtuYW1lXSA9IG5ldyBQREZOYW1lKG5hbWUpKTtcbn1cblxuLy8vIGRpY3Rpb25hcnlcblxudmFyIFBERkRpY3Rpb25hcnkgPSBkZWZjbGFzcyhmdW5jdGlvbiBQREZEaWN0aW9uYXJ5KHByb3BzKSB7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xufSwge1xuICAgIHJlbmRlcjogZnVuY3Rpb24ob3V0KSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsIGVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgb3V0KFwiPDxcIik7XG4gICAgICAgIG91dC53aXRoSW5kZW50KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHByb3BzLCBpKSAmJiAhL15fLy50ZXN0KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG91dC5pbmRlbnQoXyhpKSwgXCIgXCIsIHByb3BzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWVtcHR5KSB7XG4gICAgICAgICAgICBvdXQuaW5kZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0KFwiPj5cIik7XG4gICAgfVxufSk7XG5cbi8vLyBzdHJlYW1zXG5cbnZhciBQREZTdHJlYW0gPSBkZWZjbGFzcyhmdW5jdGlvbiBQREZTdHJlYW0oZGF0YSwgcHJvcHMsIGNvbXByZXNzKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFyIHRtcCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICB0bXAud3JpdGUoZGF0YSk7XG4gICAgICAgIGRhdGEgPSB0bXA7XG4gICAgfVxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzIHx8IHt9O1xuICAgIHRoaXMuY29tcHJlc3MgPSBjb21wcmVzcztcbn0sIHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKG91dCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YS5nZXQoKSwgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAodGhpcy5jb21wcmVzcyAmJiBzdXBwb3J0c0RlZmxhdGUoKSkge1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5GaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5GaWx0ZXIgPSBbXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIShwcm9wcy5GaWx0ZXIgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5GaWx0ZXIgPSBbIHByb3BzLkZpbHRlciBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcHMuRmlsdGVyLnVuc2hpZnQoXyhcIkZsYXRlRGVjb2RlXCIpKTtcbiAgICAgICAgICAgIGRhdGEgPSBkZWZsYXRlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLkxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICBvdXQobmV3IFBERkRpY3Rpb25hcnkocHJvcHMpLCBcIiBzdHJlYW1cIiwgTkwpO1xuICAgICAgICBvdXQud3JpdGVEYXRhKGRhdGEpO1xuICAgICAgICBvdXQoTkwsIFwiZW5kc3RyZWFtXCIpO1xuICAgIH1cbn0pO1xuXG4vLy8gY2F0YWxvZ1xuXG52YXIgUERGQ2F0YWxvZyA9IGRlZmNsYXNzKGZ1bmN0aW9uIFBERkNhdGFsb2coKXtcbiAgICB0aGlzLnByb3BzID0ge1xuICAgICAgICBUeXBlOiBfKFwiQ2F0YWxvZ1wiKVxuICAgIH07XG59LCB7XG4gICAgc2V0UGFnZXM6IGZ1bmN0aW9uKHBhZ2VzT2JqKSB7XG4gICAgICAgIHRoaXMucHJvcHMuUGFnZXMgPSBwYWdlc09iajtcbiAgICB9XG59LCBQREZEaWN0aW9uYXJ5KTtcblxuLy8vIHBhZ2UgdHJlZVxuXG52YXIgUERGUGFnZVRyZWUgPSBkZWZjbGFzcyhmdW5jdGlvbiBQREZQYWdlVHJlZSgpe1xuICAgIHRoaXMucHJvcHMgPSB7XG4gICAgICAgIFR5cGUgIDogXyhcIlBhZ2VzXCIpLFxuICAgICAgICBLaWRzICA6IFtdLFxuICAgICAgICBDb3VudCA6IDBcbiAgICB9O1xufSwge1xuICAgIGFkZFBhZ2U6IGZ1bmN0aW9uKHBhZ2VPYmopIHtcbiAgICAgICAgdGhpcy5wcm9wcy5LaWRzLnB1c2gocGFnZU9iaik7XG4gICAgICAgIHRoaXMucHJvcHMuQ291bnQrKztcbiAgICB9XG59LCBQREZEaWN0aW9uYXJ5KTtcblxuLy8vIGltYWdlc1xuXG4vLyBKUEVHXG5cbnZhciBTT0ZfQ09ERVMgPSBbMHhjMCwgMHhjMSwgMHhjMiwgMHhjMywgMHhjNSwgMHhjNiwgMHhjNywgMHhjOSwgMHhjYSwgMHhjYiwgMHhjZCwgMHhjZSwgMHhjZl07XG5cbmZ1bmN0aW9uIFBERkpwZWdJbWFnZShkYXRhKSB7XG4gICAgLy8gd2UgbXVzdCBkZXRlcm1pbmUgdGhlIGNvcnJlY3QgY29sb3Igc3BhY2UuICB3ZSdsbCBwYXJzZSBhIGJpdFxuICAgIC8vIG9mIHRoZSBKUEVHIHN0cmVhbSBmb3IgdGhpcywgaXQncyBzdGlsbCBiZXR0ZXIgdGhhbiBnb2luZ1xuICAgIC8vIHRocm91Z2ggdGhlIGNhbnZhcy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby11aS1jb3JlL2lzc3Vlcy8yODQ1XG4gICAgZGF0YS5vZmZzZXQoMCk7XG4gICAgdmFyIHdpZHRoLCBoZWlnaHQsIGNvbG9yU3BhY2UsIGJpdHNQZXJDb21wb25lbnQ7XG4gICAgdmFyIHNvaSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgaWYgKHNvaSAhPSAweEZGRDgpIHtcbiAgICAgICAgLy8gWFhYOiBkbyB3ZSBoYXZlIHNvbWUgYmV0dGVyIG9wdGlvbnMgaGVyZT9cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKUEVHIGltYWdlXCIpO1xuICAgIH1cbiAgICB3aGlsZSAoIWRhdGEuZW9mKCkpIHtcbiAgICAgICAgdmFyIGZmID0gZGF0YS5yZWFkQnl0ZSgpO1xuICAgICAgICBpZiAoZmYgIT0gMHhGRikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKUEVHIGltYWdlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXJrZXIgPSBkYXRhLnJlYWRCeXRlKCk7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICBpZiAoU09GX0NPREVTLmluZGV4T2YobWFya2VyKSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBcInN0YXJ0IG9mIGZyYW1lXCIgbWFya2VyXG4gICAgICAgICAgICBiaXRzUGVyQ29tcG9uZW50ID0gZGF0YS5yZWFkQnl0ZSgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIHdpZHRoID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIGNvbG9yU3BhY2UgPSBkYXRhLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkYXRhLnNraXAobGVuZ3RoIC0gMik7XG4gICAgfVxuXG4gICAgaWYgKGNvbG9yU3BhY2UgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEpQRUcgaW1hZ2VcIik7XG4gICAgfVxuXG4gICAgdmFyIHByb3BzID0ge1xuICAgICAgICBUeXBlICAgICAgICAgICAgIDogXyhcIlhPYmplY3RcIiksXG4gICAgICAgIFN1YnR5cGUgICAgICAgICAgOiBfKFwiSW1hZ2VcIiksXG4gICAgICAgIFdpZHRoICAgICAgICAgICAgOiB3aWR0aCxcbiAgICAgICAgSGVpZ2h0ICAgICAgICAgICA6IGhlaWdodCxcbiAgICAgICAgQml0c1BlckNvbXBvbmVudCA6IGJpdHNQZXJDb21wb25lbnQsXG4gICAgICAgIEZpbHRlciAgICAgICAgICAgOiBfKFwiRENURGVjb2RlXCIpXG4gICAgfTtcblxuICAgIHN3aXRjaCAoY29sb3JTcGFjZSkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICBwcm9wcy5Db2xvclNwYWNlID0gXyhcIkRldmljZUdyYXlcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBwcm9wcy5Db2xvclNwYWNlID0gXyhcIkRldmljZVJHQlwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHByb3BzLkNvbG9yU3BhY2UgPSBfKFwiRGV2aWNlQ01ZS1wiKTtcbiAgICAgICAgcHJvcHMuRGVjb2RlID0gWyAxLCAwLCAxLCAwLCAxLCAwLCAxLCAwIF07IC8vIGludmVydCBjb2xvcnNcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5hc1N0cmVhbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkYXRhLm9mZnNldCgwKTtcbiAgICAgICAgdmFyIHN0cmVhbSA9IG5ldyBQREZTdHJlYW0oZGF0YSwgcHJvcHMpO1xuICAgICAgICBzdHJlYW0uX3Jlc291cmNlTmFtZSA9IF8oXCJJXCIgKyAoKytSRVNPVVJDRV9DT1VOVEVSKSk7XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfTtcbn1cblxuLy8gUERGUmF3SW1hZ2Ugd2lsbCBiZSB1c2VkIGZvciBpbWFnZXMgd2l0aCB0cmFuc3BhcmVuY3kgKFBORylcblxuZnVuY3Rpb24gUERGUmF3SW1hZ2Uod2lkdGgsIGhlaWdodCwgcmdiLCBhbHBoYSkge1xuICAgIHRoaXMuYXNTdHJlYW0gPSBmdW5jdGlvbihwZGYpIHtcbiAgICAgICAgdmFyIG1hc2sgPSBuZXcgUERGU3RyZWFtKGFscGhhLCB7XG4gICAgICAgICAgICBUeXBlICAgICAgICAgICAgIDogXyhcIlhPYmplY3RcIiksXG4gICAgICAgICAgICBTdWJ0eXBlICAgICAgICAgIDogXyhcIkltYWdlXCIpLFxuICAgICAgICAgICAgV2lkdGggICAgICAgICAgICA6IHdpZHRoLFxuICAgICAgICAgICAgSGVpZ2h0ICAgICAgICAgICA6IGhlaWdodCxcbiAgICAgICAgICAgIEJpdHNQZXJDb21wb25lbnQgOiA4LFxuICAgICAgICAgICAgQ29sb3JTcGFjZSAgICAgICA6IF8oXCJEZXZpY2VHcmF5XCIpXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICB2YXIgc3RyZWFtID0gbmV3IFBERlN0cmVhbShyZ2IsIHtcbiAgICAgICAgICAgIFR5cGUgICAgICAgICAgICAgOiBfKFwiWE9iamVjdFwiKSxcbiAgICAgICAgICAgIFN1YnR5cGUgICAgICAgICAgOiBfKFwiSW1hZ2VcIiksXG4gICAgICAgICAgICBXaWR0aCAgICAgICAgICAgIDogd2lkdGgsXG4gICAgICAgICAgICBIZWlnaHQgICAgICAgICAgIDogaGVpZ2h0LFxuICAgICAgICAgICAgQml0c1BlckNvbXBvbmVudCA6IDgsXG4gICAgICAgICAgICBDb2xvclNwYWNlICAgICAgIDogXyhcIkRldmljZVJHQlwiKSxcbiAgICAgICAgICAgIFNNYXNrICAgICAgICAgICAgOiBwZGYuYXR0YWNoKG1hc2spXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICBzdHJlYW0uX3Jlc291cmNlTmFtZSA9IF8oXCJJXCIgKyAoKytSRVNPVVJDRV9DT1VOVEVSKSk7XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfTtcbn1cblxuLy8vIHN0YW5kYXJkIGZvbnRzXG5cbnZhciBQREZTdGFuZGFyZEZvbnQgPSBkZWZjbGFzcyhmdW5jdGlvbiBQREZTdGFuZGFyZEZvbnQobmFtZSl7XG4gICAgdGhpcy5wcm9wcyA9IHtcbiAgICAgICAgVHlwZSAgICAgOiBfKFwiRm9udFwiKSxcbiAgICAgICAgU3VidHlwZSAgOiBfKFwiVHlwZTFcIiksXG4gICAgICAgIEJhc2VGb250IDogXyhuYW1lKVxuICAgIH07XG4gICAgdGhpcy5fcmVzb3VyY2VOYW1lID0gXyhcIkZcIiArICgrK1JFU09VUkNFX0NPVU5URVIpKTtcbn0sIHtcbiAgICBlbmNvZGVUZXh0OiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQREZTdHJpbmcoU3RyaW5nKHN0cikpO1xuICAgIH1cbn0sIFBERkRpY3Rpb25hcnkpO1xuXG4vLy8gVFRGIGZvbnRzXG5cbnZhciBQREZGb250ID0gZGVmY2xhc3MoZnVuY3Rpb24gUERGRm9udChwZGYsIGZvbnQsIHByb3BzKXtcbiAgICBwcm9wcyA9IHRoaXMucHJvcHMgPSBwcm9wcyB8fCB7fTtcbiAgICBwcm9wcy5UeXBlID0gXyhcIkZvbnRcIik7XG4gICAgcHJvcHMuU3VidHlwZSA9IF8oXCJUeXBlMFwiKTtcbiAgICBwcm9wcy5FbmNvZGluZyA9IF8oXCJJZGVudGl0eS1IXCIpO1xuXG4gICAgdGhpcy5fcGRmID0gcGRmO1xuICAgIHRoaXMuX2ZvbnQgPSBmb250O1xuICAgIHRoaXMuX3N1YiA9IGZvbnQubWFrZVN1YnNldCgpO1xuICAgIHRoaXMuX3Jlc291cmNlTmFtZSA9IF8oXCJGXCIgKyAoKytSRVNPVVJDRV9DT1VOVEVSKSk7XG5cbiAgICB2YXIgaGVhZCA9IGZvbnQuaGVhZDtcblxuICAgIHRoaXMubmFtZSA9IGZvbnQucHNOYW1lO1xuICAgIHZhciBzY2FsZSA9IHRoaXMuc2NhbGUgPSBmb250LnNjYWxlO1xuICAgIHRoaXMuYmJveCA9IFtcbiAgICAgICAgaGVhZC54TWluICogc2NhbGUsXG4gICAgICAgIGhlYWQueU1pbiAqIHNjYWxlLFxuICAgICAgICBoZWFkLnhNYXggKiBzY2FsZSxcbiAgICAgICAgaGVhZC55TWF4ICogc2NhbGVcbiAgICBdO1xuXG4gICAgdGhpcy5pdGFsaWNBbmdsZSA9IGZvbnQucG9zdC5pdGFsaWNBbmdsZTtcbiAgICB0aGlzLmFzY2VudCA9IGZvbnQuYXNjZW50ICogc2NhbGU7XG4gICAgdGhpcy5kZXNjZW50ID0gZm9udC5kZXNjZW50ICogc2NhbGU7XG4gICAgdGhpcy5saW5lR2FwID0gZm9udC5saW5lR2FwICogc2NhbGU7XG4gICAgdGhpcy5jYXBIZWlnaHQgPSBmb250Lm9zMi5jYXBIZWlnaHQgfHwgdGhpcy5hc2NlbnQ7XG4gICAgdGhpcy54SGVpZ2h0ID0gZm9udC5vczIueEhlaWdodCB8fCAwO1xuICAgIHRoaXMuc3RlbVYgPSAwO1xuXG4gICAgdGhpcy5mYW1pbHlDbGFzcyA9IChmb250Lm9zMi5mYW1pbHlDbGFzcyB8fCAwKSA+PiA4O1xuICAgIHRoaXMuaXNTZXJpZiA9IHRoaXMuZmFtaWx5Q2xhc3MgPj0gMSAmJiB0aGlzLmZhbWlseUNsYXNzIDw9IDc7XG4gICAgdGhpcy5pc1NjcmlwdCA9IHRoaXMuZmFtaWx5Q2xhc3MgPT0gMTA7XG5cbiAgICB0aGlzLmZsYWdzID0gKChmb250LnBvc3QuaXNGaXhlZFBpdGNoID8gMSA6IDApIHxcbiAgICAgICAgICAgICAgICAgICh0aGlzLmlzU2VyaWYgPyAxIDw8IDEgOiAwKSB8XG4gICAgICAgICAgICAgICAgICAodGhpcy5pc1NjcmlwdCA/IDEgPDwgMyA6IDApIHxcbiAgICAgICAgICAgICAgICAgICh0aGlzLml0YWxpY0FuZ2xlICE9PSAwID8gMSA8PCA2IDogMCkgfFxuICAgICAgICAgICAgICAgICAgKDEgPDwgNSkpO1xufSwge1xuICAgIGVuY29kZVRleHQ6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQREZIZXhTdHJpbmcodGhpcy5fc3ViLmVuY29kZVRleHQoU3RyaW5nKHRleHQpKSk7XG4gICAgfSxcbiAgICBnZXRUZXh0V2lkdGg6IGZ1bmN0aW9uKGZvbnRTaXplLCB0ZXh0KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IDAsIGNvZGVNYXAgPSB0aGlzLl9mb250LmNtYXAuY29kZU1hcDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZ2x5cGhJZCA9IGNvZGVNYXBbdGV4dC5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgICAgIHdpZHRoICs9IHRoaXMuX2ZvbnQud2lkdGhPZkdseXBoKGdseXBoSWQgfHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpZHRoICogZm9udFNpemUgLyAxMDAwO1xuICAgIH0sXG4gICAgYmVmb3JlUmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc3ViID0gc2VsZi5fc3ViO1xuXG4gICAgICAgIC8vIHdyaXRlIHRoZSBUVEYgZGF0YVxuICAgICAgICB2YXIgZGF0YSA9IHN1Yi5yZW5kZXIoKTtcbiAgICAgICAgdmFyIGZvbnRTdHJlYW0gPSBuZXcgUERGU3RyZWFtKEJpbmFyeVN0cmVhbShkYXRhKSwge1xuICAgICAgICAgICAgTGVuZ3RoMTogZGF0YS5sZW5ndGhcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBzZWxmLl9wZGYuYXR0YWNoKG5ldyBQREZEaWN0aW9uYXJ5KHtcbiAgICAgICAgICAgIFR5cGUgICAgICAgICA6IF8oXCJGb250RGVzY3JpcHRvclwiKSxcbiAgICAgICAgICAgIEZvbnROYW1lICAgICA6IF8oc2VsZi5fc3ViLnBzTmFtZSksXG4gICAgICAgICAgICBGb250QkJveCAgICAgOiBzZWxmLmJib3gsXG4gICAgICAgICAgICBGbGFncyAgICAgICAgOiBzZWxmLmZsYWdzLFxuICAgICAgICAgICAgU3RlbVYgICAgICAgIDogc2VsZi5zdGVtVixcbiAgICAgICAgICAgIEl0YWxpY0FuZ2xlICA6IHNlbGYuaXRhbGljQW5nbGUsXG4gICAgICAgICAgICBBc2NlbnQgICAgICAgOiBzZWxmLmFzY2VudCxcbiAgICAgICAgICAgIERlc2NlbnQgICAgICA6IHNlbGYuZGVzY2VudCxcbiAgICAgICAgICAgIENhcEhlaWdodCAgICA6IHNlbGYuY2FwSGVpZ2h0LFxuICAgICAgICAgICAgWEhlaWdodCAgICAgIDogc2VsZi54SGVpZ2h0LFxuICAgICAgICAgICAgRm9udEZpbGUyICAgIDogc2VsZi5fcGRmLmF0dGFjaChmb250U3RyZWFtKVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgdmFyIGNtYXAgPSBzdWIubmNpZDJvZ2lkO1xuICAgICAgICB2YXIgZmlyc3RDaGFyID0gc3ViLmZpcnN0Q2hhcjtcbiAgICAgICAgdmFyIGxhc3RDaGFyID0gc3ViLmxhc3RDaGFyO1xuICAgICAgICB2YXIgY2hhcldpZHRocyA9IFtdO1xuICAgICAgICAoZnVuY3Rpb24gbG9vcChpLCBjaHVuayl7XG4gICAgICAgICAgICBpZiAoaSA8PSBsYXN0Q2hhcikge1xuICAgICAgICAgICAgICAgIHZhciBnaWQgPSBjbWFwW2ldO1xuICAgICAgICAgICAgICAgIGlmIChnaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsb29wKGkgKyAxKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNodW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyV2lkdGhzLnB1c2goaSwgY2h1bmsgPSBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChzZWxmLl9mb250LndpZHRoT2ZHbHlwaChnaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgbG9vcChpICsgMSwgY2h1bmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoZmlyc3RDaGFyKTtcblxuICAgICAgICAvLyBBcyBpZiB0d28gZGljdGlvbmFyaWVzIHdlcmVuJ3QgZW5vdWdoLCB3ZSBuZWVkIGFub3RoZXJcbiAgICAgICAgLy8gb25lLCB0aGUgXCJkZXNjZW5kYW50IGZvbnRcIi4gIE9ubHkgdGhhdCBvbmUgY2FuIGJlIG9mXG4gICAgICAgIC8vIFN1YnR5cGUgQ0lERm9udFR5cGUyLiAgUERGIGlzIHRoZSBYMTEgb2YgZG9jdW1lbnRcbiAgICAgICAgLy8gZm9ybWF0czogcG9ydGFibGUgYnV0IGZ1bGwgb2YgbGVnYWN5IHRoYXQgbm9ib2R5IGNhcmVzXG4gICAgICAgIC8vIGFib3V0IGFueW1vcmUuXG5cbiAgICAgICAgdmFyIGRlc2NlbmRhbnQgPSBuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICBUeXBlOiBfKFwiRm9udFwiKSxcbiAgICAgICAgICAgIFN1YnR5cGU6IF8oXCJDSURGb250VHlwZTJcIiksXG4gICAgICAgICAgICBCYXNlRm9udDogXyhzZWxmLl9zdWIucHNOYW1lKSxcbiAgICAgICAgICAgIENJRFN5c3RlbUluZm86IG5ldyBQREZEaWN0aW9uYXJ5KHtcbiAgICAgICAgICAgICAgICBSZWdpc3RyeSAgIDogbmV3IFBERlN0cmluZyhcIkFkb2JlXCIpLFxuICAgICAgICAgICAgICAgIE9yZGVyaW5nICAgOiBuZXcgUERGU3RyaW5nKFwiSWRlbnRpdHlcIiksXG4gICAgICAgICAgICAgICAgU3VwcGxlbWVudCA6IDBcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgRm9udERlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICAgICAgICBGaXJzdENoYXI6IGZpcnN0Q2hhcixcbiAgICAgICAgICAgIExhc3RDaGFyOiBsYXN0Q2hhcixcbiAgICAgICAgICAgIERXOiBNYXRoLnJvdW5kKHNlbGYuX2ZvbnQud2lkdGhPZkdseXBoKDApKSxcbiAgICAgICAgICAgIFc6IGNoYXJXaWR0aHMsXG4gICAgICAgICAgICBDSURUb0dJRE1hcDogc2VsZi5fcGRmLmF0dGFjaChzZWxmLl9tYWtlQ2lkVG9HaWRNYXAoKSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGRpY3QgPSBzZWxmLnByb3BzO1xuICAgICAgICBkaWN0LkJhc2VGb250ID0gXyhzZWxmLl9zdWIucHNOYW1lKTtcbiAgICAgICAgZGljdC5EZXNjZW5kYW50Rm9udHMgPSBbIHNlbGYuX3BkZi5hdHRhY2goZGVzY2VuZGFudCkgXTtcblxuICAgICAgICAvLyBDb21wdXRlIHRoZSBUb1VuaWNvZGUgbWFwIHNvIHRoYXQgYXBwcyBjYW4gZXh0cmFjdFxuICAgICAgICAvLyBtZWFuaW5nZnVsIHRleHQgZnJvbSB0aGUgUERGLlxuICAgICAgICB2YXIgdW5pbWFwID0gbmV3IFBERlRvVW5pY29kZUNtYXAoZmlyc3RDaGFyLCBsYXN0Q2hhciwgc3ViLnN1YnNldCk7XG4gICAgICAgIHZhciB1bmltYXBTdHJlYW0gPSBuZXcgUERGU3RyZWFtKG1ha2VPdXRwdXQoKSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIHVuaW1hcFN0cmVhbS5kYXRhKHVuaW1hcCk7XG4gICAgICAgIGRpY3QuVG9Vbmljb2RlID0gc2VsZi5fcGRmLmF0dGFjaCh1bmltYXBTdHJlYW0pO1xuICAgIH0sXG4gICAgX21ha2VDaWRUb0dpZE1hcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgUERGU3RyZWFtKEJpbmFyeVN0cmVhbSh0aGlzLl9zdWIuY2lkVG9HaWRNYXAoKSksIG51bGwsIHRydWUpO1xuICAgIH1cbn0sIFBERkRpY3Rpb25hcnkpO1xuXG52YXIgUERGVG9Vbmljb2RlQ21hcCA9IGRlZmNsYXNzKGZ1bmN0aW9uIFBERlVuaWNvZGVDTWFwKGZpcnN0Q2hhciwgbGFzdENoYXIsIG1hcCl7XG4gICAgdGhpcy5maXJzdENoYXIgPSBmaXJzdENoYXI7XG4gICAgdGhpcy5sYXN0Q2hhciA9IGxhc3RDaGFyO1xuICAgIHRoaXMubWFwID0gbWFwO1xufSwge1xuICAgIHJlbmRlcjogZnVuY3Rpb24ob3V0KSB7XG4gICAgICAgIG91dC5pbmRlbnQoXCIvQ0lESW5pdCAvUHJvY1NldCBmaW5kcmVzb3VyY2UgYmVnaW5cIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIxMiBkaWN0IGJlZ2luXCIpO1xuICAgICAgICBvdXQuaW5kZW50KFwiYmVnaW5jbWFwXCIpO1xuICAgICAgICBvdXQuaW5kZW50KFwiL0NJRFN5c3RlbUluZm8gPDxcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIgIC9SZWdpc3RyeSAoQWRvYmUpXCIpO1xuICAgICAgICBvdXQuaW5kZW50KFwiICAvT3JkZXJpbmcgKFVDUylcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIgIC9TdXBwbGVtZW50IDBcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCI+PiBkZWZcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIvQ01hcE5hbWUgL0Fkb2JlLUlkZW50aXR5LVVDUyBkZWZcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIvQ01hcFR5cGUgMiBkZWZcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIxIGJlZ2luY29kZXNwYWNlcmFuZ2VcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIgIDwwMDAwPjxmZmZmPlwiKTtcbiAgICAgICAgb3V0LmluZGVudChcImVuZGNvZGVzcGFjZXJhbmdlXCIpO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgb3V0LmluZGVudChzZWxmLmxhc3RDaGFyIC0gc2VsZi5maXJzdENoYXIgKyAxLCBcIiBiZWdpbmJmY2hhclwiKTtcbiAgICAgICAgb3V0LndpdGhJbmRlbnQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGZvciAodmFyIGNvZGUgPSBzZWxmLmZpcnN0Q2hhcjsgY29kZSA8PSBzZWxmLmxhc3RDaGFyOyArK2NvZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdW5pY29kZSA9IHNlbGYubWFwW2NvZGVdO1xuICAgICAgICAgICAgICAgIHZhciBzdHIgPSB1Y3MyZW5jb2RlKFsgdW5pY29kZSBdKTtcbiAgICAgICAgICAgICAgICBvdXQuaW5kZW50KFwiPFwiLCB6ZXJvcGFkKGNvZGUudG9TdHJpbmcoMTYpLCA0KSwgXCI+XCIsIFwiPFwiKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQoemVyb3BhZChzdHIuY2hhckNvZGVBdChpKS50b1N0cmluZygxNiksIDQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0KFwiPlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG91dC5pbmRlbnQoXCJlbmRiZmNoYXJcIik7XG5cbiAgICAgICAgb3V0LmluZGVudChcImVuZGNtYXBcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCJDTWFwTmFtZSBjdXJyZW50ZGljdCAvQ01hcCBkZWZpbmVyZXNvdXJjZSBwb3BcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCJlbmRcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCJlbmRcIik7XG4gICAgfVxufSk7XG5cbi8vLyBncmFkaWVudHNcblxuZnVuY3Rpb24gbWFrZUhhc2goYSkge1xuICAgIHJldHVybiBhLm1hcChmdW5jdGlvbih4KXtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkoeCkgPyBtYWtlSGFzaCh4KVxuICAgICAgICAgICAgOiB0eXBlb2YgeCA9PSBcIm51bWJlclwiID8gKE1hdGgucm91bmQoeCAqIDEwMDApIC8gMTAwMCkudG9GaXhlZCgzKVxuICAgICAgICAgICAgOiB4O1xuICAgIH0pLmpvaW4oXCIgXCIpO1xufVxuXG5mdW5jdGlvbiBjYWNoZUNvbG9yR3JhZGllbnRGdW5jdGlvbihwZGYsIHIxLCBnMSwgYjEsIHIyLCBnMiwgYjIpIHtcbiAgICB2YXIgaGFzaCA9IG1ha2VIYXNoKFsgcjEsIGcxLCBiMSwgcjIsIGcyLCBiMiBdKTtcbiAgICB2YXIgZnVuYyA9IHBkZi5HUkFEX0NPTF9GVU5DVElPTlNbaGFzaF07XG4gICAgaWYgKCFmdW5jKSB7XG4gICAgICAgIGZ1bmMgPSBwZGYuR1JBRF9DT0xfRlVOQ1RJT05TW2hhc2hdID0gcGRmLmF0dGFjaChuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICBGdW5jdGlvblR5cGU6IDIsXG4gICAgICAgICAgICBEb21haW46IFsgMCwgMSBdLFxuICAgICAgICAgICAgUmFuZ2U6IFsgMCwgMSwgMCwgMSwgMCwgMSBdLFxuICAgICAgICAgICAgTjogMSxcbiAgICAgICAgICAgIEMwOiBbIHIxICwgZzEgLCBiMSBdLFxuICAgICAgICAgICAgQzE6IFsgcjIgLCBnMiAsIGIyIF1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYztcbn1cblxuZnVuY3Rpb24gY2FjaGVPcGFjaXR5R3JhZGllbnRGdW5jdGlvbihwZGYsIGExLCBhMikge1xuICAgIHZhciBoYXNoID0gbWFrZUhhc2goWyBhMSwgYTIgXSk7XG4gICAgdmFyIGZ1bmMgPSBwZGYuR1JBRF9PUENfRlVOQ1RJT05TW2hhc2hdO1xuICAgIGlmICghZnVuYykge1xuICAgICAgICBmdW5jID0gcGRmLkdSQURfT1BDX0ZVTkNUSU9OU1toYXNoXSA9IHBkZi5hdHRhY2gobmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICAgICAgRnVuY3Rpb25UeXBlOiAyLFxuICAgICAgICAgICAgRG9tYWluOiBbIDAsIDEgXSxcbiAgICAgICAgICAgIFJhbmdlOiBbIDAsIDEgXSxcbiAgICAgICAgICAgIE46IDEsXG4gICAgICAgICAgICBDMDogWyBhMSBdLFxuICAgICAgICAgICAgQzE6IFsgYTIgXVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jO1xufVxuXG5mdW5jdGlvbiBtYWtlR3JhZGllbnRGdW5jdGlvbnMocGRmLCBzdG9wcykge1xuICAgIHZhciBoYXNBbHBoYSA9IGZhbHNlO1xuICAgIHZhciBvcGFjaXRpZXMgPSBbXTtcbiAgICB2YXIgY29sb3JzID0gW107XG4gICAgdmFyIG9mZnNldHMgPSBbXTtcbiAgICB2YXIgZW5jb2RlID0gW107XG4gICAgdmFyIGksIHByZXYsIGN1ciwgcHJldkNvbG9yLCBjdXJDb2xvcjtcbiAgICBmb3IgKGkgPSAxOyBpIDwgc3RvcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcHJldiA9IHN0b3BzW2kgLSAxXTtcbiAgICAgICAgY3VyID0gc3RvcHNbaV07XG4gICAgICAgIHByZXZDb2xvciA9IHByZXYuY29sb3I7XG4gICAgICAgIGN1ckNvbG9yID0gY3VyLmNvbG9yO1xuICAgICAgICBjb2xvcnMucHVzaChjYWNoZUNvbG9yR3JhZGllbnRGdW5jdGlvbihcbiAgICAgICAgICAgIHBkZixcbiAgICAgICAgICAgIHByZXZDb2xvci5yLCBwcmV2Q29sb3IuZywgcHJldkNvbG9yLmIsXG4gICAgICAgICAgICBjdXJDb2xvci5yLCAgY3VyQ29sb3IuZywgIGN1ckNvbG9yLmJcbiAgICAgICAgKSk7XG4gICAgICAgIGlmIChwcmV2Q29sb3IuYSA8IDEgfHwgY3VyQ29sb3IuYSA8IDEpIHtcbiAgICAgICAgICAgIGhhc0FscGhhID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXRzLnB1c2goY3VyLm9mZnNldCk7XG4gICAgICAgIGVuY29kZS5wdXNoKDAsIDEpO1xuICAgIH1cbiAgICBpZiAoaGFzQWxwaGEpIHtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IHN0b3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBwcmV2ID0gc3RvcHNbaSAtIDFdO1xuICAgICAgICAgICAgY3VyID0gc3RvcHNbaV07XG4gICAgICAgICAgICBwcmV2Q29sb3IgPSBwcmV2LmNvbG9yO1xuICAgICAgICAgICAgY3VyQ29sb3IgPSBjdXIuY29sb3I7XG4gICAgICAgICAgICBvcGFjaXRpZXMucHVzaChjYWNoZU9wYWNpdHlHcmFkaWVudEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIHBkZiwgcHJldkNvbG9yLmEsIGN1ckNvbG9yLmFcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9mZnNldHMucG9wKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzQWxwaGEgIDogaGFzQWxwaGEsXG4gICAgICAgIGNvbG9ycyAgICA6IGFzc2VtYmxlKGNvbG9ycyksXG4gICAgICAgIG9wYWNpdGllcyA6IGhhc0FscGhhID8gYXNzZW1ibGUob3BhY2l0aWVzKSA6IG51bGxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGFzc2VtYmxlKGZ1bmNzKSB7XG4gICAgICAgIGlmIChmdW5jcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmNzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBGdW5jdGlvblR5cGU6IDMsXG4gICAgICAgICAgICBGdW5jdGlvbnM6IGZ1bmNzLFxuICAgICAgICAgICAgRG9tYWluOiBbIDAsIDEgXSxcbiAgICAgICAgICAgIEJvdW5kczogb2Zmc2V0cyxcbiAgICAgICAgICAgIEVuY29kZTogZW5jb2RlXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYWNoZUNvbG9yR3JhZGllbnQocGRmLCBpc1JhZGlhbCwgc3RvcHMsIGNvb3JkcywgZnVuY3MsIGJveCkge1xuICAgIHZhciBzaGFkaW5nLCBoYXNoO1xuICAgIC8vIGlmIGJveCBpcyBnaXZlbiB0aGVuIHdlIGhhdmUgdXNlci1zcGFjZSBjb29yZGluYXRlcywgd2hpY2hcbiAgICAvLyBtZWFucyB0aGUgZ3JhZGllbnQgaXMgZGVzaWduZWQgZm9yIGEgY2VydGFpbiBwb3NpdGlvbi9zaXplXG4gICAgLy8gb24gcGFnZS4gIGNhY2hpbmcgd29uJ3QgZG8gYW55IGdvb2QuXG4gICAgaWYgKCFib3gpIHtcbiAgICAgICAgdmFyIGEgPSBbIGlzUmFkaWFsIF0uY29uY2F0KGNvb3Jkcyk7XG4gICAgICAgIHN0b3BzLmZvckVhY2goZnVuY3Rpb24oeCl7XG4gICAgICAgICAgICBhLnB1c2goeC5vZmZzZXQsIHguY29sb3IuciwgeC5jb2xvci5nLCB4LmNvbG9yLmIpO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFzaCA9IG1ha2VIYXNoKGEpO1xuICAgICAgICBzaGFkaW5nID0gcGRmLkdSQURfQ09MW2hhc2hdO1xuICAgIH1cbiAgICBpZiAoIXNoYWRpbmcpIHtcbiAgICAgICAgc2hhZGluZyA9IG5ldyBQREZEaWN0aW9uYXJ5KHtcbiAgICAgICAgICAgIFR5cGU6IF8oXCJTaGFkaW5nXCIpLFxuICAgICAgICAgICAgU2hhZGluZ1R5cGU6IGlzUmFkaWFsID8gMyA6IDIsXG4gICAgICAgICAgICBDb2xvclNwYWNlOiBfKFwiRGV2aWNlUkdCXCIpLFxuICAgICAgICAgICAgQ29vcmRzOiBjb29yZHMsXG4gICAgICAgICAgICBEb21haW46IFsgMCwgMSBdLFxuICAgICAgICAgICAgRnVuY3Rpb246IGZ1bmNzLFxuICAgICAgICAgICAgRXh0ZW5kOiBbIHRydWUsIHRydWUgXVxuICAgICAgICB9KTtcbiAgICAgICAgcGRmLmF0dGFjaChzaGFkaW5nKTtcbiAgICAgICAgc2hhZGluZy5fcmVzb3VyY2VOYW1lID0gXCJTXCIgKyAoKytSRVNPVVJDRV9DT1VOVEVSKTtcbiAgICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgICAgIHBkZi5HUkFEX0NPTFtoYXNoXSA9IHNoYWRpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNoYWRpbmc7XG59XG5cbmZ1bmN0aW9uIGNhY2hlT3BhY2l0eUdyYWRpZW50KHBkZiwgaXNSYWRpYWwsIHN0b3BzLCBjb29yZHMsIGZ1bmNzLCBib3gpIHtcbiAgICB2YXIgb3BhY2l0eSwgaGFzaDtcbiAgICAvLyBpZiBib3ggaXMgZ2l2ZW4gdGhlbiB3ZSBoYXZlIHVzZXItc3BhY2UgY29vcmRpbmF0ZXMsIHdoaWNoXG4gICAgLy8gbWVhbnMgdGhlIGdyYWRpZW50IGlzIGRlc2lnbmVkIGZvciBhIGNlcnRhaW4gcG9zaXRpb24vc2l6ZVxuICAgIC8vIG9uIHBhZ2UuICBjYWNoaW5nIHdvbid0IGRvIGFueSBnb29kLlxuICAgIGlmICghYm94KSB7XG4gICAgICAgIHZhciBhID0gWyBpc1JhZGlhbCBdLmNvbmNhdChjb29yZHMpO1xuICAgICAgICBzdG9wcy5mb3JFYWNoKGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgYS5wdXNoKHgub2Zmc2V0LCB4LmNvbG9yLmEpO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFzaCA9IG1ha2VIYXNoKGEpO1xuICAgICAgICBvcGFjaXR5ID0gcGRmLkdSQURfT1BDW2hhc2hdO1xuICAgIH1cbiAgICBpZiAoIW9wYWNpdHkpIHtcbiAgICAgICAgb3BhY2l0eSA9IG5ldyBQREZEaWN0aW9uYXJ5KHtcbiAgICAgICAgICAgIFR5cGU6IF8oXCJFeHRHU3RhdGVcIiksXG4gICAgICAgICAgICBBSVM6IGZhbHNlLFxuICAgICAgICAgICAgQ0E6IDEsXG4gICAgICAgICAgICBjYTogMSxcbiAgICAgICAgICAgIFNNYXNrOiB7XG4gICAgICAgICAgICAgICAgVHlwZTogXyhcIk1hc2tcIiksXG4gICAgICAgICAgICAgICAgUzogXyhcIkx1bWlub3NpdHlcIiksXG4gICAgICAgICAgICAgICAgRzogcGRmLmF0dGFjaChuZXcgUERGU3RyZWFtKFwiL2EwIGdzIC9zMCBzaFwiLCB7XG4gICAgICAgICAgICAgICAgICAgIFR5cGU6IF8oXCJYT2JqZWN0XCIpLFxuICAgICAgICAgICAgICAgICAgICBTdWJ0eXBlOiBfKFwiRm9ybVwiKSxcbiAgICAgICAgICAgICAgICAgICAgRm9ybVR5cGU6IDEsXG4gICAgICAgICAgICAgICAgICAgIEJCb3g6IChib3ggPyBbXG4gICAgICAgICAgICAgICAgICAgICAgICBib3gubGVmdCwgYm94LnRvcCArIGJveC5oZWlnaHQsIGJveC5sZWZ0ICsgYm94LndpZHRoLCBib3gudG9wXG4gICAgICAgICAgICAgICAgICAgIF0gOiBbIDAsIDEsIDEsIDAgXSksXG4gICAgICAgICAgICAgICAgICAgIEdyb3VwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUeXBlOiBfKFwiR3JvdXBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBTOiBfKFwiVHJhbnNwYXJlbmN5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgQ1M6IF8oXCJEZXZpY2VHcmF5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgSTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEV4dEdTdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwOiB7IENBOiAxLCBjYTogMSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgU2hhZGluZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU3BhY2U6IF8oXCJEZXZpY2VHcmF5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb29yZHM6IGNvb3JkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9tYWluOiBbIDAsIDEgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2hhZGluZ1R5cGU6IGlzUmFkaWFsID8gMyA6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uOiBmdW5jcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXh0ZW5kOiBbIHRydWUsIHRydWUgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGRmLmF0dGFjaChvcGFjaXR5KTtcbiAgICAgICAgb3BhY2l0eS5fcmVzb3VyY2VOYW1lID0gXCJPXCIgKyAoKytSRVNPVVJDRV9DT1VOVEVSKTtcbiAgICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgICAgIHBkZi5HUkFEX09QQ1toYXNoXSA9IG9wYWNpdHk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9wYWNpdHk7XG59XG5cbmZ1bmN0aW9uIGNhY2hlR3JhZGllbnQocGRmLCBncmFkaWVudCwgYm94KSB7XG4gICAgdmFyIGlzUmFkaWFsID0gZ3JhZGllbnQudHlwZSA9PSBcInJhZGlhbFwiO1xuICAgIHZhciBmdW5jcyA9IG1ha2VHcmFkaWVudEZ1bmN0aW9ucyhwZGYsIGdyYWRpZW50LnN0b3BzKTtcbiAgICB2YXIgY29vcmRzID0gaXNSYWRpYWwgPyBbXG4gICAgICAgIGdyYWRpZW50LnN0YXJ0LnggLCBncmFkaWVudC5zdGFydC55ICwgZ3JhZGllbnQuc3RhcnQucixcbiAgICAgICAgZ3JhZGllbnQuZW5kLnggICAsIGdyYWRpZW50LmVuZC55ICAgLCBncmFkaWVudC5lbmQuclxuICAgIF0gOiBbXG4gICAgICAgIGdyYWRpZW50LnN0YXJ0LnggLCBncmFkaWVudC5zdGFydC55LFxuICAgICAgICBncmFkaWVudC5lbmQueCAgICwgZ3JhZGllbnQuZW5kLnlcbiAgICBdO1xuICAgIHZhciBzaGFkaW5nID0gY2FjaGVDb2xvckdyYWRpZW50KFxuICAgICAgICBwZGYsIGlzUmFkaWFsLCBncmFkaWVudC5zdG9wcywgY29vcmRzLCBmdW5jcy5jb2xvcnMsIGdyYWRpZW50LnVzZXJTcGFjZSAmJiBib3hcbiAgICApO1xuICAgIHZhciBvcGFjaXR5ID0gZnVuY3MuaGFzQWxwaGEgPyBjYWNoZU9wYWNpdHlHcmFkaWVudChcbiAgICAgICAgcGRmLCBpc1JhZGlhbCwgZ3JhZGllbnQuc3RvcHMsIGNvb3JkcywgZnVuY3Mub3BhY2l0aWVzLCBncmFkaWVudC51c2VyU3BhY2UgJiYgYm94XG4gICAgKSA6IG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzQWxwaGE6IGZ1bmNzLmhhc0FscGhhLFxuICAgICAgICBzaGFkaW5nOiBzaGFkaW5nLFxuICAgICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgfTtcbn1cblxuLy8vIHBhZ2Ugb2JqZWN0XG5cbnZhciBQREZQYWdlID0gZGVmY2xhc3MoZnVuY3Rpb24gUERGUGFnZShwZGYsIHByb3BzKXtcbiAgICB0aGlzLl9wZGYgPSBwZGY7XG4gICAgdGhpcy5fcmNvdW50ID0gMDtcbiAgICB0aGlzLl90ZXh0TW9kZSA9IGZhbHNlO1xuICAgIHRoaXMuX2ZvbnRSZXNvdXJjZXMgPSB7fTtcbiAgICB0aGlzLl9nc1Jlc291cmNlcyA9IHt9O1xuICAgIHRoaXMuX3hSZXNvdXJjZXMgPSB7fTtcbiAgICB0aGlzLl9wYXRSZXNvdXJjZXMgPSB7fTtcbiAgICB0aGlzLl9zaFJlc291cmNlcyA9IHt9O1xuICAgIHRoaXMuX29wYWNpdHkgPSAxO1xuICAgIHRoaXMuX21hdHJpeCA9IFsgMSwgMCwgMCwgMSwgMCwgMCBdO1xuICAgIHRoaXMuX2Fubm90YXRpb25zID0gW107XG5cbiAgICB0aGlzLl9mb250ID0gbnVsbDtcbiAgICB0aGlzLl9mb250U2l6ZSA9IG51bGw7XG5cbiAgICB0aGlzLl9jb250ZXh0U3RhY2sgPSBbXTtcblxuICAgIHByb3BzID0gdGhpcy5wcm9wcyA9IHByb3BzIHx8IHt9O1xuICAgIHByb3BzLlR5cGUgPSBfKFwiUGFnZVwiKTtcbiAgICBwcm9wcy5Qcm9jU2V0ID0gW1xuICAgICAgICBfKFwiUERGXCIpLFxuICAgICAgICBfKFwiVGV4dFwiKSxcbiAgICAgICAgXyhcIkltYWdlQlwiKSxcbiAgICAgICAgXyhcIkltYWdlQ1wiKSxcbiAgICAgICAgXyhcIkltYWdlSVwiKVxuICAgIF07XG4gICAgcHJvcHMuUmVzb3VyY2VzID0gbmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICBGb250ICAgICAgOiBuZXcgUERGRGljdGlvbmFyeSh0aGlzLl9mb250UmVzb3VyY2VzKSxcbiAgICAgICAgRXh0R1N0YXRlIDogbmV3IFBERkRpY3Rpb25hcnkodGhpcy5fZ3NSZXNvdXJjZXMpLFxuICAgICAgICBYT2JqZWN0ICAgOiBuZXcgUERGRGljdGlvbmFyeSh0aGlzLl94UmVzb3VyY2VzKSxcbiAgICAgICAgUGF0dGVybiAgIDogbmV3IFBERkRpY3Rpb25hcnkodGhpcy5fcGF0UmVzb3VyY2VzKSxcbiAgICAgICAgU2hhZGluZyAgIDogbmV3IFBERkRpY3Rpb25hcnkodGhpcy5fc2hSZXNvdXJjZXMpXG4gICAgfSk7XG4gICAgcHJvcHMuQW5ub3RzID0gdGhpcy5fYW5ub3RhdGlvbnM7XG59LCB7XG4gICAgX291dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQuZGF0YS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICAgIGlmICghaXNJZGVudGl0eU1hdHJpeChhcmd1bWVudHMpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtbXVsKGFyZ3VtZW50cywgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgICAgIHRoaXMuX291dChhLCBcIiBcIiwgYiwgXCIgXCIsIGMsIFwiIFwiLCBkLCBcIiBcIiwgZSwgXCIgXCIsIGYsIFwiIGNtXCIpO1xuICAgICAgICAgICAgLy8gWFhYOiBkZWJ1Z1xuICAgICAgICAgICAgLy8gdGhpcy5fb3V0KFwiICUgY3VycmVudCBtYXRyaXg6IFwiLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICAgICAgdGhpcy5fb3V0KE5MKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdHJhbnNsYXRlOiBmdW5jdGlvbihkeCwgZHkpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0oMSwgMCwgMCwgMSwgZHgsIGR5KTtcbiAgICB9LFxuICAgIHNjYWxlOiBmdW5jdGlvbihzeCwgc3kpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0oc3gsIDAsIDAsIHN5LCAwLCAwKTtcbiAgICB9LFxuICAgIHJvdGF0ZTogZnVuY3Rpb24oYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybShjb3MsIHNpbiwgLXNpbiwgY29zLCAwLCAwKTtcbiAgICB9LFxuICAgIGJlZ2luVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RleHRNb2RlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fb3V0KFwiQlRcIiwgTkwpO1xuICAgIH0sXG4gICAgZW5kVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RleHRNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX291dChcIkVUXCIsIE5MKTtcbiAgICB9LFxuICAgIF9yZXF1aXJlVGV4dE1vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RleHRNb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUZXh0IG1vZGUgcmVxdWlyZWQ7IGNhbGwgcGFnZS5iZWdpblRleHQoKSBmaXJzdFwiKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgX3JlcXVpcmVGb250OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9mb250KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmb250IHNlbGVjdGVkOyBjYWxsIHBhZ2Uuc2V0Rm9udCgpIGZpcnN0XCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRGb250OiBmdW5jdGlvbihmb250LCBzaXplKSB7XG4gICAgICAgIHRoaXMuX3JlcXVpcmVUZXh0TW9kZSgpO1xuICAgICAgICBpZiAoZm9udCA9PSBudWxsKSB7XG4gICAgICAgICAgICBmb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgfSBlbHNlIGlmICghKGZvbnQgaW5zdGFuY2VvZiBQREZGb250KSkge1xuICAgICAgICAgICAgZm9udCA9IHRoaXMuX3BkZi5nZXRGb250KGZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaXplID09IG51bGwpIHtcbiAgICAgICAgICAgIHNpemUgPSB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb250UmVzb3VyY2VzW2ZvbnQuX3Jlc291cmNlTmFtZV0gPSBmb250O1xuICAgICAgICB0aGlzLl9mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fZm9udFNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLl9vdXQoZm9udC5fcmVzb3VyY2VOYW1lLCBcIiBcIiwgc2l6ZSwgXCIgVGZcIiwgTkwpO1xuICAgIH0sXG4gICAgc2V0VGV4dExlYWRpbmc6IGZ1bmN0aW9uKHNpemUpIHtcbiAgICAgICAgdGhpcy5fcmVxdWlyZVRleHRNb2RlKCk7XG4gICAgICAgIHRoaXMuX291dChzaXplLCBcIiBUTFwiLCBOTCk7XG4gICAgfSxcbiAgICBzZXRUZXh0UmVuZGVyaW5nTW9kZTogZnVuY3Rpb24obW9kZSkge1xuICAgICAgICB0aGlzLl9yZXF1aXJlVGV4dE1vZGUoKTtcbiAgICAgICAgdGhpcy5fb3V0KG1vZGUsIFwiIFRyXCIsIE5MKTtcbiAgICB9LFxuICAgIHNob3dUZXh0OiBmdW5jdGlvbih0ZXh0LCByZXF1ZXN0ZWRXaWR0aCkge1xuICAgICAgICB0aGlzLl9yZXF1aXJlRm9udCgpO1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAxICYmIHJlcXVlc3RlZFdpZHRoICYmIHRoaXMuX2ZvbnQgaW5zdGFuY2VvZiBQREZGb250KSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0V2lkdGggPSB0aGlzLl9mb250LmdldFRleHRXaWR0aCh0aGlzLl9mb250U2l6ZSwgdGV4dCk7XG4gICAgICAgICAgICB2YXIgc2NhbGUgPSByZXF1ZXN0ZWRXaWR0aCAvIG91dHB1dFdpZHRoICogMTAwO1xuICAgICAgICAgICAgdGhpcy5fb3V0KHNjYWxlLCBcIiBUeiBcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3V0KHRoaXMuX2ZvbnQuZW5jb2RlVGV4dCh0ZXh0KSwgXCIgVGpcIiwgTkwpO1xuICAgIH0sXG4gICAgc2hvd1RleHROTDogZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB0aGlzLl9yZXF1aXJlRm9udCgpO1xuICAgICAgICB0aGlzLl9vdXQodGhpcy5fZm9udC5lbmNvZGVUZXh0KHRleHQpLCBcIiAnXCIsIE5MKTtcbiAgICB9LFxuICAgIGFkZExpbms6IGZ1bmN0aW9uKHVyaSwgYm94KSB7XG4gICAgICAgIHZhciBsbCA9IHRoaXMuX3RvUGFnZSh7IHg6IGJveC5sZWZ0LCB5OiBib3guYm90dG9tIH0pO1xuICAgICAgICB2YXIgdXIgPSB0aGlzLl90b1BhZ2UoeyB4OiBib3gucmlnaHQsIHk6IGJveC50b3AgfSk7XG4gICAgICAgIHRoaXMuX2Fubm90YXRpb25zLnB1c2gobmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICAgICAgVHlwZSAgICA6IF8oXCJBbm5vdFwiKSxcbiAgICAgICAgICAgIFN1YnR5cGUgOiBfKFwiTGlua1wiKSxcbiAgICAgICAgICAgIFJlY3QgICAgOiBbIGxsLngsIGxsLnksIHVyLngsIHVyLnkgXSxcbiAgICAgICAgICAgIEJvcmRlciAgOiBbIDAsIDAsIDAgXSxcbiAgICAgICAgICAgIEEgICAgICAgOiBuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICAgICAgVHlwZSA6IF8oXCJBY3Rpb25cIiksXG4gICAgICAgICAgICAgICAgUyAgICA6IF8oXCJVUklcIiksXG4gICAgICAgICAgICAgICAgVVJJICA6IG5ldyBQREZTdHJpbmcodXJpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkpO1xuICAgIH0sXG4gICAgc2V0U3Ryb2tlQ29sb3I6IGZ1bmN0aW9uKHIsIGcsIGIpIHtcbiAgICAgICAgdGhpcy5fb3V0KHIsIFwiIFwiLCBnLCBcIiBcIiwgYiwgXCIgUkdcIiwgTkwpO1xuICAgIH0sXG4gICAgc2V0T3BhY2l0eTogZnVuY3Rpb24ob3BhY2l0eSkge1xuICAgICAgICB0aGlzLnNldEZpbGxPcGFjaXR5KG9wYWNpdHkpO1xuICAgICAgICB0aGlzLnNldFN0cm9rZU9wYWNpdHkob3BhY2l0eSk7XG4gICAgICAgIHRoaXMuX29wYWNpdHkgKj0gb3BhY2l0eTtcbiAgICB9LFxuICAgIHNldFN0cm9rZU9wYWNpdHk6IGZ1bmN0aW9uKG9wYWNpdHkpIHtcbiAgICAgICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICB2YXIgZ3MgPSB0aGlzLl9wZGYuZ2V0T3BhY2l0eUdTKHRoaXMuX29wYWNpdHkgKiBvcGFjaXR5LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuX2dzUmVzb3VyY2VzW2dzLl9yZXNvdXJjZU5hbWVdID0gZ3M7XG4gICAgICAgICAgICB0aGlzLl9vdXQoZ3MuX3Jlc291cmNlTmFtZSwgXCIgZ3NcIiwgTkwpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRGaWxsQ29sb3I6IGZ1bmN0aW9uKHIsIGcsIGIpIHtcbiAgICAgICAgdGhpcy5fb3V0KHIsIFwiIFwiLCBnLCBcIiBcIiwgYiwgXCIgcmdcIiwgTkwpO1xuICAgIH0sXG4gICAgc2V0RmlsbE9wYWNpdHk6IGZ1bmN0aW9uKG9wYWNpdHkpIHtcbiAgICAgICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICB2YXIgZ3MgPSB0aGlzLl9wZGYuZ2V0T3BhY2l0eUdTKHRoaXMuX29wYWNpdHkgKiBvcGFjaXR5LCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl9nc1Jlc291cmNlc1tncy5fcmVzb3VyY2VOYW1lXSA9IGdzO1xuICAgICAgICAgICAgdGhpcy5fb3V0KGdzLl9yZXNvdXJjZU5hbWUsIFwiIGdzXCIsIE5MKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ3JhZGllbnQ6IGZ1bmN0aW9uKGdyYWRpZW50LCBib3gpIHtcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgIHRoaXMucmVjdChib3gubGVmdCwgYm94LnRvcCwgYm94LndpZHRoLCBib3guaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jbGlwKCk7XG4gICAgICAgIGlmICghZ3JhZGllbnQudXNlclNwYWNlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybShib3gud2lkdGgsIDAsIDAsIGJveC5oZWlnaHQsIGJveC5sZWZ0LCBib3gudG9wKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZyA9IGNhY2hlR3JhZGllbnQodGhpcy5fcGRmLCBncmFkaWVudCwgYm94KTtcbiAgICAgICAgdmFyIHNuYW1lID0gZy5zaGFkaW5nLl9yZXNvdXJjZU5hbWUsIG9uYW1lO1xuICAgICAgICB0aGlzLl9zaFJlc291cmNlc1tzbmFtZV0gPSBnLnNoYWRpbmc7XG4gICAgICAgIGlmIChnLmhhc0FscGhhKSB7XG4gICAgICAgICAgICBvbmFtZSA9IGcub3BhY2l0eS5fcmVzb3VyY2VOYW1lO1xuICAgICAgICAgICAgdGhpcy5fZ3NSZXNvdXJjZXNbb25hbWVdID0gZy5vcGFjaXR5O1xuICAgICAgICAgICAgdGhpcy5fb3V0KFwiL1wiICsgb25hbWUgKyBcIiBncyBcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3V0KFwiL1wiICsgc25hbWUgKyBcIiBzaFwiLCBOTCk7XG4gICAgICAgIHRoaXMucmVzdG9yZSgpO1xuICAgIH0sXG4gICAgc2V0RGFzaFBhdHRlcm46IGZ1bmN0aW9uKGRhc2hBcnJheSwgZGFzaFBoYXNlKSB7XG4gICAgICAgIHRoaXMuX291dChkYXNoQXJyYXksIFwiIFwiLCBkYXNoUGhhc2UsIFwiIGRcIiwgTkwpO1xuICAgIH0sXG4gICAgc2V0TGluZVdpZHRoOiBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICB0aGlzLl9vdXQod2lkdGgsIFwiIHdcIiwgTkwpO1xuICAgIH0sXG4gICAgc2V0TGluZUNhcDogZnVuY3Rpb24obGluZUNhcCkge1xuICAgICAgICB0aGlzLl9vdXQobGluZUNhcCwgXCIgSlwiLCBOTCk7XG4gICAgfSxcbiAgICBzZXRMaW5lSm9pbjogZnVuY3Rpb24obGluZUpvaW4pIHtcbiAgICAgICAgdGhpcy5fb3V0KGxpbmVKb2luLCBcIiBqXCIsIE5MKTtcbiAgICB9LFxuICAgIHNldE1pdHRlckxpbWl0OiBmdW5jdGlvbihtaXR0ZXJMaW1pdCkge1xuICAgICAgICB0aGlzLl9vdXQobWl0dGVyTGltaXQsIFwiIE1cIiwgTkwpO1xuICAgIH0sXG4gICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHRTdGFjay5wdXNoKHRoaXMuX2NvbnRleHQoKSk7XG4gICAgICAgIHRoaXMuX291dChcInFcIiwgTkwpO1xuICAgIH0sXG4gICAgcmVzdG9yZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX291dChcIlFcIiwgTkwpO1xuICAgICAgICB0aGlzLl9jb250ZXh0KHRoaXMuX2NvbnRleHRTdGFjay5wb3AoKSk7XG4gICAgfSxcblxuICAgIC8vIHBhdGhzXG4gICAgbW92ZVRvOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIHRoaXMuX291dCh4LCBcIiBcIiwgeSwgXCIgbVwiLCBOTCk7XG4gICAgfSxcbiAgICBsaW5lVG86IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgdGhpcy5fb3V0KHgsIFwiIFwiLCB5LCBcIiBsXCIsIE5MKTtcbiAgICB9LFxuICAgIGJlemllcjogZnVuY3Rpb24oeDEsIHkxLCB4MiwgeTIsIHgzLCB5Mykge1xuICAgICAgICB0aGlzLl9vdXQoeDEsIFwiIFwiLCB5MSwgXCIgXCIsIHgyLCBcIiBcIiwgeTIsIFwiIFwiLCB4MywgXCIgXCIsIHkzLCBcIiBjXCIsIE5MKTtcbiAgICB9LFxuICAgIGJlemllcjE6IGZ1bmN0aW9uKHgxLCB5MSwgeDMsIHkzKSB7XG4gICAgICAgIHRoaXMuX291dCh4MSwgXCIgXCIsIHkxLCBcIiBcIiwgeDMsIFwiIFwiLCB5MywgXCIgeVwiLCBOTCk7XG4gICAgfSxcbiAgICBiZXppZXIyOiBmdW5jdGlvbih4MiwgeTIsIHgzLCB5Mykge1xuICAgICAgICB0aGlzLl9vdXQoeDIsIFwiIFwiLCB5MiwgXCIgXCIsIHgzLCBcIiBcIiwgeTMsIFwiIHZcIiwgTkwpO1xuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9vdXQoXCJoXCIsIE5MKTtcbiAgICB9LFxuICAgIHJlY3Q6IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcbiAgICAgICAgdGhpcy5fb3V0KHgsIFwiIFwiLCB5LCBcIiBcIiwgdywgXCIgXCIsIGgsIFwiIHJlXCIsIE5MKTtcbiAgICB9LFxuICAgIGVsbGlwc2U6IGZ1bmN0aW9uKHgsIHksIHJ4LCByeSkge1xuICAgICAgICBmdW5jdGlvbiBfWCh2KSB7IHJldHVybiB4ICsgdjsgfVxuICAgICAgICBmdW5jdGlvbiBfWSh2KSB7IHJldHVybiB5ICsgdjsgfVxuXG4gICAgICAgIC8vIGhvdyB0byBnZXQgdG8gdGhlIFwibWFnaWMgbnVtYmVyXCIgaXMgZXhwbGFpbmVkIGhlcmU6XG4gICAgICAgIC8vIGh0dHA6Ly93d3cud2hpemtpZHRlY2gucmVkcHJpbmNlLm5ldC9iZXppZXIvY2lyY2xlL2thcHBhL1xuICAgICAgICB2YXIgayA9IDAuNTUyMjg0NzQ5ODMwNzkzNjtcblxuICAgICAgICB0aGlzLm1vdmVUbyhfWCgwKSwgX1kocnkpKTtcbiAgICAgICAgdGhpcy5iZXppZXIoXG4gICAgICAgICAgICBfWChyeCAqIGspICwgX1kocnkpLFxuICAgICAgICAgICAgX1gocngpICAgICAsIF9ZKHJ5ICogayksXG4gICAgICAgICAgICBfWChyeCkgICAgICwgX1koMClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5iZXppZXIoXG4gICAgICAgICAgICBfWChyeCkgICAgICwgX1koLXJ5ICogayksXG4gICAgICAgICAgICBfWChyeCAqIGspICwgX1koLXJ5KSxcbiAgICAgICAgICAgIF9YKDApICAgICAgLCBfWSgtcnkpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuYmV6aWVyKFxuICAgICAgICAgICAgX1goLXJ4ICogaykgLCBfWSgtcnkpLFxuICAgICAgICAgICAgX1goLXJ4KSAgICAgLCBfWSgtcnkgKiBrKSxcbiAgICAgICAgICAgIF9YKC1yeCkgICAgICwgX1koMClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5iZXppZXIoXG4gICAgICAgICAgICBfWCgtcngpICAgICAsIF9ZKHJ5ICogayksXG4gICAgICAgICAgICBfWCgtcnggKiBrKSAsIF9ZKHJ5KSxcbiAgICAgICAgICAgIF9YKDApICAgICAgICwgX1kocnkpXG4gICAgICAgICk7XG4gICAgfSxcbiAgICBjaXJjbGU6IGZ1bmN0aW9uKHgsIHksIHIpIHtcbiAgICAgICAgdGhpcy5lbGxpcHNlKHgsIHksIHIsIHIpO1xuICAgIH0sXG4gICAgc3Ryb2tlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fb3V0KFwiU1wiLCBOTCk7XG4gICAgfSxcbiAgICBub3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9vdXQoXCJuXCIsIE5MKTtcbiAgICB9LFxuICAgIGNsaXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9vdXQoXCJXIG5cIiwgTkwpO1xuICAgIH0sXG4gICAgY2xpcFN0cm9rZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX291dChcIlcgU1wiLCBOTCk7XG4gICAgfSxcbiAgICBjbG9zZVN0cm9rZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX291dChcInNcIiwgTkwpO1xuICAgIH0sXG4gICAgZmlsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX291dChcImZcIiwgTkwpO1xuICAgIH0sXG4gICAgZmlsbFN0cm9rZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX291dChcIkJcIiwgTkwpO1xuICAgIH0sXG4gICAgZHJhd0ltYWdlOiBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgdmFyIGltZyA9IHRoaXMuX3BkZi5nZXRJbWFnZSh1cmwpO1xuICAgICAgICBpZiAoaW1nKSB7IC8vIHRoZSByZXN1bHQgY2FuIGJlIG51bGwgZm9yIGEgY3Jvc3MtZG9tYWluIGltYWdlXG4gICAgICAgICAgICB0aGlzLl94UmVzb3VyY2VzW2ltZy5fcmVzb3VyY2VOYW1lXSA9IGltZztcbiAgICAgICAgICAgIHRoaXMuX291dChpbWcuX3Jlc291cmNlTmFtZSwgXCIgRG9cIiwgTkwpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21tZW50OiBmdW5jdGlvbih0eHQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0eHQuc3BsaXQoL1xccj9cXG4vZykuZm9yRWFjaChmdW5jdGlvbihsaW5lKXtcbiAgICAgICAgICAgIHNlbGYuX291dChcIiUgXCIsIGxpbmUsIE5MKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIGludGVybmFsXG4gICAgX2NvbnRleHQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBpZiAodmFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX29wYWNpdHkgPSB2YWwub3BhY2l0eTtcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IHZhbC5tYXRyaXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMuX29wYWNpdHksXG4gICAgICAgICAgICAgICAgbWF0cml4OiB0aGlzLl9tYXRyaXhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3RvUGFnZTogZnVuY3Rpb24ocCkge1xuICAgICAgICB2YXIgbSA9IHRoaXMuX21hdHJpeDtcbiAgICAgICAgdmFyIGEgPSBtWzBdLCBiID0gbVsxXSwgYyA9IG1bMl0sIGQgPSBtWzNdLCBlID0gbVs0XSwgZiA9IG1bNV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBhKnAueCArIGMqcC55ICsgZSxcbiAgICAgICAgICAgIHk6IGIqcC54ICsgZCpwLnkgKyBmXG4gICAgICAgIH07XG4gICAgfVxufSwgUERGRGljdGlvbmFyeSk7XG5cbmZ1bmN0aW9uIHVucXVvdGUoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKihbJ1wiXSkoLiopXFwxXFxzKiQvLCBcIiQyXCIpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZvbnREZWYoZm9udGRlZikge1xuICAgIC8vIFhYWDogdGhpcyBpcyB2ZXJ5IGNydWRlIGZvciBub3cgYW5kIGJ1Z2d5LiAgUHJvcGVyIHBhcnNpbmcgaXMgcXVpdGUgaW52b2x2ZWQuXG4gICAgdmFyIHJ4ID0gL15cXHMqKChub3JtYWx8aXRhbGljKVxccyspPygobm9ybWFsfHNtYWxsLWNhcHMpXFxzKyk/KChub3JtYWx8Ym9sZHxcXGQrKVxccyspPygoWzAtOS5dKykocHh8cHQpKShcXC8oKFswLTkuXSspKHB4fHB0KXxub3JtYWwpKT9cXHMrKC4qPylcXHMqJC9pO1xuICAgIHZhciBtID0gcnguZXhlYyhmb250ZGVmKTtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHsgZm9udFNpemU6IDEyLCBmb250RmFtaWx5OiBcInNhbnMtc2VyaWZcIiB9O1xuICAgIH1cbiAgICB2YXIgZm9udFNpemUgPSBtWzhdID8gcGFyc2VJbnQobVs4XSwgMTApIDogMTI7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXRhbGljICAgICA6IG1bMl0gJiYgbVsyXS50b0xvd2VyQ2FzZSgpID09IFwiaXRhbGljXCIsXG4gICAgICAgIHZhcmlhbnQgICAgOiBtWzRdLFxuICAgICAgICBib2xkICAgICAgIDogbVs2XSAmJiAvYm9sZHw3MDAvaS50ZXN0KG1bNl0pLFxuICAgICAgICBmb250U2l6ZSAgIDogZm9udFNpemUsXG4gICAgICAgIGxpbmVIZWlnaHQgOiBtWzEyXSA/IG1bMTJdID09IFwibm9ybWFsXCIgPyBmb250U2l6ZSA6IHBhcnNlSW50KG1bMTJdLCAxMCkgOiBudWxsLFxuICAgICAgICBmb250RmFtaWx5IDogbVsxNF0uc3BsaXQoL1xccyosXFxzKi9nKS5tYXAodW5xdW90ZSlcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRGb250VVJMKHN0eWxlKSB7XG4gICAgZnVuY3Rpb24gbWtGYW1pbHkobmFtZSkge1xuICAgICAgICBpZiAoc3R5bGUuYm9sZCkge1xuICAgICAgICAgICAgbmFtZSArPSBcInxib2xkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLml0YWxpYykge1xuICAgICAgICAgICAgbmFtZSArPSBcInxpdGFsaWNcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2YXIgZm9udEZhbWlseSA9IHN0eWxlLmZvbnRGYW1pbHk7XG4gICAgdmFyIG5hbWUsIHVybDtcbiAgICBpZiAoZm9udEZhbWlseSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9udEZhbWlseS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbmFtZSA9IG1rRmFtaWx5KGZvbnRGYW1pbHlbaV0pO1xuICAgICAgICAgICAgdXJsID0gRk9OVF9NQVBQSU5HU1tuYW1lXTtcbiAgICAgICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHVybCA9IEZPTlRfTUFQUElOR1NbZm9udEZhbWlseS50b0xvd2VyQ2FzZSgpXTtcbiAgICB9XG4gICAgd2hpbGUgKHR5cGVvZiB1cmwgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHVybCA9IHVybCgpO1xuICAgIH1cbiAgICBpZiAoIXVybCkge1xuICAgICAgICB1cmwgPSBcIlRpbWVzLVJvbWFuXCI7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG59XG5cbnZhciBGT05UX01BUFBJTkdTID0ge1xuICAgIFwic2VyaWZcIiAgICAgICAgICAgICAgICAgICAgOiBcIlRpbWVzLVJvbWFuXCIsXG4gICAgXCJzZXJpZnxib2xkXCIgICAgICAgICAgICAgICA6IFwiVGltZXMtQm9sZFwiLFxuICAgIFwic2VyaWZ8aXRhbGljXCIgICAgICAgICAgICAgOiBcIlRpbWVzLUl0YWxpY1wiLFxuICAgIFwic2VyaWZ8Ym9sZHxpdGFsaWNcIiAgICAgICAgOiBcIlRpbWVzLUJvbGRJdGFsaWNcIixcbiAgICBcInNhbnMtc2VyaWZcIiAgICAgICAgICAgICAgIDogXCJIZWx2ZXRpY2FcIixcbiAgICBcInNhbnMtc2VyaWZ8Ym9sZFwiICAgICAgICAgIDogXCJIZWx2ZXRpY2EtQm9sZFwiLFxuICAgIFwic2Fucy1zZXJpZnxpdGFsaWNcIiAgICAgICAgOiBcIkhlbHZldGljYS1PYmxpcXVlXCIsXG4gICAgXCJzYW5zLXNlcmlmfGJvbGR8aXRhbGljXCIgICA6IFwiSGVsdmV0aWNhLUJvbGRPYmxpcXVlXCIsXG4gICAgXCJtb25vc3BhY2VcIiAgICAgICAgICAgICAgICA6IFwiQ291cmllclwiLFxuICAgIFwibW9ub3NwYWNlfGJvbGRcIiAgICAgICAgICAgOiBcIkNvdXJpZXItQm9sZFwiLFxuICAgIFwibW9ub3NwYWNlfGl0YWxpY1wiICAgICAgICAgOiBcIkNvdXJpZXItT2JsaXF1ZVwiLFxuICAgIFwibW9ub3NwYWNlfGJvbGR8aXRhbGljXCIgICAgOiBcIkNvdXJpZXItQm9sZE9ibGlxdWVcIixcbiAgICBcInphcGZkaW5nYmF0c1wiICAgICAgICAgICAgIDogXCJaYXBmRGluZ2JhdHNcIixcbiAgICBcInphcGZkaW5nYmF0c3xib2xkXCIgICAgICAgIDogXCJaYXBmRGluZ2JhdHNcIixcbiAgICBcInphcGZkaW5nYmF0c3xpdGFsaWNcIiAgICAgIDogXCJaYXBmRGluZ2JhdHNcIixcbiAgICBcInphcGZkaW5nYmF0c3xib2xkfGl0YWxpY1wiIDogXCJaYXBmRGluZ2JhdHNcIlxufTtcblxuZnVuY3Rpb24gZm9udEFsaWFzKGFsaWFzLCBuYW1lKSB7XG4gICAgYWxpYXMgPSBhbGlhcy50b0xvd2VyQ2FzZSgpO1xuICAgIEZPTlRfTUFQUElOR1NbYWxpYXNdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGT05UX01BUFBJTkdTW25hbWVdO1xuICAgIH07XG4gICAgRk9OVF9NQVBQSU5HU1thbGlhcyArIFwifGJvbGRcIl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZPTlRfTUFQUElOR1NbbmFtZSArIFwifGJvbGRcIl07XG4gICAgfTtcbiAgICBGT05UX01BUFBJTkdTW2FsaWFzICsgXCJ8aXRhbGljXCJdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGT05UX01BUFBJTkdTW25hbWUgKyBcInxpdGFsaWNcIl07XG4gICAgfTtcbiAgICBGT05UX01BUFBJTkdTW2FsaWFzICsgXCJ8Ym9sZHxpdGFsaWNcIl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZPTlRfTUFQUElOR1NbbmFtZSArIFwifGJvbGR8aXRhbGljXCJdO1xuICAgIH07XG59XG5cbi8vIExldCdzIGRlZmluZSBzb21lIGNvbW1vbiBuYW1lcyB0byBhbiBhcHByb3ByaWF0ZSByZXBsYWNlbWVudC5cbi8vIFRoZXNlIGFyZSBvdmVycmlkYWJsZSB2aWEgcGRmLmRlZmluZUZvbnQsIHNob3VsZCB0aGUgdXNlciB3YW50IHRvXG4vLyBpbmNsdWRlIHRoZSBwcm9wZXIgdmVyc2lvbnMuXG5cbmZvbnRBbGlhcyhcIlRpbWVzIE5ldyBSb21hblwiICwgXCJzZXJpZlwiKTtcbmZvbnRBbGlhcyhcIkNvdXJpZXIgTmV3XCIgICAgICwgXCJtb25vc3BhY2VcIik7XG5mb250QWxpYXMoXCJBcmlhbFwiICAgICAgICAgICAsIFwic2Fucy1zZXJpZlwiKTtcbmZvbnRBbGlhcyhcIkhlbHZldGljYVwiICAgICAgICwgXCJzYW5zLXNlcmlmXCIpO1xuZm9udEFsaWFzKFwiVmVyZGFuYVwiICAgICAgICAgLCBcInNhbnMtc2VyaWZcIik7XG5mb250QWxpYXMoXCJUYWhvbWFcIiAgICAgICAgICAsIFwic2Fucy1zZXJpZlwiKTtcbmZvbnRBbGlhcyhcIkdlb3JnaWFcIiAgICAgICAgICwgXCJzYW5zLXNlcmlmXCIpO1xuZm9udEFsaWFzKFwiTW9uYWNvXCIgICAgICAgICAgLCBcIm1vbm9zcGFjZVwiKTtcbmZvbnRBbGlhcyhcIkFuZGFsZSBNb25vXCIgICAgICwgXCJtb25vc3BhY2VcIik7XG5cbmZ1bmN0aW9uIGRlZmluZUZvbnQobmFtZSwgdXJsKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICBmb3IgKHZhciBpIGluIG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShuYW1lLCBpKSkge1xuICAgICAgICAgICAgICAgIGRlZmluZUZvbnQoaSwgbmFtZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBGT05UX01BUFBJTkdTW25hbWVdID0gdXJsO1xuXG4gICAgICAgIC8vIHNwZWNpYWwgaGFuZGxpbmcgZm9yIERlamFWdSBmb250czogaWYgdGhleSBnZXQgZGVmaW5lZCxcbiAgICAgICAgLy8gbGV0IHRoZW0gYWxzbyByZXBsYWNlIHRoZSBkZWZhdWx0IGZhbWlsaWVzLCBmb3IgZ29vZFxuICAgICAgICAvLyBVbmljb2RlIHN1cHBvcnQgb3V0IG9mIHRoZSBib3guXG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2Fuc1wiICAgICAgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2Fucy1zZXJpZlwiXSAgICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2Fuc3xib2xkXCIgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2Fucy1zZXJpZnxib2xkXCJdICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2Fuc3xpdGFsaWNcIiAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2Fucy1zZXJpZnxpdGFsaWNcIl0gICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2Fuc3xib2xkfGl0YWxpY1wiICAgOiBGT05UX01BUFBJTkdTW1wic2Fucy1zZXJpZnxib2xkfGl0YWxpY1wiXSAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2VyaWZcIiAgICAgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2VyaWZcIl0gICAgICAgICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2VyaWZ8Ym9sZFwiICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2VyaWZ8Ym9sZFwiXSAgICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2VyaWZ8aXRhbGljXCIgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2VyaWZ8aXRhbGljXCJdICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2VyaWZ8Ym9sZHxpdGFsaWNcIiAgOiBGT05UX01BUFBJTkdTW1wic2VyaWZ8Ym9sZHxpdGFsaWNcIl0gICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgbW9ub1wiICAgICAgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wibW9ub3NwYWNlXCJdICAgICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgbW9ub3xib2xkXCIgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wibW9ub3NwYWNlfGJvbGRcIl0gICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgbW9ub3xpdGFsaWNcIiAgICAgICAgOiBGT05UX01BUFBJTkdTW1wibW9ub3NwYWNlfGl0YWxpY1wiXSAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgbW9ub3xib2xkfGl0YWxpY1wiICAgOiBGT05UX01BUFBJTkdTW1wibW9ub3NwYWNlfGJvbGR8aXRhbGljXCJdICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtbXVsKGEsIGIpIHtcbiAgICB2YXIgYTEgPSBhWzBdLCBiMSA9IGFbMV0sIGMxID0gYVsyXSwgZDEgPSBhWzNdLCBlMSA9IGFbNF0sIGYxID0gYVs1XTtcbiAgICB2YXIgYTIgPSBiWzBdLCBiMiA9IGJbMV0sIGMyID0gYlsyXSwgZDIgPSBiWzNdLCBlMiA9IGJbNF0sIGYyID0gYls1XTtcbiAgICByZXR1cm4gW1xuICAgICAgICBhMSphMiArIGIxKmMyLCAgICAgICAgICBhMSpiMiArIGIxKmQyLFxuICAgICAgICBjMSphMiArIGQxKmMyLCAgICAgICAgICBjMSpiMiArIGQxKmQyLFxuICAgICAgICBlMSphMiArIGYxKmMyICsgZTIsICAgICBlMSpiMiArIGYxKmQyICsgZjJcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBpc0lkZW50aXR5TWF0cml4KG0pIHtcbiAgICByZXR1cm4gbVswXSA9PT0gMSAmJiBtWzFdID09PSAwICYmIG1bMl0gPT09IDAgJiYgbVszXSA9PT0gMSAmJiBtWzRdID09PSAwICYmIG1bNV0gPT09IDA7XG59XG5cbmNvbnN0IFRFWFRfUkVOREVSSU5HX01PREUgPSB7XG4gICAgZmlsbCAgICAgICAgICAgOiAwLFxuICAgIHN0cm9rZSAgICAgICAgIDogMSxcbiAgICBmaWxsQW5kU3Ryb2tlICA6IDIsXG4gICAgaW52aXNpYmxlICAgICAgOiAzLFxuICAgIGZpbGxBbmRDbGlwICAgIDogNCxcbiAgICBzdHJva2VBbmRDbGlwICA6IDUsXG4gICAgZmlsbFN0cm9rZUNsaXAgOiA2LFxuICAgIGNsaXAgICAgICAgICAgIDogN1xufTtcblxuZXhwb3J0IHtcbiAgICBQREZEb2N1bWVudCBhcyBEb2N1bWVudCxcbiAgICBCaW5hcnlTdHJlYW0sXG4gICAgZGVmaW5lRm9udCxcbiAgICBwYXJzZUZvbnREZWYsXG4gICAgZ2V0Rm9udFVSTCxcbiAgICBsb2FkRm9udHMsXG4gICAgbG9hZEltYWdlcyxcbiAgICBnZXRQYXBlck9wdGlvbnMsXG4gICAgY2xlYXJJbWFnZUNhY2hlLFxuICAgIFRFWFRfUkVOREVSSU5HX01PREVcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1zcGFjZXMsIGtleS1zcGFjaW5nLCBpbmRlbnQsIGNhbWVsY2FzZSwgc3BhY2UtYmVmb3JlLWJsb2NrcywgZXFlcWVxLCBicmFjZS1zdHlsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgc3BhY2UtaW5maXgtb3BzLCBzcGFjZS1iZWZvcmUtZnVuY3Rpb24tcGFyZW4sIGFycmF5LWJyYWNrZXQtc3BhY2luZywgb2JqZWN0LWN1cmx5LXNwYWNpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5LCBtYXgtcGFyYW1zLCBkZWZhdWx0LWNhc2UsIG5vLWVsc2UtcmV0dXJuLCBuby1lbXB0eSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24sIG5vLXZhciwgYmxvY2stc2NvcGVkLXZhciAqL1xuXG5pbXBvcnQgeyBjcmVhdGVQcm9taXNlIH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCB7IHBhcnNlQ29sb3IgYXMgdXRpbHNfcGFyc2VDb2xvciwgc2F2ZUFzIGFzIHV0aWxfc2F2ZUFzLCBzdXBwb3J0IH0gZnJvbSBcIi4uL2NvbW1vblwiO1xuaW1wb3J0ICogYXMgUERGIGZyb20gXCIuL2NvcmVcIjtcbmltcG9ydCB7IEdyb3VwLCBNdWx0aVBhdGgsIEdyYWRpZW50LCBSYWRpYWxHcmFkaWVudCB9IGZyb20gJy4uL2RyYXdpbmcnO1xuaW1wb3J0ICogYXMgZ2VvIGZyb20gXCIuLi9nZW9tZXRyeVwiO1xuXG52YXIgVEVYVF9SRU5ERVJJTkdfTU9ERSA9IFBERi5URVhUX1JFTkRFUklOR19NT0RFO1xuXG52YXIgREFTSF9QQVRURVJOUyA9IHtcbiAgICBkYXNoICAgICAgICAgICA6IFsgNCBdLFxuICAgIGRhc2hEb3QgICAgICAgIDogWyA0LCAyLCAxLCAyIF0sXG4gICAgZG90ICAgICAgICAgICAgOiBbIDEsIDIgXSxcbiAgICBsb25nRGFzaCAgICAgICA6IFsgOCwgMiBdLFxuICAgIGxvbmdEYXNoRG90ICAgIDogWyA4LCAyLCAxLCAyIF0sXG4gICAgbG9uZ0Rhc2hEb3REb3QgOiBbIDgsIDIsIDEsIDIsIDEsIDIgXSxcbiAgICBzb2xpZCAgICAgICAgICA6IFtdXG59O1xuXG52YXIgTElORV9DQVAgPSB7XG4gICAgYnV0dCAgIDogMCxcbiAgICByb3VuZCAgOiAxLFxuICAgIHNxdWFyZSA6IDJcbn07XG5cbnZhciBMSU5FX0pPSU4gPSB7XG4gICAgbWl0ZXIgOiAwLFxuICAgIHJvdW5kIDogMSxcbiAgICBiZXZlbCA6IDJcbn07XG5cbmZ1bmN0aW9uIHJlbmRlcihncm91cCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZm9udHMgPSBbXSwgaW1hZ2VzID0ge30sIG9wdGlvbnMgPSBncm91cC5vcHRpb25zO1xuXG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9uKG5hbWUsIGRlZnZhbCwgaGFzaCkge1xuICAgICAgICBpZiAoIWhhc2gpIHtcbiAgICAgICAgICAgIGhhc2ggPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNoLnBkZiAmJiBoYXNoLnBkZltuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzaC5wZGZbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZnZhbDtcbiAgICB9XG5cbiAgICB2YXIgbXVsdGlQYWdlID0gZ2V0T3B0aW9uKFwibXVsdGlQYWdlXCIpO1xuICAgIHZhciBpbWdEUEkgPSBnZXRPcHRpb24oXCJpbWdEUElcIik7XG5cbiAgICBpZiAoaW1nRFBJKSB7XG4gICAgICAgIFBERi5jbGVhckltYWdlQ2FjaGUoKTtcbiAgICB9XG5cbiAgICBncm91cC50cmF2ZXJzZShmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgSW1hZ2U6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZWxlbWVudC5zcmMoKTtcbiAgICAgICAgICAgICAgICBpZiAoaW1nRFBJKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBib3ggPSBlbGVtZW50LmJib3goKS5zaXplO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldiA9IGltYWdlc1t1cmxdO1xuICAgICAgICAgICAgICAgICAgICBib3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogTWF0aC5jZWlsKGJveC53aWR0aCAqIGltZ0RQSSAvIDcyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5jZWlsKGJveC5oZWlnaHQgKiBpbWdEUEkgLyA3MilcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC53aWR0aCA9IE1hdGgubWF4KHByZXYud2lkdGgsIGJveC53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3guaGVpZ2h0ID0gTWF0aC5tYXgocHJldi5oZWlnaHQsIGJveC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGltYWdlc1t1cmxdID0gYm94O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlc1t1cmxdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVGV4dDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IFBERi5wYXJzZUZvbnREZWYoZWxlbWVudC5vcHRpb25zLmZvbnQpO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBQREYuZ2V0Rm9udFVSTChzdHlsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvbnRzLmluZGV4T2YodXJsKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9udHMucHVzaCh1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBkb0l0KCkge1xuICAgICAgICBpZiAoLS1jb3VudCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwZGYgPSBuZXcgKFBERi5Eb2N1bWVudCkoe1xuICAgICAgICAgICAgcHJvZHVjZXIgIDogZ2V0T3B0aW9uKFwicHJvZHVjZXJcIiksXG4gICAgICAgICAgICB0aXRsZSAgICAgOiBnZXRPcHRpb24oXCJ0aXRsZVwiKSxcbiAgICAgICAgICAgIGF1dGhvciAgICA6IGdldE9wdGlvbihcImF1dGhvclwiKSxcbiAgICAgICAgICAgIHN1YmplY3QgICA6IGdldE9wdGlvbihcInN1YmplY3RcIiksXG4gICAgICAgICAgICBrZXl3b3JkcyAgOiBnZXRPcHRpb24oXCJrZXl3b3Jkc1wiKSxcbiAgICAgICAgICAgIGNyZWF0b3IgICA6IGdldE9wdGlvbihcImNyZWF0b3JcIiksXG4gICAgICAgICAgICBkYXRlICAgICAgOiBnZXRPcHRpb24oXCJkYXRlXCIpLFxuXG4gICAgICAgICAgICBhdXRvUHJpbnQgOiBnZXRPcHRpb24oXCJhdXRvUHJpbnRcIilcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZHJhd1BhZ2UoZ3JvdXApIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gZ3JvdXAub3B0aW9ucztcblxuICAgICAgICAgICAgdmFyIHRtcCA9IG9wdGltaXplKGdyb3VwKTtcbiAgICAgICAgICAgIHZhciBiYm94ID0gdG1wLmJib3g7XG4gICAgICAgICAgICBncm91cCA9IHRtcC5yb290O1xuICAgICAgICAgICAgLy8gdmFyIHRtcCwgYmJveDtcblxuICAgICAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IGdldE9wdGlvbihcInBhcGVyU2l6ZVwiLCBnZXRPcHRpb24oXCJwYXBlclNpemVcIiwgXCJhdXRvXCIpLCBvcHRpb25zKSwgYWRkTWFyZ2luID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocGFwZXJTaXplID09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSBiYm94LmdldFNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGFwZXJTaXplID0gWyBzaXplLndpZHRoLCBzaXplLmhlaWdodCBdO1xuICAgICAgICAgICAgICAgICAgICBhZGRNYXJnaW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luID0gYmJveC5nZXRPcmlnaW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gbmV3IEdyb3VwKCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcC50cmFuc2Zvcm0obmV3IGdlby5NYXRyaXgoMSwgMCwgMCwgMSwgLW9yaWdpbi54LCAtb3JpZ2luLnkpKTtcbiAgICAgICAgICAgICAgICAgICAgdG1wLmFwcGVuZChncm91cCk7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwID0gdG1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFwZXJTaXplID0gXCJBNFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhZ2U7XG4gICAgICAgICAgICBwYWdlID0gcGRmLmFkZFBhZ2Uoe1xuICAgICAgICAgICAgICAgIHBhcGVyU2l6ZSA6IHBhcGVyU2l6ZSxcbiAgICAgICAgICAgICAgICBtYXJnaW4gICAgOiBnZXRPcHRpb24oXCJtYXJnaW5cIiwgZ2V0T3B0aW9uKFwibWFyZ2luXCIpLCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgICBhZGRNYXJnaW4gOiBhZGRNYXJnaW4sXG4gICAgICAgICAgICAgICAgbGFuZHNjYXBlIDogZ2V0T3B0aW9uKFwibGFuZHNjYXBlXCIsIGdldE9wdGlvbihcImxhbmRzY2FwZVwiLCBmYWxzZSksIG9wdGlvbnMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRyYXdFbGVtZW50KGdyb3VwLCBwYWdlLCBwZGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG11bHRpUGFnZSkge1xuICAgICAgICAgICAgZ3JvdXAuY2hpbGRyZW4uZm9yRWFjaChkcmF3UGFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkcmF3UGFnZShncm91cCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhwZGYucmVuZGVyKCksIHBkZik7XG4gICAgfVxuXG4gICAgdmFyIGNvdW50ID0gMjtcbiAgICBQREYubG9hZEZvbnRzKGZvbnRzLCBkb0l0KTtcbiAgICBQREYubG9hZEltYWdlcyhpbWFnZXMsIGRvSXQpO1xufVxuXG5mdW5jdGlvbiB0b0RhdGFVUkwoZ3JvdXAsIGNhbGxiYWNrKSB7XG4gICAgcmVuZGVyKGdyb3VwLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgY2FsbGJhY2soXCJkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsXCIgKyBkYXRhLmJhc2U2NCgpKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdG9CbG9iKGdyb3VwLCBjYWxsYmFjaykge1xuICAgIHJlbmRlcihncm91cCwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIGNhbGxiYWNrKG5ldyB3aW5kb3cuQmxvYihbIGRhdGEuZ2V0KCkgXSwgeyB0eXBlOiBcImFwcGxpY2F0aW9uL3BkZlwiIH0pKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2F2ZUFzKGdyb3VwLCBmaWxlbmFtZSwgcHJveHksIGNhbGxiYWNrKSB7XG4gICAgLy8gWFhYOiBTYWZhcmkgaGFzIEJsb2IsIGJ1dCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBkb3dubG9hZCBhdHRyaWJ1dGVcbiAgICAvLyAgICAgIHNvIHdlJ2QgZW5kIHVwIGNvbnZlcnRpbmcgdG8gZGF0YVVSTCBhbmQgdXNpbmcgdGhlIHByb3h5IGFueXdheS5cbiAgICBpZiAod2luZG93LkJsb2IgJiYgIXN1cHBvcnQuYnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgdG9CbG9iKGdyb3VwLCBmdW5jdGlvbihibG9iKXtcbiAgICAgICAgICAgIHV0aWxfc2F2ZUFzKHsgZGF0YVVSSTogYmxvYiwgZmlsZU5hbWU6IGZpbGVuYW1lIH0pO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soYmxvYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRvRGF0YVVSTChncm91cCwgZnVuY3Rpb24oZGF0YVVSTCl7XG4gICAgICAgICAgICB1dGlsX3NhdmVBcyh7IGRhdGFVUkk6IGRhdGFVUkwsIGZpbGVOYW1lOiBmaWxlbmFtZSwgcHJveHlVUkw6IHByb3h5IH0pO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YVVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2goaGFuZGxlcnMsIGVsZW1lbnQpIHtcbiAgICB2YXIgaGFuZGxlciA9IGhhbmRsZXJzW2VsZW1lbnQubm9kZVR5cGVdO1xuICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVyLmNhbGwuYXBwbHkoaGFuZGxlciwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGRyYXdFbGVtZW50KGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIGlmIChlbGVtZW50Lm9wdGlvbnMuX3BkZkRlYnVnKSB7XG4gICAgICAgIHBhZ2UuY29tbWVudChcIkJFR0lOOiBcIiArIGVsZW1lbnQub3B0aW9ucy5fcGRmRGVidWcpO1xuICAgIH1cblxuICAgIHZhciB0cmFuc2Zvcm0gPSBlbGVtZW50LnRyYW5zZm9ybSgpO1xuICAgIHZhciBvcGFjaXR5ID0gZWxlbWVudC5vcGFjaXR5KCk7XG5cbiAgICBwYWdlLnNhdmUoKTtcblxuICAgIGlmIChvcGFjaXR5ICE9IG51bGwgJiYgb3BhY2l0eSA8IDEpIHtcbiAgICAgICAgcGFnZS5zZXRPcGFjaXR5KG9wYWNpdHkpO1xuICAgIH1cblxuICAgIHNldFN0cm9rZU9wdGlvbnMoZWxlbWVudCwgcGFnZSwgcGRmKTtcbiAgICBzZXRGaWxsT3B0aW9ucyhlbGVtZW50LCBwYWdlLCBwZGYpO1xuXG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgbSA9IHRyYW5zZm9ybS5tYXRyaXgoKTtcbiAgICAgICAgcGFnZS50cmFuc2Zvcm0obS5hLCBtLmIsIG0uYywgbS5kLCBtLmUsIG0uZik7XG4gICAgfVxuXG4gICAgc2V0Q2xpcHBpbmcoZWxlbWVudCwgcGFnZSwgcGRmKTtcblxuICAgIGRpc3BhdGNoKHtcbiAgICAgICAgUGF0aCAgICAgIDogZHJhd1BhdGgsXG4gICAgICAgIE11bHRpUGF0aCA6IGRyYXdNdWx0aVBhdGgsXG4gICAgICAgIENpcmNsZSAgICA6IGRyYXdDaXJjbGUsXG4gICAgICAgIEFyYyAgICAgICA6IGRyYXdBcmMsXG4gICAgICAgIFRleHQgICAgICA6IGRyYXdUZXh0LFxuICAgICAgICBJbWFnZSAgICAgOiBkcmF3SW1hZ2UsXG4gICAgICAgIEdyb3VwICAgICA6IGRyYXdHcm91cCxcbiAgICAgICAgUmVjdCAgICAgIDogZHJhd1JlY3RcbiAgICB9LCBlbGVtZW50LCBwYWdlLCBwZGYpO1xuXG4gICAgcGFnZS5yZXN0b3JlKCk7XG5cbiAgICBpZiAoZWxlbWVudC5vcHRpb25zLl9wZGZEZWJ1Zykge1xuICAgICAgICBwYWdlLmNvbW1lbnQoXCJFTkQ6IFwiICsgZWxlbWVudC5vcHRpb25zLl9wZGZEZWJ1Zyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRTdHJva2VPcHRpb25zKGVsZW1lbnQsIHBhZ2UpIHtcbiAgICB2YXIgc3Ryb2tlID0gZWxlbWVudC5zdHJva2UgJiYgZWxlbWVudC5zdHJva2UoKTtcbiAgICBpZiAoIXN0cm9rZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNvbG9yID0gc3Ryb2tlLmNvbG9yO1xuICAgIGlmIChjb2xvcikge1xuICAgICAgICBjb2xvciA9IHBhcnNlQ29sb3IoY29sb3IpO1xuICAgICAgICBpZiAoY29sb3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBubyBzdHJva2VcbiAgICAgICAgfVxuICAgICAgICBwYWdlLnNldFN0cm9rZUNvbG9yKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xuICAgICAgICBpZiAoY29sb3IuYSAhPSAxKSB7XG4gICAgICAgICAgICBwYWdlLnNldFN0cm9rZU9wYWNpdHkoY29sb3IuYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgd2lkdGggPSBzdHJva2Uud2lkdGg7XG4gICAgaWYgKHdpZHRoICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIG5vIHN0cm9rZVxuICAgICAgICB9XG4gICAgICAgIHBhZ2Uuc2V0TGluZVdpZHRoKHdpZHRoKTtcbiAgICB9XG5cbiAgICB2YXIgZGFzaFR5cGUgPSBzdHJva2UuZGFzaFR5cGU7XG4gICAgaWYgKGRhc2hUeXBlKSB7XG4gICAgICAgIHBhZ2Uuc2V0RGFzaFBhdHRlcm4oREFTSF9QQVRURVJOU1tkYXNoVHlwZV0sIDApO1xuICAgIH1cblxuICAgIHZhciBsaW5lQ2FwID0gc3Ryb2tlLmxpbmVDYXA7XG4gICAgaWYgKGxpbmVDYXApIHtcbiAgICAgICAgcGFnZS5zZXRMaW5lQ2FwKExJTkVfQ0FQW2xpbmVDYXBdKTtcbiAgICB9XG5cbiAgICB2YXIgbGluZUpvaW4gPSBzdHJva2UubGluZUpvaW47XG4gICAgaWYgKGxpbmVKb2luKSB7XG4gICAgICAgIHBhZ2Uuc2V0TGluZUpvaW4oTElORV9KT0lOW2xpbmVKb2luXSk7XG4gICAgfVxuXG4gICAgdmFyIG9wYWNpdHkgPSBzdHJva2Uub3BhY2l0eTtcbiAgICBpZiAob3BhY2l0eSAhPSBudWxsKSB7XG4gICAgICAgIHBhZ2Uuc2V0U3Ryb2tlT3BhY2l0eShvcGFjaXR5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldEZpbGxPcHRpb25zKGVsZW1lbnQsIHBhZ2UpIHtcbiAgICB2YXIgZmlsbCA9IGVsZW1lbnQuZmlsbCAmJiBlbGVtZW50LmZpbGwoKTtcbiAgICBpZiAoIWZpbGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmaWxsIGluc3RhbmNlb2YgR3JhZGllbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb2xvciA9IGZpbGwuY29sb3I7XG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICAgIGNvbG9yID0gcGFyc2VDb2xvcihjb2xvcik7XG4gICAgICAgIGlmIChjb2xvciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIG5vIGZpbGxcbiAgICAgICAgfVxuICAgICAgICBwYWdlLnNldEZpbGxDb2xvcihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcbiAgICAgICAgaWYgKGNvbG9yLmEgIT0gMSkge1xuICAgICAgICAgICAgcGFnZS5zZXRGaWxsT3BhY2l0eShjb2xvci5hKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBvcGFjaXR5ID0gZmlsbC5vcGFjaXR5O1xuICAgIGlmIChvcGFjaXR5ICE9IG51bGwpIHtcbiAgICAgICAgcGFnZS5zZXRGaWxsT3BhY2l0eShvcGFjaXR5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldENsaXBwaW5nKGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIC8vIFhYWDogb25seSBQYXRoIHN1cHBvcnRlZCBhdCB0aGUgbW9tZW50LlxuICAgIHZhciBjbGlwID0gZWxlbWVudC5jbGlwKCk7XG4gICAgaWYgKGNsaXApIHtcbiAgICAgICAgX2RyYXdQYXRoKGNsaXAsIHBhZ2UsIHBkZik7XG4gICAgICAgIHBhZ2UuY2xpcCgpO1xuICAgICAgICAvLyBwYWdlLnNldFN0cm9rZUNvbG9yKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpO1xuICAgICAgICAvLyBwYWdlLnNldExpbmVXaWR0aCgxKTtcbiAgICAgICAgLy8gcGFnZS5zdHJva2UoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZERyYXcodGhpbmcpIHtcbiAgICByZXR1cm4gKHRoaW5nICYmXG4gICAgICAgICAgICAodGhpbmcgaW5zdGFuY2VvZiBHcmFkaWVudCB8fFxuICAgICAgICAgICAgICh0aGluZy5jb2xvciAmJiAhL14obm9uZXx0cmFuc3BhcmVudCkkL2kudGVzdCh0aGluZy5jb2xvcikgJiZcbiAgICAgICAgICAgICAgKHRoaW5nLndpZHRoID09IG51bGwgfHwgdGhpbmcud2lkdGggPiAwKSAmJlxuICAgICAgICAgICAgICAodGhpbmcub3BhY2l0eSA9PSBudWxsIHx8IHRoaW5nLm9wYWNpdHkgPiAwKSkpKTtcbn1cblxuZnVuY3Rpb24gbWF5YmVHcmFkaWVudChlbGVtZW50LCBwYWdlLCBwZGYsIHN0cm9rZSkge1xuICAgIHZhciBmaWxsID0gZWxlbWVudC5maWxsKCk7XG4gICAgaWYgKGZpbGwgaW5zdGFuY2VvZiBHcmFkaWVudCkge1xuICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICBwYWdlLmNsaXBTdHJva2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2UuY2xpcCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1JhZGlhbCA9IGZpbGwgaW5zdGFuY2VvZiBSYWRpYWxHcmFkaWVudDtcbiAgICAgICAgdmFyIHN0YXJ0LCBlbmQ7XG4gICAgICAgIGlmIChpc1JhZGlhbCkge1xuICAgICAgICAgICAgc3RhcnQgPSB7IHg6IGZpbGwuY2VudGVyKCkueCAsIHk6IGZpbGwuY2VudGVyKCkueSAsIHI6IDAgfTtcbiAgICAgICAgICAgIGVuZCAgID0geyB4OiBmaWxsLmNlbnRlcigpLnggLCB5OiBmaWxsLmNlbnRlcigpLnkgLCByOiBmaWxsLnJhZGl1cygpIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFydCA9IHsgeDogZmlsbC5zdGFydCgpLnggLCB5OiBmaWxsLnN0YXJ0KCkueSB9O1xuICAgICAgICAgICAgZW5kICAgPSB7IHg6IGZpbGwuZW5kKCkueCAgICwgeTogZmlsbC5lbmQoKS55ICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdG9wcyA9IGZpbGwuc3RvcHMuZWxlbWVudHMoKS5tYXAoZnVuY3Rpb24oc3RvcCl7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gc3RvcC5vZmZzZXQoKTtcbiAgICAgICAgICAgIGlmICgvJSQvLnRlc3Qob2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHBhcnNlRmxvYXQob2Zmc2V0KSAvIDEwMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gcGFyc2VGbG9hdChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbG9yID0gcGFyc2VDb2xvcihzdG9wLmNvbG9yKCkpO1xuICAgICAgICAgICAgY29sb3IuYSAqPSBzdG9wLm9wYWNpdHkoKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEdXBsaWNhdHMgZmlyc3QgYW5kIGxhc3Qgc3RvcCB0byBmaXhcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tdWktY29yZS9pc3N1ZXMvMTc4MlxuICAgICAgICBzdG9wcy51bnNoaWZ0KHN0b3BzWzBdKTtcbiAgICAgICAgc3RvcHMucHVzaChzdG9wc1tzdG9wcy5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgdmFyIGdyYWRpZW50ID0ge1xuICAgICAgICAgICAgdXNlclNwYWNlIDogZmlsbC51c2VyU3BhY2UoKSxcbiAgICAgICAgICAgIHR5cGUgICAgICA6IGlzUmFkaWFsID8gXCJyYWRpYWxcIiA6IFwibGluZWFyXCIsXG4gICAgICAgICAgICBzdGFydCAgICAgOiBzdGFydCxcbiAgICAgICAgICAgIGVuZCAgICAgICA6IGVuZCxcbiAgICAgICAgICAgIHN0b3BzICAgICA6IHN0b3BzXG4gICAgICAgIH07XG4gICAgICAgIHZhciBib3ggPSBlbGVtZW50LnJhd0JCb3goKTtcbiAgICAgICAgdmFyIHRsID0gYm94LnRvcExlZnQoKSwgc2l6ZSA9IGJveC5nZXRTaXplKCk7XG4gICAgICAgIGJveCA9IHtcbiAgICAgICAgICAgIGxlZnQgICA6IHRsLngsXG4gICAgICAgICAgICB0b3AgICAgOiB0bC55LFxuICAgICAgICAgICAgd2lkdGggIDogc2l6ZS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA6IHNpemUuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIHBhZ2UuZ3JhZGllbnQoZ3JhZGllbnQsIGJveCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVGaWxsU3Ryb2tlKGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIGlmIChzaG91bGREcmF3KGVsZW1lbnQuZmlsbCgpKSAmJiBzaG91bGREcmF3KGVsZW1lbnQuc3Ryb2tlKCkpKSB7XG4gICAgICAgIGlmICghbWF5YmVHcmFkaWVudChlbGVtZW50LCBwYWdlLCBwZGYsIHRydWUpKSB7XG4gICAgICAgICAgICBwYWdlLmZpbGxTdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2hvdWxkRHJhdyhlbGVtZW50LmZpbGwoKSkpIHtcbiAgICAgICAgaWYgKCFtYXliZUdyYWRpZW50KGVsZW1lbnQsIHBhZ2UsIHBkZiwgZmFsc2UpKSB7XG4gICAgICAgICAgICBwYWdlLmZpbGwoKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2hvdWxkRHJhdyhlbGVtZW50LnN0cm9rZSgpKSkge1xuICAgICAgICBwYWdlLnN0cm9rZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHdlIHNob3VsZCBub3QgZ2V0IGhlcmU7IHRoZSBwYXRoIHNob3VsZCBoYXZlIGJlZW5cbiAgICAgICAgLy8gb3B0aW1pemVkIGF3YXkuICBidXQgbGV0J3MgYmUgcHJlcGFyZWQuXG4gICAgICAgIHBhZ2Uubm9wKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtYXliZURyYXdSZWN0KHBhdGgsIHBhZ2UpIHtcbiAgICB2YXIgc2VnbWVudHMgPSBwYXRoLnNlZ21lbnRzO1xuICAgIGlmIChzZWdtZW50cy5sZW5ndGggPT0gNCAmJiBwYXRoLm9wdGlvbnMuY2xvc2VkKSB7XG4gICAgICAgIC8vIGRldGVjdCBpZiB0aGlzIHBhdGggbG9va3MgbGlrZSBhIHJlY3RhbmdsZSBwYXJhbGxlbCB0byB0aGUgYXhpc1xuICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoc2VnbWVudHNbaV0uY29udHJvbEluKCkpIHsgLy8gaGFzIGN1cnZlP1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFbaV0gPSBzZWdtZW50c1tpXS5hbmNob3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGEgcmVjdGFuZ2xlIGlmIHRoZSB5L3gveS94IG9yIHgveS94L3kgY29vcmRzIG9mXG4gICAgICAgIC8vIGNvbnNlY3V0aXZlIHBvaW50cyBhcmUgdGhlIHNhbWUuXG4gICAgICAgIHZhciBpc1JlY3QgPSAoXG4gICAgICAgICAgICBhWzBdLnkgPT0gYVsxXS55ICYmIGFbMV0ueCA9PSBhWzJdLnggJiYgYVsyXS55ID09IGFbM10ueSAmJiBhWzNdLnggPT0gYVswXS54XG4gICAgICAgICkgfHwgKFxuICAgICAgICAgICAgYVswXS54ID09IGFbMV0ueCAmJiBhWzFdLnkgPT0gYVsyXS55ICYmIGFbMl0ueCA9PSBhWzNdLnggJiYgYVszXS55ID09IGFbMF0ueVxuICAgICAgICApO1xuICAgICAgICBpZiAoaXNSZWN0KSB7XG4gICAgICAgICAgICAvLyB0aGlzIHNhdmVzIGEgYnVuY2ggb2YgaW5zdHJ1Y3Rpb25zIGluIFBERjpcbiAgICAgICAgICAgIC8vIG1vdmVUbywgbGluZVRvLCBsaW5lVG8sIGxpbmVUbywgY2xvc2UgLT4gcmVjdC5cbiAgICAgICAgICAgIHBhZ2UucmVjdChhWzBdLngsIGFbMF0ueSxcbiAgICAgICAgICAgICAgICAgICAgICBhWzJdLnggLSBhWzBdLnggLyp3aWR0aCovLFxuICAgICAgICAgICAgICAgICAgICAgIGFbMl0ueSAtIGFbMF0ueSAvKmhlaWdodCovKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfZHJhd1BhdGgoZWxlbWVudCwgcGFnZSwgcGRmKSB7XG4gICAgdmFyIHNlZ21lbnRzID0gZWxlbWVudC5zZWdtZW50cztcbiAgICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFtYXliZURyYXdSZWN0KGVsZW1lbnQsIHBhZ2UsIHBkZikpIHtcbiAgICAgICAgZm9yICh2YXIgcHJldiwgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNlZyA9IHNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IHNlZy5hbmNob3IoKTtcbiAgICAgICAgICAgIGlmICghcHJldikge1xuICAgICAgICAgICAgICAgIHBhZ2UubW92ZVRvKGFuY2hvci54LCBhbmNob3IueSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2T3V0ID0gcHJldi5jb250cm9sT3V0KCk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xJbiA9IHNlZy5jb250cm9sSW4oKTtcbiAgICAgICAgICAgICAgICBpZiAocHJldk91dCAmJiBjb250cm9sSW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZS5iZXppZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2T3V0LnggICAsIHByZXZPdXQueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xJbi54ICwgY29udHJvbEluLnksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IueCAgICAsIGFuY2hvci55XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZS5saW5lVG8oYW5jaG9yLngsIGFuY2hvci55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2ID0gc2VnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50Lm9wdGlvbnMuY2xvc2VkKSB7XG4gICAgICAgICAgICBwYWdlLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdQYXRoKGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIF9kcmF3UGF0aChlbGVtZW50LCBwYWdlLCBwZGYpO1xuICAgIG1heWJlRmlsbFN0cm9rZShlbGVtZW50LCBwYWdlLCBwZGYpO1xufVxuXG5mdW5jdGlvbiBkcmF3TXVsdGlQYXRoKGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIHZhciBwYXRocyA9IGVsZW1lbnQucGF0aHM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7ICsraSkge1xuICAgICAgICBfZHJhd1BhdGgocGF0aHNbaV0sIHBhZ2UsIHBkZik7XG4gICAgfVxuICAgIG1heWJlRmlsbFN0cm9rZShlbGVtZW50LCBwYWdlLCBwZGYpO1xufVxuXG5mdW5jdGlvbiBkcmF3Q2lyY2xlKGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIHZhciBnID0gZWxlbWVudC5nZW9tZXRyeSgpO1xuICAgIHBhZ2UuY2lyY2xlKGcuY2VudGVyLngsIGcuY2VudGVyLnksIGcucmFkaXVzKTtcbiAgICBtYXliZUZpbGxTdHJva2UoZWxlbWVudCwgcGFnZSwgcGRmKTtcbn1cblxuZnVuY3Rpb24gZHJhd0FyYyhlbGVtZW50LCBwYWdlLCBwZGYpIHtcbiAgICB2YXIgcG9pbnRzID0gZWxlbWVudC5nZW9tZXRyeSgpLmN1cnZlUG9pbnRzKCk7XG4gICAgcGFnZS5tb3ZlVG8ocG9pbnRzWzBdLngsIHBvaW50c1swXS55KTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7KSB7XG4gICAgICAgIHBhZ2UuYmV6aWVyKFxuICAgICAgICAgICAgcG9pbnRzW2ldLngsIHBvaW50c1tpKytdLnksXG4gICAgICAgICAgICBwb2ludHNbaV0ueCwgcG9pbnRzW2krK10ueSxcbiAgICAgICAgICAgIHBvaW50c1tpXS54LCBwb2ludHNbaSsrXS55XG4gICAgICAgICk7XG4gICAgfVxuICAgIG1heWJlRmlsbFN0cm9rZShlbGVtZW50LCBwYWdlLCBwZGYpO1xufVxuXG5mdW5jdGlvbiBkcmF3VGV4dChlbGVtZW50LCBwYWdlKSB7XG4gICAgdmFyIHN0eWxlID0gUERGLnBhcnNlRm9udERlZihlbGVtZW50Lm9wdGlvbnMuZm9udCk7XG4gICAgdmFyIHBvcyA9IGVsZW1lbnQuX3Bvc2l0aW9uO1xuICAgIHZhciBtb2RlO1xuICAgIGlmIChlbGVtZW50LmZpbGwoKSAmJiBlbGVtZW50LnN0cm9rZSgpKSB7XG4gICAgICAgIG1vZGUgPSBURVhUX1JFTkRFUklOR19NT0RFLmZpbGxBbmRTdHJva2U7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmZpbGwoKSkge1xuICAgICAgICBtb2RlID0gVEVYVF9SRU5ERVJJTkdfTU9ERS5maWxsO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5zdHJva2UoKSkge1xuICAgICAgICBtb2RlID0gVEVYVF9SRU5ERVJJTkdfTU9ERS5zdHJva2U7XG4gICAgfVxuXG4gICAgcGFnZS50cmFuc2Zvcm0oMSwgMCwgMCwgLTEsIHBvcy54LCBwb3MueSArIHN0eWxlLmZvbnRTaXplKTtcbiAgICBwYWdlLmJlZ2luVGV4dCgpO1xuICAgIHBhZ2Uuc2V0Rm9udChQREYuZ2V0Rm9udFVSTChzdHlsZSksIHN0eWxlLmZvbnRTaXplKTtcbiAgICBwYWdlLnNldFRleHRSZW5kZXJpbmdNb2RlKG1vZGUpO1xuICAgIHBhZ2Uuc2hvd1RleHQoZWxlbWVudC5jb250ZW50KCksIGVsZW1lbnQuX3BkZlJlY3QgPyBlbGVtZW50Ll9wZGZSZWN0LndpZHRoKCkgOiBudWxsKTtcbiAgICBwYWdlLmVuZFRleHQoKTtcbn1cblxuZnVuY3Rpb24gZHJhd0dyb3VwKGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIGlmIChlbGVtZW50Ll9wZGZMaW5rKSB7XG4gICAgICAgIHBhZ2UuYWRkTGluayhlbGVtZW50Ll9wZGZMaW5rLnVybCwgZWxlbWVudC5fcGRmTGluayk7XG4gICAgfVxuICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBkcmF3RWxlbWVudChjaGlsZHJlbltpXSwgcGFnZSwgcGRmKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdJbWFnZShlbGVtZW50LCBwYWdlKSB7XG4gICAgdmFyIHVybCA9IGVsZW1lbnQuc3JjKCk7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZWN0ID0gZWxlbWVudC5yZWN0KCk7XG4gICAgdmFyIHRsID0gcmVjdC5nZXRPcmlnaW4oKTtcbiAgICB2YXIgc3ogPSByZWN0LmdldFNpemUoKTtcbiAgICBwYWdlLnRyYW5zZm9ybShzei53aWR0aCwgMCwgMCwgLXN6LmhlaWdodCwgdGwueCwgdGwueSArIHN6LmhlaWdodCk7XG4gICAgcGFnZS5kcmF3SW1hZ2UodXJsKTtcbn1cblxuZnVuY3Rpb24gZHJhd1JlY3QoZWxlbWVudCwgcGFnZSwgcGRmKSB7XG4gICAgdmFyIGdlb21ldHJ5ID0gZWxlbWVudC5nZW9tZXRyeSgpO1xuICAgIHBhZ2UucmVjdChnZW9tZXRyeS5vcmlnaW4ueCwgZ2VvbWV0cnkub3JpZ2luLnksIGdlb21ldHJ5LnNpemUud2lkdGgsIGdlb21ldHJ5LnNpemUuaGVpZ2h0KTtcbiAgICBtYXliZUZpbGxTdHJva2UoZWxlbWVudCwgcGFnZSwgcGRmKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDb2xvcih2YWx1ZSkge1xuICAgIHZhciBjb2xvciA9IHV0aWxzX3BhcnNlQ29sb3IodmFsdWUsIHRydWUpO1xuICAgIHJldHVybiBjb2xvciA/IGNvbG9yLnRvUkdCKCkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBvcHRpbWl6ZShyb290KSB7XG4gICAgdmFyIGNsaXBib3ggPSBmYWxzZTtcbiAgICB2YXIgbWF0cml4ID0gZ2VvLk1hdHJpeC51bml0KCk7XG4gICAgdmFyIGN1cnJlbnRCb3ggPSBudWxsO1xuICAgIHZhciBjaGFuZ2VkO1xuICAgIGRvIHtcbiAgICAgICAgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICByb290ID0gb3B0KHJvb3QpO1xuICAgIH0gd2hpbGUgKHJvb3QgJiYgY2hhbmdlZCk7XG4gICAgcmV0dXJuIHsgcm9vdDogcm9vdCwgYmJveDogY3VycmVudEJveCB9O1xuXG4gICAgZnVuY3Rpb24gY2hhbmdlKG5ld1NoYXBlKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3U2hhcGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlzaWJsZShzaGFwZSkge1xuICAgICAgICByZXR1cm4gKHNoYXBlLnZpc2libGUoKSAmJiBzaGFwZS5vcGFjaXR5KCkgPiAwICYmXG4gICAgICAgICAgICAgICAgKCBzaG91bGREcmF3KHNoYXBlLmZpbGwoKSkgfHxcbiAgICAgICAgICAgICAgICAgIHNob3VsZERyYXcoc2hhcGUuc3Ryb2tlKCkpICkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9wdEFycmF5KGEpIHtcbiAgICAgICAgdmFyIGIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSBvcHQoYVtpXSk7XG4gICAgICAgICAgICBpZiAoZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGIucHVzaChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2l0aENsaXBwaW5nKHNoYXBlLCBmKSB7XG4gICAgICAgIHZhciBzYXZlY2xpcGJveCA9IGNsaXBib3g7XG4gICAgICAgIHZhciBzYXZlbWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIGlmIChzaGFwZS50cmFuc2Zvcm0oKSkge1xuICAgICAgICAgICAgbWF0cml4ID0gbWF0cml4Lm11bHRpcGx5Q29weShzaGFwZS50cmFuc2Zvcm0oKS5tYXRyaXgoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2xpcCA9IHNoYXBlLmNsaXAoKTtcbiAgICAgICAgaWYgKGNsaXApIHtcbiAgICAgICAgICAgIGNsaXAgPSBjbGlwLmJib3goKTtcbiAgICAgICAgICAgIGlmIChjbGlwKSB7XG4gICAgICAgICAgICAgICAgY2xpcCA9IGNsaXAuYmJveChtYXRyaXgpO1xuICAgICAgICAgICAgICAgIGNsaXBib3ggPSBjbGlwYm94ID8gZ2VvLlJlY3QuaW50ZXJzZWN0KGNsaXBib3gsIGNsaXApIDogY2xpcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZigpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY2xpcGJveCA9IHNhdmVjbGlwYm94O1xuICAgICAgICAgICAgbWF0cml4ID0gc2F2ZW1hdHJpeDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluQ2xpcGJveChzaGFwZSkge1xuICAgICAgICBpZiAoY2xpcGJveCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJveCA9IHNoYXBlLnJhd0JCb3goKS5iYm94KG1hdHJpeCk7XG4gICAgICAgIGlmIChjbGlwYm94ICYmIGJveCkge1xuICAgICAgICAgICAgYm94ID0gZ2VvLlJlY3QuaW50ZXJzZWN0KGJveCwgY2xpcGJveCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJveDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcHQoc2hhcGUpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhDbGlwcGluZyhzaGFwZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICghKHNoYXBlIGluc3RhbmNlb2YgR3JvdXAgfHwgc2hhcGUgaW5zdGFuY2VvZiBNdWx0aVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJveCA9IGluQ2xpcGJveChzaGFwZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudEJveCA9IGN1cnJlbnRCb3ggPyBnZW8uUmVjdC51bmlvbihjdXJyZW50Qm94LCBib3gpIDogYm94O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICBQYXRoOiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hhcGUuc2VnbWVudHMubGVuZ3RoID09PSAwIHx8ICF2aXNpYmxlKHNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBNdWx0aVBhdGg6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlzaWJsZShzaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gbmV3IE11bHRpUGF0aChzaGFwZS5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgZWwucGF0aHMgPSBvcHRBcnJheShzaGFwZS5wYXRocyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5wYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgQ2lyY2xlOiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2libGUoc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIEFyYzogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlKHNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUZXh0OiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIS9cXFMvLnRlc3Qoc2hhcGUuY29udGVudCgpKSB8fCAhdmlzaWJsZShzaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHNoYXBlLnZpc2libGUoKSAmJiBzaGFwZS5vcGFjaXR5KCkgPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBHcm91cDogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoc2hhcGUudmlzaWJsZSgpICYmIHNoYXBlLm9wYWNpdHkoKSA+IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IG5ldyBHcm91cChzaGFwZS5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2hpbGRyZW4gPSBvcHRBcnJheShzaGFwZS5jaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgIGVsLl9wZGZMaW5rID0gc2hhcGUuX3BkZkxpbms7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFwZSAhPT0gcm9vdCAmJiBlbC5jaGlsZHJlbi5sZW5ndGggPT09IDAgJiYgIXNoYXBlLl9wZGZMaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFJlY3Q6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlzaWJsZShzaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHNoYXBlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBleHBvcnRQREYoZ3JvdXAsIG9wdGlvbnMpIHtcbiAgICB2YXIgcHJvbWlzZSA9IGNyZWF0ZVByb21pc2UoKTtcblxuICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICBpZiAoaSA9PSBcIm1hcmdpblwiICYmIGdyb3VwLm9wdGlvbnMucGRmICYmIGdyb3VwLm9wdGlvbnMucGRmLl9pZ25vcmVNYXJnaW4pIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaGFja2lzaCBvcHRpb24gaXMgc2V0IGJ5IHRoZSBwYWdlIGJyZWFraW5nIGNvZGUgaW4gZHJhd0RPTS4gIFRoZSBpZGVhIGlzXG4gICAgICAgICAgICAvLyB0aGF0IG1hcmdpbiBpcyBhbHJlYWR5IHRha2VuIGludG8gYWNjb3VudCB0aGVyZSAodGhhdCdzIHJlcXVpcmVkIHRvIGRvIHByb3BlclxuICAgICAgICAgICAgLy8gcGFnZSBicmVha2luZykgYW5kIHdlIGRvbid0IHdhbnQgdG8gc2V0IGl0IGFnYWluIGhlcmUsIGFzIGl0IHdvdWxkIGRvdWJsZSB0aGVcbiAgICAgICAgICAgIC8vIHRvcC1sZWZ0IG1hcmdpbiwgYW5kIHRydW5jYXRlIHRoZSBjb250ZW50IG9uIGJvdHRvbS9yaWdodC5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGdyb3VwLm9wdGlvbnMuc2V0KFwicGRmLlwiICsgaSwgb3B0aW9uc1tpXSk7XG4gICAgfVxuXG4gICAgdG9EYXRhVVJMKGdyb3VwLCBwcm9taXNlLnJlc29sdmUpO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmV4cG9ydCB7IGV4cG9ydFBERiwgc2F2ZUFzLCB0b0RhdGFVUkwsIHRvQmxvYiwgcmVuZGVyIH07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1zcGFjZXMsIGtleS1zcGFjaW5nLCBpbmRlbnQsIGNhbWVsY2FzZSwgc3BhY2UtYmVmb3JlLWJsb2NrcywgZXFlcWVxLCBicmFjZS1zdHlsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgc3BhY2UtaW5maXgtb3BzLCBzcGFjZS1iZWZvcmUtZnVuY3Rpb24tcGFyZW4sIGFycmF5LWJyYWNrZXQtc3BhY2luZywgb2JqZWN0LWN1cmx5LXNwYWNpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5LCBtYXgtcGFyYW1zLCBkZWZhdWx0LWNhc2UsIG5vLWVsc2UtcmV0dXJuLCBuby1lbXB0eSwgeW9kYSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24sIG5vLXZhciwgYmxvY2stc2NvcGVkLXZhciAqL1xuXG5pbXBvcnQgKiBhcyBnZW8gZnJvbSBcIi4uL2dlb21ldHJ5XCI7XG5pbXBvcnQgKiBhcyBQREYgZnJvbSBcIi4uL3BkZlwiO1xuaW1wb3J0IHsgYXJhYmljVG9Sb21hbiwgY3JlYXRlUHJvbWlzZSwgbWVhc3VyZVRleHQsIG1lcmdlU29ydCB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgcGFyc2VDb2xvciBhcyB1dGlsc19wYXJzZUNvbG9yLCBzdXBwb3J0LCB0ZW1wbGF0ZSBhcyBjb21waWxlVGVtcGxhdGUgfSBmcm9tIFwiLi4vY29tbW9uXCI7XG5pbXBvcnQgeyBQYXRoLCBUZXh0LCBHcm91cCwgSW1hZ2UsIENpcmNsZSwgTGluZWFyR3JhZGllbnQgfSBmcm9tIFwiLi4vZHJhd2luZ1wiO1xuXG5jb25zdCBicm93c2VyID0gc3VwcG9ydC5icm93c2VyIHx8IHt9O1xuLypcblxuICBYWFg6IHRvIHRlc3Q6XG5cbiAgLSBjbG9uZU5vZGVzIGZ1bmN0aW9uOlxuICAgIC0gZHJhd2luZyBkb2N1bWVudCBjb250YWluaW5nIGNhbnZhcyB3aXRoIHBhZ2UgYnJlYWtpbmdcbiAgICAtIGRyYXdpbmcgZG9jdW1lbnQgd2l0aCBuYW1lZCByYWRpbyA8aW5wdXQ+LXMgKHNob3VsZCBub3QgY2xlYXIgc2VsZWN0aW9uKVxuICAgIC0gSUU5L0lFMTAgZG9uJ3Qgc3VwcG9ydCBlbC5kYXRhc2V0OyBkbyB0aGV5IGNvcHkgdXNlciBkYXRhP1xuXG4gIC0gcmVwZWF0aW5nIHRhYmxlIGhlYWRlcnMvZm9vdGVycyBvbiBwYWdlIGJyZWFraW5nXG5cbiAgLSBmb3JjZUJyZWFrLCBrZWVwVG9nZXRoZXJcblxuICAtIGF2b2lkTGlua3NcblxuICovXG5cbi8qIC0tLS0tWyBsb2NhbCB2YXJzIF0tLS0tLSAqL1xuXG5mdW5jdGlvbiBzbGljZSh0aGluZykge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGluZyk7XG59XG5cbnZhciBLRU5ET19QU0VVRE9fRUxFTUVOVCA9IFwiS0VORE8tUFNFVURPLUVMRU1FTlRcIjtcblxudmFyIElNQUdFX0NBQ0hFID0ge307XG5cbnZhciBub2RlSW5mbyA9IHt9O1xubm9kZUluZm8uX3Jvb3QgPSBub2RlSW5mbztcblxuLyogLS0tLS1bIEN1c3RvbSBUZXh0IG5vZGUgdG8gc3BlZWQgdXAgcmVuZGVyaW5nIGluIFBERiBdLS0tLS0gKi9cblxuY29uc3QgaW5Ccm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBtaWNyb3NvZnQgPSBpbkJyb3dzZXIgPyBicm93c2VyLm1zaWUgfHwgYnJvd3Nlci5lZGdlIDogZmFsc2U7XG5cbmNsYXNzIFRleHRSZWN0IGV4dGVuZHMgVGV4dCB7XG4gICAgY29uc3RydWN0b3Ioc3RyLCByZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHN0ciwgcmVjdC5nZXRPcmlnaW4oKSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3BkZlJlY3QgPSByZWN0O1xuICAgIH1cbiAgICByZWN0KCkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBjcnV4IG9mIGl0OiB3ZSBjYW4gYXZvaWQgYSBjYWxsIHRvXG4gICAgICAgIC8vIG1lYXN1cmUoKSwgd2hpY2ggaXMgd2hhdCB0aGUgYmFzZSBjbGFzcyBkb2VzLCBzaW5jZSB3ZVxuICAgICAgICAvLyBhbHJlYWR5IGtub3cgdGhlIHJlY3QuICBtZWFzdXJlKCkgaXMgcy1sLW8tdy5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BkZlJlY3Q7XG4gICAgfVxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIC8vIGFsc28gbGV0J3MgYXZvaWQgY3JlYXRpbmcgYSBuZXcgcmVjdGFuZ2xlLlxuICAgICAgICByZXR1cm4gdGhpcy5fcGRmUmVjdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbHMpIHtcbiAgICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbC5jbGFzc05hbWUgKz0gXCIgXCIgKyBjbHM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xzKSB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNscyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLykucmVkdWNlKGZ1bmN0aW9uKGEsIHdvcmQpe1xuICAgICAgICAgICAgaWYgKHdvcmQgIT0gY2xzKSB7XG4gICAgICAgICAgICAgICAgYS5wdXNoKHdvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH0sIFtdKS5qb2luKFwiIFwiKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldENTUyhlbCwgc3R5bGVzKSB7XG4gICAgT2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG4gICAgICAgIGVsLnN0eWxlW2tleV0gPSBzdHlsZXNba2V5XTtcbiAgICB9KTtcbn1cblxudmFyIG1hdGNoZXMgPSB0eXBlb2YgRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFbGVtZW50LnByb3RvdHlwZSAmJiAoZnVuY3Rpb24ocCl7XG4gICAgaWYgKHAubWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWwsIHNlbGVjdG9yKSB7IHJldHVybiBlbC5tYXRjaGVzKHNlbGVjdG9yKTsgfTtcbiAgICB9XG4gICAgaWYgKHAud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihlbCwgc2VsZWN0b3IpIHsgcmV0dXJuIGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7IH07XG4gICAgfVxuICAgIGlmIChwLm1vek1hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWwsIHNlbGVjdG9yKSB7IHJldHVybiBlbC5tb3pNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpOyB9O1xuICAgIH1cbiAgICBpZiAocC5tc01hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWwsIHNlbGVjdG9yKSB7IHJldHVybiBlbC5tc01hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7IH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbihzKSB7XG5cdHJldHVybiBbXS5pbmRleE9mLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzKSwgdGhpcykgIT09IC0xO1xuICAgIH07XG59KShFbGVtZW50LnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIGNsb3Nlc3QoZWwsIHNlbGVjdG9yKSB7XG4gICAgaWYgKGVsLmNsb3Nlc3QpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgIH1cbiAgICAvLyBJRTogc3RyaW5naWZ5aW5nIHJhdGhlciB0aGFuIHNpbXBseSBjb21wYXJpbmcgd2l0aCBgZG9jdW1lbnRgLFxuICAgIC8vIHdoaWNoIGlzIG5vdCBpZnJhbWUtcHJvb2YgYW5kIGZhaWxzIGluIGVkaXRvciBleHBvcnQg4oCUXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8vaXNzdWVzLzY3MjFcbiAgICB3aGlsZSAoZWwgJiYgIS9eXFxbb2JqZWN0ICg/OkhUTUwpP0RvY3VtZW50XFxdJC8udGVzdChTdHJpbmcoZWwpKSkge1xuICAgICAgICBpZiAoZWwubm9kZVR5cGUgPT0gMSAvKiBFbGVtZW50ICovICYmIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG4gICAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICB9XG59XG5cbi8vIGNsb25lIG5vZGVzIG91cnNlbHZlcywgc28gdGhhdCB3ZSByZWRyYXcgPGNhbnZhcz4gKERPTSBvclxuLy8galF1ZXJ5IGNsb25lIHdpbGwgbm90KVxudmFyIGNsb25lTm9kZXMgPSAoZnVuY3Rpb24oJCl7XG4gICAgaWYgKCQpIHtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBLZW5kbyBhbmQgalF1ZXJ5LCB1c2UgdGhpcyB2ZXJzaW9uIGFzIGl0IHdpbGxcbiAgICAgICAgLy8gbWFpbnRhaW4gcHJvcGVyIGxpbmtzIGJldHdlZW4gY2xvbmVkIGVsZW1lbnQgYW5kIEtlbmRvXG4gICAgICAgIC8vIHdpZGdldHMgKGkuZS4gaXQgY2xvbmVzIGpRdWVyeSBkYXRhKCksIHdoaWNoIGlzbid0IHRoZSBzYW1lXG4gICAgICAgIC8vIGFzIGVsZW1lbnQncyBkYXRhIGF0dHJpYnV0ZXMpLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby11aS1jb3JlL2lzc3Vlcy8yNzUwXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjbG9uZU5vZGVzKGVsKSB7XG4gICAgICAgICAgICB2YXIgY2xvbmUgPSBlbC5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGVsLm5vZGVUeXBlID09IDEgLyogRWxlbWVudCAqLykge1xuICAgICAgICAgICAgICAgIHZhciAkZWwgPSAkKGVsKSwgJGNsb25lID0gJChjbG9uZSksIGk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkZWwuZGF0YSgpO1xuICAgICAgICAgICAgICAgIGZvciAoaSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRjbG9uZS5kYXRhKGksIGRhdGFbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoL15jYW52YXMkL2kudGVzdChlbC50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZS5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKGVsLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfG9wdGlvbikkL2kudGVzdChlbC50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIHRoZSBuYW1lIGF0dHJpYnV0ZXMgc28gdGhhdCB3ZSBkb24ndCBhZmZlY3QgdGhlIHNlbGVjdGlvbiBvZiB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwgbm9kZXMgKGkuZS4gY2hlY2tlZCBzdGF0dXMgb2YgcmFkaW8gYnV0dG9ucykgd2hlbiB3ZSBpbnNlcnQgb3VyIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50byB0aGUgRE9NLiAgaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8vaXNzdWVzLzU0MDlcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lLnJlbW92ZUF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghL150ZXh0YXJlYSQvaS50ZXN0KGVsLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZS52YWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsb25lLmNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgICAgICAgICAgICAgICBjbG9uZS5zZWxlY3RlZCA9IGVsLnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBlbC5maXJzdENoaWxkOyBpOyBpID0gaS5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChjbG9uZU5vZGVzKGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhlIG5vLWpRdWVyeSB2ZXJzaW9uXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjbG9uZU5vZGVzKGVsKSB7XG4gICAgICAgICAgICBjb25zdCBjbG9uZSA9IChmdW5jdGlvbiBkaXZlKG5vZGUpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lID0gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLl9rZW5kb0V4cG9ydFZpc3VhbCkge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZS5fa2VuZG9FeHBvcnRWaXN1YWwgPSBub2RlLl9rZW5kb0V4cG9ydFZpc3VhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5vZGUuZmlyc3RDaGlsZDsgaTsgaSA9IGkubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQoZGl2ZShpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgICAgIH0pKGVsKTtcblxuICAgICAgICAgICAgLy8gcmUtZHJhdyBjYW52YXNlcyAtIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy80ODcyXG4gICAgICAgICAgICBjb25zdCBjYW52YXNlcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJjYW52YXNcIik7XG4gICAgICAgICAgICBpZiAoY2FudmFzZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2xpY2UoY2xvbmUucXVlcnlTZWxlY3RvckFsbChcImNhbnZhc1wiKSkuZm9yRWFjaCgoY2FudmFzLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKGNhbnZhc2VzW2ldLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIFwibmFtZVwiIGF0dHJpYnV0ZXMgZnJvbSA8aW5wdXQ+IGVsZW1lbnRzIC1cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy81NDA5XG4gICAgICAgICAgICBjb25zdCBvcmlnID0gZWwucXVlcnlTZWxlY3RvckFsbChcImlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBvcHRpb25cIik7XG4gICAgICAgICAgICBzbGljZShjbG9uZS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIG9wdGlvblwiKSkuZm9yRWFjaCgoZWwsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgICAgICAgICAgICAgIGlmICghL150ZXh0YXJlYSQvaS50ZXN0KGVsLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gb3JpZ1tpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuY2hlY2tlZCA9IG9yaWdbaV0uY2hlY2tlZDtcbiAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZCA9IG9yaWdbaV0uc2VsZWN0ZWQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgICB9O1xuICAgIH1cbn0pKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmtlbmRvICYmIHdpbmRvdy5rZW5kby5qUXVlcnkpO1xuXG5mdW5jdGlvbiBnZXRYWSh0aGluZykge1xuICAgIGlmICh0eXBlb2YgdGhpbmcgPT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4geyB4OiB0aGluZywgeTogdGhpbmcgfTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpbmcpKSB7XG4gICAgICAgIHJldHVybiB7IHg6IHRoaW5nWzBdLCB5OiB0aGluZ1sxXSB9O1xuICAgIH1cbiAgICByZXR1cm4geyB4OiB0aGluZy54LCB5OiB0aGluZy55IH07XG59XG5cbmZ1bmN0aW9uIGRyYXdET00oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIHZhciBwcm9taXNlID0gY3JlYXRlUHJvbWlzZSgpO1xuXG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnJlamVjdChcIk5vIGVsZW1lbnQgdG8gZXhwb3J0XCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygd2luZG93LmdldENvbXB1dGVkU3R5bGUgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIndpbmRvdy5nZXRDb21wdXRlZFN0eWxlIGlzIG1pc3NpbmcuICBZb3UgYXJlIHVzaW5nIGFuIHVuc3VwcG9ydGVkIGJyb3dzZXIsIG9yIHJ1bm5pbmcgaW4gSUU4IGNvbXBhdGliaWxpdHkgbW9kZS4gIERyYXdpbmcgSFRNTCBpcyBzdXBwb3J0ZWQgaW4gQ2hyb21lLCBGaXJlZm94LCBTYWZhcmkgYW5kIElFOSsuXCIpO1xuICAgIH1cblxuICAgIFBERi5kZWZpbmVGb250KGdldEZvbnRGYWNlcyhlbGVtZW50Lm93bmVyRG9jdW1lbnQpKTtcblxuICAgIHZhciBzY2FsZSA9IGdldFhZKG9wdGlvbnMuc2NhbGUgfHwgMSk7XG5cbiAgICBmdW5jdGlvbiBkb09uZShlbGVtZW50KSB7XG4gICAgICAgIHZhciBncm91cCA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIC8vIHRyYW5zbGF0ZSB0byBzdGFydCBvZiBwYWdlXG4gICAgICAgIHZhciBwb3MgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBzZXRUcmFuc2Zvcm0oZ3JvdXAsIFtcbiAgICAgICAgICAgIHNjYWxlLngsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHNjYWxlLnksXG4gICAgICAgICAgICAoLXBvcy5sZWZ0ICogc2NhbGUueCksXG4gICAgICAgICAgICAoLXBvcy50b3AgKiBzY2FsZS55KVxuICAgICAgICBdKTtcblxuICAgICAgICBub2RlSW5mby5fY2xpcGJveCA9IGZhbHNlO1xuICAgICAgICBub2RlSW5mby5fbWF0cml4ID0gZ2VvLk1hdHJpeC51bml0KCk7XG4gICAgICAgIG5vZGVJbmZvLl9zdGFja2luZ0NvbnRleHQgPSB7XG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXZvaWRMaW5rcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbm9kZUluZm8uX2F2b2lkTGlua3MgPSBcImFcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVJbmZvLl9hdm9pZExpbmtzID0gb3B0aW9ucy5hdm9pZExpbmtzO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgXCJrLXBkZi1leHBvcnRcIik7XG4gICAgICAgIHJlbmRlckVsZW1lbnQoZWxlbWVudCwgZ3JvdXApO1xuICAgICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBcImstcGRmLWV4cG9ydFwiKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgY2FjaGVJbWFnZXMoZWxlbWVudCwgZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGZvcmNlQnJlYWsgPSBvcHRpb25zICYmIG9wdGlvbnMuZm9yY2VQYWdlQnJlYWs7XG4gICAgICAgIHZhciBoYXNQYXBlclNpemUgPSBvcHRpb25zICYmIG9wdGlvbnMucGFwZXJTaXplICYmIG9wdGlvbnMucGFwZXJTaXplICE9IFwiYXV0b1wiO1xuICAgICAgICB2YXIgcGFwZXJPcHRpb25zID0gUERGLmdldFBhcGVyT3B0aW9ucyhmdW5jdGlvbihrZXksIGRlZil7XG4gICAgICAgICAgICBpZiAoa2V5ID09IFwicGFwZXJTaXplXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBQREYuZ2V0UGFwZXJPcHRpb25zIGNyb2FrcyBvbiBcImF1dG9cIiwganVzdCBwYXNzIGR1bW15IEE0IGFzIHdlIG1pZ2h0XG4gICAgICAgICAgICAgICAgLy8gc3RpbGwgYmUgaW50ZXJlc3RlZCBpbiBtYXJnaW5zLlxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNQYXBlclNpemUgPyBvcHRpb25zW2tleV0gOiBcIkE0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5IGluIG9wdGlvbnMgPyBvcHRpb25zW2tleV0gOiBkZWY7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcGFnZVdpZHRoID0gaGFzUGFwZXJTaXplICYmIHBhcGVyT3B0aW9ucy5wYXBlclNpemVbMF07XG4gICAgICAgIHZhciBwYWdlSGVpZ2h0ID0gaGFzUGFwZXJTaXplICYmIHBhcGVyT3B0aW9ucy5wYXBlclNpemVbMV07XG4gICAgICAgIHZhciBtYXJnaW4gPSBvcHRpb25zLm1hcmdpbiAmJiBwYXBlck9wdGlvbnMubWFyZ2luO1xuICAgICAgICB2YXIgaGFzTWFyZ2luID0gQm9vbGVhbihtYXJnaW4pO1xuICAgICAgICBpZiAoZm9yY2VCcmVhayB8fCBwYWdlSGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAoIW1hcmdpbikge1xuICAgICAgICAgICAgICAgIG1hcmdpbiA9IHsgbGVmdDogMCwgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdlIHdhbnQgcGFwZXIgc2l6ZSBhbmQgbWFyZ2luIHRvIGJlIHVuYWZmZWN0ZWQgYnlcbiAgICAgICAgICAgIC8vIHNjYWxpbmcgaW4gdGhlIG91dHB1dCwgc28gd2UgaGF2ZSB0byByZXZlcnNlLXNjYWxlXG4gICAgICAgICAgICAvLyBiZWZvcmUgb3VyIGNhbGN1bGF0aW9ucyBiZWdpbi5cbiAgICAgICAgICAgIGlmIChwYWdlV2lkdGgpICB7IHBhZ2VXaWR0aCAgLz0gc2NhbGUueDsgfVxuICAgICAgICAgICAgaWYgKHBhZ2VIZWlnaHQpIHsgcGFnZUhlaWdodCAvPSBzY2FsZS55OyB9XG4gICAgICAgICAgICBtYXJnaW4ubGVmdCAgIC89IHNjYWxlLng7XG4gICAgICAgICAgICBtYXJnaW4ucmlnaHQgIC89IHNjYWxlLng7XG4gICAgICAgICAgICBtYXJnaW4udG9wICAgIC89IHNjYWxlLnk7XG4gICAgICAgICAgICBtYXJnaW4uYm90dG9tIC89IHNjYWxlLnk7XG5cbiAgICAgICAgICAgIHZhciBncm91cCA9IG5ldyBHcm91cCh7XG4gICAgICAgICAgICAgICAgcGRmOiB7XG4gICAgICAgICAgICAgICAgICAgIG11bHRpUGFnZSAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwYXBlclNpemUgICAgIDogaGFzUGFwZXJTaXplID8gcGFwZXJPcHRpb25zLnBhcGVyU2l6ZSA6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICBfaWdub3JlTWFyZ2luIDogaGFzTWFyZ2luIC8vIEhBQ0shICBzZWUgZXhwb3J0UERGIGluIHBkZi9kcmF3aW5nLmpzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYW5kbGVQYWdlQnJlYWtzKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYW5jZWxlZCA9IGZhbHNlLCBwYWdlTnVtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiBuZXh0KCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VOdW0gPCB4LnBhZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZSA9IGRvT25lKHgucGFnZXNbcGFnZU51bV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cC5hcHBlbmQocGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJvZ3Jlc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VOdW06ICsrcGFnZU51bSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IHgucGFnZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbmNlbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWFhYOiBzaG91bGQgd2UgYWxzbyBmYWlsKCkgdGhlIGRlZmVycmVkIG9iamVjdD9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoeC5jb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh4LmNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShncm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgucGFnZXMuZm9yRWFjaChmdW5jdGlvbihwYWdlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cC5hcHBlbmQoZG9PbmUocGFnZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB4LmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHguY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShncm91cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgZm9yY2VCcmVhayxcbiAgICAgICAgICAgICAgICBwYWdlV2lkdGggPyBwYWdlV2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCA6IG51bGwsXG4gICAgICAgICAgICAgICAgcGFnZUhlaWdodCA/IHBhZ2VIZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSA6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFyZ2luLFxuICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoZG9PbmUoZWxlbWVudCkpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtYWtlVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gY29tcGlsZVRlbXBsYXRlKHRlbXBsYXRlLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gdGVtcGxhdGUoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbCAmJiB0eXBlb2YgZWwgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbCA9IGRpdi5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFzc3VtZWQgRE9NIGVsZW1lbnRcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVBhZ2VCcmVha3MoY2FsbGJhY2ssIGVsZW1lbnQsIGZvcmNlQnJlYWssIHBhZ2VXaWR0aCwgcGFnZUhlaWdodCwgbWFyZ2luLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IG1ha2VUZW1wbGF0ZShvcHRpb25zLnRlbXBsYXRlKTtcbiAgICAgICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgdmFyIHBhZ2VzID0gW107XG4gICAgICAgIHZhciBjb3B5ID0gb3B0aW9ucy5fZGVzdHJ1Y3RpdmUgPyBlbGVtZW50IDogY2xvbmVOb2RlcyhlbGVtZW50KTtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiS0VORE8tUERGLURPQ1VNRU5UXCIpO1xuICAgICAgICB2YXIgYWRqdXN0ID0gMDtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgPHRmb290PiBlbGVtZW50cyBhcmUgYXQgdGhlIGVuZCAoR3JpZCB3aWRnZXRcbiAgICAgICAgLy8gcGxhY2VzIFRGT09UIGJlZm9yZSBUQk9EWSwgdHJpY2tpbmcgb3VyIGFsZ29yaXRobSB0b1xuICAgICAgICAvLyBpbnNlcnQgYSBwYWdlIGJyZWFrIHJpZ2h0IGFmdGVyIHRoZSBoZWFkZXIpLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby9pc3N1ZXMvNDY5OVxuICAgICAgICBzbGljZShjb3B5LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0Zm9vdFwiKSkuZm9yRWFjaChmdW5jdGlvbih0Zm9vdCl7XG4gICAgICAgICAgICB0Zm9vdC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRmb290KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVtZW1iZXIgdGhlIGluZGV4IG9mIGVhY2ggTEkgZnJvbSBhbiBvcmRlcmVkIGxpc3QuXG4gICAgICAgIC8vIHdlJ2xsIHVzZSBpdCB0byByZWNvbnN0cnVjdCB0aGUgcHJvcGVyIG51bWJlcmluZy5cbiAgICAgICAgc2xpY2UoY29weS5xdWVyeVNlbGVjdG9yQWxsKFwib2xcIikpLmZvckVhY2goZnVuY3Rpb24ob2wpe1xuICAgICAgICAgICAgc2xpY2Uob2wuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24obGksIGluZGV4KXtcbiAgICAgICAgICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoXCJrZW5kby1zcGxpdC1pbmRleFwiLCBpbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0Q1NTKGNvbnRhaW5lciwge1xuICAgICAgICAgICAgZGlzcGxheSAgIDogXCJibG9ja1wiLFxuICAgICAgICAgICAgcG9zaXRpb24gIDogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgYm94U2l6aW5nIDogXCJjb250ZW50LWJveFwiLFxuICAgICAgICAgICAgbGVmdCAgICAgIDogXCItMTAwMDBweFwiLFxuICAgICAgICAgICAgdG9wICAgICAgIDogXCItMTAwMDBweFwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwYWdlV2lkdGgpIHtcbiAgICAgICAgICAgIC8vIHN1YnRsZTogaWYgd2UgZG9uJ3Qgc2V0IHRoZSB3aWR0aCAqYW5kKiBtYXJnaW5zIGhlcmUsIHRoZSBsYXlvdXQgaW4gdGhpc1xuICAgICAgICAgICAgLy8gY29udGFpbmVyIHdpbGwgYmUgZGlmZmVyZW50IGZyb20gdGhlIG9uZSBpbiBvdXIgZmluYWwgcGFnZSBlbGVtZW50cywgYW5kIHdlJ2xsXG4gICAgICAgICAgICAvLyBzcGxpdCBhdCB0aGUgd3JvbmcgcGxhY2VzLlxuICAgICAgICAgICAgc2V0Q1NTKGNvbnRhaW5lciwge1xuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICA6IHBhZ2VXaWR0aCArIFwicHhcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdCAgOiBtYXJnaW4ubGVmdCArIFwicHhcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQgOiBtYXJnaW4ucmlnaHQgKyBcInB4XCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB3aGVuIHRoZSBmaXJzdCBlbGVtZW50IGhhcyBhIG1hcmdpbi10b3AgKGkuZS4gYSA8aDE+KSB0aGUgcGFnZSB3aWxsIGJlXG4gICAgICAgICAgICAvLyBpbmFkdmVydGVudGx5IGVubGFyZ2VkIGJ5IHRoYXQgbnVtYmVyICh0aGUgYnJvd3NlciB3aWxsIHJlcG9ydCB0aGUgY29udGFpbmVyJ3NcbiAgICAgICAgICAgIC8vIGJvdW5kaW5nIGJveCB0b3AgdG8gc3RhcnQgYXQgdGhlIGVsZW1lbnQncyB0b3AsIHJhdGhlciB0aGFuIGluY2x1ZGluZyBpdHNcbiAgICAgICAgICAgIC8vIG1hcmdpbikuICBBZGRpbmcgb3ZlcmZsb3c6IGhpZGRlbiBzZWVtcyB0byBmaXggaXQuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gdG8gdW5kZXJzdGFuZCB0aGUgZGlmZmVyZW5jZSwgdHJ5IHRoZSBmb2xsb3dpbmcgc25pcHBldHMgaW4geW91ciBicm93c2VyOlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIDEuIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiB5ZWxsb3dcIj5cbiAgICAgICAgICAgIC8vICAgICAgPGgxIHN0eWxlPVwibWFyZ2luOiAzZW1cIj5Gb288L2gxPlxuICAgICAgICAgICAgLy8gICAgPC9kaXY+XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gMi4gPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IHllbGxvdzsgb3ZlcmZsb3c6IGhpZGRlblwiPlxuICAgICAgICAgICAgLy8gICAgICA8aDEgc3R5bGU9XCJtYXJnaW46IDNlbVwiPkZvbzwvaDE+XG4gICAgICAgICAgICAvLyAgICA8L2Rpdj5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGlzIGRldGFpbCBpcyBub3QgaW1wb3J0YW50IHdoZW4gYXV0b21hdGljIHBhZ2UgYnJlYWtpbmcgaXMgbm90IHJlcXVlc3RlZCwgaGVuY2VcbiAgICAgICAgICAgIC8vIGRvaW5nIGl0IG9ubHkgaWYgcGFnZVdpZHRoIGlzIGRlZmluZWQuXG4gICAgICAgICAgICBzZXRDU1MoY29weSwgeyBvdmVyZmxvdzogXCJoaWRkZW5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBlbGVtZW50KTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvcHkpO1xuXG4gICAgICAgIC8vIHdlIG5lZWQgdGhlIHRpbWVvdXRzIGhlcmUsIHNvIHRoYXQgaW1hZ2VzIGRpbWVuc2lvbnMgYXJlXG4gICAgICAgIC8vIHByb3Blcmx5IGNvbXB1dGVkIGluIERPTSB3aGVuIHdlIHN0YXJ0IG91ciB0aGluZy5cbiAgICAgICAgaWYgKG9wdGlvbnMuYmVmb3JlUGFnZUJyZWFrKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5iZWZvcmVQYWdlQnJlYWsoY29udGFpbmVyLCBkb1BhZ2VCcmVhayk7XG4gICAgICAgICAgICB9LCAxNSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGRvUGFnZUJyZWFrLCAxNSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkb1BhZ2VCcmVhaygpIHtcbiAgICAgICAgICAgIGlmIChmb3JjZUJyZWFrICE9IFwiLVwiIHx8IHBhZ2VIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVsZW1lbnQoY29weSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFnZSA9IG1ha2VQYWdlKCk7XG4gICAgICAgICAgICAgICAgY29weS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwYWdlLCBjb3B5KTtcbiAgICAgICAgICAgICAgICBwYWdlLmFwcGVuZENoaWxkKGNvcHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBwYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKHBhZ2UsIGkpe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IHRlbXBsYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgICAgOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZU51bSAgICA6IGkgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlcyA6IHBhZ2VzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZUltYWdlcyhwYWdlcywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gRXZlbiB0aG91Z2ggd2UgYWxyZWFkeSBjYWNoZWQgaW1hZ2VzLCB0aGV5IHNpbXBseSB3b24ndCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseSBpbiB0aGUgbmV3bHkgY3JlYXRlZCBET00uICBQcmV2aW91c2x5IHdlJ2QgYWxsb3cgYSAxMG1zIHRpbWVvdXQsXG4gICAgICAgICAgICAgICAgLy8gYnV0IHRoYXQncyBhcmJpdHJhcnkgYW5kIGNsZWFybHkgbm90IHdvcmtpbmcgaW4gYWxsIGNhc2VzXG4gICAgICAgICAgICAgICAgLy8gKGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy81Mzk5KSwgc28gdGhpcyBmdW5jdGlvbiB3aWxsIHdhaXRcbiAgICAgICAgICAgICAgICAvLyBmb3IgdGhlaXIgLmNvbXBsZXRlIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgICAgICB3aGVuSW1hZ2VzQXJlQWN0dWFsbHlMb2FkZWQocGFnZXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHsgcGFnZXM6IHBhZ2VzLCBjb250YWluZXI6IGNvbnRhaW5lciB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24ga2VlcFRvZ2V0aGVyKGVsKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5rZWVwVG9nZXRoZXIgJiYgbWF0Y2hlcyhlbCwgb3B0aW9ucy5rZWVwVG9nZXRoZXIpICYmIGVsLm9mZnNldEhlaWdodCA8PSBwYWdlSGVpZ2h0IC0gYWRqdXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0YWcgPSBlbC50YWdOYW1lO1xuICAgICAgICAgICAgaWYgKC9eaFsxLTZdJC9pLnRlc3QodGFnKSAmJiBlbC5vZmZzZXRIZWlnaHQgPj0gcGFnZUhlaWdodCAtIGFkanVzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtlbmRvLWNoYXJ0XCIpIHx8XG4gICAgICAgICAgICAgICAgICAgIC9eKD86aW1nfHRyfHRoZWFkfHRofHRmb290fGlmcmFtZXxzdmd8b2JqZWN0fGNhbnZhc3xpbnB1dHx0ZXh0YXJlYXxzZWxlY3R8dmlkZW98aFsxLTZdKS9pLnRlc3QoZWwudGFnTmFtZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3BsaXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gXCJUQUJMRVwiKSB7XG4gICAgICAgICAgICAgICAgc2V0Q1NTKGVsZW1lbnQsIHsgdGFibGVMYXlvdXQ6IFwiZml4ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZWVwVG9nZXRoZXIoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIGJvdHRvbVBhZGRpbmcgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwicGFkZGluZy1ib3R0b21cIikpO1xuICAgICAgICAgICAgdmFyIGJvdHRvbUJvcmRlciA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJib3JkZXItYm90dG9tLXdpZHRoXCIpKTtcbiAgICAgICAgICAgIHZhciBzYXZlQWRqdXN0ID0gYWRqdXN0O1xuICAgICAgICAgICAgYWRqdXN0ICs9IGJvdHRvbVBhZGRpbmcgKyBib3R0b21Cb3JkZXI7XG4gICAgICAgICAgICB2YXIgaXNGaXJzdCA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBlbCA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgZWw7IGVsID0gZWwubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwubm9kZVR5cGUgPT0gMSAvKiBFbGVtZW50ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMoZWwsIGZvcmNlQnJlYWspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha0F0RWxlbWVudChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhZ2VIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGluIFwibWFudWFsIGJyZWFrcyBtb2RlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwbGl0RWxlbWVudChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIS9eKD86c3RhdGljfHJlbGF0aXZlKSQvLnRlc3QoZ2V0UHJvcGVydHlWYWx1ZShnZXRDb21wdXRlZFN0eWxlKGVsKSwgXCJwb3NpdGlvblwiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWxsID0gZmFsbHNPbk1hcmdpbihlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgc3RhcnRzIG9uIG5leHQgcGFnZSwgYnJlYWsgYmVmb3JlIGFueXdheS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrQXRFbGVtZW50KGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50cyBlbmRzIHVwIG9uIG5leHQgcGFnZSwgb3IgcG9zc2libHkgZG9lc24ndCBmaXQgb24gYSBwYWdlIGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwuICBicmVhayBiZWZvcmUgaXQgYW55d2F5IGlmIGl0J3MgYW4gPGltZz4gb3IgPHRyPiwgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdHRlbXB0IHRvIHNwbGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtlZXBUb2dldGhlcihlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha0F0RWxlbWVudChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwbGl0RWxlbWVudChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGxpdEVsZW1lbnQoZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsLm5vZGVUeXBlID09IDMgLyogVGV4dCAqLyAmJiBwYWdlSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0VGV4dChlbCwgaXNGaXJzdCk7XG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGp1c3QgPSBzYXZlQWRqdXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmlyc3RJblBhcmVudChlbCkge1xuICAgICAgICAgICAgdmFyIHAgPSBlbC5wYXJlbnROb2RlLCBmaXJzdCA9IHAuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGlmIChlbCA9PT0gZmlyc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbCA9PT0gcC5jaGlsZHJlblswXSkge1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdC5ub2RlVHlwZSA9PSA3IC8qIGNvbW1lbnQgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3Qubm9kZVR5cGUgPT0gOCAvKiBwcm9jZXNzaW5nIGluc3RydWN0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZmlyc3Qubm9kZVR5cGUgPT0gMyAvKiB0ZXh0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdoaXRlc3BhY2Ugb25seSB3ZSBjYW4gcHJvYmFibHkgY29uc2lkZXIgaXQncyBmaXJzdFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIS9cXFMvLnRlc3QoZmlyc3QuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYnJlYWtBdEVsZW1lbnQoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbC5ub2RlVHlwZSA9PSAxICYmIGVsICE9PSBjb3B5ICYmIGZpcnN0SW5QYXJlbnQoZWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJyZWFrQXRFbGVtZW50KGVsLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRhYmxlLCBjb2xncm91cCwgdGhlYWQsIGdyaWQsIGdyaWRIZWFkO1xuICAgICAgICAgICAgdGFibGUgPSBjbG9zZXN0KGVsLCBcInRhYmxlXCIpO1xuICAgICAgICAgICAgY29sZ3JvdXAgPSB0YWJsZSAmJiB0YWJsZS5xdWVyeVNlbGVjdG9yKFwiY29sZ3JvdXBcIik7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZXBlYXRIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhlYWQgPSB0YWJsZSAmJiB0YWJsZS5xdWVyeVNlbGVjdG9yKFwidGhlYWRcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBicmVhayBwYWdlIGluIGEgS2VuZG8gR3JpZCwgcmVwZWF0IGl0cyBoZWFkZXIuICBUaGlzIHVnbHkgaGFjayBpc1xuICAgICAgICAgICAgICAgIC8vIG5lY2Vzc2FyeSBiZWNhdXNlIGEgc2Nyb2xsYWJsZSBncmlkIHdpbGwga2VlcCB0aGUgaGVhZGVyIGluIGEgc2VwYXJhdGVcbiAgICAgICAgICAgICAgICAvLyA8dGFibGU+IGVsZW1lbnQgZnJvbSBpdHMgY29udGVudC5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFhYWDogVGhpcyBpcyBsaWtlbHkgdG8gYnJlYWsgYXMgc29vbiBhcyB0aGUgd2lkZ2V0IEhUTUwgaXMgbW9kaWZpZWQuXG4gICAgICAgICAgICAgICAgZ3JpZCA9IGNsb3Nlc3QoZWwsIFwiLmstZ3JpZC5rLXdpZGdldFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZCAmJiBncmlkLnF1ZXJ5U2VsZWN0b3IoXCIuay1hdXRvLXNjcm9sbGFibGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEhlYWQgPSBncmlkLnF1ZXJ5U2VsZWN0b3IoXCIuay1ncmlkLWhlYWRlclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGFnZSA9IG1ha2VQYWdlKCk7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKGNvcHkpO1xuICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kQmVmb3JlKGVsKTtcbiAgICAgICAgICAgIHBhZ2UuYXBwZW5kQ2hpbGQocmFuZ2UuZXh0cmFjdENvbnRlbnRzKCkpO1xuICAgICAgICAgICAgY29weS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwYWdlLCBjb3B5KTtcbiAgICAgICAgICAgIHByZXZlbnRCdWxsZXRPbkxpc3RJdGVtKGVsLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgaWYgKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGFibGUgPSBjbG9zZXN0KGVsLCBcInRhYmxlXCIpOyAvLyB0aGF0J3MgdGhlIDx0YWJsZT4gb24gbmV4dCBwYWdlIVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlcGVhdEhlYWRlcnMgJiYgdGhlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0QmVmb3JlKHRoZWFkLmNsb25lTm9kZSh0cnVlKSwgdGFibGUuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2xncm91cCkge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnRCZWZvcmUoY29sZ3JvdXAuY2xvbmVOb2RlKHRydWUpLCB0YWJsZS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZXBlYXRIZWFkZXJzICYmIGdyaWRIZWFkKSB7XG4gICAgICAgICAgICAgICAgZ3JpZCA9IGNsb3Nlc3QoZWwsIFwiLmstZ3JpZC5rLXdpZGdldFwiKTtcbiAgICAgICAgICAgICAgICBncmlkLmluc2VydEJlZm9yZShncmlkSGVhZC5jbG9uZU5vZGUodHJ1ZSksIGdyaWQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBtYWtlUGFnZSgpIHtcbiAgICAgICAgICAgIHZhciBwYWdlID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJLRU5ETy1QREYtUEFHRVwiKTtcbiAgICAgICAgICAgIHNldENTUyhwYWdlLCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheSAgOiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nOiBcImNvbnRlbnQtYm94XCIsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgOiBwYWdlV2lkdGggPyAocGFnZVdpZHRoICsgXCJweFwiKSA6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmcgIDogKG1hcmdpbi50b3AgKyBcInB4IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4ucmlnaHQgKyBcInB4IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4uYm90dG9tICsgXCJweCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmxlZnQgKyBcInB4XCIpLFxuXG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgYWJzb2x1dGVseSBwb3NpdGlvbmVkIGVsZW1lbnRzIHRvIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgICAgIHBvc2l0aW9uIDogXCJyZWxhdGl2ZVwiLFxuXG4gICAgICAgICAgICAgICAgLy8gd2l0aG91dCB0aGUgZm9sbG93aW5nIHdlIG1pZ2h0IGFmZmVjdCBsYXlvdXQgb2Ygc3Vic2VxdWVudCBwYWdlc1xuICAgICAgICAgICAgICAgIGhlaWdodCAgIDogcGFnZUhlaWdodCA/IChwYWdlSGVpZ2h0ICsgXCJweFwiKSA6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93IDogcGFnZUhlaWdodCB8fCBwYWdlV2lkdGggPyBcImhpZGRlblwiIDogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgY2xlYXIgICAgOiBcImJvdGhcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGRlYnVnXG4gICAgICAgICAgICAvLyAkKFwiPGRpdj5cIikuY3NzKHtcbiAgICAgICAgICAgIC8vICAgICBwb3NpdGlvbiAgOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAvLyAgICAgbGVmdCAgICAgIDogbWFyZ2luLmxlZnQsXG4gICAgICAgICAgICAvLyAgICAgdG9wICAgICAgIDogbWFyZ2luLnRvcCxcbiAgICAgICAgICAgIC8vICAgICB3aWR0aCAgICAgOiBwYWdlV2lkdGgsXG4gICAgICAgICAgICAvLyAgICAgaGVpZ2h0ICAgIDogcGFnZUhlaWdodCxcbiAgICAgICAgICAgIC8vICAgICBib3hTaXppbmcgOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgICAgIC8vICAgICBiYWNrZ3JvdW5kOiBcInJnYmEoMjU1LCAyNTUsIDAsIDAuNSlcIlxuICAgICAgICAgICAgLy8gICAgIC8vYm9yZGVyICAgIDogXCIxcHggc29saWQgcmVkXCJcbiAgICAgICAgICAgIC8vIH0pLmFwcGVuZFRvKHBhZ2UpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBhZ2VDbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBwYWdlLmNsYXNzTmFtZSA9IG9wdGlvbnMucGFnZUNsYXNzTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICAgICAgICByZXR1cm4gcGFnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZhbGxzT25NYXJnaW4odGhpbmcpIHtcbiAgICAgICAgICAgIHZhciBib3ggPSB0aGluZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGlmIChib3gud2lkdGggPT09IDAgfHwgYm94LmhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEknZCBzYXkgYW4gZWxlbWVudCB3aXRoIGRpbWVuc2lvbnMgemVybyBmaXRzIG9uIGN1cnJlbnQgcGFnZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0b3AgPSBjb3B5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgICAgIHZhciBhdmFpbGFibGUgPSBwYWdlSGVpZ2h0IC0gYWRqdXN0O1xuICAgICAgICAgICAgcmV0dXJuIChib3guaGVpZ2h0ID4gYXZhaWxhYmxlKSA/IDNcbiAgICAgICAgICAgICAgICA6IChib3gudG9wIC0gdG9wID4gYXZhaWxhYmxlKSA/IDFcbiAgICAgICAgICAgICAgICA6IChib3guYm90dG9tIC0gdG9wID4gYXZhaWxhYmxlKSA/IDJcbiAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzcGxpdFRleHQobm9kZSwgaXNGaXJzdCkge1xuICAgICAgICAgICAgaWYgKCEvXFxTLy50ZXN0KG5vZGUuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBsZW4gPSBub2RlLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMobm9kZSk7XG4gICAgICAgICAgICB2YXIgZmFsbCA9IGZhbGxzT25NYXJnaW4ocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKCFmYWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAgICAgLy8gdGhlIHdob2xlIHRleHQgZml0cyBvbiBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5leHRub2RlID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChmYWxsID09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydHMgb24gbmV4dCBwYWdlLCBicmVhayBiZWZvcmUgYW55d2F5LlxuICAgICAgICAgICAgICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGF2b2lkIGxlYXZpbmcgYW4gZW1wdHkgPHA+LCA8bGk+LCBldGMuIG9uIHByZXZpb3VzIHBhZ2UuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrQXRFbGVtZW50KG5vZGUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdEVsZW1lbnQobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uIGZpbmRFT1AobWluLCBwb3MsIG1heCkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgcG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbiA9PSBwb3MgfHwgcG9zID09IG1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsbHNPbk1hcmdpbihyYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaW5kRU9QKG1pbiwgKG1pbiArIHBvcykgPj4gMSwgcG9zKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaW5kRU9QKHBvcywgKHBvcyArIG1heCkgPj4gMSwgbWF4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKDAsIGxlbiA+PiAxLCBsZW4pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEvXFxTLy50ZXN0KHJhbmdlLnRvU3RyaW5nKCkpICYmIGlzRmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgbGVhdmluZyBhbiBlbXB0eSA8cD4sIDxsaT4sIGV0Yy4gb24gcHJldmlvdXMgcGFnZS5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdEVsZW1lbnQobm9kZS5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG9ubHkgbmVlZGVkIGZvciBJRSwgYnV0IGl0IGZlZWxzIGNsZWFuZXIgdG8gZG8gaXQgYW55d2F5LiAgV2l0aG91dFxuICAgICAgICAgICAgICAgICAgICAvLyBpdCwgSUUgd2lsbCB0cnVuY2F0ZSBhIHZlcnkgbG9uZyB0ZXh0IChwbGF5Z3JvdW5kL3BkZi1sb25nLXRleHQtMi5odG1sKS5cbiAgICAgICAgICAgICAgICAgICAgbmV4dG5vZGUgPSBub2RlLnNwbGl0VGV4dChyYW5nZS5lbmRPZmZzZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWdlID0gbWFrZVBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY29weSk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2UuYXBwZW5kQ2hpbGQocmFuZ2UuZXh0cmFjdENvbnRlbnRzKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb3B5LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBhZ2UsIGNvcHkpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50QnVsbGV0T25MaXN0SXRlbShuZXh0bm9kZS5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNwbGl0VGV4dChuZXh0bm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwcmV2ZW50QnVsbGV0T25MaXN0SXRlbShlbCkge1xuICAgICAgICAgICAgLy8gc2V0IGEgaGludCBvbiBjb250aW51ZWQgTEkgZWxlbWVudHMsIHRvIHRlbGwgdGhlXG4gICAgICAgICAgICAvLyByZW5kZXJlciBub3QgdG8gZHJhdyB0aGUgYnVsbGV0IGFnYWluLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tdWktY29yZS9pc3N1ZXMvMjczMlxuICAgICAgICAgICAgdmFyIGxpID0gY2xvc2VzdChlbCwgXCJsaVwiKTtcbiAgICAgICAgICAgIGlmIChsaSkge1xuICAgICAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZShcImtlbmRvLW5vLWJ1bGxldFwiLCBcIjFcIik7XG4gICAgICAgICAgICAgICAgcHJldmVudEJ1bGxldE9uTGlzdEl0ZW0obGkucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZHJhd0RPTS5nZXRGb250RmFjZXMgPSBnZXRGb250RmFjZXM7XG5cbi8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgU3ByZWFkc2hlZXQgcHJpbnQgZnVuY3Rpb25hbGl0eS4gIFNpbmNlXG4vLyB0aGVyZSB3ZSBvbmx5IG5lZWQgdG8gZHJhdyB0ZXh0LCB0aGlzIGN1dHMgdGhyb3VnaCB0aGUgY2VyZW1vbnlcbi8vIG9mIGRyYXdET00vcmVuZGVyRWxlbWVudCBhbmQgcmVuZGVycyB0aGUgdGV4dCBub2RlIGRpcmVjdGx5LlxuZHJhd0RPTS5kcmF3VGV4dCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgZ3JvdXAgPSBuZXcgR3JvdXAoKTtcbiAgICBub2RlSW5mby5fY2xpcGJveCA9IGZhbHNlO1xuICAgIG5vZGVJbmZvLl9tYXRyaXggPSBnZW8uTWF0cml4LnVuaXQoKTtcbiAgICBub2RlSW5mby5fc3RhY2tpbmdDb250ZXh0ID0ge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBncm91cDogZ3JvdXBcbiAgICB9O1xuICAgIHB1c2hOb2RlSW5mbyhlbGVtZW50LCBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLCBncm91cCk7XG4gICAgaWYgKGVsZW1lbnQuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PSAzIC8qIFRleHQgKi8pIHtcbiAgICAgICAgLy8gYXZvaWQgdGhlIHBlbmFsdHkgb2YgcmVuZGVyRWxlbWVudFxuICAgICAgICByZW5kZXJUZXh0KGVsZW1lbnQsIGVsZW1lbnQuZmlyc3RDaGlsZCwgZ3JvdXApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIF9yZW5kZXJFbGVtZW50KGVsZW1lbnQsIGdyb3VwKTtcbiAgICB9XG4gICAgcG9wTm9kZUluZm8oKTtcbiAgICByZXR1cm4gZ3JvdXA7XG59O1xuXG52YXIgcGFyc2VCYWNrZ3JvdW5kSW1hZ2UgPSAoZnVuY3Rpb24oKXtcbiAgICB2YXIgdG9rX2xpbmVhcl9ncmFkaWVudCAgPSAvXigoLXdlYmtpdC18LW1vei18LW8tfC1tcy0pP2xpbmVhci1ncmFkaWVudFxccyopXFwoLztcbiAgICAvL3ZhciB0b2tfcmFkaWFsX2dyYWRpZW50ICA9IC9eKCgtd2Via2l0LXwtbW96LXwtby18LW1zLSk/cmFkaWFsLWdyYWRpZW50XFxzKilcXCgvO1xuICAgIHZhciB0b2tfcGVyY2VudCAgICAgICAgICA9IC9eKFstMC05Ll0rJSkvO1xuICAgIHZhciB0b2tfbGVuZ3RoICAgICAgICAgICA9IC9eKFstMC05Ll0rcHgpLztcbiAgICB2YXIgdG9rX2tleXdvcmQgICAgICAgICAgPSAvXihsZWZ0fHJpZ2h0fHRvcHxib3R0b218dG98Y2VudGVyKVxcVy87XG4gICAgdmFyIHRva19hbmdsZSAgICAgICAgICAgID0gL14oWy0wLTkuXSsoZGVnfGdyYWR8cmFkfHR1cm4pfDApLztcbiAgICB2YXIgdG9rX3doaXRlc3BhY2UgICAgICAgPSAvXihcXHMrKS87XG4gICAgdmFyIHRva19wb3BlbiAgICAgICAgICAgID0gL14oXFwoKS87XG4gICAgdmFyIHRva19wY2xvc2UgICAgICAgICAgID0gL14oXFwpKS87XG4gICAgdmFyIHRva19jb21tYSAgICAgICAgICAgID0gL14oLCkvO1xuICAgIHZhciB0b2tfdXJsICAgICAgICAgICAgICA9IC9eKHVybClcXCgvO1xuICAgIHZhciB0b2tfY29udGVudCAgICAgICAgICA9IC9eKC4qPylcXCkvO1xuXG4gICAgdmFyIGNhY2hlMSA9IHt9LCBjYWNoZTIgPSB7fTtcblxuICAgIGZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7XG4gICAgICAgIHZhciBvcmlnID0gaW5wdXQ7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjYWNoZTEsIG9yaWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUxW29yaWddO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNraXBfd3MoKSB7XG4gICAgICAgICAgICB2YXIgbSA9IHRva193aGl0ZXNwYWNlLmV4ZWMoaW5wdXQpO1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0LnN1YnN0cihtWzFdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVhZCh0b2tlbikge1xuICAgICAgICAgICAgc2tpcF93cygpO1xuICAgICAgICAgICAgdmFyIG0gPSB0b2tlbi5leGVjKGlucHV0KTtcbiAgICAgICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5zdWJzdHIobVsxXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVhZF9zdG9wKCkge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gdXRpbHNfcGFyc2VDb2xvcihpbnB1dCwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoLCBwZXJjZW50O1xuICAgICAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoID1cbiAgICAgICAgICAgICAgICAgICAgL14jWzAtOWEtZl0rL2kuZXhlYyhpbnB1dCkgfHxcbiAgICAgICAgICAgICAgICAgICAgL15yZ2JhP1xcKC4qP1xcKS9pLmV4ZWMoaW5wdXQpIHx8XG4gICAgICAgICAgICAgICAgICAgIC9eLi4qP1xcYi8uZXhlYyhpbnB1dCk7IC8vIG1heWJlIG5hbWVkIGNvbG9yXG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5zdWJzdHIobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBjb2xvciA9IGNvbG9yLnRvUkdCKCk7XG4gICAgICAgICAgICAgICAgaWYgKCEobGVuZ3RoID0gcmVhZCh0b2tfbGVuZ3RoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IHJlYWQodG9rX3BlcmNlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBjb2xvcjogY29sb3IsIGxlbmd0aDogbGVuZ3RoLCBwZXJjZW50OiBwZXJjZW50IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWFkX2xpbmVhcl9ncmFkaWVudChwcm9wTmFtZSkge1xuICAgICAgICAgICAgdmFyIGFuZ2xlO1xuICAgICAgICAgICAgdmFyIHRvMSwgdG8yO1xuICAgICAgICAgICAgdmFyIHN0b3BzID0gW107XG4gICAgICAgICAgICB2YXIgcmV2ZXJzZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAocmVhZCh0b2tfcG9wZW4pKSB7XG4gICAgICAgICAgICAgICAgLy8gMS4gWyA8YW5nbGU+IHx8IHRvIDxzaWRlLW9yLWNvcm5lcj4sIF0/XG4gICAgICAgICAgICAgICAgYW5nbGUgPSByZWFkKHRva19hbmdsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFuZ2xlID09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gXCIwZGVnXCI7IC8vIEVkZ2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gcGFyc2VBbmdsZShhbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlYWQodG9rX2NvbW1hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvMSA9IHJlYWQodG9rX2tleXdvcmQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG8xID09IFwidG9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8xID0gcmVhZCh0b2tfa2V5d29yZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG8xICYmIC9eLS8udGVzdChwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRvMiA9IHJlYWQodG9rX2tleXdvcmQpO1xuICAgICAgICAgICAgICAgICAgICByZWFkKHRva19jb21tYSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKC8tbW96LS8udGVzdChwcm9wTmFtZSkgJiYgYW5nbGUgPT0gbnVsbCAmJiB0bzEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHJlYWQodG9rX3BlcmNlbnQpLCB5ID0gcmVhZCh0b2tfcGVyY2VudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeCA9PSBcIjAlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvMSA9IFwibGVmdFwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHggPT0gXCIxMDAlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvMSA9IFwicmlnaHRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoeSA9PSBcIjAlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvMiA9IFwidG9wXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA9PSBcIjEwMCVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8yID0gXCJib3R0b21cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWFkKHRva19jb21tYSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gMi4gY29sb3Igc3RvcHNcbiAgICAgICAgICAgICAgICB3aGlsZSAoaW5wdXQgJiYgIXJlYWQodG9rX3BjbG9zZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3AgPSByZWFkX3N0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHN0b3ApO1xuICAgICAgICAgICAgICAgICAgICByZWFkKHRva19jb21tYSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSAgICA6IFwibGluZWFyXCIsXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlICAgOiBhbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgdG8gICAgICA6IHRvMSAmJiB0bzIgPyB0bzEgKyBcIiBcIiArIHRvMiA6IHRvMSA/IHRvMSA6IHRvMiA/IHRvMiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0b3BzICAgOiBzdG9wcyxcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA6IHJldmVyc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVhZF91cmwoKSB7XG4gICAgICAgICAgICBpZiAocmVhZCh0b2tfcG9wZW4pKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlYWQodG9rX2NvbnRlbnQpO1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9eWydcIl0rfFtcIiddKyQvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgcmVhZCh0b2tfcGNsb3NlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcInVybFwiLCB1cmw6IHVybCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvaztcblxuICAgICAgICBpZiAoKHRvayA9IHJlYWQodG9rX2xpbmVhcl9ncmFkaWVudCkpKSB7XG4gICAgICAgICAgICB0b2sgPSByZWFkX2xpbmVhcl9ncmFkaWVudCh0b2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh0b2sgPSByZWFkKHRva191cmwpKSkge1xuICAgICAgICAgICAgdG9rID0gcmVhZF91cmwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoY2FjaGUxW29yaWddID0gdG9rIHx8IHsgdHlwZTogXCJub25lXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjYWNoZTIsIGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlMltpbnB1dF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChjYWNoZTJbaW5wdXRdID0gc3BsaXRQcm9wZXJ0eShpbnB1dCkubWFwKHBhcnNlKSk7XG4gICAgfTtcbn0pKCk7XG5cbnZhciBzcGxpdFByb3BlcnR5ID0gKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGNhY2hlID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBzZXBhcmF0b3IpIHtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IC9eXFxzKixcXHMqLztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYWNoZUtleSA9IGlucHV0ICsgc2VwYXJhdG9yO1xuXG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjYWNoZSwgY2FjaGVLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbY2FjaGVLZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICB2YXIgbGFzdCA9IDAsIHBvcyA9IDA7XG4gICAgICAgIHZhciBpbl9wYXJlbiA9IDA7XG4gICAgICAgIHZhciBpbl9zdHJpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIG07XG5cbiAgICAgICAgZnVuY3Rpb24gbG9va2luZ19hdChyeCkge1xuICAgICAgICAgICAgcmV0dXJuIChtID0gcnguZXhlYyhpbnB1dC5zdWJzdHIocG9zKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIik7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAocG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoIWluX3N0cmluZyAmJiBsb29raW5nX2F0KC9eW1xcKFxcW1xce10vKSkge1xuICAgICAgICAgICAgICAgIGluX3BhcmVuKys7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghaW5fc3RyaW5nICYmIGxvb2tpbmdfYXQoL15bXFwpXFxdXFx9XS8pKSB7XG4gICAgICAgICAgICAgICAgaW5fcGFyZW4tLTtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpbl9zdHJpbmcgJiYgbG9va2luZ19hdCgvXltcXFwiXFwnXS8pKSB7XG4gICAgICAgICAgICAgICAgaW5fc3RyaW5nID0gbVswXTtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGluX3N0cmluZyA9PSBcIidcIiAmJiBsb29raW5nX2F0KC9eXFxcXFxcJy8pKSB7XG4gICAgICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbl9zdHJpbmcgPT0gJ1wiJyAmJiBsb29raW5nX2F0KC9eXFxcXFxcXCIvKSkge1xuICAgICAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5fc3RyaW5nID09IFwiJ1wiICYmIGxvb2tpbmdfYXQoL15cXCcvKSkge1xuICAgICAgICAgICAgICAgIGluX3N0cmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5fc3RyaW5nID09ICdcIicgJiYgbG9va2luZ19hdCgvXlxcXCIvKSkge1xuICAgICAgICAgICAgICAgIGluX3N0cmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobG9va2luZ19hdChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbl9zdHJpbmcgJiYgIWluX3BhcmVuICYmIHBvcyA+IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godHJpbShpbnB1dC5zdWJzdHJpbmcobGFzdCwgcG9zKSkpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gcG9zICsgbVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvcyArPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0IDwgcG9zKSB7XG4gICAgICAgICAgICByZXQucHVzaCh0cmltKGlucHV0LnN1YnN0cmluZyhsYXN0LCBwb3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChjYWNoZVtjYWNoZUtleV0gPSByZXQpO1xuICAgIH07XG59KSgpO1xuXG52YXIgZ2V0Rm9udFVSTCA9IChmdW5jdGlvbihjYWNoZSl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgLy8gWFhYOiBmb3IgSUUgd2UgZ2V0IGhlcmUgdGhlIHdob2xlIGNzc1RleHQgb2YgdGhlIHJ1bGUsXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGNvbXB1dGVkU3R5bGUuc3JjIGlzIGVtcHR5LiAgTmV4dCB0aW1lIHdlIG5lZWRcbiAgICAgICAgLy8gdG8gZml4IHRoZXNlIHJlZ2V4cHMgd2UgYmV0dGVyIHdyaXRlIGEgQ1NTIHBhcnNlci4gOi1cXFxuICAgICAgICB2YXIgdXJsID0gY2FjaGVbZWxdO1xuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgdmFyIG07XG4gICAgICAgICAgICBpZiAoKG0gPSAvdXJsXFwoKFsnXCJdPykoW14nXCIpXSo/KVxcMVxcKVxccytmb3JtYXRcXCgoWydcIl0/KXRydWV0eXBlXFwzXFwpLy5leGVjKGVsKSkpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBjYWNoZVtlbF0gPSBtWzJdO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgobSA9IC91cmxcXCgoWydcIl0/KShbXidcIildKj9cXC50dGYpXFwxXFwpLy5leGVjKGVsKSkpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBjYWNoZVtlbF0gPSBtWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfTtcbn0pKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG52YXIgZ2V0Rm9udEhlaWdodCA9IChmdW5jdGlvbihjYWNoZSl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZvbnQpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNhY2hlW2ZvbnRdO1xuICAgICAgICBpZiAoaGVpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IGNhY2hlW2ZvbnRdID0gbWVhc3VyZVRleHQoXCJNYXBxXCIsIHsgZm9udDogZm9udCB9KS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9O1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmZ1bmN0aW9uIGdldEZvbnRGYWNlcyhkb2MpIHtcbiAgICBpZiAoZG9jID09IG51bGwpIHtcbiAgICAgICAgZG9jID0gZG9jdW1lbnQ7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5zdHlsZVNoZWV0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBkb1N0eWxlc2hlZXQoZG9jLnN0eWxlU2hlZXRzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgICBmdW5jdGlvbiBkb1N0eWxlc2hlZXQoc3MpIHtcbiAgICAgICAgaWYgKHNzKSB7XG4gICAgICAgICAgICB2YXIgcnVsZXMgPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBydWxlcyA9IHNzLmNzc1J1bGVzO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHt9XG4gICAgICAgICAgICBpZiAocnVsZXMpIHtcbiAgICAgICAgICAgICAgICBhZGRSdWxlcyhzcywgcnVsZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRGb250cyhydWxlKSB7XG4gICAgICAgIHZhciBzcmMgPSBnZXRQcm9wZXJ0eVZhbHVlKHJ1bGUuc3R5bGUsIFwic3JjXCIpO1xuICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgICByZXR1cm4gc3BsaXRQcm9wZXJ0eShzcmMpLnJlZHVjZShmdW5jdGlvbihhLCBlbCl7XG4gICAgICAgICAgICAgICAgdmFyIGZvbnQgPSBnZXRGb250VVJMKGVsKTtcbiAgICAgICAgICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2goZm9udCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSW50ZXJuZXQgRXhwbG9yZXJcbiAgICAgICAgICAgIC8vIFhYWDogdGhpcyBpcyBncm9zcy4gIHNob3VsZCB3b3JrIHRob3VnaCBmb3IgdmFsaWQgQ1NTLlxuICAgICAgICAgICAgdmFyIGZvbnQgPSBnZXRGb250VVJMKHJ1bGUuY3NzVGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gZm9udCA/IFsgZm9udCBdIDogW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkUnVsZXMoc3R5bGVTaGVldCwgcnVsZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHIgPSBydWxlc1tpXTtcbiAgICAgICAgICAgIHN3aXRjaCAoci50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgMzogICAgICAgLy8gQ1NTSW1wb3J0UnVsZVxuICAgICAgICAgICAgICAgIGRvU3R5bGVzaGVldChyLnN0eWxlU2hlZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDU6ICAgICAgIC8vIENTU0ZvbnRGYWNlUnVsZVxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSAgPSByLnN0eWxlO1xuICAgICAgICAgICAgICAgIHZhciBmYW1pbHkgPSBzcGxpdFByb3BlcnR5KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiZm9udC1mYW1pbHlcIikpO1xuICAgICAgICAgICAgICAgIHZhciBib2xkICAgPSAvXihbNTY3ODldMDB8Ym9sZCkkL2kudGVzdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImZvbnQtd2VpZ2h0XCIpKTtcbiAgICAgICAgICAgICAgICB2YXIgaXRhbGljID0gXCJpdGFsaWNcIiA9PSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImZvbnQtc3R5bGVcIik7XG4gICAgICAgICAgICAgICAgdmFyIHNyYyAgICA9IGZpbmRGb250cyhyKTtcbiAgICAgICAgICAgICAgICBpZiAoc3JjLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUnVsZShzdHlsZVNoZWV0LCBmYW1pbHksIGJvbGQsIGl0YWxpYywgc3JjWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkUnVsZShzdHlsZVNoZWV0LCBuYW1lcywgYm9sZCwgaXRhbGljLCB1cmwpIHtcbiAgICAgICAgLy8gV2UgZ2V0IGZ1bGwgcmVzb2x2ZWQgYWJzb2x1dGUgVVJMcyBpbiBDaHJvbWUsIGJ1dCBzYWRseVxuICAgICAgICAvLyBub3QgaW4gRmlyZWZveC5cbiAgICAgICAgaWYgKCEoL15kYXRhOi9pLnRlc3QodXJsKSkpIHtcbiAgICAgICAgICAgIGlmICghKC9eW15cXC86XSs6XFwvXFwvLy50ZXN0KHVybCkgfHwgL15cXC8vLnRlc3QodXJsKSkpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBTdHJpbmcoc3R5bGVTaGVldC5ocmVmKS5yZXBsYWNlKC9bXlxcL10qJC8sIFwiXCIpICsgdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5hbWVzLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9eKFsnXCJdPykoLio/KVxcMSQvLCBcIiQyXCIpOyAvLyBpdCdzIHF1b3RlZFxuICAgICAgICAgICAgaWYgKGJvbGQpIHtcbiAgICAgICAgICAgICAgICBuYW1lICs9IFwifGJvbGRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGFsaWMpIHtcbiAgICAgICAgICAgICAgICBuYW1lICs9IFwifGl0YWxpY1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gdXJsO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5cbmZ1bmN0aW9uIGdldENvdW50ZXIobmFtZSkge1xuICAgIG5hbWUgPSBcIl9jb3VudGVyX1wiICsgbmFtZTtcbiAgICByZXR1cm4gbm9kZUluZm9bbmFtZV07XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvdW50ZXJzKG5hbWUpIHtcbiAgICB2YXIgdmFsdWVzID0gW10sIHAgPSBub2RlSW5mbztcbiAgICBuYW1lID0gXCJfY291bnRlcl9cIiArIG5hbWU7XG4gICAgd2hpbGUgKHApIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHAsIG5hbWUpKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChwW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBwID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzLnJldmVyc2UoKTtcbn1cblxuZnVuY3Rpb24gaW5jQ291bnRlcihuYW1lLCBpbmMpIHtcbiAgICB2YXIgcCA9IG5vZGVJbmZvO1xuICAgIG5hbWUgPSBcIl9jb3VudGVyX1wiICsgbmFtZTtcbiAgICB3aGlsZSAocCAmJiAhaGFzT3duUHJvcGVydHkocCwgbmFtZSkpIHtcbiAgICAgICAgcCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwKTtcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICAgIHAgPSBub2RlSW5mby5fcm9vdDtcbiAgICB9XG4gICAgcFtuYW1lXSA9IChwW25hbWVdIHx8IDApICsgKGluYyA9PSBudWxsID8gMSA6IGluYyk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0Q291bnRlcihuYW1lLCB2YWwpIHtcbiAgICBuYW1lID0gXCJfY291bnRlcl9cIiArIG5hbWU7XG4gICAgbm9kZUluZm9bbmFtZV0gPSB2YWwgPT0gbnVsbCA/IDAgOiB2YWw7XG59XG5cbmZ1bmN0aW9uIGRvQ291bnRlcnMoYSwgZiwgZGVmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDspIHtcbiAgICAgICAgdmFyIG5hbWUgPSBhW2krK107XG4gICAgICAgIHZhciB2YWwgPSBwYXJzZUZsb2F0KGFbaV0pO1xuICAgICAgICBpZiAoaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgZihuYW1lLCBkZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZihuYW1lLCB2YWwpO1xuICAgICAgICAgICAgKytpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDb3VudGVycyhzdHlsZSkge1xuICAgIHZhciBjb3VudGVyUmVzZXQgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImNvdW50ZXItcmVzZXRcIik7XG4gICAgaWYgKGNvdW50ZXJSZXNldCkge1xuICAgICAgICBkb0NvdW50ZXJzKHNwbGl0UHJvcGVydHkoY291bnRlclJlc2V0LCAvXlxccysvKSwgcmVzZXRDb3VudGVyLCAwKTtcbiAgICB9XG4gICAgdmFyIGNvdW50ZXJJbmNyZW1lbnQgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImNvdW50ZXItaW5jcmVtZW50XCIpO1xuICAgIGlmIChjb3VudGVySW5jcmVtZW50KSB7XG4gICAgICAgIGRvQ291bnRlcnMoc3BsaXRQcm9wZXJ0eShjb3VudGVySW5jcmVtZW50LCAvXlxccysvKSwgaW5jQ291bnRlciwgMSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUNvbG9yKHN0ciwgY3NzKSB7XG4gICAgdmFyIGNvbG9yID0gdXRpbHNfcGFyc2VDb2xvcihzdHIsIHRydWUpO1xuICAgIGlmIChjb2xvcikge1xuICAgICAgICBjb2xvciA9IGNvbG9yLnRvUkdCKCk7XG4gICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3IudG9Dc3NSZ2JhKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29sb3IuYSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbn1cblxuZnVuY3Rpb24gd2hlbkltYWdlc0FyZUFjdHVhbGx5TG9hZGVkKGVsZW1lbnRzLCBjYWxsYmFjaykge1xuICAgIHZhciBwZW5kaW5nID0gMDtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgdmFyIGltYWdlcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gaW1hZ2VzW2ldO1xuICAgICAgICAgICAgaWYgKCFpbWcuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nKys7XG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGltZy5vbmVycm9yID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghcGVuZGluZykge1xuICAgICAgICBuZXh0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGlmICgtLXBlbmRpbmcgPD0gMCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FjaGVJbWFnZXMoZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdXJscyA9IFtdO1xuICAgIGZ1bmN0aW9uIGFkZCh1cmwpIHtcbiAgICAgICAgaWYgKCFJTUFHRV9DQUNIRVt1cmxdKSB7XG4gICAgICAgICAgICBJTUFHRV9DQUNIRVt1cmxdID0gdHJ1ZTtcbiAgICAgICAgICAgIHVybHMucHVzaCh1cmwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpdmUoZWxlbWVudCl7XG4gICAgICAgIGlmICgvXmltZyQvaS50ZXN0KGVsZW1lbnQudGFnTmFtZSkpIHtcbiAgICAgICAgICAgIGFkZChlbGVtZW50LnNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VCYWNrZ3JvdW5kSW1hZ2UoXG4gICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKFxuICAgICAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksIFwiYmFja2dyb3VuZC1pbWFnZVwiXG4gICAgICAgICAgICApXG4gICAgICAgICkuZm9yRWFjaChmdW5jdGlvbihiZyl7XG4gICAgICAgICAgICBpZiAoYmcudHlwZSA9PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgICAgYWRkKGJnLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzbGljZShlbGVtZW50LmNoaWxkcmVuKS5mb3JFYWNoKGRpdmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKGRpdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdmUoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgdmFyIGNvdW50ID0gdXJscy5sZW5ndGg7XG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgaWYgKC0tY291bnQgPD0gMCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbiAgICB1cmxzLmZvckVhY2goZnVuY3Rpb24odXJsKXtcbiAgICAgICAgdmFyIGltZyA9IElNQUdFX0NBQ0hFW3VybF0gPSBuZXcgd2luZG93LkltYWdlKCk7XG4gICAgICAgIGlmICghKC9eZGF0YTovaS50ZXN0KHVybCkpKSB7XG4gICAgICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xuICAgICAgICB9XG4gICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgICAgIGlmIChpbWcuY29tcGxldGUpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBuZXh0O1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBJTUFHRV9DQUNIRVt1cmxdID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFscGhhTnVtZXJhbChuKSB7XG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgZG8ge1xuICAgICAgICB2YXIgciA9IG4gJSAyNjtcbiAgICAgICAgcmVzdWx0ID0gU3RyaW5nLmZyb21DaGFyQ29kZSg5NyArIHIpICsgcmVzdWx0O1xuICAgICAgICBuID0gTWF0aC5mbG9vcihuIC8gMjYpO1xuICAgIH0gd2hpbGUgKG4gPiAwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwdXNoTm9kZUluZm8oZWxlbWVudCwgc3R5bGUsIGdyb3VwKSB7XG4gICAgbm9kZUluZm8gPSBPYmplY3QuY3JlYXRlKG5vZGVJbmZvKTtcbiAgICBub2RlSW5mb1tlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKV0gPSB7XG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgIHN0eWxlOiBzdHlsZVxuICAgIH07XG4gICAgdmFyIGRlY29yYXRpb24gPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInRleHQtZGVjb3JhdGlvblwiKTtcbiAgICBpZiAoZGVjb3JhdGlvbiAmJiBkZWNvcmF0aW9uICE9IFwibm9uZVwiKSB7XG4gICAgICAgIHZhciBjb2xvciA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiY29sb3JcIik7XG4gICAgICAgIGRlY29yYXRpb24uc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihuYW1lKXtcbiAgICAgICAgICAgIGlmICghbm9kZUluZm9bbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBub2RlSW5mb1tuYW1lXSA9IGNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY3JlYXRlc1N0YWNraW5nQ29udGV4dChzdHlsZSkpIHtcbiAgICAgICAgbm9kZUluZm8uX3N0YWNraW5nQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBncm91cDogZ3JvdXBcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBvcE5vZGVJbmZvKCkge1xuICAgIG5vZGVJbmZvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG5vZGVJbmZvKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2xpcGJveChwYXRoKSB7XG4gICAgaWYgKG5vZGVJbmZvLl9jbGlwYm94ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGJveCA9IHBhdGguYmJveChub2RlSW5mby5fbWF0cml4KTtcbiAgICAgICAgaWYgKG5vZGVJbmZvLl9jbGlwYm94KSB7XG4gICAgICAgICAgICBub2RlSW5mby5fY2xpcGJveCA9IGdlby5SZWN0LmludGVyc2VjdChub2RlSW5mby5fY2xpcGJveCwgYm94KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVJbmZvLl9jbGlwYm94ID0gYm94O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlbXB0eUNsaXBib3goKSB7XG4gICAgdmFyIGNiID0gbm9kZUluZm8uX2NsaXBib3g7XG4gICAgaWYgKGNiID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjYikge1xuICAgICAgICByZXR1cm4gY2Iud2lkdGgoKSA9PT0gMCB8fCBjYi5oZWlnaHQoKSA9PT0gMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZXNTdGFja2luZ0NvbnRleHQoc3R5bGUpIHtcbiAgICBmdW5jdGlvbiBwcm9wKG5hbWUpIHsgcmV0dXJuIGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIG5hbWUpOyB9XG4gICAgaWYgKHByb3AoXCJ0cmFuc2Zvcm1cIikgIT0gXCJub25lXCIgfHxcbiAgICAgICAgcHJvcChcInBvc2l0aW9uXCIpICE9IFwic3RhdGljXCIgfHxcbiAgICAgICAgcHJvcChcInotaW5kZXhcIikgIT0gXCJhdXRvXCIgfHxcbiAgICAgICAgcHJvcChcIm9wYWNpdHlcIikgPCAxKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBwc2V1ZG9FbHQpIHtcbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgcHNldWRvRWx0IHx8IG51bGwpO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBwcm9wLCBkZWZhKSB7XG4gICAgdmFyIHZhbCA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XG4gICAgaWYgKHZhbCA9PSBudWxsIHx8IHZhbCA9PT0gXCJcIikge1xuICAgICAgICBpZiAoYnJvd3Nlci53ZWJraXQpIHtcbiAgICAgICAgICAgIHZhbCA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCItd2Via2l0LVwiICsgcHJvcCApO1xuICAgICAgICB9IGVsc2UgaWYgKGJyb3dzZXIubW96aWxsYSkge1xuICAgICAgICAgICAgdmFsID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcIi1tb3otXCIgKyBwcm9wICk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnJvd3Nlci5vcGVyYSkge1xuICAgICAgICAgICAgdmFsID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcIi1vLVwiICsgcHJvcCk7XG4gICAgICAgIH0gZWxzZSBpZiAobWljcm9zb2Z0KSB7XG4gICAgICAgICAgICB2YWwgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiLW1zLVwiICsgcHJvcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmICh2YWwgPT0gbnVsbCB8fCB2YWwgPT09IFwiXCIpKSB7XG4gICAgICAgIHJldHVybiBkZWZhO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwbGVhc2VTZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBwcm9wLCB2YWx1ZSwgaW1wb3J0YW50KSB7XG4gICAgc3R5bGUuc2V0UHJvcGVydHkocHJvcCwgdmFsdWUsIGltcG9ydGFudCk7XG4gICAgaWYgKGJyb3dzZXIud2Via2l0KSB7XG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFwiLXdlYmtpdC1cIiArIHByb3AsIHZhbHVlLCBpbXBvcnRhbnQpO1xuICAgIH0gZWxzZSBpZiAoYnJvd3Nlci5tb3ppbGxhKSB7XG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFwiLW1vei1cIiArIHByb3AsIHZhbHVlLCBpbXBvcnRhbnQpO1xuICAgIH0gZWxzZSBpZiAoYnJvd3Nlci5vcGVyYSkge1xuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcIi1vLVwiICsgcHJvcCwgdmFsdWUsIGltcG9ydGFudCk7XG4gICAgfSBlbHNlIGlmIChtaWNyb3NvZnQpIHtcbiAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoXCItbXMtXCIgKyBwcm9wLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICAgICAgcHJvcCA9IFwibXNcIiArIHByb3AucmVwbGFjZSgvKF58LSkoW2Etel0pL2csIGZ1bmN0aW9uKHMsIHAxLCBwMil7XG4gICAgICAgICAgICByZXR1cm4gcDEgKyBwMi50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEJvcmRlcihzdHlsZSwgc2lkZSkge1xuICAgIHNpZGUgPSBcImJvcmRlci1cIiArIHNpZGU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgc2lkZSArIFwiLXdpZHRoXCIpKSxcbiAgICAgICAgc3R5bGU6IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIHNpZGUgKyBcIi1zdHlsZVwiKSxcbiAgICAgICAgY29sb3I6IHBhcnNlQ29sb3IoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgc2lkZSArIFwiLWNvbG9yXCIpLCB0cnVlKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHNhdmVTdHlsZShlbGVtZW50LCBmdW5jKSB7XG4gICAgdmFyIHByZXYgPSBlbGVtZW50LnN0eWxlLmNzc1RleHQ7XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMoKTtcbiAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBwcmV2O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGdldEJvcmRlclJhZGl1cyhzdHlsZSwgc2lkZSkge1xuICAgIHZhciByID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJib3JkZXItXCIgKyBzaWRlICsgXCItcmFkaXVzXCIpLnNwbGl0KC9cXHMrL2cpLm1hcChwYXJzZUZsb2F0KTtcbiAgICBpZiAoci5sZW5ndGggPT0gMSkge1xuICAgICAgICByLnB1c2goclswXSk7XG4gICAgfVxuICAgIHJldHVybiBzYW5pdGl6ZVJhZGl1cyh7IHg6IHJbMF0sIHk6IHJbMV0gfSk7XG59XG5cbmZ1bmN0aW9uIGdldENvbnRlbnRCb3goZWxlbWVudCkge1xuICAgIHZhciBib3ggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGJveCA9IGlubmVyQm94KGJveCwgXCJib3JkZXItKi13aWR0aFwiLCBlbGVtZW50KTtcbiAgICBib3ggPSBpbm5lckJveChib3gsIFwicGFkZGluZy0qXCIsIGVsZW1lbnQpO1xuICAgIHJldHVybiBib3g7XG59XG5cbmZ1bmN0aW9uIGlubmVyQm94KGJveCwgcHJvcCwgZWxlbWVudCkge1xuICAgIHZhciBzdHlsZSwgd3QsIHdyLCB3Yiwgd2w7XG4gICAgaWYgKHR5cGVvZiBwcm9wID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICB3dCA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgcHJvcC5yZXBsYWNlKFwiKlwiLCBcInRvcFwiKSkpO1xuICAgICAgICB3ciA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgcHJvcC5yZXBsYWNlKFwiKlwiLCBcInJpZ2h0XCIpKSk7XG4gICAgICAgIHdiID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBwcm9wLnJlcGxhY2UoXCIqXCIsIFwiYm90dG9tXCIpKSk7XG4gICAgICAgIHdsID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBwcm9wLnJlcGxhY2UoXCIqXCIsIFwibGVmdFwiKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcHJvcCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHd0ID0gd3IgPSB3YiA9IHdsID0gcHJvcDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wICAgIDogYm94LnRvcCArIHd0LFxuICAgICAgICByaWdodCAgOiBib3gucmlnaHQgLSB3cixcbiAgICAgICAgYm90dG9tIDogYm94LmJvdHRvbSAtIHdiLFxuICAgICAgICBsZWZ0ICAgOiBib3gubGVmdCArIHdsLFxuICAgICAgICB3aWR0aCAgOiBib3gucmlnaHQgLSBib3gubGVmdCAtIHdyIC0gd2wsXG4gICAgICAgIGhlaWdodCA6IGJveC5ib3R0b20gLSBib3gudG9wIC0gd2IgLSB3dFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybShzdHlsZSkge1xuICAgIHZhciB0cmFuc2Zvcm0gPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInRyYW5zZm9ybVwiKTtcbiAgICBpZiAodHJhbnNmb3JtID09IFwibm9uZVwiKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgbWF0cml4ID0gL15cXHMqbWF0cml4XFwoXFxzKiguKj8pXFxzKlxcKVxccyokLy5leGVjKHRyYW5zZm9ybSk7XG4gICAgaWYgKG1hdHJpeCkge1xuICAgICAgICB2YXIgb3JpZ2luID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCIpO1xuICAgICAgICBtYXRyaXggPSBtYXRyaXhbMV0uc3BsaXQoL1xccyosXFxzKi9nKS5tYXAocGFyc2VGbG9hdCk7XG4gICAgICAgIG9yaWdpbiA9IG9yaWdpbi5zcGxpdCgvXFxzKy9nKS5tYXAocGFyc2VGbG9hdCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXRyaXg6IG1hdHJpeCxcbiAgICAgICAgICAgIG9yaWdpbjogb3JpZ2luXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiByYWRpYW5zVG9EZWdyZWVzKHJhZGlhbnMpIHtcbiAgICByZXR1cm4gKCgxODAgKiByYWRpYW5zKSAvIE1hdGguUEkpICUgMzYwO1xufVxuXG5mdW5jdGlvbiBwYXJzZUFuZ2xlKGFuZ2xlKSB7XG4gICAgdmFyIG51bSA9IHBhcnNlRmxvYXQoYW5nbGUpO1xuICAgIGlmICgvZ3JhZCQvLnRlc3QoYW5nbGUpKSB7XG4gICAgICAgIHJldHVybiBNYXRoLlBJICogbnVtIC8gMjAwO1xuICAgIH1cbiAgICBlbHNlIGlmICgvcmFkJC8udGVzdChhbmdsZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gICAgZWxzZSBpZiAoL3R1cm4kLy50ZXN0KGFuZ2xlKSkge1xuICAgICAgICByZXR1cm4gTWF0aC5QSSAqIG51bSAqIDI7XG4gICAgfVxuICAgIGVsc2UgaWYgKC9kZWckLy50ZXN0KGFuZ2xlKSkge1xuICAgICAgICByZXR1cm4gTWF0aC5QSSAqIG51bSAvIDE4MDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFRyYW5zZm9ybShzaGFwZSwgbSkge1xuICAgIG0gPSBuZXcgZ2VvLk1hdHJpeChtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcbiAgICBzaGFwZS50cmFuc2Zvcm0obSk7XG4gICAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIHNldENsaXBwaW5nKHNoYXBlLCBjbGlwUGF0aCkge1xuICAgIHNoYXBlLmNsaXAoY2xpcFBhdGgpO1xufVxuXG5mdW5jdGlvbiBhZGRBcmNUb1BhdGgocGF0aCwgeCwgeSwgb3B0aW9ucykge1xuICAgIHZhciBwb2ludHMgPSBuZXcgZ2VvLkFyYyhbIHgsIHkgXSwgb3B0aW9ucykuY3VydmVQb2ludHMoKSwgaSA9IDE7XG4gICAgd2hpbGUgKGkgPCBwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgIHBhdGguY3VydmVUbyhwb2ludHNbaSsrXSwgcG9pbnRzW2krK10sIHBvaW50c1tpKytdKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplUmFkaXVzKHIpIHtcbiAgICBpZiAoci54IDw9IDAgfHwgci55IDw9IDApIHtcbiAgICAgICAgci54ID0gci55ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGFkanVzdEJvcmRlclJhZGl1c0ZvckJveChib3gsIHJUTCwgclRSLCByQlIsIHJCTCkge1xuICAgIC8vIGFkanVzdCBib3JkZXIgcmFkaXVzZXMgc3VjaCB0aGF0IHRoZSBzdW0gb2YgYWRqYWNlbnRcbiAgICAvLyByYWRpdXNlcyBpcyBub3QgYmlnZ2VyIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgc2lkZS5cbiAgICAvLyBzZWVtcyB0aGUgY29ycmVjdCBhbGdvcml0aG0gaXMgdmFyaWFudCAoMykgZnJvbSBoZXJlOlxuICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1N0eWxlL0NTUy9UcmFja2VyL2lzc3Vlcy8yOT9jaGFuZ2Vsb2dcbiAgICB2YXIgdGxfeCA9IE1hdGgubWF4KDAsIHJUTC54KSwgdGxfeSA9IE1hdGgubWF4KDAsIHJUTC55KTtcbiAgICB2YXIgdHJfeCA9IE1hdGgubWF4KDAsIHJUUi54KSwgdHJfeSA9IE1hdGgubWF4KDAsIHJUUi55KTtcbiAgICB2YXIgYnJfeCA9IE1hdGgubWF4KDAsIHJCUi54KSwgYnJfeSA9IE1hdGgubWF4KDAsIHJCUi55KTtcbiAgICB2YXIgYmxfeCA9IE1hdGgubWF4KDAsIHJCTC54KSwgYmxfeSA9IE1hdGgubWF4KDAsIHJCTC55KTtcblxuICAgIHZhciBmID0gTWF0aC5taW4oXG4gICAgICAgIGJveC53aWR0aCAvICh0bF94ICsgdHJfeCksXG4gICAgICAgIGJveC5oZWlnaHQgLyAodHJfeSArIGJyX3kpLFxuICAgICAgICBib3gud2lkdGggLyAoYnJfeCArIGJsX3gpLFxuICAgICAgICBib3guaGVpZ2h0IC8gKGJsX3kgKyB0bF95KVxuICAgICk7XG5cbiAgICBpZiAoZiA8IDEpIHtcbiAgICAgICAgdGxfeCAqPSBmOyB0bF95ICo9IGY7XG4gICAgICAgIHRyX3ggKj0gZjsgdHJfeSAqPSBmO1xuICAgICAgICBicl94ICo9IGY7IGJyX3kgKj0gZjtcbiAgICAgICAgYmxfeCAqPSBmOyBibF95ICo9IGY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGw6IHsgeDogdGxfeCwgeTogdGxfeSB9LFxuICAgICAgICB0cjogeyB4OiB0cl94LCB5OiB0cl95IH0sXG4gICAgICAgIGJyOiB7IHg6IGJyX3gsIHk6IGJyX3kgfSxcbiAgICAgICAgYmw6IHsgeDogYmxfeCwgeTogYmxfeSB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudFJvdW5kQm94KGVsZW1lbnQsIGJveCwgdHlwZSkge1xuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICB2YXIgclRMID0gZ2V0Qm9yZGVyUmFkaXVzKHN0eWxlLCBcInRvcC1sZWZ0XCIpO1xuICAgIHZhciByVFIgPSBnZXRCb3JkZXJSYWRpdXMoc3R5bGUsIFwidG9wLXJpZ2h0XCIpO1xuICAgIHZhciByQkwgPSBnZXRCb3JkZXJSYWRpdXMoc3R5bGUsIFwiYm90dG9tLWxlZnRcIik7XG4gICAgdmFyIHJCUiA9IGdldEJvcmRlclJhZGl1cyhzdHlsZSwgXCJib3R0b20tcmlnaHRcIik7XG5cbiAgICBpZiAodHlwZSA9PSBcInBhZGRpbmdcIiB8fCB0eXBlID09IFwiY29udGVudFwiKSB7XG4gICAgICAgIHZhciBidCA9IGdldEJvcmRlcihzdHlsZSwgXCJ0b3BcIik7XG4gICAgICAgIHZhciBiciA9IGdldEJvcmRlcihzdHlsZSwgXCJyaWdodFwiKTtcbiAgICAgICAgdmFyIGJiID0gZ2V0Qm9yZGVyKHN0eWxlLCBcImJvdHRvbVwiKTtcbiAgICAgICAgdmFyIGJsID0gZ2V0Qm9yZGVyKHN0eWxlLCBcImxlZnRcIik7XG4gICAgICAgIHJUTC54IC09IGJsLndpZHRoOyByVEwueSAtPSBidC53aWR0aDtcbiAgICAgICAgclRSLnggLT0gYnIud2lkdGg7IHJUUi55IC09IGJ0LndpZHRoO1xuICAgICAgICByQlIueCAtPSBici53aWR0aDsgckJSLnkgLT0gYmIud2lkdGg7XG4gICAgICAgIHJCTC54IC09IGJsLndpZHRoOyByQkwueSAtPSBiYi53aWR0aDtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJjb250ZW50XCIpIHtcbiAgICAgICAgICAgIHZhciBwdCA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJwYWRkaW5nLXRvcFwiKSk7XG4gICAgICAgICAgICB2YXIgcHIgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwicGFkZGluZy1yaWdodFwiKSk7XG4gICAgICAgICAgICB2YXIgcGIgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwicGFkZGluZy1ib3R0b21cIikpO1xuICAgICAgICAgICAgdmFyIHBsID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInBhZGRpbmctbGVmdFwiKSk7XG4gICAgICAgICAgICByVEwueCAtPSBwbDsgclRMLnkgLT0gcHQ7XG4gICAgICAgICAgICByVFIueCAtPSBwcjsgclRSLnkgLT0gcHQ7XG4gICAgICAgICAgICByQlIueCAtPSBwcjsgckJSLnkgLT0gcGI7XG4gICAgICAgICAgICByQkwueCAtPSBwbDsgckJMLnkgLT0gcGI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHR5cGUgPT0gXCJudW1iZXJcIikge1xuICAgICAgICByVEwueCAtPSB0eXBlOyByVEwueSAtPSB0eXBlO1xuICAgICAgICByVFIueCAtPSB0eXBlOyByVFIueSAtPSB0eXBlO1xuICAgICAgICByQlIueCAtPSB0eXBlOyByQlIueSAtPSB0eXBlO1xuICAgICAgICByQkwueCAtPSB0eXBlOyByQkwueSAtPSB0eXBlO1xuICAgIH1cblxuICAgIHJldHVybiByb3VuZEJveChib3gsIHJUTCwgclRSLCByQlIsIHJCTCk7XG59XG5cbi8vIENyZWF0ZSBhIGRyYXdpbmcuUGF0aCBmb3IgYSByb3VuZGVkIHJlY3RhbmdsZS4gIFJlY2VpdmVzIHRoZVxuLy8gYm91bmRpbmcgYm94IGFuZCB0aGUgYm9yZGVyLXJhZGl1c2VzIGluIENTUyBvcmRlciAodG9wLWxlZnQsXG4vLyB0b3AtcmlnaHQsIGJvdHRvbS1yaWdodCwgYm90dG9tLWxlZnQpLiAgVGhlIHJhZGl1c2VzIG11c3QgYmVcbi8vIG9iamVjdHMgY29udGFpbmluZyB4IChob3Jpei4gcmFkaXVzKSBhbmQgeSAodmVydGljYWwgcmFkaXVzKS5cbmZ1bmN0aW9uIHJvdW5kQm94KGJveCwgclRMMCwgclRSMCwgckJSMCwgckJMMCkge1xuICAgIHZhciB0bXAgPSBhZGp1c3RCb3JkZXJSYWRpdXNGb3JCb3goYm94LCByVEwwLCByVFIwLCByQlIwLCByQkwwKTtcbiAgICB2YXIgclRMID0gdG1wLnRsO1xuICAgIHZhciByVFIgPSB0bXAudHI7XG4gICAgdmFyIHJCUiA9IHRtcC5icjtcbiAgICB2YXIgckJMID0gdG1wLmJsO1xuICAgIHZhciBwYXRoID0gbmV3IFBhdGgoeyBmaWxsOiBudWxsLCBzdHJva2U6IG51bGwgfSk7XG4gICAgcGF0aC5tb3ZlVG8oYm94LmxlZnQsIGJveC50b3AgKyByVEwueSk7XG4gICAgaWYgKHJUTC54KSB7XG4gICAgICAgIGFkZEFyY1RvUGF0aChwYXRoLCBib3gubGVmdCArIHJUTC54LCBib3gudG9wICsgclRMLnksIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IC0xODAsXG4gICAgICAgICAgICBlbmRBbmdsZTogLTkwLFxuICAgICAgICAgICAgcmFkaXVzWDogclRMLngsXG4gICAgICAgICAgICByYWRpdXNZOiByVEwueVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGF0aC5saW5lVG8oYm94LnJpZ2h0IC0gclRSLngsIGJveC50b3ApO1xuICAgIGlmIChyVFIueCkge1xuICAgICAgICBhZGRBcmNUb1BhdGgocGF0aCwgYm94LnJpZ2h0IC0gclRSLngsIGJveC50b3AgKyByVFIueSwge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogLTkwLFxuICAgICAgICAgICAgZW5kQW5nbGU6IDAsXG4gICAgICAgICAgICByYWRpdXNYOiByVFIueCxcbiAgICAgICAgICAgIHJhZGl1c1k6IHJUUi55XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwYXRoLmxpbmVUbyhib3gucmlnaHQsIGJveC5ib3R0b20gLSByQlIueSk7XG4gICAgaWYgKHJCUi54KSB7XG4gICAgICAgIGFkZEFyY1RvUGF0aChwYXRoLCBib3gucmlnaHQgLSByQlIueCwgYm94LmJvdHRvbSAtIHJCUi55LCB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiAwLFxuICAgICAgICAgICAgZW5kQW5nbGU6IDkwLFxuICAgICAgICAgICAgcmFkaXVzWDogckJSLngsXG4gICAgICAgICAgICByYWRpdXNZOiByQlIueVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGF0aC5saW5lVG8oYm94LmxlZnQgKyByQkwueCwgYm94LmJvdHRvbSk7XG4gICAgaWYgKHJCTC54KSB7XG4gICAgICAgIGFkZEFyY1RvUGF0aChwYXRoLCBib3gubGVmdCArIHJCTC54LCBib3guYm90dG9tIC0gckJMLnksIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IDkwLFxuICAgICAgICAgICAgZW5kQW5nbGU6IDE4MCxcbiAgICAgICAgICAgIHJhZGl1c1g6IHJCTC54LFxuICAgICAgICAgICAgcmFkaXVzWTogckJMLnlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoLmNsb3NlKCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdENvdW50ZXIodmFsLCBzdHlsZSkge1xuICAgIHZhciBzdHIgPSBTdHJpbmcocGFyc2VGbG9hdCh2YWwpKTtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICBjYXNlIFwiZGVjaW1hbC1sZWFkaW5nLXplcm9cIjpcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICBzdHIgPSBcIjBcIiArIHN0cjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgY2FzZSBcImxvd2VyLXJvbWFuXCI6XG4gICAgICAgIHJldHVybiBhcmFiaWNUb1JvbWFuKHZhbCkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNhc2UgXCJ1cHBlci1yb21hblwiOlxuICAgICAgICByZXR1cm4gYXJhYmljVG9Sb21hbih2YWwpLnRvVXBwZXJDYXNlKCk7XG4gICAgICBjYXNlIFwibG93ZXItbGF0aW5cIjpcbiAgICAgIGNhc2UgXCJsb3dlci1hbHBoYVwiOlxuICAgICAgICByZXR1cm4gYWxwaGFOdW1lcmFsKHZhbCAtIDEpO1xuICAgICAgY2FzZSBcInVwcGVyLWxhdGluXCI6XG4gICAgICBjYXNlIFwidXBwZXItYWxwaGFcIjpcbiAgICAgICAgcmV0dXJuIGFscGhhTnVtZXJhbCh2YWwgLSAxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGV2YWxQc2V1ZG9FbGVtZW50Q29udGVudChlbGVtZW50LCBjb250ZW50KSB7XG4gICAgZnVuY3Rpb24gZGlzcGxheUNvdW50ZXIobmFtZSwgc3R5bGUsIHNlcGFyYXRvcikge1xuICAgICAgICBpZiAoIXNlcGFyYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdENvdW50ZXIoZ2V0Q291bnRlcihuYW1lKSB8fCAwLCBzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VwYXJhdG9yID0gc2VwYXJhdG9yLnJlcGxhY2UoL15cXHMqKFtcIiddKSguKilcXDFcXHMqJC8sIFwiJDJcIik7XG4gICAgICAgIHJldHVybiBnZXRBbGxDb3VudGVycyhuYW1lKS5tYXAoZnVuY3Rpb24odmFsKXtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRDb3VudGVyKHZhbCwgc3R5bGUpO1xuICAgICAgICB9KS5qb2luKHNlcGFyYXRvcik7XG4gICAgfVxuICAgIHZhciBhID0gc3BsaXRQcm9wZXJ0eShjb250ZW50LCAvXlxccysvKTtcbiAgICB2YXIgcmVzdWx0ID0gW10sIG07XG4gICAgYS5mb3JFYWNoKGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgdmFyIHRtcDtcbiAgICAgICAgaWYgKChtID0gL15cXHMqKFtcIiddKSguKilcXDFcXHMqJC8uZXhlYyhlbCkpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChtWzJdLnJlcGxhY2UoL1xcXFwoWzAtOWEtZl17NH0pL2dpLCBmdW5jdGlvbihzLCBwKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChwLCAxNikpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChtID0gL15cXHMqY291bnRlclxcKCguKj8pXFwpXFxzKiQvLmV4ZWMoZWwpKSkge1xuICAgICAgICAgICAgdG1wID0gc3BsaXRQcm9wZXJ0eShtWzFdKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRpc3BsYXlDb3VudGVyKHRtcFswXSwgdG1wWzFdKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSAvXlxccypjb3VudGVyc1xcKCguKj8pXFwpXFxzKiQvLmV4ZWMoZWwpKSkge1xuICAgICAgICAgICAgdG1wID0gc3BsaXRQcm9wZXJ0eShtWzFdKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRpc3BsYXlDb3VudGVyKHRtcFswXSwgdG1wWzJdLCB0bXBbMV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobSA9IC9eXFxzKmF0dHJcXCgoLio/KVxcKVxccyokLy5leGVjKGVsKSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKG1bMV0pIHx8IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZWwpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRDc3NUZXh0KHN0eWxlKSB7XG4gICAgaWYgKHN0eWxlLmNzc1RleHQpIHtcbiAgICAgICAgcmV0dXJuIHN0eWxlLmNzc1RleHQ7XG4gICAgfVxuICAgIC8vIFN0YXR1czogTkVXLiAgUmVwb3J0IHllYXI6IDIwMDIuICBDdXJyZW50IHllYXI6IDIwMTQuXG4gICAgLy8gTmljZSBwbGF5ZWQsIE1vemlsbGlhbnMuXG4gICAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3Njg3XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goc3R5bGVbaV0gKyBcIjogXCIgKyBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBzdHlsZVtpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCI7XFxuXCIpO1xufVxuXG5mdW5jdGlvbiBfcmVuZGVyV2l0aFBzZXVkb0VsZW1lbnRzKGVsZW1lbnQsIGdyb3VwKSB7XG4gICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSBLRU5ET19QU0VVRE9fRUxFTUVOVCkge1xuICAgICAgICBfcmVuZGVyRWxlbWVudChlbGVtZW50LCBncm91cCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZha2UgPSBbXTtcbiAgICBmdW5jdGlvbiBwc2V1ZG8oa2luZCwgcGxhY2UpIHtcbiAgICAgICAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBraW5kKSwgY29udGVudCA9IHN0eWxlLmNvbnRlbnQ7XG4gICAgICAgIHVwZGF0ZUNvdW50ZXJzKHN0eWxlKTtcbiAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudCAhPSBcIm5vcm1hbFwiICYmIGNvbnRlbnQgIT0gXCJub25lXCIgJiYgc3R5bGUud2lkdGggIT0gXCIwcHhcIikge1xuICAgICAgICAgICAgbGV0IHBzZWwgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChLRU5ET19QU0VVRE9fRUxFTUVOVCk7XG4gICAgICAgICAgICBwc2VsLnN0eWxlLmNzc1RleHQgPSBnZXRDc3NUZXh0KHN0eWxlKTtcbiAgICAgICAgICAgIHBzZWwudGV4dENvbnRlbnQgPSBldmFsUHNldWRvRWxlbWVudENvbnRlbnQoZWxlbWVudCwgY29udGVudCk7XG4gICAgICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZShwc2VsLCBwbGFjZSk7XG4gICAgICAgICAgICBmYWtlLnB1c2gocHNlbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHNldWRvKFwiOmJlZm9yZVwiLCBlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIHBzZXVkbyhcIjphZnRlclwiLCBudWxsKTtcbiAgICBpZiAoZmFrZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBzYXZlQ2xhc3MgPSBlbGVtZW50LmNsYXNzTmFtZTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gXCIga2VuZG8tcGRmLWhpZGUtcHNldWRvLWVsZW1lbnRzXCI7XG4gICAgICAgIF9yZW5kZXJFbGVtZW50KGVsZW1lbnQsIGdyb3VwKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBzYXZlQ2xhc3M7XG4gICAgICAgIGZha2UuZm9yRWFjaChmdW5jdGlvbihlbCl7IGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBfcmVuZGVyRWxlbWVudChlbGVtZW50LCBncm91cCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfcmVuZGVyRWxlbWVudChlbGVtZW50LCBncm91cCkge1xuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICB2YXIgdG9wID0gZ2V0Qm9yZGVyKHN0eWxlLCBcInRvcFwiKTtcbiAgICB2YXIgcmlnaHQgPSBnZXRCb3JkZXIoc3R5bGUsIFwicmlnaHRcIik7XG4gICAgdmFyIGJvdHRvbSA9IGdldEJvcmRlcihzdHlsZSwgXCJib3R0b21cIik7XG4gICAgdmFyIGxlZnQgPSBnZXRCb3JkZXIoc3R5bGUsIFwibGVmdFwiKTtcblxuICAgIHZhciByVEwwID0gZ2V0Qm9yZGVyUmFkaXVzKHN0eWxlLCBcInRvcC1sZWZ0XCIpO1xuICAgIHZhciByVFIwID0gZ2V0Qm9yZGVyUmFkaXVzKHN0eWxlLCBcInRvcC1yaWdodFwiKTtcbiAgICB2YXIgckJMMCA9IGdldEJvcmRlclJhZGl1cyhzdHlsZSwgXCJib3R0b20tbGVmdFwiKTtcbiAgICB2YXIgckJSMCA9IGdldEJvcmRlclJhZGl1cyhzdHlsZSwgXCJib3R0b20tcmlnaHRcIik7XG5cbiAgICB2YXIgZGlyID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJkaXJlY3Rpb25cIik7XG5cbiAgICB2YXIgYmFja2dyb3VuZENvbG9yID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIpO1xuICAgIGJhY2tncm91bmRDb2xvciA9IHBhcnNlQ29sb3IoYmFja2dyb3VuZENvbG9yKTtcblxuICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2UgPSBwYXJzZUJhY2tncm91bmRJbWFnZSggZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJiYWNrZ3JvdW5kLWltYWdlXCIpICk7XG4gICAgdmFyIGJhY2tncm91bmRSZXBlYXQgPSBzcGxpdFByb3BlcnR5KCBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImJhY2tncm91bmQtcmVwZWF0XCIpICk7XG4gICAgdmFyIGJhY2tncm91bmRQb3NpdGlvbiA9IHNwbGl0UHJvcGVydHkoIGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiYmFja2dyb3VuZC1wb3NpdGlvblwiKSApO1xuICAgIHZhciBiYWNrZ3JvdW5kT3JpZ2luID0gc3BsaXRQcm9wZXJ0eSggZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJiYWNrZ3JvdW5kLW9yaWdpblwiKSApO1xuICAgIHZhciBiYWNrZ3JvdW5kU2l6ZSA9IHNwbGl0UHJvcGVydHkoIGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiYmFja2dyb3VuZC1zaXplXCIpICk7XG5cbiAgICAvLyBJRSBzaHJpbmtzIHRoZSB0ZXh0IHdpdGggdGV4dC1vdmVyZmxvdzogZWxsaXBzaXMsXG4gICAgLy8gYXBwYXJlbnRseSBiZWNhdXNlIHRoZSByZXR1cm5lZCBib3VuZGluZyBib3ggZm9yIHRoZSByYW5nZVxuICAgIC8vIGlzIGxpbWl0ZWQgdG8gdGhlIHZpc2libGUgYXJlYSBtaW51cyBzcGFjZSBmb3IgdGhlIGRvdHMsXG4gICAgLy8gaW5zdGVhZCBvZiBiZWluZyB0aGUgZnVsbCB3aWR0aCBvZiB0aGUgdGV4dC5cbiAgICAvL1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy81MjMyXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tdWktY29yZS9pc3N1ZXMvMTg2OFxuICAgIC8vXG4gICAgLy8gV2UgaGF2ZSB0byB0ZXN0IGl0IGhlcmUgcmF0aGVyIHRoYW4gaW4gcmVuZGVyVGV4dCBiZWNhdXNlXG4gICAgLy8gdGV4dC1vdmVyZmxvdzogZWxsaXBzaXMgY291bGQgYmUgc2V0IG9uIGEgcGFyZW50IGVsZW1lbnQgKG5vdFxuICAgIC8vIG5lY2Vzc2FyaWx5IHRoZSBvbmUgY29udGFpbmluZyB0aGUgdGV4dCk7IGluIHRoaXMgY2FzZSxcbiAgICAvLyBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnRXaXRoVGhlVGV4dCkgd2lsbCByZXR1cm4gXCJjbGlwXCIsIG5vdFxuICAgIC8vIFwiZWxsaXBzaXNcIiAod2hpY2ggaXMgcHJvYmFibHkgYSBidWcsIGJ1dCBvaCB3ZWxsLi4uKVxuICAgIHZhciB0ZXh0T3ZlcmZsb3csIHNhdmVUZXh0T3ZlcmZsb3c7XG4gICAgaWYgKG1pY3Jvc29mdCkge1xuICAgICAgICB0ZXh0T3ZlcmZsb3cgPSBzdHlsZS50ZXh0T3ZlcmZsb3c7ICAgICAgICAgICAgIC8vIGNvbXB1dGVkIHN0eWxlXG4gICAgICAgIGlmICh0ZXh0T3ZlcmZsb3cgPT0gXCJlbGxpcHNpc1wiKSB7XG4gICAgICAgICAgICBzYXZlVGV4dE92ZXJmbG93ID0gZWxlbWVudC5zdHlsZS50ZXh0T3ZlcmZsb3c7IC8vIG93biBzdHlsZS5cbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudGV4dE92ZXJmbG93ID0gXCJjbGlwXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYnJvd3Nlci5tc2llICYmIGJyb3dzZXIudmVyc2lvbiA8IDEwKSB7XG4gICAgICAgIC8vIElFOSBoYWNrcy4gIGdldFByb3BlcnR5VmFsdWUgd29uJ3QgcmV0dXJuIHRoZSBjb3JyZWN0XG4gICAgICAgIC8vIHZhbHVlLiAgU3Vja3MgdGhhdCB3ZSBoYXZlIHRvIGRvIGl0IGhlcmUsIEknZCBwcmVmZXIgdG9cbiAgICAgICAgLy8gbW92ZSBpdCBpbiBnZXRQcm9wZXJ0eVZhbHVlLCBidXQgd2UgZG9uJ3QgaGF2ZSB0aGVcbiAgICAgICAgLy8gZWxlbWVudC5cbiAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uID0gc3BsaXRQcm9wZXJ0eShlbGVtZW50LmN1cnJlbnRTdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24pO1xuICAgIH1cblxuICAgIHZhciBpbm5lcmJveCA9IGlubmVyQm94KGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIFwiYm9yZGVyLSotd2lkdGhcIiwgZWxlbWVudCk7XG5cbiAgICAvLyBDU1MgXCJjbGlwXCIgcHJvcGVydHkgLSBpZiBwcmVzZW50LCByZXBsYWNlIHRoZSBncm91cCB3aXRoIGFcbiAgICAvLyBuZXcgb25lIHdoaWNoIGlzIGNsaXBwZWQuICBUaGlzIG11c3QgaGFwcGVuIGJlZm9yZSBkcmF3aW5nXG4gICAgLy8gdGhlIGJvcmRlcnMgYW5kIGJhY2tncm91bmQuXG4gICAgKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBjbGlwID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJjbGlwXCIpO1xuICAgICAgICB2YXIgbSA9IC9eXFxzKnJlY3RcXCgoLiopXFwpXFxzKiQvLmV4ZWMoY2xpcCk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICB2YXIgYSA9IG1bMV0uc3BsaXQoL1sgLF0rL2cpO1xuICAgICAgICAgICAgdmFyIHRvcCA9IGFbMF0gPT0gXCJhdXRvXCIgPyBpbm5lcmJveC50b3AgOiBwYXJzZUZsb2F0KGFbMF0pICsgaW5uZXJib3gudG9wO1xuICAgICAgICAgICAgdmFyIHJpZ2h0ID0gYVsxXSA9PSBcImF1dG9cIiA/IGlubmVyYm94LnJpZ2h0IDogcGFyc2VGbG9hdChhWzFdKSArIGlubmVyYm94LmxlZnQ7XG4gICAgICAgICAgICB2YXIgYm90dG9tID0gYVsyXSA9PSBcImF1dG9cIiA/IGlubmVyYm94LmJvdHRvbSA6IHBhcnNlRmxvYXQoYVsyXSkgKyBpbm5lcmJveC50b3A7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IGFbM10gPT0gXCJhdXRvXCIgPyBpbm5lcmJveC5sZWZ0IDogcGFyc2VGbG9hdChhWzNdKSArIGlubmVyYm94LmxlZnQ7XG4gICAgICAgICAgICB2YXIgdG1wID0gbmV3IEdyb3VwKCk7XG4gICAgICAgICAgICB2YXIgY2xpcFBhdGggPSBuZXcgUGF0aCgpXG4gICAgICAgICAgICAgICAgLm1vdmVUbyhsZWZ0LCB0b3ApXG4gICAgICAgICAgICAgICAgLmxpbmVUbyhyaWdodCwgdG9wKVxuICAgICAgICAgICAgICAgIC5saW5lVG8ocmlnaHQsIGJvdHRvbSlcbiAgICAgICAgICAgICAgICAubGluZVRvKGxlZnQsIGJvdHRvbSlcbiAgICAgICAgICAgICAgICAuY2xvc2UoKTtcbiAgICAgICAgICAgIHNldENsaXBwaW5nKHRtcCwgY2xpcFBhdGgpO1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHRtcCk7XG4gICAgICAgICAgICBncm91cCA9IHRtcDtcbiAgICAgICAgICAgIHVwZGF0ZUNsaXBib3goY2xpcFBhdGgpO1xuICAgICAgICB9XG4gICAgfSkoKTtcblxuICAgIHZhciBib3hlcywgaSwgY2VsbHM7XG4gICAgdmFyIGRpc3BsYXkgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImRpc3BsYXlcIik7XG5cbiAgICBpZiAoZGlzcGxheSA9PSBcInRhYmxlLXJvd1wiKSB7XG4gICAgICAgIC8vIGJlY2F1c2Ugb2Ygcm93c3Bhbi9jb2xzcGFuLCB3ZSBzaG91bGRuJ3QgZHJhdyBiYWNrZ3JvdW5kIG9mIHRhYmxlIHJvdyBlbGVtZW50cyBvbiB0aGVcbiAgICAgICAgLy8gYm94IGdpdmVuIGJ5IGl0cyBnZXRCb3VuZGluZ0NsaWVudFJlY3QsIGJlY2F1c2UgaWYgd2UgZG8gd2UgcmlzayBvdmVyd3JpdHRpbmcgYVxuICAgICAgICAvLyBwcmV2aW91c2x5IHJlbmRlcmVkIGNlbGwuICBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby9pc3N1ZXMvNDg4MVxuICAgICAgICBib3hlcyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwLCBjZWxscyA9IGVsZW1lbnQuY2hpbGRyZW47IGkgPCBjZWxscy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgYm94ZXMucHVzaChjZWxsc1tpXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBib3hlcyA9IGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgaWYgKGJveGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIHRoZSBtaXNzaW5nIGJvcmRlcnMgaW4gQ2hyb21lISAgZ2V0Q2xpZW50UmVjdHMoKSBib3hlcyBjb250YWlucyB2YWx1ZXNcbiAgICAgICAgICAgIC8vIHJvdW5kZWQgdG8gaW50ZWdlci4gIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGFwcGVhcnMgdG8gd29yayBmaW5lLiAgV2Ugc3RpbGwgbmVlZFxuICAgICAgICAgICAgLy8gZ2V0Q2xpZW50UmVjdHMoKSB0byBzdXBwb3J0IGNhc2VzIHdoZXJlIHRoZXJlIGFyZSBtb3JlIGJveGVzIChjb250aW51ZWQgaW5saW5lXG4gICAgICAgICAgICAvLyBlbGVtZW50cyB0aGF0IG1pZ2h0IGhhdmUgYm9yZGVyL2JhY2tncm91bmQpLlxuICAgICAgICAgICAgYm94ZXMgPSBbIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gd29ya2Fyb3VuZHMgYW5vdGhlciBDaHJvbWUgYnVnLCB3aGVyZSBib3hlcyByZXR1cm5lZCBmb3IgYSB0YWJsZSB3aXRoXG4gICAgLy8gYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZSB3aWxsIG92ZXJsYXAgdGhlIHRhYmxlIGJvcmRlci4gIE91ciByZW5kZXJpbmcgaXMgbm90IHBlcmZlY3QgaW5cbiAgICAvLyBzdWNoIGNhc2UgYW55d2F5LCBidXQgd2l0aCB0aGlzIGlzIGJldHRlciB0aGFuIHdpdGhvdXQgaXQuXG4gICAgYm94ZXMgPSBhZGp1c3RCb3hlcyhib3hlcyk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgYm94ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZHJhd09uZUJveChib3hlc1tpXSwgaSA9PT0gMCwgaSA9PSBib3hlcy5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICAvLyBSZW5kZXIgbGlua3MgYXMgc2VwYXJhdGUgZ3JvdXBzLiAgV2UgY2FuJ3QgdXNlIGJveGVzIHJldHVybmVkIGJ5IGVsZW1lbnQncyBnZXRDbGllbnRSZWN0c1xuICAgIC8vIGJlY2F1c2UgaWYgZGlzcGxheSB0eXBlIGlzIFwiaW5saW5lXCIgKGRlZmF1bHQgZm9yIDxhPiksIGJveGVzIHdpbGwgbm90IGluY2x1ZGUgdGhlIGhlaWdodCBvZlxuICAgIC8vIGltYWdlcyBpbnNpZGUuICBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby11aS1jb3JlL2lzc3Vlcy8zMzU5XG4gICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIkFcIiAmJiBlbGVtZW50LmhyZWYgJiYgIS9eIz8kLy50ZXN0KGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSkpIHtcbiAgICAgICAgaWYgKCFub2RlSW5mby5fYXZvaWRMaW5rcyB8fCAhbWF0Y2hlcyhlbGVtZW50LCBub2RlSW5mby5fYXZvaWRMaW5rcykpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgci5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XG4gICAgICAgICAgICBzbGljZShyLmdldENsaWVudFJlY3RzKCkpLmZvckVhY2goZnVuY3Rpb24oYm94KXtcbiAgICAgICAgICAgICAgICBjb25zdCBnID0gbmV3IEdyb3VwKCk7XG4gICAgICAgICAgICAgICAgZy5fcGRmTGluayA9IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsICAgIDogZWxlbWVudC5ocmVmLFxuICAgICAgICAgICAgICAgICAgICB0b3AgICAgOiBib3gudG9wLFxuICAgICAgICAgICAgICAgICAgICByaWdodCAgOiBib3gucmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbSA6IGJveC5ib3R0b20sXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgICA6IGJveC5sZWZ0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBncm91cC5hcHBlbmQoZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChib3hlcy5sZW5ndGggPiAwICYmIGRpc3BsYXkgPT0gXCJsaXN0LWl0ZW1cIiAmJiAhZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJrZW5kby1uby1idWxsZXRcIikpIHtcbiAgICAgICAgZHJhd0J1bGxldChib3hlc1swXSk7XG4gICAgfVxuXG4gICAgLy8gb3ZlcmZsb3c6IGhpZGRlbi9hdXRvIC0gaWYgcHJlc2VudCwgcmVwbGFjZSB0aGUgZ3JvdXAgd2l0aFxuICAgIC8vIGEgbmV3IG9uZSBjbGlwcGVkIGJ5IHRoZSBpbm5lciBib3guXG4gICAgKGZ1bmN0aW9uKCl7XG4gICAgICAgIGZ1bmN0aW9uIGNsaXBpdCgpIHtcbiAgICAgICAgICAgIHZhciBjbGlwUGF0aCA9IGVsZW1lbnRSb3VuZEJveChlbGVtZW50LCBpbm5lcmJveCwgXCJwYWRkaW5nXCIpO1xuICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBHcm91cCgpO1xuICAgICAgICAgICAgc2V0Q2xpcHBpbmcodG1wLCBjbGlwUGF0aCk7XG4gICAgICAgICAgICBncm91cC5hcHBlbmQodG1wKTtcbiAgICAgICAgICAgIGdyb3VwID0gdG1wO1xuICAgICAgICAgICAgdXBkYXRlQ2xpcGJveChjbGlwUGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRm9ybUZpZWxkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjbGlwaXQoKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXihoaWRkZW58YXV0b3xzY3JvbGwpLy50ZXN0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwib3ZlcmZsb3dcIikpKSB7XG4gICAgICAgICAgICBjbGlwaXQoKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXihoaWRkZW58YXV0b3xzY3JvbGwpLy50ZXN0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwib3ZlcmZsb3cteFwiKSkpIHtcbiAgICAgICAgICAgIGNsaXBpdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKC9eKGhpZGRlbnxhdXRvfHNjcm9sbCkvLnRlc3QoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJvdmVyZmxvdy15XCIpKSkge1xuICAgICAgICAgICAgY2xpcGl0KCk7XG4gICAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgaWYgKCFtYXliZVJlbmRlcldpZGdldChlbGVtZW50LCBncm91cCkpIHtcbiAgICAgICAgcmVuZGVyQ29udGVudHMoZWxlbWVudCwgZ3JvdXApO1xuICAgIH1cblxuICAgIGlmIChtaWNyb3NvZnQgJiYgdGV4dE92ZXJmbG93ID09IFwiZWxsaXBzaXNcIikge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRleHRPdmVyZmxvdyA9IHNhdmVUZXh0T3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3VwOyAvLyBvbmx5IHV0aWxpdHkgZnVuY3Rpb25zIGFmdGVyIHRoaXMgbGluZS5cblxuICAgIGZ1bmN0aW9uIGFkanVzdEJveGVzKGJveGVzKSB7XG4gICAgICAgIGlmICgvXnRkJC9pLnRlc3QoZWxlbWVudC50YWdOYW1lKSkge1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gbm9kZUluZm8udGFibGU7XG4gICAgICAgICAgICBpZiAodGFibGUgJiYgZ2V0UHJvcGVydHlWYWx1ZSh0YWJsZS5zdHlsZSwgXCJib3JkZXItY29sbGFwc2VcIikgPT0gXCJjb2xsYXBzZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlQm9yZGVyTGVmdCA9IGdldEJvcmRlcih0YWJsZS5zdHlsZSwgXCJsZWZ0XCIpLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZUJvcmRlclRvcCA9IGdldEJvcmRlcih0YWJsZS5zdHlsZSwgXCJ0b3BcIikud2lkdGg7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBhZGp1c3RcbiAgICAgICAgICAgICAgICBpZiAodGFibGVCb3JkZXJMZWZ0ID09PSAwICYmIHRhYmxlQm9yZGVyVG9wID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBib3hlczsgLy8gbm9wZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdGFibGVCb3ggPSB0YWJsZS5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdENlbGwgPSB0YWJsZS5lbGVtZW50LnJvd3NbMF0uY2VsbHNbMF07XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0Q2VsbEJveCA9IGZpcnN0Q2VsbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RDZWxsQm94LnRvcCA9PSB0YWJsZUJveC50b3AgfHwgZmlyc3RDZWxsQm94LmxlZnQgPT0gdGFibGVCb3gubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2UoYm94ZXMpLm1hcChmdW5jdGlvbihib3gpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ICAgOiBib3gubGVmdCArIHRhYmxlQm9yZGVyTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3AgICAgOiBib3gudG9wICsgdGFibGVCb3JkZXJUb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgIDogYm94LnJpZ2h0ICsgdGFibGVCb3JkZXJMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSA6IGJveC5ib3R0b20gKyB0YWJsZUJvcmRlclRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgOiBib3guaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICA6IGJveC53aWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3hlcztcbiAgICB9XG5cbiAgICAvLyB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGRyYXcgZWFjaCBib3JkZXIuICBpdFxuICAgIC8vIGRyYXdzIHN0YXJ0aW5nIGF0IG9yaWdpbiBhbmQgdGhlIHJlc3VsdGVkIHBhdGggbXVzdCBiZVxuICAgIC8vIHRyYW5zbGF0ZWQvcm90YXRlZCB0byBiZSBwbGFjZWQgaW4gdGhlIHByb3BlciBwb3NpdGlvbi5cbiAgICAvL1xuICAgIC8vIGFyZ3VtZW50cyBhcmUgbmFtZWQgYXMgaWYgaXQgZHJhd3MgdGhlIHRvcCBib3JkZXI6XG4gICAgLy9cbiAgICAvLyAgICAtIGBsZW5gIHRoZSBsZW5ndGggb2YgdGhlIGVkZ2VcbiAgICAvLyAgICAtIGBXdG9wYCB0aGUgd2lkdGggb2YgdGhlIGVkZ2UgKGkuZS4gYm9yZGVyLXRvcC13aWR0aClcbiAgICAvLyAgICAtIGBXbGVmdGAgdGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGVkZ2UgKGJvcmRlci1sZWZ0LXdpZHRoKVxuICAgIC8vICAgIC0gYFdyaWdodGAgdGhlIHdpZHRoIG9mIHRoZSByaWdodCBlZGdlXG4gICAgLy8gICAgLSBgcmxgIGFuZCBgcmxgIC0tIHRoZSBib3JkZXIgcmFkaXVzIG9uIHRoZSBsZWZ0IGFuZCByaWdodFxuICAgIC8vICAgICAgKG9iamVjdHMgY29udGFpbmluZyB4IGFuZCB5LCBmb3IgaG9yaXovdmVydGljYWwgcmFkaXVzKVxuICAgIC8vICAgIC0gYHRyYW5zZm9ybWAgLS0gdHJhbnNmb3JtYXRpb24gdG8gYXBwbHlcbiAgICAvL1xuICAgIGZ1bmN0aW9uIGRyYXdFZGdlKGNvbG9yLCBsZW4sIFd0b3AsIFdsZWZ0LCBXcmlnaHQsIHJsLCByciwgdHJhbnNmb3JtKSB7XG4gICAgICAgIGlmIChXdG9wIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXRoLCBlZGdlID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIHNldFRyYW5zZm9ybShlZGdlLCB0cmFuc2Zvcm0pO1xuICAgICAgICBncm91cC5hcHBlbmQoZWRnZSk7XG5cbiAgICAgICAgc2FuaXRpemVSYWRpdXMocmwpO1xuICAgICAgICBzYW5pdGl6ZVJhZGl1cyhycik7XG5cbiAgICAgICAgLy8gZHJhdyBtYWluIGJvcmRlci4gIHRoaXMgaXMgdGhlIGFyZWEgd2l0aG91dCB0aGUgcm91bmRlZCBjb3JuZXJzXG4gICAgICAgIHBhdGggPSBuZXcgUGF0aCh7XG4gICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjb2xvciB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICBlZGdlLmFwcGVuZChwYXRoKTtcbiAgICAgICAgcGF0aC5tb3ZlVG8ocmwueCA/IE1hdGgubWF4KHJsLngsIFdsZWZ0KSA6IDAsIDApXG4gICAgICAgICAgICAubGluZVRvKGxlbiAtIChyci54ID8gTWF0aC5tYXgocnIueCwgV3JpZ2h0KSA6IDApLCAwKVxuICAgICAgICAgICAgLmxpbmVUbyhsZW4gLSBNYXRoLm1heChyci54LCBXcmlnaHQpLCBXdG9wKVxuICAgICAgICAgICAgLmxpbmVUbyhNYXRoLm1heChybC54LCBXbGVmdCksIFd0b3ApXG4gICAgICAgICAgICAuY2xvc2UoKTtcblxuICAgICAgICBpZiAocmwueCkge1xuICAgICAgICAgICAgZHJhd1JvdW5kQ29ybmVyKFdsZWZ0LCBybCwgWyAtMSwgMCwgMCwgMSwgcmwueCwgMCBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyci54KSB7XG4gICAgICAgICAgICBkcmF3Um91bmRDb3JuZXIoV3JpZ2h0LCByciwgWyAxLCAwLCAwLCAxLCBsZW4gLSByci54LCAwIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZHJhd3Mgb25lIHJvdW5kIGNvcm5lciwgc3RhcnRpbmcgYXQgb3JpZ2luIChuZWVkcyB0byBiZVxuICAgICAgICAvLyB0cmFuc2xhdGVkL3JvdGF0ZWQgdG8gYmUgcGxhY2VkIHByb3Blcmx5KS5cbiAgICAgICAgZnVuY3Rpb24gZHJhd1JvdW5kQ29ybmVyKFdyaWdodCwgciwgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLlBJLzIgKiBXcmlnaHQgLyAoV3JpZ2h0ICsgV3RvcCk7XG5cbiAgICAgICAgICAgIC8vIG5vdCBzYW5pdGl6aW5nIHRoaXMgb25lLCBiZWNhdXNlIG5lZ2F0aXZlIHZhbHVlc1xuICAgICAgICAgICAgLy8gYXJlIHVzZWZ1bCB0byBmaWxsIHRoZSBib3ggY29ycmVjdGx5LlxuICAgICAgICAgICAgdmFyIHJpID0ge1xuICAgICAgICAgICAgICAgIHg6IHIueCAtIFdyaWdodCxcbiAgICAgICAgICAgICAgICB5OiByLnkgLSBXdG9wXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgcGF0aCA9IG5ldyBQYXRoKHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjb2xvciB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxuICAgICAgICAgICAgfSkubW92ZVRvKDAsIDApO1xuXG4gICAgICAgICAgICBzZXRUcmFuc2Zvcm0ocGF0aCwgdHJhbnNmb3JtKTtcblxuICAgICAgICAgICAgYWRkQXJjVG9QYXRoKHBhdGgsIDAsIHIueSwge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IC05MCxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogLXJhZGlhbnNUb0RlZ3JlZXMoYW5nbGUpLFxuICAgICAgICAgICAgICAgIHJhZGl1c1g6IHIueCxcbiAgICAgICAgICAgICAgICByYWRpdXNZOiByLnlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmkueCA+IDAgJiYgcmkueSA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXRoLmxpbmVUbyhyaS54ICogTWF0aC5jb3MoYW5nbGUpLCByLnkgLSByaS55ICogTWF0aC5zaW4oYW5nbGUpKTtcbiAgICAgICAgICAgICAgICBhZGRBcmNUb1BhdGgocGF0aCwgMCwgci55LCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IC1yYWRpYW5zVG9EZWdyZWVzKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kQW5nbGU6IC05MCxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzWDogcmkueCxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzWTogcmkueSxcbiAgICAgICAgICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmkueCA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXRoLmxpbmVUbyhyaS54LCBXdG9wKVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKDAsIFd0b3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF0aC5saW5lVG8ocmkueCwgV3RvcClcbiAgICAgICAgICAgICAgICAgICAgLmxpbmVUbyhyaS54LCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWRnZS5hcHBlbmQocGF0aC5jbG9zZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdCYWNrZ3JvdW5kKGJveCkge1xuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IG5ldyBHcm91cCgpO1xuICAgICAgICBzZXRDbGlwcGluZyhiYWNrZ3JvdW5kLCByb3VuZEJveChib3gsIHJUTDAsIHJUUjAsIHJCUjAsIHJCTDApKTtcbiAgICAgICAgZ3JvdXAuYXBwZW5kKGJhY2tncm91bmQpO1xuXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gbmV3IFBhdGgoe1xuICAgICAgICAgICAgICAgIGZpbGw6IHsgY29sb3I6IGJhY2tncm91bmRDb2xvci50b0Nzc1JnYmEoKSB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXRoLm1vdmVUbyhib3gubGVmdCwgYm94LnRvcClcbiAgICAgICAgICAgICAgICAubGluZVRvKGJveC5yaWdodCwgYm94LnRvcClcbiAgICAgICAgICAgICAgICAubGluZVRvKGJveC5yaWdodCwgYm94LmJvdHRvbSlcbiAgICAgICAgICAgICAgICAubGluZVRvKGJveC5sZWZ0LCBib3guYm90dG9tKVxuICAgICAgICAgICAgICAgIC5jbG9zZSgpO1xuICAgICAgICAgICAgYmFja2dyb3VuZC5hcHBlbmQocGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gYmFja2dyb3VuZEltYWdlLmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICBkcmF3T25lQmFja2dyb3VuZChcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLCBib3gsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlW2ldLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRSZXBlYXRbaSAlIGJhY2tncm91bmRSZXBlYXQubGVuZ3RoXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25baSAlIGJhY2tncm91bmRQb3NpdGlvbi5sZW5ndGhdLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRPcmlnaW5baSAlIGJhY2tncm91bmRPcmlnaW4ubGVuZ3RoXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZVtpICUgYmFja2dyb3VuZFNpemUubGVuZ3RoXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdPbmVCYWNrZ3JvdW5kKGdyb3VwLCBib3gsIGJhY2tncm91bmQsIGJhY2tncm91bmRSZXBlYXQsIGJhY2tncm91bmRQb3NpdGlvbiwgYmFja2dyb3VuZE9yaWdpbiwgYmFja2dyb3VuZFNpemUpIHtcbiAgICAgICAgaWYgKCFiYWNrZ3JvdW5kIHx8IChiYWNrZ3JvdW5kID09IFwibm9uZVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhY2tncm91bmQudHlwZSA9PSBcInVybFwiKSB7XG4gICAgICAgICAgICAvLyBTVkcgdGFpbnRzIHRoZSBjYW52YXMsIGNhbid0IGRyYXcgaXQuXG4gICAgICAgICAgICBpZiAoL151cmxcXChcXFwiZGF0YTppbWFnZVxcL3N2Zy9pLnRlc3QoYmFja2dyb3VuZC51cmwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGltZyA9IElNQUdFX0NBQ0hFW2JhY2tncm91bmQudXJsXTtcbiAgICAgICAgICAgIGlmIChpbWcgJiYgaW1nLndpZHRoID4gMCAmJiBpbWcuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIGRyYXdCYWNrZ3JvdW5kSW1hZ2UoZ3JvdXAsIGJveCwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0LCBmdW5jdGlvbihncm91cCwgcmVjdCl7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZChuZXcgSW1hZ2UoYmFja2dyb3VuZC51cmwsIHJlY3QpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChiYWNrZ3JvdW5kLnR5cGUgPT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgZHJhd0JhY2tncm91bmRJbWFnZShncm91cCwgYm94LCBib3gud2lkdGgsIGJveC5oZWlnaHQsIGdyYWRpZW50UmVuZGVyZXIoYmFja2dyb3VuZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZHJhd0JhY2tncm91bmRJbWFnZShncm91cCwgYm94LCBpbWdfd2lkdGgsIGltZ19oZWlnaHQsIHJlbmRlckJHKSB7XG4gICAgICAgICAgICB2YXIgYXNwZWN0X3JhdGlvID0gaW1nX3dpZHRoIC8gaW1nX2hlaWdodCwgZjtcblxuICAgICAgICAgICAgLy8gZm9yIGJhY2tncm91bmQtb3JpZ2luOiBib3JkZXItYm94IHRoZSBib3ggaXMgYWxyZWFkeSBhcHByb3ByaWF0ZVxuICAgICAgICAgICAgdmFyIG9yZ0JveCA9IGJveDtcbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kT3JpZ2luID09IFwiY29udGVudC1ib3hcIikge1xuICAgICAgICAgICAgICAgIG9yZ0JveCA9IGlubmVyQm94KG9yZ0JveCwgXCJib3JkZXItKi13aWR0aFwiLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBvcmdCb3ggPSBpbm5lckJveChvcmdCb3gsIFwicGFkZGluZy0qXCIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiYWNrZ3JvdW5kT3JpZ2luID09IFwicGFkZGluZy1ib3hcIikge1xuICAgICAgICAgICAgICAgIG9yZ0JveCA9IGlubmVyQm94KG9yZ0JveCwgXCJib3JkZXItKi13aWR0aFwiLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEvXlxccyphdXRvKFxccythdXRvKT9cXHMqJC8udGVzdChiYWNrZ3JvdW5kU2l6ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZFNpemUgPT0gXCJjb250YWluXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IE1hdGgubWluKG9yZ0JveC53aWR0aCAvIGltZ193aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0JveC5oZWlnaHQgLyBpbWdfaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaW1nX3dpZHRoICo9IGY7XG4gICAgICAgICAgICAgICAgICAgIGltZ19oZWlnaHQgKj0gZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmFja2dyb3VuZFNpemUgPT0gXCJjb3ZlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSBNYXRoLm1heChvcmdCb3gud2lkdGggLyBpbWdfd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdCb3guaGVpZ2h0IC8gaW1nX2hlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGltZ193aWR0aCAqPSBmO1xuICAgICAgICAgICAgICAgICAgICBpbWdfaGVpZ2h0ICo9IGY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGJhY2tncm91bmRTaXplLnNwbGl0KC9cXHMrL2cpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb21wdXRlIHdpZHRoXG4gICAgICAgICAgICAgICAgICAgIGlmICgvJSQvLnRlc3Qoc2l6ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ193aWR0aCA9IG9yZ0JveC53aWR0aCAqIHBhcnNlRmxvYXQoc2l6ZVswXSkgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdfd2lkdGggPSBwYXJzZUZsb2F0KHNpemVbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXB1dGUgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXplLmxlbmd0aCA9PSAxIHx8IHNpemVbMV0gPT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ19oZWlnaHQgPSBpbWdfd2lkdGggLyBhc3BlY3RfcmF0aW87XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoLyUkLy50ZXN0KHNpemVbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdfaGVpZ2h0ID0gb3JnQm94LmhlaWdodCAqIHBhcnNlRmxvYXQoc2l6ZVsxXSkgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdfaGVpZ2h0ID0gcGFyc2VGbG9hdChzaXplWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvcyA9IFN0cmluZyhiYWNrZ3JvdW5kUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAvLyBJRSBzb21ldGltZXMgcmVwb3J0cyBzaW5nbGUtd29yZCBwb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLXVpLWNvcmUvaXNzdWVzLzI3ODZcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBpdCBzZWVtcyB0byBzd2l0Y2ggdG8gcGVyY2VudGFnZXMgd2hlbiB0aGUgaG9yaXpvbnRhbFxuICAgICAgICAgICAgLy8gcG9zaXRpb24gaXMgbm90IFwiY2VudGVyXCIsIHRoZXJlZm9yZSB3ZSBkb24ndCBoYW5kbGVcbiAgICAgICAgICAgIC8vIG11bHRpLXdvcmQgY2FzZXMgaGVyZS4gIEFsbCBvdGhlciBicm93c2VycyByZXR1cm5cbiAgICAgICAgICAgIC8vIHBlcmNlbnRhZ2VzIG9yIHBpeGVscyBpbnN0ZWFkIG9mIGtleXdvcmRzLiAgQXQgbGVhc3RcbiAgICAgICAgICAgIC8vIGZvciBub3cuLi5cbiAgICAgICAgICAgIHN3aXRjaCAocG9zKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIiA6IHBvcyA9IFwiNTAlIDEwMCVcIjsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3BcIiAgICA6IHBvcyA9IFwiNTAlIDBcIjsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCIgICA6IHBvcyA9IFwiMCA1MCVcIjsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiICA6IHBvcyA9IFwiMTAwJSA1MCVcIjsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJjZW50ZXJcIiA6IHBvcyA9IFwiNTAlIDUwJVwiOyBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zID0gcG9zLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgICBpZiAocG9zLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcG9zWzFdID0gXCI1MCVcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKC8lJC8udGVzdChwb3NbMF0pKSB7XG4gICAgICAgICAgICAgICAgcG9zWzBdID0gcGFyc2VGbG9hdChwb3NbMF0pIC8gMTAwICogKG9yZ0JveC53aWR0aCAtIGltZ193aWR0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvc1swXSA9IHBhcnNlRmxvYXQocG9zWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvJSQvLnRlc3QocG9zWzFdKSkge1xuICAgICAgICAgICAgICAgIHBvc1sxXSA9IHBhcnNlRmxvYXQocG9zWzFdKSAvIDEwMCAqIChvcmdCb3guaGVpZ2h0IC0gaW1nX2hlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvc1sxXSA9IHBhcnNlRmxvYXQocG9zWzFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlY3QgPSBuZXcgZ2VvLlJlY3QoWyBvcmdCb3gubGVmdCArIHBvc1swXSwgb3JnQm94LnRvcCArIHBvc1sxXSBdLCBbIGltZ193aWR0aCwgaW1nX2hlaWdodCBdKTtcblxuICAgICAgICAgICAgLy8gWFhYOiBiYWNrZ3JvdW5kLXJlcGVhdCBjb3VsZCBiZSBpbXBsZW1lbnRlZCBtb3JlXG4gICAgICAgICAgICAvLyAgICAgIGVmZmljaWVudGx5IGFzIGEgZmlsbCBwYXR0ZXJuIChhdCBsZWFzdCBmb3IgUERGXG4gICAgICAgICAgICAvLyAgICAgIG91dHB1dCwgcHJvYmFibHkgU1ZHIHRvbykuXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJld1goKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlY3Qub3JpZ2luLnggPiBib3gubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICByZWN0Lm9yaWdpbi54IC09IGltZ193aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJld1koKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlY3Qub3JpZ2luLnkgPiBib3gudG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Qub3JpZ2luLnkgLT0gaW1nX2hlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlcGVhdFgoKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlY3Qub3JpZ2luLnggPCBib3gucmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyQkcoZ3JvdXAsIHJlY3QuY2xvbmUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Qub3JpZ2luLnggKz0gaW1nX3dpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJhY2tncm91bmRSZXBlYXQgPT0gXCJuby1yZXBlYXRcIikge1xuICAgICAgICAgICAgICAgIHJlbmRlckJHKGdyb3VwLCByZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJhY2tncm91bmRSZXBlYXQgPT0gXCJyZXBlYXQteFwiKSB7XG4gICAgICAgICAgICAgICAgcmV3WCgpO1xuICAgICAgICAgICAgICAgIHJlcGVhdFgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJhY2tncm91bmRSZXBlYXQgPT0gXCJyZXBlYXQteVwiKSB7XG4gICAgICAgICAgICAgICAgcmV3WSgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChyZWN0Lm9yaWdpbi55IDwgYm94LmJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJCRyhncm91cCwgcmVjdC5jbG9uZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVjdC5vcmlnaW4ueSArPSBpbWdfaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJhY2tncm91bmRSZXBlYXQgPT0gXCJyZXBlYXRcIikge1xuICAgICAgICAgICAgICAgIHJld1goKTtcbiAgICAgICAgICAgICAgICByZXdZKCk7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbiA9IHJlY3Qub3JpZ2luLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlY3Qub3JpZ2luLnkgPCBib3guYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Qub3JpZ2luLnggPSBvcmlnaW4ueDtcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0WCgpO1xuICAgICAgICAgICAgICAgICAgICByZWN0Lm9yaWdpbi55ICs9IGltZ19oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhd0J1bGxldCgpIHtcbiAgICAgICAgdmFyIGxpc3RTdHlsZVR5cGUgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImxpc3Qtc3R5bGUtdHlwZVwiKTtcbiAgICAgICAgaWYgKGxpc3RTdHlsZVR5cGUgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlzdFN0eWxlUG9zaXRpb24gPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImxpc3Qtc3R5bGUtcG9zaXRpb25cIik7XG5cbiAgICAgICAgZnVuY3Rpb24gX2RyYXdCdWxsZXQoZikge1xuICAgICAgICAgICAgc2F2ZVN0eWxlKGVsZW1lbnQsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgICAgICAgICB2YXIgYnVsbGV0ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoS0VORE9fUFNFVURPX0VMRU1FTlQpO1xuICAgICAgICAgICAgICAgIGJ1bGxldC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICAgICAgICBidWxsZXQuc3R5bGUuYm94U2l6aW5nID0gXCJib3JkZXItYm94XCI7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RTdHlsZVBvc2l0aW9uID09IFwib3V0c2lkZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5zdHlsZS53aWR0aCA9IFwiNmVtXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5zdHlsZS5sZWZ0ID0gXCItNi44ZW1cIjtcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0LnN0eWxlLnRleHRBbGlnbiA9IFwicmlnaHRcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGYoYnVsbGV0KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZShidWxsZXQsIGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgcmVuZGVyRWxlbWVudChidWxsZXQsIGdyb3VwKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGJ1bGxldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGVsZW1lbnRJbmRleChmKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGVsZW1lbnQucGFyZW50Tm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgIHZhciBrID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJrZW5kby1zcGxpdC1pbmRleFwiKTtcbiAgICAgICAgICAgIGlmIChrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZihrfDAsIGEubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChhW2ldID09PSBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmKGksIGEubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGxpc3RTdHlsZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiY2lyY2xlXCI6XG4gICAgICAgICAgY2FzZSBcImRpc2NcIjpcbiAgICAgICAgICBjYXNlIFwic3F1YXJlXCI6XG4gICAgICAgICAgICBfZHJhd0J1bGxldChmdW5jdGlvbihidWxsZXQpe1xuICAgICAgICAgICAgICAgIC8vIFhYWDogdGhlIHNjaWVuY2UgYmVoaW5kIHRoZXNlIHZhbHVlcyBpcyBjYWxsZWQgXCJ0cmlhbCBhbmQgZXJyb3JcIi5cbiAgICAgICAgICAgICAgICBidWxsZXQuc3R5bGUuZm9udFNpemUgPSBcIjYwJVwiO1xuICAgICAgICAgICAgICAgIGJ1bGxldC5zdHlsZS5saW5lSGVpZ2h0ID0gXCIyMDAlXCI7XG4gICAgICAgICAgICAgICAgYnVsbGV0LnN0eWxlLnBhZGRpbmdSaWdodCA9IFwiMC41ZW1cIjtcbiAgICAgICAgICAgICAgICBidWxsZXQuc3R5bGUuZm9udEZhbWlseSA9IFwiRGVqYVZ1IFNlcmlmXCI7XG4gICAgICAgICAgICAgICAgYnVsbGV0LmlubmVySFRNTCA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJkaXNjXCIgICA6IFwiXFx1MjVjZlwiLFxuICAgICAgICAgICAgICAgICAgICBcImNpcmNsZVwiIDogXCJcXHUyNWVmXCIsXG4gICAgICAgICAgICAgICAgICAgIFwic3F1YXJlXCIgOiBcIlxcdTI1YTBcIlxuICAgICAgICAgICAgICAgIH1bbGlzdFN0eWxlVHlwZV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcImRlY2ltYWxcIjpcbiAgICAgICAgICBjYXNlIFwiZGVjaW1hbC1sZWFkaW5nLXplcm9cIjpcbiAgICAgICAgICAgIF9kcmF3QnVsbGV0KGZ1bmN0aW9uKGJ1bGxldCl7XG4gICAgICAgICAgICAgICAgZWxlbWVudEluZGV4KGZ1bmN0aW9uKGlkeCl7XG4gICAgICAgICAgICAgICAgICAgICsraWR4O1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFN0eWxlVHlwZSA9PSBcImRlY2ltYWwtbGVhZGluZy16ZXJvXCIgJiYgaWR4IDwgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IFwiMFwiICsgaWR4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5pbm5lckhUTUwgPSBpZHggKyBcIi5cIjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwibG93ZXItcm9tYW5cIjpcbiAgICAgICAgICBjYXNlIFwidXBwZXItcm9tYW5cIjpcbiAgICAgICAgICAgIF9kcmF3QnVsbGV0KGZ1bmN0aW9uKGJ1bGxldCl7XG4gICAgICAgICAgICAgICAgZWxlbWVudEluZGV4KGZ1bmN0aW9uKGlkeCl7XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGFyYWJpY1RvUm9tYW4oaWR4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0U3R5bGVUeXBlID09IFwidXBwZXItcm9tYW5cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gaWR4LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmlubmVySFRNTCA9IGlkeCArIFwiLlwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJsb3dlci1sYXRpblwiOlxuICAgICAgICAgIGNhc2UgXCJsb3dlci1hbHBoYVwiOlxuICAgICAgICAgIGNhc2UgXCJ1cHBlci1sYXRpblwiOlxuICAgICAgICAgIGNhc2UgXCJ1cHBlci1hbHBoYVwiOlxuICAgICAgICAgICAgX2RyYXdCdWxsZXQoZnVuY3Rpb24oYnVsbGV0KXtcbiAgICAgICAgICAgICAgICBlbGVtZW50SW5kZXgoZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gYWxwaGFOdW1lcmFsKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgvXnVwcGVyL2kudGVzdChsaXN0U3R5bGVUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gaWR4LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmlubmVySFRNTCA9IGlkeCArIFwiLlwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRyYXdzIGEgc2luZ2xlIGJvcmRlciBib3hcbiAgICBmdW5jdGlvbiBkcmF3T25lQm94KGJveCwgaXNGaXJzdCwgaXNMYXN0KSB7XG4gICAgICAgIGlmIChib3gud2lkdGggPT09IDAgfHwgYm94LmhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZHJhd0JhY2tncm91bmQoYm94KTtcblxuICAgICAgICB2YXIgc2hvdWxkRHJhd0xlZnQgPSAobGVmdC53aWR0aCA+IDAgJiYgKChpc0ZpcnN0ICYmIGRpciA9PSBcImx0clwiKSB8fCAoaXNMYXN0ICYmIGRpciA9PSBcInJ0bFwiKSkpO1xuICAgICAgICB2YXIgc2hvdWxkRHJhd1JpZ2h0ID0gKHJpZ2h0LndpZHRoID4gMCAmJiAoKGlzTGFzdCAmJiBkaXIgPT0gXCJsdHJcIikgfHwgKGlzRmlyc3QgJiYgZGlyID09IFwicnRsXCIpKSk7XG5cbiAgICAgICAgLy8gVGhlIG1vc3QgZ2VuZXJhbCBjYXNlIGlzIHRoYXQgdGhlIDQgYm9yZGVycyBoYXZlIGRpZmZlcmVudCB3aWR0aHMgYW5kIGJvcmRlclxuICAgICAgICAvLyByYWRpdXNlcy4gIFRoZSB3YXkgdGhhdCBpcyBoYW5kbGVkIGlzIGJ5IGRyYXdpbmcgMyBQYXRocyBmb3IgZWFjaCBib3JkZXI6IHRoZVxuICAgICAgICAvLyBzdHJhaWdodCBsaW5lLCBhbmQgdHdvIHJvdW5kIGNvcm5lcnMgd2hpY2ggcmVwcmVzZW50IGhhbGYgb2YgdGhlIGVudGlyZSByb3VuZGVkXG4gICAgICAgIC8vIGNvcm5lci4gIFRvIHNpbXBsaWZ5IGNvZGUgdGhvc2Ugc2hhcGVzIGFyZSBkcmF3ZWQgYXQgb3JpZ2luIChieSB0aGUgZHJhd0VkZ2VcbiAgICAgICAgLy8gZnVuY3Rpb24pLCB0aGVuIHRyYW5zbGF0ZWQvcm90YXRlZCBpbnRvIHRoZSByaWdodCBwb3NpdGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSG93ZXZlciwgdGhpcyBsZWFkcyB0byBwb29yIHJlc3VsdHMgZHVlIHRvIHJvdW5kaW5nIGluIHRoZSBzaW1wbGVyIGNhc2VzIHdoZXJlXG4gICAgICAgIC8vIGJvcmRlcnMgYXJlIHN0cmFpZ2h0IGxpbmVzLiAgVGhlcmVmb3JlIHdlIGhhbmRsZSBhIGZldyBzdWNoIGNhc2VzIHNlcGFyYXRlbHkgd2l0aFxuICAgICAgICAvLyBzdHJhaWdodCBsaW5lcy4gQ153Q153Q153IC0tIG5vcGUsIHNjcmF0Y2ggdGhhdC4gIHBvb3IgcmVuZGVyaW5nIHdhcyBiZWNhdXNlIG9mIGEgYnVnXG4gICAgICAgIC8vIGluIENocm9tZSAoZ2V0Q2xpZW50UmVjdHMoKSByZXR1cm5zIHJvdW5kZWQgaW50ZWdlciB2YWx1ZXMgcmF0aGVyIHRoYW4gZXhhY3QgZmxvYXRzLlxuICAgICAgICAvLyB3ZWIgZGV2IGlzIHN0aWxsIGEgZ2hldHRvLilcblxuICAgICAgICAvLyBmaXJzdCwganVzdCBpbiBjYXNlIHRoZXJlIGlzIG5vIGJvcmRlci4uLlxuICAgICAgICBpZiAodG9wLndpZHRoID09PSAwICYmIGxlZnQud2lkdGggPT09IDAgJiYgcmlnaHQud2lkdGggPT09IDAgJiYgYm90dG9tLndpZHRoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTVEFSVCBwYWludCBib3JkZXJzXG4gICAgICAgIC8vIGlmIGFsbCBib3JkZXJzIGhhdmUgZXF1YWwgY29sb3JzLi4uXG4gICAgICAgIGlmICh0b3AuY29sb3IgPT0gcmlnaHQuY29sb3IgJiYgdG9wLmNvbG9yID09IGJvdHRvbS5jb2xvciAmJiB0b3AuY29sb3IgPT0gbGVmdC5jb2xvcikge1xuXG4gICAgICAgICAgICAvLyBpZiBzYW1lIHdpZHRocyB0b28sIHdlIGNhbiBkcmF3IHRoZSB3aG9sZSBib3JkZXIgYnkgc3Ryb2tpbmcgYSBzaW5nbGUgcGF0aC5cbiAgICAgICAgICAgIGlmICh0b3Aud2lkdGggPT0gcmlnaHQud2lkdGggJiYgdG9wLndpZHRoID09IGJvdHRvbS53aWR0aCAmJiB0b3Aud2lkdGggPT0gbGVmdC53aWR0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkRHJhd0xlZnQgJiYgc2hvdWxkRHJhd1JpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBib3ggYnkgaGFsZiB0aGUgYm9yZGVyIHdpZHRoLCBzbyB3ZSBjYW4gZHJhdyBpdCBieSBzdHJva2luZy5cbiAgICAgICAgICAgICAgICAgICAgYm94ID0gaW5uZXJCb3goYm94LCB0b3Aud2lkdGgvMik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBib3JkZXIgcmFkaXVzZXMsIGFnYWluIGJ5IHRvcC53aWR0aC8yLCBhbmQgbWFrZSB0aGUgcGF0aCBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IGVsZW1lbnRSb3VuZEJveChlbGVtZW50LCBib3gsIHRvcC53aWR0aC8yKTtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5vcHRpb25zLnN0cm9rZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0b3AuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdG9wLndpZHRoXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZChwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGJvcmRlciByYWRpdXNlcyBhcmUgemVybyBhbmQgd2lkdGhzIGFyZSBhdCBtb3N0IG9uZSBwaXhlbCwgd2UgY2FuIGFnYWluIHVzZSBzaW1wbGVcbiAgICAgICAgLy8gcGF0aHMuXG4gICAgICAgIGlmIChyVEwwLnggPT09IDAgJiYgclRSMC54ID09PSAwICYmIHJCUjAueCA9PT0gMCAmJiByQkwwLnggPT09IDApIHtcbiAgICAgICAgICAgIC8vIGFscmlnaHQsIDEuOXB4IHdpbGwgZG8gYXMgd2VsbC4gIHRoZSBkaWZmZXJlbmNlIGluIGNvbG9yIGJsZW5kaW5nIHNob3VsZCBub3QgYmVcbiAgICAgICAgICAgIC8vIG5vdGljZWFibGUuXG4gICAgICAgICAgICBpZiAodG9wLndpZHRoIDwgMiAmJiBsZWZ0LndpZHRoIDwgMiAmJiByaWdodC53aWR0aCA8IDIgJiYgYm90dG9tLndpZHRoIDwgMikge1xuICAgICAgICAgICAgICAgIC8vIHRvcCBib3JkZXJcbiAgICAgICAgICAgICAgICBpZiAodG9wLndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBncm91cC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGF0aCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB7IHdpZHRoOiB0b3Aud2lkdGgsIGNvbG9yOiB0b3AuY29sb3IgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubW92ZVRvKGJveC5sZWZ0LCBib3gudG9wICsgdG9wLndpZHRoLzIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmxpbmVUbyhib3gucmlnaHQsIGJveC50b3AgKyB0b3Aud2lkdGgvMilcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBib3R0b20gYm9yZGVyXG4gICAgICAgICAgICAgICAgaWYgKGJvdHRvbS53aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBhdGgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogeyB3aWR0aDogYm90dG9tLndpZHRoLCBjb2xvcjogYm90dG9tLmNvbG9yIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1vdmVUbyhib3gubGVmdCwgYm94LmJvdHRvbSAtIGJvdHRvbS53aWR0aC8yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lVG8oYm94LnJpZ2h0LCBib3guYm90dG9tIC0gYm90dG9tLndpZHRoLzIpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBib3JkZXJcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkRHJhd0xlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBhdGgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogeyB3aWR0aDogbGVmdC53aWR0aCwgY29sb3I6IGxlZnQuY29sb3IgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubW92ZVRvKGJveC5sZWZ0ICsgbGVmdC53aWR0aC8yLCBib3gudG9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lVG8oYm94LmxlZnQgKyBsZWZ0LndpZHRoLzIsIGJveC5ib3R0b20pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcmlnaHQgYm9yZGVyXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZERyYXdSaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBncm91cC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGF0aCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB7IHdpZHRoOiByaWdodC53aWR0aCwgY29sb3I6IHJpZ2h0LmNvbG9yIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1vdmVUbyhib3gucmlnaHQgLSByaWdodC53aWR0aC8yLCBib3gudG9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lVG8oYm94LnJpZ2h0IC0gcmlnaHQud2lkdGgvMiwgYm94LmJvdHRvbSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRU5EIHBhaW50IGJvcmRlcnNcblxuICAgICAgICB2YXIgdG1wID0gYWRqdXN0Qm9yZGVyUmFkaXVzRm9yQm94KGJveCwgclRMMCwgclRSMCwgckJSMCwgckJMMCk7XG4gICAgICAgIHZhciByVEwgPSB0bXAudGw7XG4gICAgICAgIHZhciByVFIgPSB0bXAudHI7XG4gICAgICAgIHZhciByQlIgPSB0bXAuYnI7XG4gICAgICAgIHZhciByQkwgPSB0bXAuYmw7XG5cbiAgICAgICAgLy8gdG9wIGJvcmRlclxuICAgICAgICBkcmF3RWRnZSh0b3AuY29sb3IsXG4gICAgICAgICAgICAgICAgIGJveC53aWR0aCwgdG9wLndpZHRoLCBsZWZ0LndpZHRoLCByaWdodC53aWR0aCxcbiAgICAgICAgICAgICAgICAgclRMLCByVFIsXG4gICAgICAgICAgICAgICAgIFsgMSwgMCwgMCwgMSwgYm94LmxlZnQsIGJveC50b3AgXSk7XG5cbiAgICAgICAgLy8gYm90dG9tIGJvcmRlclxuICAgICAgICBkcmF3RWRnZShib3R0b20uY29sb3IsXG4gICAgICAgICAgICAgICAgIGJveC53aWR0aCwgYm90dG9tLndpZHRoLCByaWdodC53aWR0aCwgbGVmdC53aWR0aCxcbiAgICAgICAgICAgICAgICAgckJSLCByQkwsXG4gICAgICAgICAgICAgICAgIFsgLTEsIDAsIDAsIC0xLCBib3gucmlnaHQsIGJveC5ib3R0b20gXSk7XG5cbiAgICAgICAgLy8gZm9yIGxlZnQvcmlnaHQgYm9yZGVycyB3ZSBuZWVkIHRvIGludmVydCB0aGUgYm9yZGVyLXJhZGl1c2VzXG4gICAgICAgIGZ1bmN0aW9uIGludihwKSB7XG4gICAgICAgICAgICByZXR1cm4geyB4OiBwLnksIHk6IHAueCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGVmdCBib3JkZXJcbiAgICAgICAgZHJhd0VkZ2UobGVmdC5jb2xvcixcbiAgICAgICAgICAgICAgICAgYm94LmhlaWdodCwgbGVmdC53aWR0aCwgYm90dG9tLndpZHRoLCB0b3Aud2lkdGgsXG4gICAgICAgICAgICAgICAgIGludihyQkwpLCBpbnYoclRMKSxcbiAgICAgICAgICAgICAgICAgWyAwLCAtMSwgMSwgMCwgYm94LmxlZnQsIGJveC5ib3R0b20gXSk7XG5cbiAgICAgICAgLy8gcmlnaHQgYm9yZGVyXG4gICAgICAgIGRyYXdFZGdlKHJpZ2h0LmNvbG9yLFxuICAgICAgICAgICAgICAgICBib3guaGVpZ2h0LCByaWdodC53aWR0aCwgdG9wLndpZHRoLCBib3R0b20ud2lkdGgsXG4gICAgICAgICAgICAgICAgIGludihyVFIpLCBpbnYockJSKSxcbiAgICAgICAgICAgICAgICAgWyAwLCAxLCAtMSwgMCwgYm94LnJpZ2h0LCBib3gudG9wIF0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ3JhZGllbnRSZW5kZXJlcihncmFkaWVudCkge1xuICAgIHJldHVybiBmdW5jdGlvbihncm91cCwgcmVjdCkge1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0LndpZHRoKCksIGhlaWdodCA9IHJlY3QuaGVpZ2h0KCk7XG5cbiAgICAgICAgc3dpdGNoIChncmFkaWVudC50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImxpbmVhclwiOlxuXG4gICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBhbmdsZS5cbiAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LmFuZ2xlICE9IG51bGwgPyBncmFkaWVudC5hbmdsZSA6IE1hdGguUEk7XG4gICAgICAgICAgICBzd2l0Y2ggKGdyYWRpZW50LnRvKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICAgICAgICBhbmdsZSA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAtTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgICAgICAgICBhbmdsZSA9IE1hdGguUEk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICAgIGFuZ2xlID0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3AgbGVmdFwiOiBjYXNlIFwibGVmdCB0b3BcIjpcbiAgICAgICAgICAgICAgICBhbmdsZSA9IC1NYXRoLmF0YW4yKGhlaWdodCwgd2lkdGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidG9wIHJpZ2h0XCI6IGNhc2UgXCJyaWdodCB0b3BcIjpcbiAgICAgICAgICAgICAgICBhbmdsZSA9IE1hdGguYXRhbjIoaGVpZ2h0LCB3aWR0aCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJib3R0b20gbGVmdFwiOiBjYXNlIFwibGVmdCBib3R0b21cIjpcbiAgICAgICAgICAgICAgICBhbmdsZSA9IE1hdGguUEkgKyBNYXRoLmF0YW4yKGhlaWdodCwgd2lkdGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tIHJpZ2h0XCI6IGNhc2UgXCJyaWdodCBib3R0b21cIjpcbiAgICAgICAgICAgICAgICBhbmdsZSA9IE1hdGguUEkgLSBNYXRoLmF0YW4yKGhlaWdodCwgd2lkdGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ3JhZGllbnQucmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgIGFuZ2xlIC09IE1hdGguUEk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxpbWl0IHRoZSBhbmdsZSBiZXR3ZWVuIDAuLjJQSVxuICAgICAgICAgICAgYW5nbGUgJT0gMiAqIE1hdGguUEk7XG4gICAgICAgICAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgKz0gMiAqIE1hdGguUEk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvbXB1dGUgZ3JhZGllbnQncyBzdGFydC9lbmQgcG9pbnRzLiAgaGVyZSBsZW4gaXMgdGhlIGxlbmd0aCBvZiB0aGUgZ3JhZGllbnQgbGluZVxuICAgICAgICAgICAgLy8gYW5kIHgseSBpcyB0aGUgZW5kIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHJlY3RhbmdsZSBpbiBjb252ZW50aW9uYWxcbiAgICAgICAgICAgIC8vIChtYXRoKSBheGlzIGRpcmVjdGlvbi5cblxuICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgb3JpZ2luYWwgKHVuc2NhbGVkKSBsZW5ndGggb2YgdGhlIGdyYWRpZW50IGxpbmUuICBuZWVkZWQgdG8gZGVhbCB3aXRoXG4gICAgICAgICAgICAvLyBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQgY29sb3Igc3RvcHMuICBmb3JtdWxhIGZyb20gdGhlIENTUyBzcGVjOlxuICAgICAgICAgICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLWltYWdlcy0zLyNsaW5lYXItZ3JhZGllbnQtc3ludGF4XG4gICAgICAgICAgICB2YXIgcHhsZW4gPSBNYXRoLmFicyh3aWR0aCAqIE1hdGguc2luKGFuZ2xlKSkgKyBNYXRoLmFicyhoZWlnaHQgKiBNYXRoLmNvcyhhbmdsZSkpO1xuXG4gICAgICAgICAgICAvLyBUaGUgbWF0aCBiZWxvdyBpcyBwcmV0dHkgc2ltcGxlLCBidXQgaXQgdG9vayBhIHdoaWxlIHRvIGZpZ3VyZSBvdXQuICBXZSBjb21wdXRlIHhcbiAgICAgICAgICAgIC8vIGFuZCB5LCB0aGUgKmVuZCogb2YgdGhlIGdyYWRpZW50IGxpbmUuICBIb3dldmVyLCB3ZSB3YW50IHRvIHRyYW5zZm9ybSB0aGVtIGludG9cbiAgICAgICAgICAgIC8vIGVsZW1lbnQtYmFzZWQgY29vcmRpbmF0ZXMgKFNWRydzIGdyYWRpZW50VW5pdHM9XCJvYmplY3RCb3VuZGluZ0JveFwiKS4gIFRoYXQgbWVhbnMsXG4gICAgICAgICAgICAvLyB4PTAgaXMgdGhlIGxlZnQgZWRnZSwgeD0xIGlzIHRoZSByaWdodCBlZGdlLCB5PTAgaXMgdGhlIHRvcCBlZGdlIGFuZCB5PTEgaXMgdGhlXG4gICAgICAgICAgICAvLyBib3R0b20gZWRnZS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBBIG5haXZlIGFwcHJvYWNoIHdvdWxkIHVzZSB0aGUgb3JpZ2luYWwgYW5nbGUgZm9yIHRoZXNlIGNhbGN1bGF0aW9ucy4gIFNheSB3ZSdkXG4gICAgICAgICAgICAvLyBsaWtlIHRvIGRyYXcgYSBncmFkaWVudCBhbmdsZWQgYXQgNDVkZWcgaW4gYSAxMDB4NDAwIGJveC4gIFdoZW4gd2UgdXNlXG4gICAgICAgICAgICAvLyBvYmplY3RCb3VuZGluZ0JveCwgdGhlIHJlbmRlcmVyIHdpbGwgZHJhdyBpdCBpbiBhIDF4MSAqc3F1YXJlKiBib3gsIGFuZCB0aGVuXG4gICAgICAgICAgICAvLyBzY2FsZSB0aGF0IHRvIHRoZSBkZXNpcmVkIGRpbWVuc2lvbnMuICBUaGUgNDVkZWcgYW5nbGUgd2lsbCBsb29rIG1vcmUgbGlrZSA3MGRlZ1xuICAgICAgICAgICAgLy8gYWZ0ZXIgc2NhbGluZy4gIFNWRyAoaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BzZXJ2ZXJzLmh0bWwjTGluZWFyR3JhZGllbnRzKSBzYXlzXG4gICAgICAgICAgICAvLyB0aGUgZm9sbG93aW5nOlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICBXaGVuIGdyYWRpZW50VW5pdHM9XCJvYmplY3RCb3VuZGluZ0JveFwiIGFuZCAnZ3JhZGllbnRUcmFuc2Zvcm0nIGlzIHRoZVxuICAgICAgICAgICAgLy8gICAgIGlkZW50aXR5IG1hdHJpeCwgdGhlIG5vcm1hbCBvZiB0aGUgbGluZWFyIGdyYWRpZW50IGlzIHBlcnBlbmRpY3VsYXIgdG8gdGhlXG4gICAgICAgICAgICAvLyAgICAgZ3JhZGllbnQgdmVjdG9yIGluIG9iamVjdCBib3VuZGluZyBib3ggc3BhY2UgKGkuZS4sIHRoZSBhYnN0cmFjdCBjb29yZGluYXRlXG4gICAgICAgICAgICAvLyAgICAgc3lzdGVtIHdoZXJlICgwLDApIGlzIGF0IHRoZSB0b3AvbGVmdCBvZiB0aGUgb2JqZWN0IGJvdW5kaW5nIGJveCBhbmQgKDEsMSkgaXNcbiAgICAgICAgICAgIC8vICAgICBhdCB0aGUgYm90dG9tL3JpZ2h0IG9mIHRoZSBvYmplY3QgYm91bmRpbmcgYm94KS4gV2hlbiB0aGUgb2JqZWN0J3MgYm91bmRpbmdcbiAgICAgICAgICAgIC8vICAgICBib3ggaXMgbm90IHNxdWFyZSwgdGhlIGdyYWRpZW50IG5vcm1hbCB3aGljaCBpcyBpbml0aWFsbHkgcGVycGVuZGljdWxhciB0b1xuICAgICAgICAgICAgLy8gICAgIHRoZSBncmFkaWVudCB2ZWN0b3Igd2l0aGluIG9iamVjdCBib3VuZGluZyBib3ggc3BhY2UgbWF5IHJlbmRlclxuICAgICAgICAgICAgLy8gICAgIG5vbi1wZXJwZW5kaWN1bGFyIHJlbGF0aXZlIHRvIHRoZSBncmFkaWVudCB2ZWN0b3IgaW4gdXNlciBzcGFjZS4gSWYgdGhlXG4gICAgICAgICAgICAvLyAgICAgZ3JhZGllbnQgdmVjdG9yIGlzIHBhcmFsbGVsIHRvIG9uZSBvZiB0aGUgYXhlcyBvZiB0aGUgYm91bmRpbmcgYm94LCB0aGVcbiAgICAgICAgICAgIC8vICAgICBncmFkaWVudCBub3JtYWwgd2lsbCByZW1haW4gcGVycGVuZGljdWxhci4gVGhpcyB0cmFuc2Zvcm1hdGlvbiBpcyBkdWUgdG9cbiAgICAgICAgICAgIC8vICAgICBhcHBsaWNhdGlvbiBvZiB0aGUgbm9uLXVuaWZvcm0gc2NhbGluZyB0cmFuc2Zvcm1hdGlvbiBmcm9tIGJvdW5kaW5nIGJveCBzcGFjZVxuICAgICAgICAgICAgLy8gICAgIHRvIHVzZXIgc3BhY2UuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gd2hpY2ggaXMgYW4gZXh0cmVtZWx5IGxvbmcgYW5kIGNvbmZ1c2luZyB3YXkgdG8gdGVsbCB3aGF0IEkganVzdCBzYWlkIGFib3ZlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEZvciB0aGlzIHJlYXNvbiB3ZSBuZWVkIHRvIGFwcGx5IHRoZSByZXZlcnNlIHNjYWxpbmcgdG8gdGhlIG9yaWdpbmFsIGFuZ2xlLCBzb1xuICAgICAgICAgICAgLy8gdGhhdCB3aGVuIGl0J2xsIGZpbmFsbHkgYmUgcmVuZGVyZWQgaXQnbGwgYWN0dWFsbHkgYmUgYXQgdGhlIGRlc2lyZWQgc2xvcGUuICBOb3dcbiAgICAgICAgICAgIC8vIEknbGwgbGV0IHlvdSBmaWd1cmUgb3V0IHRoZSBtYXRoIHlvdXJzZWxmLlxuXG4gICAgICAgICAgICB2YXIgc2NhbGVkQW5nbGUgPSBNYXRoLmF0YW4od2lkdGggKiBNYXRoLnRhbihhbmdsZSkgLyBoZWlnaHQpO1xuICAgICAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKHNjYWxlZEFuZ2xlKSwgY29zID0gTWF0aC5jb3Moc2NhbGVkQW5nbGUpO1xuICAgICAgICAgICAgdmFyIGxlbiA9IE1hdGguYWJzKHNpbikgKyBNYXRoLmFicyhjb3MpO1xuICAgICAgICAgICAgdmFyIHggPSBsZW4vMiAqIHNpbjtcbiAgICAgICAgICAgIHZhciB5ID0gbGVuLzIgKiBjb3M7XG5cbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhlIGFyY3RhbmdlbnQsIG91ciBzY2FsZWRBbmdsZSBlbmRzIHVwIGJldHdlZW4gLVBJLzIuLlBJLzIsIHBvc3NpYmx5XG4gICAgICAgICAgICAvLyBsb3NpbmcgdGhlIGludGVuZGVkIGRpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuICBUaGUgZm9sbG93aW5nIGZpeGVzIGl0LlxuICAgICAgICAgICAgaWYgKGFuZ2xlID4gTWF0aC5QSS8yICYmIGFuZ2xlIDw9IDMqTWF0aC5QSS8yKSB7XG4gICAgICAgICAgICAgICAgeCA9IC14O1xuICAgICAgICAgICAgICAgIHkgPSAteTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29tcHV0ZSB0aGUgY29sb3Igc3RvcHMuXG4gICAgICAgICAgICB2YXIgaW1wbGljaXQgPSBbXSwgcmlnaHQgPSAwO1xuICAgICAgICAgICAgdmFyIHN0b3BzID0gZ3JhZGllbnQuc3RvcHMubWFwKGZ1bmN0aW9uKHMsIGkpe1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBzLnBlcmNlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBwYXJzZUZsb2F0KG9mZnNldCkgLyAxMDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBwYXJzZUZsb2F0KHMubGVuZ3RoKSAvIHB4bGVuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PSBncmFkaWVudC5zdG9wcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzdG9wID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogcy5jb2xvci50b0Nzc1JnYmEoKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgLy8gZml4IGltcGxpY2l0IG9mZnNldHNcbiAgICAgICAgICAgICAgICAgICAgaW1wbGljaXQuZm9yRWFjaChmdW5jdGlvbihzLCBpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9wID0gcy5zdG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcC5vZmZzZXQgPSBzLmxlZnQgKyAocmlnaHQgLSBzLmxlZnQpICogKGkgKyAxKSAvIChpbXBsaWNpdC5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGltcGxpY2l0ID0gW107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW1wbGljaXQucHVzaCh7IGxlZnQ6IHJpZ2h0LCBzdG9wOiBzdG9wIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBbIDAuNSAtIHgsIDAuNSArIHkgXTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBbIDAuNSArIHgsIDAuNSAtIHkgXTtcblxuICAgICAgICAgICAgLy8gZmluYWxseSwgZHJhdyBpdC5cbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZChcbiAgICAgICAgICAgICAgICBQYXRoLmZyb21SZWN0KHJlY3QpXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UobnVsbClcbiAgICAgICAgICAgICAgICAgICAgLmZpbGwobmV3IExpbmVhckdyYWRpZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ICAgICA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kICAgICAgIDogZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcHMgICAgIDogc3RvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyU3BhY2UgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicmFkaWFsXCI6XG4gICAgICAgICAgICAvLyBYWFg6XG4gICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKFwiUmFkaWFsIGdyYWRpZW50cyBhcmUgbm90IHlldCBzdXBwb3J0ZWQgaW4gSFRNTCByZW5kZXJlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbWF5YmVSZW5kZXJXaWRnZXQoZWxlbWVudCwgZ3JvdXApIHtcbiAgICB2YXIgdmlzdWFsO1xuXG4gICAgaWYgKGVsZW1lbnQuX2tlbmRvRXhwb3J0VmlzdWFsKSB7XG4gICAgICAgIHZpc3VhbCA9IGVsZW1lbnQuX2tlbmRvRXhwb3J0VmlzdWFsKCk7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cua2VuZG8gJiYgd2luZG93LmtlbmRvLmpRdWVyeSAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSh3aW5kb3cua2VuZG8uYXR0cihcInJvbGVcIikpKSB7XG4gICAgICAgIHZhciB3aWRnZXQgPSB3aW5kb3cua2VuZG8ud2lkZ2V0SW5zdGFuY2Uod2luZG93LmtlbmRvLmpRdWVyeShlbGVtZW50KSk7XG4gICAgICAgIGlmICh3aWRnZXQgJiYgKHdpZGdldC5leHBvcnRET01WaXN1YWwgfHwgd2lkZ2V0LmV4cG9ydFZpc3VhbCkpIHtcbiAgICAgICAgICAgIGlmICh3aWRnZXQuZXhwb3J0RE9NVmlzdWFsKSB7XG4gICAgICAgICAgICAgICAgdmlzdWFsID0gd2lkZ2V0LmV4cG9ydERPTVZpc3VhbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2aXN1YWwgPSB3aWRnZXQuZXhwb3J0VmlzdWFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXZpc3VhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHdyYXAgPSBuZXcgR3JvdXAoKTtcbiAgICB3cmFwLmNoaWxkcmVuLnB1c2godmlzdWFsKTtcblxuICAgIHZhciBiYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB3cmFwLnRyYW5zZm9ybShnZW8udHJhbnNmb3JtKCkudHJhbnNsYXRlKGJib3gubGVmdCwgYmJveC50b3ApKTtcblxuICAgIGdyb3VwLmFwcGVuZCh3cmFwKTtcblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZW5kZXJJbWFnZShlbGVtZW50LCB1cmwsIGdyb3VwKSB7XG4gICAgdmFyIGJveCA9IGdldENvbnRlbnRCb3goZWxlbWVudCk7XG4gICAgdmFyIHJlY3QgPSBuZXcgZ2VvLlJlY3QoWyBib3gubGVmdCwgYm94LnRvcCBdLCBbIGJveC53aWR0aCwgYm94LmhlaWdodCBdKTtcbiAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UodXJsLCByZWN0KTtcbiAgICBzZXRDbGlwcGluZyhpbWFnZSwgZWxlbWVudFJvdW5kQm94KGVsZW1lbnQsIGJveCwgXCJjb250ZW50XCIpKTtcbiAgICBncm91cC5hcHBlbmQoaW1hZ2UpO1xufVxuXG5mdW5jdGlvbiB6SW5kZXhTb3J0KGEsIGIpIHtcbiAgICB2YXIgc2EgPSBnZXRDb21wdXRlZFN0eWxlKGEpO1xuICAgIHZhciBzYiA9IGdldENvbXB1dGVkU3R5bGUoYik7XG4gICAgdmFyIHphID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHNhLCBcInotaW5kZXhcIikpO1xuICAgIHZhciB6YiA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzYiwgXCJ6LWluZGV4XCIpKTtcbiAgICB2YXIgcGEgPSBnZXRQcm9wZXJ0eVZhbHVlKHNhLCBcInBvc2l0aW9uXCIpO1xuICAgIHZhciBwYiA9IGdldFByb3BlcnR5VmFsdWUoc2IsIFwicG9zaXRpb25cIik7XG4gICAgaWYgKGlzTmFOKHphKSAmJiBpc05hTih6YikpIHtcbiAgICAgICAgaWYgKCgvc3RhdGljfGFic29sdXRlLy50ZXN0KHBhKSkgJiYgKC9zdGF0aWN8YWJzb2x1dGUvLnRlc3QocGIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhID09IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGIgPT0gXCJzdGF0aWNcIikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChpc05hTih6YSkpIHtcbiAgICAgICAgcmV0dXJuIHpiID09PSAwID8gMCA6IHpiID4gMCA/IC0xIDogMTtcbiAgICB9XG4gICAgaWYgKGlzTmFOKHpiKSkge1xuICAgICAgICByZXR1cm4gemEgPT09IDAgPyAwIDogemEgPiAwID8gMSA6IC0xO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VGbG9hdCh6YSkgLSBwYXJzZUZsb2F0KHpiKTtcbn1cblxuZnVuY3Rpb24gaXNGb3JtRmllbGQoZWxlbWVudCkge1xuICAgIHJldHVybiAvXig/OnRleHRhcmVhfHNlbGVjdHxpbnB1dCkkL2kudGVzdChlbGVtZW50LnRhZ05hbWUpO1xufVxuXG5mdW5jdGlvbiBnZXRTZWxlY3RlZE9wdGlvbihlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQuc2VsZWN0ZWRPcHRpb25zICYmIGVsZW1lbnQuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuc2VsZWN0ZWRPcHRpb25zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudC5vcHRpb25zW2VsZW1lbnQuc2VsZWN0ZWRJbmRleF07XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNoZWNrYm94KGVsZW1lbnQsIGdyb3VwKSB7XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICB2YXIgY29sb3IgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImNvbG9yXCIpO1xuICAgIHZhciBib3ggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChlbGVtZW50LnR5cGUgPT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgIGdyb3VwLmFwcGVuZChcbiAgICAgICAgICAgIFBhdGguZnJvbVJlY3QoXG4gICAgICAgICAgICAgICAgbmV3IGdlby5SZWN0KFsgYm94LmxlZnQrMSwgYm94LnRvcCsxIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsgYm94LndpZHRoLTIsIGJveC5oZWlnaHQtMiBdKVxuICAgICAgICAgICAgKS5zdHJva2UoY29sb3IsIDEpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChlbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIC8vIGZpbGwgYSByZWN0YW5nbGUgaW5zaWRlPyAgbG9va3Mga2luZGEgdWdseS5cbiAgICAgICAgICAgIC8vIGdyb3VwLmFwcGVuZChcbiAgICAgICAgICAgIC8vICAgICBQYXRoLmZyb21SZWN0KFxuICAgICAgICAgICAgLy8gICAgICAgICBuZXcgZ2VvLlJlY3QoWyBib3gubGVmdCs0LCBib3gudG9wKzQgXSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFsgYm94LndpZHRoLTgsIGJveC5oZWlnaHQtOF0pXG4gICAgICAgICAgICAvLyAgICAgKS5maWxsKGNvbG9yKS5zdHJva2UobnVsbClcbiAgICAgICAgICAgIC8vICk7XG5cbiAgICAgICAgICAgIC8vIGxldCdzIGRyYXcgYSBjaGVja21hcmsgaW5zdGVhZC4gIGFydGlzdGljLCBlaD9cbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZChcbiAgICAgICAgICAgICAgICBuZXcgUGF0aCgpXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UoY29sb3IsIDEuMilcbiAgICAgICAgICAgICAgICAgICAgLm1vdmVUbyhib3gubGVmdCArIDAuMjIgKiBib3gud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94LnRvcCArIDAuNTUgKiBib3guaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKGJveC5sZWZ0ICsgMC40NSAqIGJveC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3gudG9wICsgMC43NSAqIGJveC5oZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgIC5saW5lVG8oYm94LmxlZnQgKyAwLjc4ICogYm94LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveC50b3AgKyAwLjIyICogYm94LndpZHRoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3VwLmFwcGVuZChcbiAgICAgICAgICAgIG5ldyBDaXJjbGUoXG4gICAgICAgICAgICAgICAgbmV3IGdlby5DaXJjbGUoW1xuICAgICAgICAgICAgICAgICAgICAoYm94LmxlZnQgKyBib3gucmlnaHQpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgKGJveC50b3AgKyBib3guYm90dG9tKSAvIDJcbiAgICAgICAgICAgICAgICBdLCBNYXRoLm1pbihib3gud2lkdGgtMiwgYm94LmhlaWdodC0yKSAvIDIpXG4gICAgICAgICAgICApLnN0cm9rZShjb2xvciwgMSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2hlY2tlZCkge1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKFxuICAgICAgICAgICAgICAgIG5ldyBDaXJjbGUoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBnZW8uQ2lyY2xlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIChib3gubGVmdCArIGJveC5yaWdodCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGJveC50b3AgKyBib3guYm90dG9tKSAvIDJcbiAgICAgICAgICAgICAgICAgICAgXSwgTWF0aC5taW4oYm94LndpZHRoLTgsIGJveC5oZWlnaHQtOCkgLyAyKVxuICAgICAgICAgICAgICAgICkuZmlsbChjb2xvcikuc3Ryb2tlKG51bGwpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJGb3JtRmllbGQoZWxlbWVudCwgZ3JvdXApIHtcbiAgICB2YXIgdGFnID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHRhZyA9PSBcImlucHV0XCIgJiYgKGVsZW1lbnQudHlwZSA9PSBcImNoZWNrYm94XCIgfHwgZWxlbWVudC50eXBlID09IFwicmFkaW9cIikpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckNoZWNrYm94KGVsZW1lbnQsIGdyb3VwKTtcbiAgICB9XG4gICAgdmFyIHAgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICB2YXIgZWwgPSBkb2MuY3JlYXRlRWxlbWVudChLRU5ET19QU0VVRE9fRUxFTUVOVCk7XG4gICAgdmFyIG9wdGlvbjtcbiAgICBlbC5zdHlsZS5jc3NUZXh0ID0gZ2V0Q3NzVGV4dChnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpKTtcbiAgICBpZiAodGFnID09IFwiaW5wdXRcIikge1xuICAgICAgICBlbC5zdHlsZS53aGl0ZVNwYWNlID0gXCJwcmVcIjtcbiAgICB9XG4gICAgaWYgKHRhZyA9PSBcInNlbGVjdFwiIHx8IHRhZyA9PSBcInRleHRhcmVhXCIpIHtcbiAgICAgICAgZWwuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcbiAgICB9XG4gICAgaWYgKHRhZyA9PSBcInNlbGVjdFwiKSB7XG4gICAgICAgIGlmIChlbGVtZW50Lm11bHRpcGxlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbiA9IGRvYy5jcmVhdGVFbGVtZW50KEtFTkRPX1BTRVVET19FTEVNRU5UKTtcbiAgICAgICAgICAgICAgICBvcHRpb24uc3R5bGUuY3NzVGV4dCA9IGdldENzc1RleHQoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50Lm9wdGlvbnNbaV0pKTtcbiAgICAgICAgICAgICAgICBvcHRpb24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjsgLy8gSUU5IG1lc3NlcyB1cCB3aXRob3V0IHRoaXNcbiAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBlbGVtZW50Lm9wdGlvbnNbaV0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbiA9IGdldFNlbGVjdGVkT3B0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gb3B0aW9uLnRleHRDb250ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBwLmluc2VydEJlZm9yZShlbCwgZWxlbWVudCk7XG4gICAgZWwuc2Nyb2xsTGVmdCA9IGVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICBlbC5zY3JvbGxUb3AgPSBlbGVtZW50LnNjcm9sbFRvcDtcblxuICAgIC8vIG11c3QgdGVtcG9yYXJpbHkgaGlkZSB0aGUgb3JpZ2luYWwgZWxlbWVudCwgb3RoZXJ3aXNlIGl0XG4gICAgLy8gbWF5IGFmZmVjdCBsYXlvdXQgb2YgdGhlIGZha2UgZWxlbWVudCB3ZSB3YW50IHRvIHJlbmRlci5cbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgIHJlbmRlckNvbnRlbnRzKGVsLCBncm91cCk7XG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICBwLnJlbW92ZUNoaWxkKGVsKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQ29udGVudHMoZWxlbWVudCwgZ3JvdXApIHtcbiAgICBpZiAobm9kZUluZm8uX3N0YWNraW5nQ29udGV4dC5lbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICAgIC8vIHRoZSBncm91cCB0aGF0IHdhcyBzZXQgaW4gcHVzaE5vZGVJbmZvIG1pZ2h0IGhhdmVcbiAgICAgICAgLy8gY2hhbmdlZCBkdWUgdG8gY2xpcHBpbmcvdHJhbnNmb3JtcywgdXBkYXRlIGl0IGhlcmUuXG4gICAgICAgIG5vZGVJbmZvLl9zdGFja2luZ0NvbnRleHQuZ3JvdXAgPSBncm91cDtcbiAgICB9XG4gICAgc3dpdGNoIChlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICByZW5kZXJJbWFnZShlbGVtZW50LCBlbGVtZW50LnNyYywgZ3JvdXApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImNhbnZhc1wiOlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVuZGVySW1hZ2UoZWxlbWVudCwgZWxlbWVudC50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIiksIGdyb3VwKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIC8vIHRhaW50ZWQ7IGNhbid0IGRyYXcgaXQsIGlnbm9yZS5cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgcmVuZGVyRm9ybUZpZWxkKGVsZW1lbnQsIGdyb3VwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IFtdLCBmbG9hdHMgPSBbXSwgcG9zaXRpb25lZCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gZWxlbWVudC5maXJzdENoaWxkOyBpOyBpID0gaS5uZXh0U2libGluZykge1xuICAgICAgICAgICAgc3dpdGNoIChpLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgMzogICAgICAgICAvLyBUZXh0XG4gICAgICAgICAgICAgICAgaWYgKC9cXFMvLnRlc3QoaS5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJUZXh0KGVsZW1lbnQsIGksIGdyb3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMTogICAgICAgICAvLyBFbGVtZW50XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShpKTtcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRpbmcgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImZsb2F0XCIpO1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwicG9zaXRpb25cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uICE9IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25lZC5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmbG9hdGluZyAhPSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICBmbG9hdHMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG1lcmdlU29ydChjaGlsZHJlbiwgekluZGV4U29ydCkuZm9yRWFjaChmdW5jdGlvbihlbCl7IHJlbmRlckVsZW1lbnQoZWwsIGdyb3VwKTsgfSk7XG4gICAgICAgIG1lcmdlU29ydChmbG9hdHMsIHpJbmRleFNvcnQpLmZvckVhY2goZnVuY3Rpb24oZWwpeyByZW5kZXJFbGVtZW50KGVsLCBncm91cCk7IH0pO1xuICAgICAgICBtZXJnZVNvcnQocG9zaXRpb25lZCwgekluZGV4U29ydCkuZm9yRWFjaChmdW5jdGlvbihlbCl7IHJlbmRlckVsZW1lbnQoZWwsIGdyb3VwKTsgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJUZXh0KGVsZW1lbnQsIG5vZGUsIGdyb3VwKSB7XG4gICAgaWYgKGVtcHR5Q2xpcGJveCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAgIGlmIChwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwidGV4dC1pbmRlbnRcIikpIDwgLTUwMCkge1xuICAgICAgICAvLyBhc3N1bWUgaXQgc2hvdWxkIG5vdCBiZSBkaXNwbGF5ZWQuICB0aGUgc2xpZGVyJ3NcbiAgICAgICAgLy8gZHJhZ2dhYmxlIGhhbmRsZSBkaXNwbGF5cyBhIERyYWcgdGV4dCBmb3Igc29tZSByZWFzb24sXG4gICAgICAgIC8vIGhhdmluZyB0ZXh0LWluZGVudDogLTMzMzNweC5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ZXh0ID0gbm9kZS5kYXRhO1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgdmFyIGVuZCA9IHRleHQuc2VhcmNoKC9cXFNcXHMqJC8pICsgMTtcblxuICAgIGlmICghZW5kKSB7XG4gICAgICAgIHJldHVybjsgLy8gd2hpdGVzcGFjZS1vbmx5IG5vZGVcbiAgICB9XG5cbiAgICB2YXIgZm9udFNpemUgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImZvbnQtc2l6ZVwiKTtcbiAgICB2YXIgbGluZUhlaWdodCA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwibGluZS1oZWlnaHRcIik7XG5cbiAgICAvLyBzaW1wbHkgZ2V0UHJvcGVydHlWYWx1ZShcImZvbnRcIikgZG9lc24ndCB3b3JrIGluIEZpcmVmb3ggOi1cXFxuICAgIHZhciBmb250ID0gW1xuICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImZvbnQtc3R5bGVcIiksXG4gICAgICAgIGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiZm9udC12YXJpYW50XCIpLFxuICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImZvbnQtd2VpZ2h0XCIpLFxuICAgICAgICBmb250U2l6ZSwgLy8gbm8gbmVlZCBmb3IgbGluZSBoZWlnaHQgaGVyZTsgaXQgYnJlYWtzIGxheW91dCBpbiBGRlxuICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImZvbnQtZmFtaWx5XCIpXG4gICAgXS5qb2luKFwiIFwiKTtcblxuICAgIGZvbnRTaXplID0gcGFyc2VGbG9hdChmb250U2l6ZSk7XG4gICAgbGluZUhlaWdodCA9IHBhcnNlRmxvYXQobGluZUhlaWdodCk7XG5cbiAgICBpZiAoZm9udFNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb2xvciA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiY29sb3JcIik7XG4gICAgdmFyIHJhbmdlID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgdmFyIGFsaWduID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ0ZXh0LWFsaWduXCIpO1xuICAgIHZhciBpc0p1c3RpZmllZCA9IGFsaWduID09IFwianVzdGlmeVwiO1xuICAgIHZhciBjb2x1bW5Db3VudCA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiY29sdW1uLWNvdW50XCIsIDEpO1xuICAgIHZhciB3aGl0ZVNwYWNlID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ3aGl0ZS1zcGFjZVwiKTtcbiAgICB2YXIgdGV4dFRyYW5zZm9ybSA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwidGV4dC10cmFuc2Zvcm1cIik7XG5cbiAgICAvLyBBIGxpbmUgb2YgNTAwcHgsIHdpdGggYSBmb250IG9mIDEycHgsIGNvbnRhaW5zIGFuIGF2ZXJhZ2Ugb2YgODAgY2hhcmFjdGVycywgYnV0IHNpbmNlIHdlXG4gICAgLy8gZXJyLCB3ZSdkIGxpa2UgdG8gZ3Vlc3MgYSBiaWdnZXIgbnVtYmVyIHJhdGhlciB0aGFuIGEgc21hbGxlciBvbmUuICBNdWx0aXBseWluZyBieSA1XG4gICAgLy8gc2VlbXMgdG8gYmUgYSBnb29kIG9wdGlvbi5cbiAgICB2YXIgZXN0aW1hdGVMaW5lTGVuZ3RoID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAvIGZvbnRTaXplICogNTtcbiAgICBpZiAoZXN0aW1hdGVMaW5lTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGVzdGltYXRlTGluZUxlbmd0aCA9IDUwMDtcbiAgICB9XG5cbiAgICAvLyB3ZSdsbCBtYWludGFpbiB0aGlzIHNvIHdlIGNhbiB3b3JrYXJvdW5kIGJ1Z3MgaW4gQ2hyb21lJ3MgUmFuZ2UuZ2V0Q2xpZW50UmVjdHNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby9pc3N1ZXMvNTc0MFxuICAgIHZhciBwcmV2TGluZUJvdHRvbSA9IG51bGw7XG5cbiAgICB2YXIgdW5kZXJsaW5lID0gbm9kZUluZm9bXCJ1bmRlcmxpbmVcIl07XG4gICAgdmFyIGxpbmVUaHJvdWdoID0gbm9kZUluZm9bXCJsaW5lLXRocm91Z2hcIl07XG4gICAgdmFyIG92ZXJsaW5lID0gbm9kZUluZm9bXCJvdmVybGluZVwiXTtcbiAgICB2YXIgaGFzRGVjb3JhdGlvbiA9IHVuZGVybGluZSB8fCBsaW5lVGhyb3VnaCB8fCBvdmVybGluZTtcblxuICAgIC8vIGRvQ2h1bmsgcmV0dXJucyB0cnVlIHdoZW4gYWxsIHRleHQgaGFzIGJlZW4gcmVuZGVyZWRcbiAgICB3aGlsZSAoIWRvQ2h1bmsoKSkge31cblxuICAgIGlmIChoYXNEZWNvcmF0aW9uKSB7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGUobm9kZSk7XG4gICAgICAgIHNsaWNlKHJhbmdlLmdldENsaWVudFJlY3RzKCkpLmZvckVhY2goZGVjb3JhdGUpO1xuICAgIH1cblxuICAgIHJldHVybjsgICAgICAgICAgICAgICAgIC8vIG9ubHkgZnVuY3Rpb24gZGVjbGFyYXRpb25zIGFmdGVyIHRoaXMgbGluZVxuXG4gICAgZnVuY3Rpb24gYWN0dWFsbHlHZXRSYW5nZUJvdW5kaW5nUmVjdChyYW5nZSkge1xuICAgICAgICAvLyBYWFg6IHRvIGJlIHJldmlzZWQgd2hlbiB0aGlzIENocm9tZSBidWcgaXMgZml4ZWQ6XG4gICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTYxMjQ1OVxuICAgICAgICBpZiAobWljcm9zb2Z0IHx8IGJyb3dzZXIuY2hyb21lKSB7XG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGJyb3dzZXIgYnVnczogSUUgYW5kIENocm9tZSB3b3VsZCBzb21ldGltZXNcbiAgICAgICAgICAgIC8vIHJldHVybiAwIG9yIDEtd2lkdGggcmVjdGFuZ2xlcyBiZWZvcmUgb3IgYWZ0ZXIgdGhlIG1haW5cbiAgICAgICAgICAgIC8vIG9uZS4gIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy80Njc0XG5cbiAgICAgICAgICAgIC8vIEFjdHVhbGx5IENocm9tZSA1MCBnb3Qgd29yc2UsIHNpbmNlIHRoZSByZWN0YW5nbGVzIGNhbiBub3cgaGF2ZSB0aGUgd2lkdGggb2YgYVxuICAgICAgICAgICAgLy8gZnVsbCBjaGFyYWN0ZXIsIG1ha2luZyBpdCBoYXJkIHRvIHRlbGwgd2hldGhlciBpdCdzIGEgYm9ndXMgcmVjdGFuZ2xlIG9yIHZhbGlkXG4gICAgICAgICAgICAvLyBzZWxlY3Rpb24gbG9jYXRpb24uICBUaGUgd29ya2Fyb3VuZCBpcyB0byBpZ25vcmUgcmVjdGFuZ2xlcyB0aGF0IGZhbGwgb24gdGhlXG4gICAgICAgICAgICAvLyBwcmV2aW91cyBsaW5lLiAgaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8vaXNzdWVzLzU3NDBcbiAgICAgICAgICAgIHZhciByZWN0YW5nbGVzID0gcmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKSwgYm94ID0ge1xuICAgICAgICAgICAgICAgIHRvcCAgICA6ICBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICByaWdodCAgOiAtSW5maW5pdHksXG4gICAgICAgICAgICAgICAgYm90dG9tIDogLUluZmluaXR5LFxuICAgICAgICAgICAgICAgIGxlZnQgICA6ICBJbmZpbml0eVxuICAgICAgICAgICAgfSwgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWN0YW5nbGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSByZWN0YW5nbGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChiLndpZHRoIDw9IDEgfHwgYi5ib3R0b20gPT09IHByZXZMaW5lQm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAgIC8vIGJvZ3VzIHJlY3RhbmdsZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBib3gubGVmdCAgID0gTWF0aC5taW4oYi5sZWZ0ICAgLCBib3gubGVmdCk7XG4gICAgICAgICAgICAgICAgYm94LnRvcCAgICA9IE1hdGgubWluKGIudG9wICAgICwgYm94LnRvcCk7XG4gICAgICAgICAgICAgICAgYm94LnJpZ2h0ICA9IE1hdGgubWF4KGIucmlnaHQgICwgYm94LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICBib3guYm90dG9tID0gTWF0aC5tYXgoYi5ib3R0b20gLCBib3guYm90dG9tKTtcbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJveC53aWR0aCA9IGJveC5yaWdodCAtIGJveC5sZWZ0O1xuICAgICAgICAgICAgYm94LmhlaWdodCA9IGJveC5ib3R0b20gLSBib3gudG9wO1xuICAgICAgICAgICAgcmV0dXJuIGJveDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIGEgY2h1bmsgb2YgdGV4dCwgdHlwaWNhbGx5IG9uZSBsaW5lIChidXQgZm9yIGp1c3RpZmllZCB0ZXh0IHdlIHJlbmRlciBlYWNoIHdvcmQgYXNcbiAgICAvLyBhIHNlcGFyYXRlIFRleHQgb2JqZWN0LCBiZWNhdXNlIHNwYWNpbmcgaXMgdmFyaWFibGUpLiAgUmV0dXJucyB0cnVlIHdoZW4gaXQgZmluaXNoZWQgdGhlXG4gICAgLy8gY3VycmVudCBub2RlLiAgQWZ0ZXIgZWFjaCBjaHVuayBpdCB1cGRhdGVzIGBzdGFydGAgdG8ganVzdCBhZnRlciB0aGUgbGFzdCByZW5kZXJlZFxuICAgIC8vIGNoYXJhY3Rlci5cbiAgICBmdW5jdGlvbiBkb0NodW5rKCkge1xuICAgICAgICB2YXIgb3JpZ1N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHZhciBib3gsIHBvcyA9IHRleHQuc3Vic3RyKHN0YXJ0KS5zZWFyY2goL1xcUy8pO1xuICAgICAgICBzdGFydCArPSBwb3M7XG4gICAgICAgIGlmIChwb3MgPCAwIHx8IHN0YXJ0ID49IGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWxlY3QgYSBzaW5nbGUgY2hhcmFjdGVyIHRvIGRldGVybWluZSB0aGUgaGVpZ2h0IG9mIGEgbGluZSBvZiB0ZXh0LiAgVGhlIGJveC5ib3R0b21cbiAgICAgICAgLy8gd2lsbCBiZSBlc3NlbnRpYWwgZm9yIHVzIHRvIGZpZ3VyZSBvdXQgd2hlcmUgdGhlIG5leHQgbGluZSBiZWdpbnMuXG4gICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIHN0YXJ0KTtcbiAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHN0YXJ0ICsgMSk7XG4gICAgICAgIGJveCA9IGFjdHVhbGx5R2V0UmFuZ2VCb3VuZGluZ1JlY3QocmFuZ2UpO1xuXG4gICAgICAgIC8vIGZvciBqdXN0aWZpZWQgdGV4dCB3ZSBtdXN0IHNwbGl0IGF0IGVhY2ggc3BhY2UsIGJlY2F1c2Ugc3BhY2UgaGFzIHZhcmlhYmxlIHdpZHRoLlxuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGlzSnVzdGlmaWVkIHx8IGNvbHVtbkNvdW50ID4gMSkge1xuICAgICAgICAgICAgcG9zID0gdGV4dC5zdWJzdHIoc3RhcnQpLnNlYXJjaCgvXFxzLyk7XG4gICAgICAgICAgICBpZiAocG9zID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb25seSBzcGxpdCB0aGVyZSBpZiBpdCdzIG9uIHRoZSBzYW1lIGxpbmUsIG90aGVyd2lzZSB3ZSdsbCBmYWxsIGJhY2tcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgZGVmYXVsdCBtZWNoYW5pc20gKHNlZSBmaW5kRU9MIGJlbG93KS5cbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgc3RhcnQgKyBwb3MpO1xuICAgICAgICAgICAgICAgIHZhciByID0gYWN0dWFsbHlHZXRSYW5nZUJvdW5kaW5nUmVjdChyYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKHIuYm90dG9tID09IGJveC5ib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gcjtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdGFydCArPSBwb3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgLy8gVGhpcyBjb2RlIGRvZXMgdGhyZWUgdGhpbmdzOiAoMSkgaXQgc2VsZWN0cyBvbmUgbGluZSBvZiB0ZXh0IGluIGByYW5nZWAsICgyKSBpdFxuICAgICAgICAgICAgLy8gbGVhdmVzIHRoZSBib3VuZGluZyByZWN0IG9mIHRoYXQgbGluZSBpbiBgYm94YCBhbmQgKDMpIGl0IHJldHVybnMgdGhlIHBvc2l0aW9uXG4gICAgICAgICAgICAvLyBqdXN0IGFmdGVyIHRoZSBFT0wuICBXZSBrbm93IHdoZXJlIHRoZSBsaW5lIHN0YXJ0cyAoYHN0YXJ0YCkgYnV0IHdlIGRvbid0IGtub3dcbiAgICAgICAgICAgIC8vIHdoZXJlIGl0IGVuZHMuICBUbyBmaWd1cmUgdGhpcyBvdXQsIHdlIHNlbGVjdCBhIHBpZWNlIG9mIHRleHQgYW5kIGxvb2sgYXQgdGhlXG4gICAgICAgICAgICAvLyBib3R0b20gb2YgdGhlIGJvdW5kaW5nIGJveC4gIElmIGl0IGNoYW5nZXMsIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBsaW5lIHNlbGVjdGVkXG4gICAgICAgICAgICAvLyBhbmQgc2hvdWxkIHJldHJ5IHdpdGggYSBzbWFsbGVyIHNlbGVjdGlvbi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUbyBzcGVlZCB0aGluZ3MgdXAsIHdlIGZpcnN0IHRyeSB0byBzZWxlY3QgYWxsIHRleHQgaW4gdGhlIG5vZGUgKGBzdGFydGAgLT5cbiAgICAgICAgICAgIC8vIGBlbmRgKS4gIElmIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSBsaW5lIHRoZXJlLCB0aGVuIHNlbGVjdCBvbmx5IGhhbGYgb2YgaXQuICBBbmRcbiAgICAgICAgICAgIC8vIHNvIG9uLiAgV2hlbiB3ZSBmaW5kIGEgdmFsdWUgZm9yIGBlbmRgIHRoYXQgZml0cyBpbiBvbmUgbGluZSwgd2UgdHJ5IGluY3JlYXNpbmdcbiAgICAgICAgICAgIC8vIGl0IChhbHNvIGluIGhhbHZlcykgdW50aWwgd2UgZ2V0IHRvIHRoZSBuZXh0IGxpbmUuICBUaGUgYWxnb3JpdGhtIHN0b3BzIHdoZW4gdGhlXG4gICAgICAgICAgICAvLyByaWdodCBzaWRlIG9mIHRoZSBib3VuZGluZyBib3ggZG9lcyBub3QgY2hhbmdlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIE9uZSBtb3JlIHRoaW5nIHRvIG5vdGUgaXMgdGhhdCBldmVyeXRoaW5nIGhhcHBlbnMgaW4gYSBzaW5nbGUgVGV4dCBET00gbm9kZS5cbiAgICAgICAgICAgIC8vIFRoZXJlJ3Mgbm8gb3RoZXIgdGFncyBpbnNpZGUgaXQsIHRoZXJlZm9yZSB0aGUgbGVmdC90b3AgY29vcmRpbmF0ZXMgb2YgdGhlXG4gICAgICAgICAgICAvLyBib3VuZGluZyBib3ggd2lsbCBub3QgY2hhbmdlLlxuICAgICAgICAgICAgcG9zID0gKGZ1bmN0aW9uIGZpbmRFT0wobWluLCBlb2wsIG1heCl7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIGVvbCk7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSBhY3R1YWxseUdldFJhbmdlQm91bmRpbmdSZWN0KHJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAoci5ib3R0b20gIT0gYm94LmJvdHRvbSAmJiBtaW4gPCBlb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRFT0wobWluLCAobWluICsgZW9sKSA+PiAxLCBlb2wpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoci5yaWdodCAhPSBib3gucmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVvbCA8IG1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRFT0woZW9sLCAoZW9sICsgbWF4KSA+PiAxLCBtYXgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVvbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlb2w7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoc3RhcnQsIE1hdGgubWluKGVuZCwgc3RhcnQgKyBlc3RpbWF0ZUxpbmVMZW5ndGgpLCBlbmQpO1xuXG4gICAgICAgICAgICBpZiAocG9zID09IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgRU9MIGlzIGF0IHRoZSBzdGFydCwgdGhlbiBubyBtb3JlIHRleHQgZml0cyBvbiB0aGlzIGxpbmUuICBTa2lwIHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlbWFpbmRlciBvZiB0aGlzIG5vZGUgZW50aXJlbHkgdG8gYXZvaWQgYSBzdGFjayBvdmVyZmxvdy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0ID0gcG9zO1xuXG4gICAgICAgICAgICBwb3MgPSByYW5nZS50b1N0cmluZygpLnNlYXJjaCgvXFxzKyQvKTtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHdoaXRlc3BhY2Ugb25seTsgd2Ugc2hvdWxkIG5vdCBnZXQgaGVyZS5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxpbWluYXRlIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgcmFuZ2Uuc3RhcnRPZmZzZXQgKyBwb3MpO1xuICAgICAgICAgICAgICAgIGJveCA9IGFjdHVhbGx5R2V0UmFuZ2VCb3VuZGluZ1JlY3QocmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYW5vdGhlciB3b3JrYXJvdW5kIGZvciBJRTogaWYgd2UgcmVseSBvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB3ZSdsbCBvdmVybGFwIHdpdGggdGhlIGJ1bGxldCBmb3IgTElcbiAgICAgICAgLy8gZWxlbWVudHMuICBDYWxsaW5nIGdldENsaWVudFJlY3RzKCkgYW5kIHVzaW5nIHRoZSAqZmlyc3QqIHJlY3QgYXBwZWFycyB0byBnaXZlIHVzIHRoZSBjb3JyZWN0IGxvY2F0aW9uLlxuICAgICAgICAvLyBOb3RlOiBub3QgdG8gYmUgdXNlZCBpbiBDaHJvbWUgYXMgaXQgcmFuZG9tbHkgcmV0dXJucyBhIHplcm8td2lkdGggcmVjdGFuZ2xlIGZyb20gdGhlIHByZXZpb3VzIGxpbmUuXG4gICAgICAgIGlmIChtaWNyb3NvZnQpIHtcbiAgICAgICAgICAgIGJveCA9IHJhbmdlLmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RyID0gcmFuZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKCEvXig/OnByZXxwcmUtd3JhcCkkL2kudGVzdCh3aGl0ZVNwYWNlKSkge1xuICAgICAgICAgICAgLy8gbm9kZSB3aXRoIG5vbi1zaWduaWZpY2FudCBzcGFjZSAtLSBjb2xsYXBzZSB3aGl0ZXNwYWNlLlxuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9cXHQvLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgLy8gd2l0aCBzaWduaWZpY2FudCB3aGl0ZXNwYWNlIHdlIG5lZWQgdG8gZG8gc29tZXRoaW5nIGFib3V0IGxpdGVyYWwgVEFCIGNoYXJhY3RlcnMuXG4gICAgICAgICAgICAvLyBUaGVyZSdzIG5vIFRBQiBnbHlwaCBpbiBhIGZvbnQgc28gdGhleSB3b3VsZCBiZSByZW5kZXJlZCBpbiBQREYgYXMgYW4gZW1wdHkgYm94LFxuICAgICAgICAgICAgLy8gYW5kIHRoZSB3aG9sZSB0ZXh0IHdpbGwgc3RyZXRjaCB0byBmaWxsIHRoZSBvcmlnaW5hbCB3aWR0aC4gIFRoZSBjb3JlIFBERiBsaWJcbiAgICAgICAgICAgIC8vIGRvZXMgbm90IGhhdmUgc3VmZmljaWVudCBjb250ZXh0IHRvIGRlYWwgd2l0aCBpdC5cblxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBzdGFydGluZyBjb2x1bW4gaGVyZSwgc2luY2Ugd2UgaW5pdGlhbGx5IGRpc2NhcmRlZCBhbnkgd2hpdGVzcGFjZS5cbiAgICAgICAgICAgIHZhciBjYyA9IDA7XG4gICAgICAgICAgICBmb3IgKHBvcyA9IG9yaWdTdGFydDsgcG9zIDwgcmFuZ2Uuc3RhcnRPZmZzZXQ7ICsrcG9zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gd2UgbWVldCBhIFRBQiB3ZSBtdXN0IHJvdW5kIHVwIHRvIHRoZSBuZXh0IHRhYiBzdG9wLlxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBhbGwgYnJvd3NlcnMgVEFCcyBzZWVtIHRvIGJlIDggY2hhcmFjdGVycy5cbiAgICAgICAgICAgICAgICAgICAgY2MgKz0gOCAtIGNjICUgODtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT0gMTAgfHwgY29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IGluIGNhc2Ugd2UgbWVldCBhIG5ld2xpbmUgd2UgbXVzdCByZXN0YXJ0LlxuICAgICAgICAgICAgICAgICAgICBjYyA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JkaW5hcnkgY2hhcmFjdGVyIC0tPiBhZHZhbmNlIG9uZSBjb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgY2MrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJhc2VkIG9uIHN0YXJ0aW5nIGNvbHVtbiwgcmVwbGFjZSBhbnkgVEFCIGNoYXJhY3RlcnMgaW4gdGhlIHN0cmluZyB3ZSBhY3R1YWxseVxuICAgICAgICAgICAgLy8gaGF2ZSB0byBkaXNwbGF5IHdpdGggc3BhY2VzIHNvIHRoYXQgdGhleSBhbGlnbiB0byBjb2x1bW5zIG11bHRpcGxlIG9mIDguXG4gICAgICAgICAgICB3aGlsZSAoKHBvcyA9IHN0ci5zZWFyY2goXCJcXHRcIikpID49IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZW50ID0gXCIgICAgICAgIFwiLnN1YnN0cigwLCA4IC0gKGNjICsgcG9zKSAlIDgpO1xuICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgcG9zKSArIGluZGVudCArIHN0ci5zdWJzdHIocG9zICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICBwcmV2TGluZUJvdHRvbSA9IGJveC5ib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgZHJhd1RleHQoc3RyLCBib3gpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdUZXh0KHN0ciwgYm94KSB7XG4gICAgICAgIC8vIEluIElFIHRoZSBib3ggaGVpZ2h0IHdpbGwgYmUgYXBwcm94aW1hdGVseSBsaW5lSGVpZ2h0LCB3aGlsZSBpblxuICAgICAgICAvLyBvdGhlciBicm93c2VycyBpdCdsbCAoY29ycmVjdGx5KSBiZSB0aGUgaGVpZ2h0IG9mIHRoZSBib3VuZGluZ1xuICAgICAgICAvLyBib3ggZm9yIHRoZSBjdXJyZW50IHRleHQvZm9udC4gIFdoaWNoIGlzIHRvIHNheSwgSUUgc3Vja3MgYWdhaW4uXG4gICAgICAgIC8vIFRoZSBvbmx5IGdvb2Qgc29sdXRpb24gSSBjYW4gdGhpbmsgb2YgaXMgdG8gbWVhc3VyZSB0aGUgdGV4dFxuICAgICAgICAvLyBvdXJzZWx2ZXMgYW5kIGNlbnRlciB0aGUgYm91bmRpbmcgYm94LlxuICAgICAgICBpZiAobWljcm9zb2Z0ICYmICFpc05hTihsaW5lSGVpZ2h0KSkge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IGdldEZvbnRIZWlnaHQoZm9udCk7XG4gICAgICAgICAgICB2YXIgdG9wID0gKGJveC50b3AgKyBib3guYm90dG9tIC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICBib3ggPSB7XG4gICAgICAgICAgICAgICAgdG9wICAgIDogdG9wLFxuICAgICAgICAgICAgICAgIHJpZ2h0ICA6IGJveC5yaWdodCxcbiAgICAgICAgICAgICAgICBib3R0b20gOiB0b3AgKyBoZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVmdCAgIDogYm94LmxlZnQsXG4gICAgICAgICAgICAgICAgaGVpZ2h0IDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHdpZHRoICA6IGJveC5yaWdodCAtIGJveC5sZWZ0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFyIHBhdGggPSBuZXcgUGF0aCh7IHN0cm9rZTogeyBjb2xvcjogXCJyZWRcIiB9fSk7XG4gICAgICAgIC8vIHBhdGgubW92ZVRvKGJveC5sZWZ0LCBib3gudG9wKVxuICAgICAgICAvLyAgICAgLmxpbmVUbyhib3gucmlnaHQsIGJveC50b3ApXG4gICAgICAgIC8vICAgICAubGluZVRvKGJveC5yaWdodCwgYm94LmJvdHRvbSlcbiAgICAgICAgLy8gICAgIC5saW5lVG8oYm94LmxlZnQsIGJveC5ib3R0b20pXG4gICAgICAgIC8vICAgICAuY2xvc2UoKTtcbiAgICAgICAgLy8gZ3JvdXAuYXBwZW5kKHBhdGgpO1xuXG4gICAgICAgIHN3aXRjaCAodGV4dFRyYW5zZm9ybSkge1xuICAgICAgICAgIGNhc2UgXCJ1cHBlcmNhc2VcIjpcbiAgICAgICAgICAgIHN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImxvd2VyY2FzZVwiOlxuICAgICAgICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY2FwaXRhbGl6ZVwiOlxuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLyg/Ol58XFxzKVxcUy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0ID0gbmV3IFRleHRSZWN0KFxuICAgICAgICAgICAgc3RyLCBuZXcgZ2VvLlJlY3QoWyBib3gubGVmdCwgYm94LnRvcCBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBib3gud2lkdGgsIGJveC5oZWlnaHQgXSksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9udDogZm9udCxcbiAgICAgICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjb2xvciB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGdyb3VwLmFwcGVuZCh0ZXh0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWNvcmF0ZShib3gpIHtcbiAgICAgICAgbGluZSh1bmRlcmxpbmUsIGJveC5ib3R0b20pO1xuICAgICAgICBsaW5lKGxpbmVUaHJvdWdoLCBib3guYm90dG9tIC0gYm94LmhlaWdodCAvIDIuNyk7XG4gICAgICAgIGxpbmUob3ZlcmxpbmUsIGJveC50b3ApO1xuICAgICAgICBmdW5jdGlvbiBsaW5lKGNvbG9yLCB5cG9zKSB7XG4gICAgICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBmb250U2l6ZSAvIDEyO1xuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gbmV3IFBhdGgoeyBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3JcbiAgICAgICAgICAgICAgICB9fSk7XG5cbiAgICAgICAgICAgICAgICB5cG9zIC09IHdpZHRoO1xuICAgICAgICAgICAgICAgIHBhdGgubW92ZVRvKGJveC5sZWZ0LCB5cG9zKVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKGJveC5yaWdodCwgeXBvcyk7XG4gICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBncm91cEluU3RhY2tpbmdDb250ZXh0KGVsZW1lbnQsIGdyb3VwLCB6SW5kZXgpIHtcbiAgICB2YXIgbWFpbjtcbiAgICBpZiAoekluZGV4ICE9IFwiYXV0b1wiKSB7XG4gICAgICAgIC8vIHVzZSB0aGUgY3VycmVudCBzdGFja2luZyBjb250ZXh0XG4gICAgICAgIG1haW4gPSBub2RlSW5mby5fc3RhY2tpbmdDb250ZXh0Lmdyb3VwO1xuICAgICAgICB6SW5kZXggPSBwYXJzZUZsb2F0KHpJbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm9ybWFsIGZsb3cg4oCUIHVzZSBnaXZlbiBjb250YWluZXIuICB3ZSBzdGlsbCBoYXZlIHRvXG4gICAgICAgIC8vIGZpZ3VyZSBvdXQgd2hlcmUgc2hvdWxkIHdlIGluc2VydCB0aGlzIGVsZW1lbnQgd2l0aCB0aGVcbiAgICAgICAgLy8gYXNzdW1wdGlvbiB0aGF0IGl0cyB6LWluZGV4IGlzIHplcm8sIGFzIHRoZSBncm91cCBtaWdodFxuICAgICAgICAvLyBhbHJlYWR5IGNvbnRhaW4gZWxlbWVudHMgd2l0aCBoaWdoZXIgei1pbmRleC5cbiAgICAgICAgbWFpbiA9IGdyb3VwO1xuICAgICAgICB6SW5kZXggPSAwO1xuICAgIH1cbiAgICB2YXIgYSA9IG1haW4uY2hpbGRyZW47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldLl9kb21fekluZGV4ICE9IG51bGwgJiYgYVtpXS5fZG9tX3pJbmRleCA+IHpJbmRleCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdG1wID0gbmV3IEdyb3VwKCk7XG4gICAgbWFpbi5pbnNlcnQoaSwgdG1wKTtcbiAgICB0bXAuX2RvbV96SW5kZXggPSB6SW5kZXg7XG5cbiAgICBpZiAobWFpbiAhPT0gZ3JvdXApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJQbGFjaW5nXCIsIGVsZW1lbnQsIFwiaW5cIiwgbm9kZUluZm8uX3N0YWNraW5nQ29udGV4dC5lbGVtZW50LCBcImF0IHBvc2l0aW9uXCIsIGksIFwiIC8gXCIsIGEubGVuZ3RoKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYS5zbGljZShpKzEpKTtcblxuICAgICAgICAvLyBpZiAobm9kZUluZm8uX21hdHJpeCkge1xuICAgICAgICAvLyAgICAgdG1wLnRyYW5zZm9ybShub2RlSW5mby5fbWF0cml4KTtcbiAgICAgICAgLy8gfVxuICAgICAgICBpZiAobm9kZUluZm8uX2NsaXBib3gpIHtcbiAgICAgICAgICAgIHZhciBtID0gbm9kZUluZm8uX21hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIHZhciByID0gbm9kZUluZm8uX2NsaXBib3gudHJhbnNmb3JtQ29weShtKTtcbiAgICAgICAgICAgIHNldENsaXBwaW5nKHRtcCwgUGF0aC5mcm9tUmVjdChyKSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyKTtcbiAgICAgICAgICAgIC8vIHRtcC5hcHBlbmQoUGF0aC5mcm9tUmVjdChyKSk7XG4gICAgICAgICAgICAvLyB0bXAuYXBwZW5kKG5ldyBUZXh0KGVsZW1lbnQuY2xhc3NOYW1lIHx8IGVsZW1lbnQuaWQsIHIudG9wTGVmdCgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG1wO1xufVxuXG5mdW5jdGlvbiByZW5kZXJFbGVtZW50KGVsZW1lbnQsIGNvbnRhaW5lcikge1xuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICB1cGRhdGVDb3VudGVycyhzdHlsZSk7XG5cbiAgICBpZiAoL14oc3R5bGV8c2NyaXB0fGxpbmt8bWV0YXxpZnJhbWV8c3ZnfGNvbHxjb2xncm91cCkkL2kudGVzdChlbGVtZW50LnRhZ05hbWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobm9kZUluZm8uX2NsaXBib3ggPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9wYWNpdHkgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwib3BhY2l0eVwiKSk7XG4gICAgdmFyIHZpc2liaWxpdHkgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInZpc2liaWxpdHlcIik7XG4gICAgdmFyIGRpc3BsYXkgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImRpc3BsYXlcIik7XG5cbiAgICBpZiAob3BhY2l0eSA9PT0gMCB8fCB2aXNpYmlsaXR5ID09IFwiaGlkZGVuXCIgfHwgZGlzcGxheSA9PSBcIm5vbmVcIikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRyID0gZ2V0VHJhbnNmb3JtKHN0eWxlKTtcbiAgICB2YXIgZ3JvdXA7XG5cbiAgICB2YXIgekluZGV4ID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ6LWluZGV4XCIpO1xuICAgIGlmICgodHIgfHwgb3BhY2l0eSA8IDEpICYmIHpJbmRleCA9PSBcImF1dG9cIikge1xuICAgICAgICB6SW5kZXggPSAwO1xuICAgIH1cbiAgICBncm91cCA9IGdyb3VwSW5TdGFja2luZ0NvbnRleHQoZWxlbWVudCwgY29udGFpbmVyLCB6SW5kZXgpO1xuXG4gICAgLy8gWFhYOiByZW1vdmUgYXQgc29tZSBwb2ludFxuICAgIC8vIGdyb3VwLl9wZGZFbGVtZW50ID0gZWxlbWVudDtcbiAgICAvLyBncm91cC5vcHRpb25zLl9wZGZEZWJ1ZyA9IFwiXCI7XG4gICAgLy8gaWYgKGVsZW1lbnQuaWQpIHtcbiAgICAvLyAgICAgZ3JvdXAub3B0aW9ucy5fcGRmRGVidWcgPSBcIiNcIiArIGVsZW1lbnQuaWQ7XG4gICAgLy8gfVxuICAgIC8vIGlmIChlbGVtZW50LmNsYXNzTmFtZSkge1xuICAgIC8vICAgICBncm91cC5vcHRpb25zLl9wZGZEZWJ1ZyArPSBcIi5cIiArIGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwiLlwiKTtcbiAgICAvLyB9XG5cbiAgICBpZiAob3BhY2l0eSA8IDEpIHtcbiAgICAgICAgZ3JvdXAub3BhY2l0eShvcGFjaXR5ICogZ3JvdXAub3BhY2l0eSgpKTtcbiAgICB9XG5cbiAgICBwdXNoTm9kZUluZm8oZWxlbWVudCwgc3R5bGUsIGdyb3VwKTtcblxuICAgIGlmICghdHIpIHtcbiAgICAgICAgX3JlbmRlcldpdGhQc2V1ZG9FbGVtZW50cyhlbGVtZW50LCBncm91cCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzYXZlU3R5bGUoZWxlbWVudCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vIG11c3QgY2xlYXIgdHJhbnNmb3JtLCBzbyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgcmV0dXJucyBjb3JyZWN0IHZhbHVlcy5cbiAgICAgICAgICAgIHBsZWFzZVNldFByb3BlcnR5VmFsdWUoZWxlbWVudC5zdHlsZSwgXCJ0cmFuc2Zvcm1cIiwgXCJub25lXCIsIFwiaW1wb3J0YW50XCIpO1xuXG4gICAgICAgICAgICAvLyBtdXN0IGFsc28gY2xlYXIgdHJhbnNpdGlvbnMsIHNvIGNvcnJlY3QgdmFsdWVzIGFyZSByZXR1cm5lZCAqaW1tZWRpYXRlbHkqXG4gICAgICAgICAgICBwbGVhc2VTZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQuc3R5bGUsIFwidHJhbnNpdGlvblwiLCBcIm5vbmVcIiwgXCJpbXBvcnRhbnRcIik7XG5cbiAgICAgICAgICAgIC8vIHRoZSBwcmVzZW5jZSBvZiBhbnkgdHJhbnNmb3JtIG1ha2VzIGl0IGJlaGF2ZSBsaWtlIGl0IGhhZCBwb3NpdGlvbjogcmVsYXRpdmUsXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHdoeSBub3QuXG4gICAgICAgICAgICAvLyBodHRwOi8vbWV5ZXJ3ZWIuY29tL2VyaWMvdGhvdWdodHMvMjAxMS8wOS8xMi91bi1maXhpbmctZml4ZWQtZWxlbWVudHMtd2l0aC1jc3MtdHJhbnNmb3Jtcy9cbiAgICAgICAgICAgIGlmIChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInBvc2l0aW9uXCIpID09IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBidXQgb25seSBpZiBpdCdzIG5vdCBhbHJlYWR5IHBvc2l0aW9uZWQuIDotL1xuICAgICAgICAgICAgICAgIHBsZWFzZVNldFByb3BlcnR5VmFsdWUoZWxlbWVudC5zdHlsZSwgXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBtdXN0IHRyYW5zbGF0ZSB0byBvcmlnaW4gYmVmb3JlIGFwcGx5aW5nIHRoZSBDU1NcbiAgICAgICAgICAgIC8vIHRyYW5zZm9ybWF0aW9uLCB0aGVuIHRyYW5zbGF0ZSBiYWNrLlxuICAgICAgICAgICAgdmFyIGJib3ggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIHggPSBiYm94LmxlZnQgKyB0ci5vcmlnaW5bMF07XG4gICAgICAgICAgICB2YXIgeSA9IGJib3gudG9wICsgdHIub3JpZ2luWzFdO1xuICAgICAgICAgICAgdmFyIG0gPSBbIDEsIDAsIDAsIDEsIC14LCAteSBdO1xuICAgICAgICAgICAgbSA9IG1tdWwobSwgdHIubWF0cml4KTtcbiAgICAgICAgICAgIG0gPSBtbXVsKG0sIFsgMSwgMCwgMCwgMSwgeCwgeSBdKTtcbiAgICAgICAgICAgIG0gPSBzZXRUcmFuc2Zvcm0oZ3JvdXAsIG0pO1xuXG4gICAgICAgICAgICBub2RlSW5mby5fbWF0cml4ID0gbm9kZUluZm8uX21hdHJpeC5tdWx0aXBseUNvcHkobSk7XG5cbiAgICAgICAgICAgIF9yZW5kZXJXaXRoUHNldWRvRWxlbWVudHMoZWxlbWVudCwgZ3JvdXApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwb3BOb2RlSW5mbygpO1xuXG4gICAgLy9kcmF3RGVidWdCb3goZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgY29udGFpbmVyKTtcbn1cblxuLy8gZnVuY3Rpb24gZHJhd0RlYnVnQm94KGJveCwgZ3JvdXAsIGNvbG9yKSB7XG4vLyAgICAgdmFyIHBhdGggPSBQYXRoLmZyb21SZWN0KG5ldyBnZW8uUmVjdChbIGJveC5sZWZ0LCBib3gudG9wIF0sIFsgYm94LndpZHRoLCBib3guaGVpZ2h0IF0pKTtcbi8vICAgICBpZiAoY29sb3IpIHtcbi8vICAgICAgICAgcGF0aC5zdHJva2UoY29sb3IpO1xuLy8gICAgIH1cbi8vICAgICBncm91cC5hcHBlbmQocGF0aCk7XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIGR1bXBUZXh0Tm9kZShub2RlKSB7XG4vLyAgICAgdmFyIHR4dCA9IG5vZGUuZGF0YS5yZXBsYWNlKC9eXFxzKy8sIFwiXCIpO1xuLy8gICAgIGlmICh0eHQubGVuZ3RoIDwgMTAwKSB7XG4vLyAgICAgICAgIGNvbnNvbGUubG9nKG5vZGUuZGF0YS5sZW5ndGggKyBcIjogfFwiICsgdHh0KTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhub2RlLmRhdGEubGVuZ3RoICsgXCI6IHxcIiArIHR4dC5zdWJzdHIoMCwgNTApICsgXCJ8Li4ufFwiICsgdHh0LnN1YnN0cigtNTApKTtcbi8vICAgICB9XG4vLyB9XG5cbmZ1bmN0aW9uIG1tdWwoYSwgYikge1xuICAgIHZhciBhMSA9IGFbMF0sIGIxID0gYVsxXSwgYzEgPSBhWzJdLCBkMSA9IGFbM10sIGUxID0gYVs0XSwgZjEgPSBhWzVdO1xuICAgIHZhciBhMiA9IGJbMF0sIGIyID0gYlsxXSwgYzIgPSBiWzJdLCBkMiA9IGJbM10sIGUyID0gYls0XSwgZjIgPSBiWzVdO1xuICAgIHJldHVybiBbXG4gICAgICAgIGExKmEyICsgYjEqYzIsICAgICAgICAgIGExKmIyICsgYjEqZDIsXG4gICAgICAgIGMxKmEyICsgZDEqYzIsICAgICAgICAgIGMxKmIyICsgZDEqZDIsXG4gICAgICAgIGUxKmEyICsgZjEqYzIgKyBlMiwgICAgIGUxKmIyICsgZjEqZDIgKyBmMlxuICAgIF07XG59XG5cbmV4cG9ydCB7IGRyYXdET00gfTtcblxuIl0sIm5hbWVzIjpbImNvbnN0IiwibGV0IiwidGhpcyIsInN1cGVyIiwiZXZlbnROYW1lIiwiYXJndW1lbnRzIiwiaWR4IiwidGVtcGxhdGUiLCJhcHBlbmQiLCJzaXplIiwidG9TdHJpbmciLCJDbGFzcyIsInRyYW5zZm9ybSIsIkVsZW1lbnQiLCJjcmVhdGVUcmFuc2Zvcm0iLCJDaXJjbGUiLCJHZW9tZXRyeUNpcmNsZSIsImNsb3NlIiwicG93IiwiQXJjIiwicmFkIiwiREVGQVVMVF9TVFJPS0UiLCJHZW9tZXRyeUFyYyIsIkltYWdlIiwiREVGQVVMVF9PUFRJT05TIiwiUmVjdCIsIkdlb21ldHJ5UmVjdCIsIm5vdyIsImFuaW1hdGlvbkZyYW1lIiwicmVuZGVyU1ZHIiwiU3VyZmFjZSIsIkJhc2VTdXJmYWNlIiwiU1BBQ0UiLCJOT0RFX01BUCIsIk5vZGUiLCJHcm91cE5vZGUiLCJSb290Tm9kZSIsIlBhdGhOb2RlIiwiQXJjTm9kZSIsIkNpcmNsZU5vZGUiLCJSZWN0Tm9kZSIsIkltYWdlTm9kZSIsIlRleHROb2RlIiwiTXVsdGlQYXRoTm9kZSIsImhhc093blByb3BlcnR5IiwiZGVmbGF0ZSIsInBha29EZWZsYXRlIiwiYnJvd3NlciIsIlRFWFRfUkVOREVSSU5HX01PREUiLCJQREYuVEVYVF9SRU5ERVJJTkdfTU9ERSIsInJlbmRlciIsIlBERi5jbGVhckltYWdlQ2FjaGUiLCJQREYucGFyc2VGb250RGVmIiwiUERGLmdldEZvbnRVUkwiLCJQREYuRG9jdW1lbnQiLCJnZW8uTWF0cml4IiwiUERGLmxvYWRGb250cyIsIlBERi5sb2FkSW1hZ2VzIiwic2F2ZUFzIiwidXRpbF9zYXZlQXMiLCJkcmF3SW1hZ2UiLCJwYXJzZUNvbG9yIiwidXRpbHNfcGFyc2VDb2xvciIsImdlby5SZWN0Iiwic2xpY2UiLCJJTUFHRV9DQUNIRSIsImNhbnZhcyIsIlBERi5kZWZpbmVGb250Iiwic2V0VHJhbnNmb3JtIiwiUERGLmdldFBhcGVyT3B0aW9ucyIsImNvbXBpbGVUZW1wbGF0ZSIsImxhc3QiLCJnZXRGb250VVJMIiwic2V0Q2xpcHBpbmciLCJnZW8uQXJjIiwid3JhcCIsImdlby50cmFuc2Zvcm0iLCJnZW8uQ2lyY2xlIiwiYWxpZ24iLCJtbXVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQUEsSUFBTSxjQUFjLEdBQUc7SUFDbkIsTUFBTSxFQUFFLFNBQVMsS0FBSyxFQUFFOzs7UUFDcEIsS0FBS0MsSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO1lBQ3JCLElBQUksTUFBTSxLQUFLLFFBQVEsRUFBRTtnQkFDckIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHQyxNQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDaEM7U0FDSjtLQUNKOztJQUVELFNBQVMsRUFBRSxXQUFXO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUM7UUFDeEMsT0FB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QUcsc0NBQXNDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDakUsR0FBRyxHQUFHLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQzt3QkFDekIsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUN6QixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUNqRCxNQUFNLElBQUksQ0FBQyxDQUFDLEdBQUcsc0RBQXNELENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDakYsR0FBRyxHQUFHLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUNsQixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQzt3QkFDbEIsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUMxQyxNQUFNLElBQUksQ0FBQyxDQUFDLEdBQUcsdUVBQXVFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDbEcsR0FBRyxHQUFHLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUNsQixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQzt3QkFDbEIsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6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LEVBQUU7SUFBRSxJQUFBLEVBQUU7SUFBRSxJQUFBLEVBQUU7SUFBRSxJQUFBLEVBQUU7SUFBRSxJQUFBLEVBQUU7SUFBRSxJQUFBLFFBQVE7SUFBRSxJQUFBLEtBQUs7SUFBYSwwRUFBQSxDQUFDLENBQXZEOztJQUVKQSxJQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUJBLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakNBLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7O0lBRS9CQSxJQUFNLEVBQUUsR0FBRyxNQUFNLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekRBLElBQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUUxREEsSUFBTSxJQUFJLEdBQUcsUUFBUSxLQUFLLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0lBRXpDQSxJQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM1QkEsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUJDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFCQSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQzs7SUFFMUJBLElBQUksS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQzs7SUFFbEMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFO1FBQ1gsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDekMsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDaEIsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDOztRQUV0QixFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNoQixHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDekI7O0lBRURBLElBQUksTUFBTSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0lBRTdGLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ2YsTUFBTSxHQUFHLENBQUMsQ0FBQztLQUNkOztJQUVERCxJQUFNLEdBQUcsR0FBRyxNQUFNLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3BDQSxJQUFNLEdBQUcsR0FBRyxFQUFFLE1BQU0sR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7O0lBRXRDQSxJQUFNLEVBQUUsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JEQSxJQUFNLEVBQUUsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzs7SUFHckRBLElBQU0sRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMzQkEsSUFBTSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzNCQSxJQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUM1QkEsSUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7O0lBRTVCQSxJQUFNLFVBQVUsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUUxRkEsSUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNuSEMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7O0lBRTVFLElBQUks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QyxDQUFDO0tBQzlCLENBQUM7Q0FDTDs7O0FBR0QsQUFBZSxTQUFTLGtCQUFrQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDVCxPQUFPLHNCQUFzQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDMUM7O0lBRURBLElBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlEQSxJQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakdBLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbERBLElBQU0sQ0FBQyxHQUFHLElBQUksYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqQ0EsSUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDekJDLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDOztJQUUvQixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDUCxFQUFFLEdBQUcsSUFBSSxhQUFhLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6RCxFQUFFLEdBQUcsSUFBSSxhQUFhLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzlELE1BQU07UUFDSCxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsRUFBRSxHQUFHLElBQUksYUFBYSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkUsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLEVBQUUsR0FBRyxJQUFJLGFBQWEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzFFOztJQUVELEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDOztJQUVoQixFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN6QyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDOztJQUU1RCxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDOztJQUVyQ0QsSUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDOztJQUVsQixJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUNiLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEdBQUcsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7S0FDaEQ7SUFDRCxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUNiLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEdBQUcsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7S0FDaEQ7SUFDRCxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUNiLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEdBQUcsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7S0FDaEQ7O0lBRUQsT0FBTyxNQUFNLENBQUM7OztBQ3ZESCxTQUFTLGVBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFO0lBQzVFQSxJQUFNLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENB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ekJBLElBQU0sVUFBVSxHQUFHO0lBQ2YsRUFBRSxVQUFVLEVBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRTtJQUNqQyxFQUFFLFVBQVUsRUFBRSxPQUFPLEdBQUcsT0FBTyxFQUFFO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxPQUFPLEVBQUU7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE9BQU8sRUFBRTtJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksTUFBTSxHQUFHO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxNQUFNLEdBQUc7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE1BQU0sR0FBRztJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksTUFBTSxHQUFHO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxNQUFNLEdBQUc7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE1BQU0sR0FBRztJQUNqQyxHQUFHLFNBQVMsRUFBRSxLQUFLLEtBQUssTUFBTSxHQUFHO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxPQUFPLEVBQUU7SUFDakMsRUFBRSxVQUFVLEVBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRTtJQUNqQyxFQUFFLFVBQVUsRUFBRSxPQUFPLEdBQUcsT0FBTyxFQUFFO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxPQUFPLEVBQUU7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE9BQU8sRUFBRTtJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksTUFBTSxHQUFHO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxNQUFNLEdBQUc7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE1BQU0sR0FBRztJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksTUFBTSxHQUFHO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxNQUFNLEdBQUc7SUFDakMsR0FBRyxTQUFTLEVBQUUs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UUFBUSxHQUFHLElBQUksWUFBWSxjQUFjLENBQUM7UUFDOUMsSUFBSSxLQUFLLEVBQUUsR0FBRyxDQUFDO1FBQ2YsSUFBSSxRQUFRLEVBQUU7WUFDVixLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDM0QsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1NBQzFFLE1BQU07WUFDSCxLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ2xELEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUM7U0FDckQ7O1FBRUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUMsU0FBUyxJQUFJLENBQUM7WUFDaEQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzNCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDbkIsTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUM7YUFDckMsTUFBTTtnQkFDSCxNQUFNLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQy9CO1lB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QU0sRUFBRSxDQUFDO1NBQy9COzs7UUFHRCxJQUFJLE1BQU0sR0FBRztZQUNULENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0UsSUFBSTtZQUNELENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0UsQ0FBQztRQUNGLElBQUksTUFBTSxFQUFFOzs7WUFHUixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7c0JBQ2QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztzQkFDZixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztZQUN0QyxPQUFPLElB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LEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3pELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUV6RCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRztRQUNaLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0tBQzdCLENBQUM7O0lBRUYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ1AsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7S0FDeEI7O0lBRUQsT0FBTztRQUNILEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRTtRQUN4QixFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUU7UUFDeEIsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFD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Q0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7UUFDN0IsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQztLQUNoQzs7SUFFRCxPQUFPLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7Q0FDNUM7Ozs7OztBQU1ELFNBQVMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7SUFDM0MsSUFBSSxHQUFHLEdBQUcsd0JBQXdCLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2hFLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7SUFDakIsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztJQUNqQixJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO0lBQ2pCLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7SUFDakIsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ2xELElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUU7UUFDUCxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMs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RUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7WUFDdEIsTUFBTSxFQUFFLElBQUk7U0FDZixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUMzQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2FBQ3BELE1BQU0sQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQzthQUMxQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQzthQUNuQyxLQUFLLEVBQUUsQ0FBQzs7UUFFYixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDTixlQUFlLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN4RDs7UUFFRCxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDTixlQUFlLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzlEOzs7O1FBSUQsU0FBUyxlQUFlLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRUEsWUFBUyxFQUFFO1lBQzNDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLE1BQU0sR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQzs7OztZQUlqRCxJQUFJLEVBQUUsR0FBRztnQkFDTCxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNO2dCQUNmLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUk7YUFDaEIsQ0FBQzs7WUFFRixJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQztnQkFDaEIsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtnQkFDdEIsTUFBTSxFQUFFLElBQUk7YUFDZixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs7WUFFaEJ3RCxjQUFZLENBQUMsSUFBSSxFQUFFeEQsWUFBUyxDQUFDLENBQUM7O1lBRTlCLFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3ZCLFVBQVUsRUFBRSxDQUFDLEVBQUU7Z0JBQ2YsUUFBUSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDO2dCQUNsQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ1osT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ2YsQ0FBQyxDQUFDOztZQUVILElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ2xFLFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3ZCLFVBQVUsRUFBRSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQztvQkFDcEMsUUFBUSxFQUFFLENBQUMsRUFBRTtvQkFDYixPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQ2IsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUNiLGFBQWEsRUFBRSxJQUFJO2lCQUN0QixDQUFDLENBQUM7YUFDTjtpQkFDSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUNmLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUM7cUJBQ2xCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7YUFDeEI7aUJBQ0k7Z0JBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQztxQkFDbEIsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDeEI7O1lBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztTQUM3QjtLQUNKOztJQUVELFNBQVMsY0FBYyxDQUFDLEdBQUcsRUFBRTtRQUN6QixJQUFJLFVBQVUsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQzdCNkQsYUFBVyxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDL0QsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQzs7UUFFekIsSUFBSSxlQUFlLEVBQUU7WUFDakIsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUM7Z0JBQ2hCLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxlQUFlLENBQUMsU0FBUyxFQUFFLEVBQUU7Z0JBQzVDLE1BQU0sRUFBRSxJQUFJO2FBQ2YsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUM7aUJBQ3pCLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUM7aUJBQzFCLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUM7aUJBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUM7aUJBQzVCLEtBQUssRUFBRSxDQUFDO1lBQ2IsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMzQjs7UUFFRCxLQUFLLElBQUksQ0FBQyxHQUFHLGVBQWUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHO1lBQzVDLGlCQUFpQjtnQkFDYixVQUFVLEVBQUUsR0FBRztnQkFDZixlQUFlLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixnQkFBZ0IsQ0FBQyxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO2dCQUM3QyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsa0JBQWtCLENBQUMsTUFBTSxDQUFDO2dCQUNqRCxnQkFBZ0IsQ0FBQyxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO2dCQUM3QyxjQUFjLENBQUMsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUM7YUFDNUMsQ0FBQztTQUNMO0tBQ0o7O0lBRUQsU0FBUyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRSxjQUFjLEVBQUU7UUFDdkgsSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLFVBQVUsSUFBSSxNQUFNLENBQUMsRUFBRTtZQUN2QyxPQUFPO1NBQ1Y7O1FBRUQsSUFBSSxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssRUFBRTs7WUFFMUIsSUFBSSwwQkFBMEIsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUNqRCxPQUFPO2FBQ1Y7WUFDRCxJQUFJLEdBQUcsR0FBR1IsYUFBVyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN0QyxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDeEMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsU0FBUyxLQUFLLEVBQUUsSUFBSSxDQUFDO29CQUN4RSxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUkxQyxPQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO2lCQUNqRCxDQUFDLENBQUM7YUFDTjtTQUNKLE1BQU0sSUFBSSxVQUFVLENBQUMsSUFBSSxJQUFJLFFBQVEsRUFBRTtZQUNwQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1NBQ3hGLE1BQU07WUFDSCxPQUFPO1NBQ1Y7O1FBRUQsU0FBUyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFO1lBQ3RFLElBQUksWUFBWSxHQUFHLFNBQVMsR0FBRyxVQUFVLEVBQUUsQ0FBQyxDQUFDOzs7WUFHN0MsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDO1lBQ2pCLElBQUksZ0JBQWdCLElBQUksYUFBYSxFQUFFO2dCQUNuQyxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDckQsTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQ25ELE1BQU0sSUFBSSxnQkFBZ0IsSUFBSSxhQUFhLEVBQUU7Z0JBQzFDLE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLGdCQUFnQixFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQ3hEOztZQUVELElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUU7Z0JBQ2hELElBQUksY0FBYyxJQUFJLFNBQVMsRUFBRTtvQkFDN0IsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxTQUFTO2lDQUN4QixNQUFNLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxDQUFDO29CQUN6QyxTQUFTLElBQUksQ0FBQyxDQUFDO29CQUNmLFVBQVUsSUFBSSxDQUFDLENBQUM7aUJBQ25CO3FCQUNJLElBQUksY0FBYyxJQUFJLE9BQU8sRUFBRTtvQkFDaEMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxTQUFTO2lDQUN4QixNQUFNLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxDQUFDO29CQUN6QyxTQUFTLElBQUksQ0FBQyxDQUFDO29CQUNmLFVBQVUsSUFBSSxDQUFDLENBQUM7aUJBQ25CO3FCQUNJO29CQUNELElBQUksSUFBSSxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7O29CQUV4QyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBQ3BCLFNBQVMsR0FBRyxNQUFNLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7cUJBQ3hELE1BQU07d0JBQ0gsU0FBUyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDbkM7O29CQUVELElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sRUFBRTt3QkFDdkMsVUFBVSxHQUFHLFNBQVMsR0FBRyxZQUFZLENBQUM7cUJBQ3pDLE1BQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO3dCQUMzQixVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO3FCQUMxRCxNQUFNO3dCQUNILFVBQVUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ3BDO2lCQUNKO2FBQ0o7O1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7Ozs7Ozs7Ozs7WUFVckMsUUFBUSxHQUFHO2NBQ1QsS0FBSyxRQUFRLEdBQUcsR0FBRyxHQUFHLFVBQVUsQ0FBQyxDQUFDLE1BQU07Y0FDeEMsS0FBSyxLQUFLLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLE1BQU07Y0FDckMsS0FBSyxNQUFNLEtBQUssR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLE1BQU07Y0FDckMsS0FBSyxPQUFPLElBQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxDQUFDLE1BQU07Y0FDeEMsS0FBSyxRQUFRLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFDLE1BQU07YUFDeEM7O1lBRUQsR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdkIsSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFDakIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQzthQUNsQjs7WUFFRCxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ25CLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQzthQUNsRSxNQUFNO2dCQUNILEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDL0I7WUFDRCxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ25CLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUMsQ0FBQzthQUNwRSxNQUFNO2dCQUNILEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDL0I7O1lBRUQsSUFBSSxJQUFJLEdBQUcsSUFBSXdDLElBQVEsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQzs7Ozs7O1lBTWxHLFNBQVMsSUFBSSxHQUFHO2dCQUNaLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBRTtvQkFDN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDO2lCQUM5QjthQUNKOztZQUVELFNBQVMsSUFBSSxHQUFHO2dCQUNaLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRTtvQkFDNUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksVUFBVSxDQUFDO2lCQUMvQjthQUNKOztZQUVELFNBQVMsT0FBTyxHQUFHO2dCQUNmLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssRUFBRTtvQkFDOUIsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztvQkFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDO2lCQUM5QjthQUNKOztZQUVELElBQUksZ0JBQWdCLElBQUksV0FBVyxFQUFFO2dCQUNqQyxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ3pCO2lCQUNJLElBQUksZ0JBQWdCLElBQUksVUFBVSxFQUFFO2dCQUNyQyxJQUFJLEVBQUUsQ0FBQztnQkFDUCxPQUFPLEVBQUUsQ0FBQzthQUNiO2lCQUNJLElBQUksZ0JBQWdCLElBQUksVUFBVSxFQUFFO2dCQUNyQyxJQUFJLEVBQUUsQ0FBQztnQkFDUCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUU7b0JBQy9CLFFBQVEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7b0JBQzlCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQztpQkFDL0I7YUFDSjtpQkFDSSxJQUFJLGdCQUFnQixJQUFJLFFBQVEsRUFBRTtnQkFDbkMsSUFBSSxFQUFFLENBQUM7Z0JBQ1AsSUFBSSxFQUFFLENBQUM7Z0JBQ1AsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDakMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFO29CQUMvQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUN6QixPQUFPLEVBQUUsQ0FBQztvQkFDVixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxVQUFVLENBQUM7aUJBQy9CO2FBQ0o7U0FDSjtLQUNKOztJQUVELFNBQVMsVUFBVSxHQUFHO1FBQ2xCLElBQUksYUFBYSxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQy9ELElBQUksYUFBYSxJQUFJLE1BQU0sRUFBRTtZQUN6QixPQUFPO1NBQ1Y7UUFDRCxJQUFJLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxxQkFBcUIsQ0FBQyxDQUFDOztRQUV2RSxTQUFTLFdBQVcsQ0FBQyxDQUFDLEVBQUU7WUFDcEIsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVO2dCQUN6QixPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUM7Z0JBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLG9CQUFvQixDQUFDLENBQUM7Z0JBQ3ZFLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQztnQkFDbkMsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsWUFBWSxDQUFDO2dCQUN0QyxJQUFJLGlCQUFpQixJQUFJLFNBQVMsRUFBRTtvQkFDaEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO29CQUMzQixNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxRQUFRLENBQUM7b0JBQzdCLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztpQkFDcEMsTUFBTTtvQkFDSCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7aUJBQzdCO2dCQUNELENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDVixPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ2pELGFBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQzdCLE9BQU8sQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDL0IsQ0FBQyxDQUFDO1NBQ047O1FBRUQsU0FBUyxZQUFZLENBQUMsQ0FBQyxFQUFFO1lBQ3JCLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1lBQ3BDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUNsRCxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7Z0JBQ1gsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDM0I7WUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDL0IsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssT0FBTyxFQUFFO29CQUNsQixPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUN6QjthQUNKO1NBQ0o7O1FBRUQsUUFBUSxhQUFhO1VBQ25CLEtBQUssUUFBUSxDQUFDO1VBQ2QsS0FBSyxNQUFNLENBQUM7VUFDWixLQUFLLFFBQVE7WUFDWCxXQUFXLENBQUMsU0FBUyxNQUFNLENBQUM7O2dCQUV4QixNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7Z0JBQzlCLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztnQkFDakMsTUFBTSxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDO2dCQUNwQyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxjQUFjLENBQUM7Z0JBQ3pDLE1BQU0sQ0FBQyxTQUFTLEdBQUc7b0JBQ2YsTUFBTSxLQUFLLFFBQVE7b0JBQ25CLFFBQVEsR0FBRyxRQUFRO29CQUNuQixRQUFRLEdBQUcsUUFBUTtpQkFDdEIsQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUNwQixDQUFDLENBQUM7WUFDSCxNQUFNOztVQUVSLEtBQUssU0FBUyxDQUFDO1VBQ2YsS0FBSyxzQkFBc0I7WUFDekIsV0FBVyxDQUFDLFNBQVMsTUFBTSxDQUFDO2dCQUN4QixZQUFZLENBQUMsU0FBUyxHQUFHLENBQUM7b0JBQ3RCLEVBQUUsR0FBRyxDQUFDO29CQUNOLElBQUksYUFBYSxJQUFJLHNCQUFzQixJQUFJLEdBQUcsR0FBRyxFQUFFLEVBQUU7d0JBQ3JELEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO3FCQUNuQjtvQkFDRCxNQUFNLENBQUMsU0FBUyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7aUJBQ2hDLENBQUMsQ0FBQzthQUNOLENBQUMsQ0FBQztZQUNILE1BQU07O1VBRVIsS0FBSyxhQUFhLENBQUM7VUFDbkIsS0FBSyxhQUFhO1lBQ2hCLFdBQVcsQ0FBQyxTQUFTLE1BQU0sQ0FBQztnQkFDeEIsWUFBWSxDQUFDLFNBQVMsR0FBRyxDQUFDO29CQUN0QixHQUFHLEdBQUcsYUFBYSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDN0IsSUFBSSxhQUFhLElBQUksYUFBYSxFQUFFO3dCQUNoQyxHQUFHLEdBQUcsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO3FCQUMzQjtvQkFDRCxNQUFNLENBQUMsU0FBUyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7aUJBQ2hDLENBQUMsQ0FBQzthQUNOLENBQUMsQ0FBQztZQUNILE1BQU07O1VBRVIsS0FBSyxhQUFhLENBQUM7VUFDbkIsS0FBSyxhQUFhLENBQUM7VUFDbkIsS0FBSyxhQUFhLENBQUM7VUFDbkIsS0FBSyxhQUFhO1lBQ2hCLFdBQVcsQ0FBQyxTQUFTLE1BQU0sQ0FBQztnQkFDeEIsWUFBWSxDQUFDLFNBQVMsR0FBRyxDQUFDO29CQUN0QixHQUFHLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUN4QixJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUU7d0JBQy9CLEdBQUcsR0FBRyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7cUJBQzNCO29CQUNELE1BQU0sQ0FBQyxTQUFTLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztpQkFDaEMsQ0FBQyxDQUFDO2FBQ04sQ0FBQyxDQUFDO1lBQ0gsTUFBTTtTQUNUO0tBQ0o7OztJQUdELFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFO1FBQ3RDLElBQUksR0FBRyxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDckMsT0FBTztTQUNWOztRQUVELGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7UUFFcEIsSUFBSSxjQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pHLElBQUksZUFBZSxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O1FBZW5HLElBQUksR0FBRyxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxDQUFDLEVBQUU7WUFDaEYsT0FBTztTQUNWOzs7O1FBSUQsSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxLQUFLLElBQUksR0FBRyxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUMsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTs7O1lBR2xGLElBQUksR0FBRyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLO1lBQ3BGO2dCQUNJLElBQUksY0FBYyxJQUFJLGVBQWUsRUFBRTs7b0JBRW5DLEdBQUcsR0FBRyxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7OztvQkFHakMsSUFBSSxJQUFJLEdBQUcsZUFBZSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDdEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUc7d0JBQ2xCLEtBQUssRUFBRSxHQUFHLENBQUMsS0FBSzt3QkFDaEIsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLO3FCQUNuQixDQUFDO29CQUNGLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ25CLE9BQU87aUJBQ1Y7YUFDSjtTQUNKOzs7O1FBSUQsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRTs7O1lBRzlELElBQUksR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUU7O2dCQUV4RSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFO29CQUNmLEtBQUssQ0FBQyxNQUFNO3dCQUNSLElBQUksSUFBSSxDQUFDOzRCQUNMLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFO3lCQUNqRCxDQUFDOzZCQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7NkJBQ3ZDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7cUJBQ2hELENBQUM7aUJBQ0w7OztnQkFHRCxJQUFJLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFO29CQUNsQixLQUFLLENBQUMsTUFBTTt3QkFDUixJQUFJLElBQUksQ0FBQzs0QkFDTCxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRTt5QkFDdkQsQ0FBQzs2QkFDRyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDOzZCQUM3QyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO3FCQUN0RCxDQUFDO2lCQUNMOzs7Z0JBR0QsSUFBSSxjQUFjLEVBQUU7b0JBQ2hCLEtBQUssQ0FBQyxNQUFNO3dCQUNSLElBQUksSUFBSSxDQUFDOzRCQUNMLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFO3lCQUNuRCxDQUFDOzZCQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUM7NkJBQ3hDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUM7cUJBQ25ELENBQUM7aUJBQ0w7OztnQkFHRCxJQUFJLGVBQWUsRUFBRTtvQkFDakIsS0FBSyxDQUFDLE1BQU07d0JBQ1IsSUFBSSxJQUFJLENBQUM7NEJBQ0wsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUU7eUJBQ3JELENBQUM7NkJBQ0csTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQzs2QkFDMUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQztxQkFDckQsQ0FBQztpQkFDTDs7Z0JBRUQsT0FBTzthQUNWO1NBQ0o7OztRQUdELElBQUksR0FBRyxHQUFHLHdCQUF3QixDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ2pCLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDakIsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNqQixJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDOzs7UUFHakIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLO2lCQUNULEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLO2lCQUM3QyxHQUFHLEVBQUUsR0FBRztpQkFDUixFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDOzs7UUFHNUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLO2lCQUNaLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO2lCQUNoRCxHQUFHLEVBQUUsR0FBRztpQkFDUixFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzs7O1FBR2xELFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRTtZQUNaLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1NBQzdCOzs7UUFHRCxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUs7aUJBQ1YsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUs7aUJBQy9DLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDO2lCQUNsQixFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7OztRQUdoRCxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUs7aUJBQ1gsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUs7aUJBQ2hELEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDO2lCQUNsQixFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7S0FDakQ7Q0FDSjs7QUFFRCxTQUFTLGdCQUFnQixDQUFDLFFBQVEsRUFBRTtJQUNoQyxPQUFPLFNBQVMsS0FBSyxFQUFFLElBQUksRUFBRTtRQUN6QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7UUFFakQsUUFBUSxRQUFRLENBQUMsSUFBSTtVQUNuQixLQUFLLFFBQVE7OztZQUdYLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUM5RCxRQUFRLFFBQVEsQ0FBQyxFQUFFO2NBQ2pCLEtBQUssS0FBSztnQkFDUixLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUNWLE1BQU07Y0FDUixLQUFLLE1BQU07Z0JBQ1QsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ3JCLE1BQU07Y0FDUixLQUFLLFFBQVE7Z0JBQ1gsS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7Z0JBQ2hCLE1BQU07Y0FDUixLQUFLLE9BQU87Z0JBQ1YsS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNwQixNQUFNO2NBQ1IsS0FBSyxVQUFVLENBQUMsQ0FBQyxLQUFLLFVBQVU7Z0JBQzlCLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNuQyxNQUFNO2NBQ1IsS0FBSyxXQUFXLENBQUMsQ0FBQyxLQUFLLFdBQVc7Z0JBQ2hDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDbEMsTUFBTTtjQUNSLEtBQUssYUFBYSxDQUFDLENBQUMsS0FBSyxhQUFhO2dCQUNwQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDNUMsTUFBTTtjQUNSLEtBQUssY0FBYyxDQUFDLENBQUMsS0FBSyxjQUFjO2dCQUN0QyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDNUMsTUFBTTthQUNUOztZQUVELElBQUksUUFBUSxDQUFDLE9BQU8sRUFBRTtnQkFDbEIsS0FBSyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUM7YUFDcEI7OztZQUdELEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNyQixJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUU7Z0JBQ1gsS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO2FBQ3hCOzs7Ozs7Ozs7WUFTRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBa0NuRixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO1lBQzlELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDN0QsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3BCLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDOzs7O1lBSXBCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7Z0JBQzNDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDUCxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDVjs7O1lBR0QsSUFBSSxRQUFRLEdBQUcsRUFBRSxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDN0IsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUN6QyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO2dCQUN2QixJQUFJLE1BQU0sRUFBRTtvQkFDUixNQUFNLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQztpQkFDckMsTUFBTSxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUU7b0JBQ2pCLE1BQU0sR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQztpQkFDekMsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQ2hCLE1BQU0sR0FBRyxDQUFDLENBQUM7aUJBQ2QsTUFBTSxJQUFJLENBQUMsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQ3ZDLE1BQU0sR0FBRyxDQUFDLENBQUM7aUJBQ2Q7Z0JBQ0QsSUFBSSxJQUFJLEdBQUc7b0JBQ1AsS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFO29CQUMxQixNQUFNLEVBQUUsTUFBTTtpQkFDakIsQ0FBQztnQkFDRixJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7b0JBQ2hCLEtBQUssR0FBRyxNQUFNLENBQUM7O29CQUVmLFFBQVEsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO3dCQUMzQixJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNsQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztxQkFDN0UsQ0FBQyxDQUFDO29CQUNILFFBQVEsR0FBRyxFQUFFLENBQUM7aUJBQ2pCLE1BQU07b0JBQ0gsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7aUJBQzlDO2dCQUNELE9BQU8sSUFBSSxDQUFDO2FBQ2YsQ0FBQyxDQUFDOztZQUVILElBQUksS0FBSyxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDakMsSUFBSSxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQzs7O1lBRy9CLEtBQUssQ0FBQyxNQUFNO2dCQUNSLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO3FCQUNkLE1BQU0sQ0FBQyxJQUFJLENBQUM7cUJBQ1osSUFBSSxDQUFDLElBQUksY0FBYyxDQUFDO3dCQUNyQixLQUFLLE9BQU8sS0FBSzt3QkFDakIsR0FBRyxTQUFTLEdBQUc7d0JBQ2YsS0FBSyxPQUFPLEtBQUs7d0JBQ2pCLFNBQVMsR0FBRyxLQUFLO3FCQUNwQixDQUFDLENBQUM7YUFDVixDQUFDO1lBQ0YsTUFBTTtVQUNSLEtBQUssUUFBUTs7WUFFWCxJQUFJLE1BQU0sQ0FBQyxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3RDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLHlEQUF5RCxDQUFDLENBQUM7YUFDakY7WUFDRCxNQUFNO1NBQ1Q7S0FDSixDQUFDO0NBQ0w7O0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFO0lBQ3ZDLElBQUksTUFBTSxDQUFDOztJQUVYLElBQUksT0FBTyxDQUFDLGtCQUFrQixFQUFFO1FBQzVCLE1BQU0sR0FBRyxPQUFPLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztLQUN6QyxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUU7UUFDL0YsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUN2RSxJQUFJLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQzNELElBQUksTUFBTSxDQUFDLGVBQWUsRUFBRTtnQkFDeEIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxlQUFlLEVBQUUsQ0FBQzthQUNyQyxNQUFNO2dCQUNILE1BQU0sR0FBRyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDbEM7U0FDSjtLQUNKOztJQUVELElBQUksQ0FBQyxNQUFNLEVBQUU7UUFDVCxPQUFPLEtBQUssQ0FBQztLQUNoQjs7SUFFRCxJQUFJWSxPQUFJLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztJQUN2QkEsT0FBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7O0lBRTNCLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQzNDQSxPQUFJLENBQUMsU0FBUyxDQUFDQyxXQUFhLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7SUFFL0QsS0FBSyxDQUFDLE1BQU0sQ0FBQ0QsT0FBSSxDQUFDLENBQUM7O0lBRW5CLE9BQU8sSUFBSSxDQUFDO0NBQ2Y7O0FBRUQsU0FBUyxXQUFXLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUU7SUFDdEMsSUFBSSxHQUFHLEdBQUcsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pDLElBQUksSUFBSSxHQUFHLElBQUlaLElBQVEsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUMxRSxJQUFJLEtBQUssR0FBRyxJQUFJeEMsT0FBSyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqQ2tELGFBQVcsQ0FBQyxLQUFLLEVBQUUsZUFBZSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUM3RCxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQ3ZCOztBQUVELFNBQVMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDdEIsSUFBSSxFQUFFLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0IsSUFBSSxFQUFFLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0IsSUFBSSxFQUFFLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3JELElBQUksRUFBRSxHQUFHLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNyRCxJQUFJLEVBQUUsR0FBRyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDMUMsSUFBSSxFQUFFLEdBQUcsZ0JBQWdCLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzFDLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUN4QixJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUM5RCxPQUFPLENBQUMsQ0FBQztTQUNaO1FBQ0QsSUFBSSxFQUFFLElBQUksUUFBUSxFQUFFO1lBQ2hCLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDYjtRQUNELElBQUksRUFBRSxJQUFJLFFBQVEsRUFBRTtZQUNoQixPQUFPLENBQUMsQ0FBQztTQUNaO1FBQ0QsT0FBTyxDQUFDLENBQUM7S0FDWjtJQUNELElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1FBQ1gsT0FBTyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUN6QztJQUNELElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1FBQ1gsT0FBTyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUN6QztJQUNELE9BQU8sVUFBVSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUMxQzs7QUFFRCxTQUFTLFdBQVcsQ0FBQyxPQUFPLEVBQUU7SUFDMUIsT0FBTyw4QkFBOEIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0NBQy9EOztBQUVELFNBQVMsaUJBQWlCLENBQUMsT0FBTyxFQUFFO0lBQ2hDLElBQUksT0FBTyxDQUFDLGVBQWUsSUFBSSxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDL0QsT0FBTyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3JDO0lBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztDQUNqRDs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFO0lBQ3BDLElBQUksS0FBSyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLElBQUksS0FBSyxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM3QyxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMscUJBQXFCLEVBQUUsQ0FBQztJQUMxQyxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksVUFBVSxFQUFFO1FBQzVCLEtBQUssQ0FBQyxNQUFNO1lBQ1IsSUFBSSxDQUFDLFFBQVE7Z0JBQ1QsSUFBSVYsSUFBUSxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7NkJBQ3pCLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQzthQUM5QyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQ3JCLENBQUM7UUFDRixJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Ozs7Ozs7Ozs7WUFVakIsS0FBSyxDQUFDLE1BQU07Z0JBQ1IsSUFBSSxJQUFJLEVBQUU7cUJBQ0wsTUFBTSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUM7cUJBQ2xCLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSzs0QkFDM0IsR0FBRyxDQUFDLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztxQkFDbkMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLOzRCQUMzQixHQUFHLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO3FCQUNuQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUs7NEJBQzNCLEdBQUcsQ0FBQyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7YUFDMUMsQ0FBQztTQUNMO0tBQ0osTUFBTTtRQUNILEtBQUssQ0FBQyxNQUFNO1lBQ1IsSUFBSSxNQUFNO2dCQUNOLElBQUljLFFBQVUsQ0FBQztvQkFDWCxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7b0JBQzFCLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztpQkFDN0IsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzlDLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7U0FDckIsQ0FBQztRQUNGLElBQUksT0FBTyxDQUFDLE9BQU8sRUFBRTtZQUNqQixLQUFLLENBQUMsTUFBTTtnQkFDUixJQUFJLE1BQU07b0JBQ04sSUFBSUEsUUFBVSxDQUFDO3dCQUNYLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQzt3QkFDMUIsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO3FCQUM3QixFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQzlDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7YUFDN0IsQ0FBQztTQUNMO0tBQ0o7Q0FDSjs7QUFFRCxTQUFTLGVBQWUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFO0lBQ3JDLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDeEMsSUFBSSxHQUFHLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxVQUFVLElBQUksT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsRUFBRTtRQUMzRSxPQUFPLGNBQWMsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDekM7SUFDRCxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQzNCLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUM7SUFDaEMsSUFBSSxFQUFFLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQ2pELElBQUksTUFBTSxDQUFDO0lBQ1gsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDekQsSUFBSSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ2hCLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztLQUMvQjtJQUNELElBQUksR0FBRyxJQUFJLFFBQVEsSUFBSSxHQUFHLElBQUksVUFBVSxFQUFFO1FBQ3RDLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztLQUM5QjtJQUNELElBQUksR0FBRyxJQUFJLFFBQVEsRUFBRTtRQUNqQixJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUU7WUFDbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUM3QyxNQUFNLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2dCQUNqRCxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hFLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztnQkFDL0IsTUFBTSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztnQkFDcEQsRUFBRSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUMxQjtTQUNKLE1BQU07WUFDSCxNQUFNLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDcEMsSUFBSSxNQUFNLEVBQUU7Z0JBQ1IsRUFBRSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO2FBQ3ZDO1NBQ0o7S0FDSixNQUFNO1FBQ0gsRUFBRSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO0tBQ2xDO0lBQ0QsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDNUIsRUFBRSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQ25DLEVBQUUsQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQzs7OztJQUlqQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7O0lBRS9CLGNBQWMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDMUIsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQzNCLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDckI7O0FBRUQsU0FBUyxjQUFjLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRTtJQUNwQyxJQUFJLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEtBQUssT0FBTyxFQUFFOzs7UUFHL0MsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7S0FDM0M7SUFDRCxRQUFRLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFO01BQ25DLEtBQUssS0FBSztRQUNSLFdBQVcsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN6QyxNQUFNOztNQUVSLEtBQUssUUFBUTtRQUNYLElBQUk7WUFDQSxXQUFXLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDL0QsQ0FBQyxPQUFPLEVBQUUsRUFBRTs7U0FFWjtRQUNELE1BQU07O01BRVIsS0FBSyxVQUFVLENBQUM7TUFDaEIsS0FBSyxPQUFPLENBQUM7TUFDYixLQUFLLFFBQVE7UUFDWCxlQUFlLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2hDLE1BQU07O01BRVI7UUFDRSxJQUFJLFFBQVEsR0FBRyxFQUFFLEVBQUUsTUFBTSxHQUFHLEVBQUUsRUFBRSxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2hELEtBQUssSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUU7WUFDbkQsUUFBUSxDQUFDLENBQUMsUUFBUTtjQUNoQixLQUFLLENBQUM7Z0JBQ0osSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDbkIsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7aUJBQ2pDO2dCQUNELE1BQU07Y0FDUixLQUFLLENBQUM7Z0JBQ0osSUFBSSxLQUFLLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hDLElBQUksUUFBUSxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDaEQsSUFBSSxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDO2dCQUNuRCxJQUFJLFFBQVEsSUFBSSxRQUFRLEVBQUU7b0JBQ3RCLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3RCO3FCQUNJLElBQUksUUFBUSxJQUFJLE1BQU0sRUFBRTtvQkFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDbEIsTUFBTTtvQkFDSCxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNwQjtnQkFDRCxNQUFNO2FBQ1Q7U0FDSjs7UUFFRCxTQUFTLENBQUMsUUFBUSxFQUFFLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkYsU0FBUyxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxhQUFhLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pGLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsYUFBYSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUN4RjtDQUNKOztBQUVELFNBQVMsVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFO0lBQ3RDLElBQUksWUFBWSxFQUFFLEVBQUU7UUFDaEIsT0FBTztLQUNWO0lBQ0QsSUFBSSxLQUFLLEdBQUcsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUM7O0lBRXRDLElBQUksVUFBVSxDQUFDLGdCQUFnQixDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFOzs7O1FBSTNELE9BQU87S0FDVjs7SUFFRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNkLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUVwQyxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ04sT0FBTztLQUNWOztJQUVELElBQUksUUFBUSxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNwRCxJQUFJLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsYUFBYSxDQUFDLENBQUM7OztJQUd4RCxJQUFJLElBQUksR0FBRztRQUNQLGdCQUFnQixDQUFDLEtBQUssRUFBRSxZQUFZLENBQUM7UUFDckMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLGNBQWMsQ0FBQztRQUN2QyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsYUFBYSxDQUFDO1FBQ3RDLFFBQVE7UUFDUixnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsYUFBYSxDQUFDO0tBQ3pDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUVaLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQzs7SUFFcEMsSUFBSSxRQUFRLEtBQUssQ0FBQyxFQUFFO1FBQ2hCLE9BQU87S0FDVjs7SUFFRCxJQUFJLEtBQUssR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDN0MsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNoRCxJQUFJQyxRQUFLLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ2xELElBQUksV0FBVyxHQUFHQSxRQUFLLElBQUksU0FBUyxDQUFDO0lBQ3JDLElBQUksV0FBVyxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDN0QsSUFBSSxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3hELElBQUksYUFBYSxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDOzs7OztJQUs5RCxJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0lBQzlFLElBQUksa0JBQWtCLEtBQUssQ0FBQyxFQUFFO1FBQzFCLGtCQUFrQixHQUFHLEdBQUcsQ0FBQztLQUM1Qjs7OztJQUlELElBQUksY0FBYyxHQUFHLElBQUksQ0FBQzs7SUFFMUIsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3RDLElBQUksV0FBVyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUMzQyxJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDcEMsSUFBSSxhQUFhLEdBQUcsU0FBUyxJQUFJLFdBQVcsSUFBSSxRQUFRLENBQUM7OztJQUd6RCxPQUFPLENBQUMsT0FBTyxFQUFFLEVBQUUsRUFBRTs7SUFFckIsSUFBSSxhQUFhLEVBQUU7UUFDZixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZCZCxTQUFLLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ25EOztJQUVELE9BQU87O0lBRVAsU0FBUyw0QkFBNEIsQ0FBQyxLQUFLLEVBQUU7OztRQUd6QyxJQUFJLFNBQVMsSUFBSWpCLFNBQU8sQ0FBQyxNQUFNLEVBQUU7Ozs7Ozs7OztZQVM3QixJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsY0FBYyxFQUFFLEVBQUUsR0FBRyxHQUFHO2dCQUMzQyxHQUFHLE9BQU8sUUFBUTtnQkFDbEIsS0FBSyxJQUFJLENBQUMsUUFBUTtnQkFDbEIsTUFBTSxHQUFHLENBQUMsUUFBUTtnQkFDbEIsSUFBSSxNQUFNLFFBQVE7YUFDckIsRUFBRSxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ2hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUN4QyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxjQUFjLEVBQUU7b0JBQzdDLFNBQVM7aUJBQ1o7Z0JBQ0QsR0FBRyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMzQyxHQUFHLENBQUMsR0FBRyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzFDLEdBQUcsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDNUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUM3QyxJQUFJLEdBQUcsSUFBSSxDQUFDO2FBQ2Y7WUFDRCxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNQLE9BQU8sS0FBSyxDQUFDLHFCQUFxQixFQUFFLENBQUM7YUFDeEM7WUFDRCxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztZQUNqQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQztZQUNsQyxPQUFPLEdBQUcsQ0FBQztTQUNkO1FBQ0QsT0FBTyxLQUFLLENBQUMscUJBQXFCLEVBQUUsQ0FBQztLQUN4Qzs7Ozs7O0lBTUQsU0FBUyxPQUFPLEdBQUc7UUFDZixJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBSSxHQUFHLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9DLEtBQUssSUFBSSxHQUFHLENBQUM7UUFDYixJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksS0FBSyxJQUFJLEdBQUcsRUFBRTtZQUN6QixPQUFPLElBQUksQ0FBQztTQUNmOzs7O1FBSUQsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDNUIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlCLEdBQUcsR0FBRyw0QkFBNEIsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7O1FBRzFDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNsQixJQUFJLFdBQVcsSUFBSSxXQUFXLEdBQUcsQ0FBQyxFQUFFO1lBQ2hDLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN0QyxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUU7OztnQkFHVixLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxHQUFHLDRCQUE0QixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM1QyxJQUFJLENBQUMsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBRTtvQkFDeEIsR0FBRyxHQUFHLENBQUMsQ0FBQztvQkFDUixLQUFLLEdBQUcsSUFBSSxDQUFDO29CQUNiLEtBQUssSUFBSSxHQUFHLENBQUM7aUJBQ2hCO2FBQ0o7U0FDSjs7UUFFRCxJQUFJLENBQUMsS0FBSyxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7OztZQWlCUixHQUFHLEdBQUcsQ0FBQyxTQUFTLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDbEMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxHQUFHLDRCQUE0QixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM1QyxJQUFJLENBQUMsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLE1BQU0sSUFBSSxHQUFHLEdBQUcsR0FBRyxFQUFFO29CQUNyQyxPQUFPLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2lCQUM5QyxNQUFNLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO29CQUM3QixHQUFHLEdBQUcsQ0FBQyxDQUFDO29CQUNSLElBQUksR0FBRyxHQUFHLEdBQUcsRUFBRTt3QkFDWCxPQUFPLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO3FCQUM5QyxNQUFNO3dCQUNILE9BQU8sR0FBRyxDQUFDO3FCQUNkO2lCQUNKLE1BQU07b0JBQ0gsT0FBTyxHQUFHLENBQUM7aUJBQ2Q7YUFDSixDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDOztZQUUxRCxJQUFJLEdBQUcsSUFBSSxLQUFLLEVBQUU7OztnQkFHZCxPQUFPLElBQUksQ0FBQzthQUNmO1lBQ0QsS0FBSyxHQUFHLEdBQUcsQ0FBQzs7WUFFWixHQUFHLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN0QyxJQUFJLEdBQUcsS0FBSyxDQUFDLEVBQUU7Z0JBQ1gsT0FBTyxLQUFLLENBQUM7YUFDaEI7WUFDRCxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUU7O2dCQUVULEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLEdBQUcsR0FBRyw0QkFBNEIsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUM3QztTQUNKOzs7OztRQUtELElBQUksU0FBUyxFQUFFO1lBQ1gsR0FBRyxHQUFHLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuQzs7UUFFRCxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTs7WUFFekMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ2xDO2FBQ0ksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFOzs7Ozs7O1lBT3JCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNYLEtBQUssR0FBRyxHQUFHLFNBQVMsRUFBRSxHQUFHLEdBQUcsS0FBSyxDQUFDLFdBQVcsRUFBRSxFQUFFLEdBQUcsRUFBRTtnQkFDbEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDaEMsSUFBSSxJQUFJLElBQUksQ0FBQyxFQUFFOzs7b0JBR1gsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2lCQUNwQixNQUFNLElBQUksSUFBSSxJQUFJLEVBQUUsSUFBSSxJQUFJLElBQUksRUFBRSxFQUFFOztvQkFFakMsRUFBRSxHQUFHLENBQUMsQ0FBQztpQkFDVixNQUFNOztvQkFFSCxFQUFFLEVBQUUsQ0FBQztpQkFDUjthQUNKOzs7O1lBSUQsT0FBTyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNsQyxJQUFJLE1BQU0sR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RELEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDM0Q7U0FDSjs7UUFFRCxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1IsY0FBYyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7U0FDL0I7UUFDRCxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ3RCOztJQUVELFNBQVMsUUFBUSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUU7Ozs7OztRQU14QixJQUFJLFNBQVMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUNqQyxJQUFJLE1BQU0sR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLEdBQUcsR0FBRztnQkFDRixHQUFHLE1BQU0sR0FBRztnQkFDWixLQUFLLElBQUksR0FBRyxDQUFDLEtBQUs7Z0JBQ2xCLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTTtnQkFDckIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJO2dCQUNqQixNQUFNLEdBQUcsTUFBTTtnQkFDZixLQUFLLElBQUksR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsSUFBSTthQUNoQyxDQUFDO1NBQ0w7Ozs7Ozs7Ozs7UUFVRCxRQUFRLGFBQWE7VUFDbkIsS0FBSyxXQUFXO1lBQ2QsR0FBRyxHQUFHLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN4QixNQUFNO1VBQ1IsS0FBSyxXQUFXO1lBQ2QsR0FBRyxHQUFHLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN4QixNQUFNO1VBQ1IsS0FBSyxZQUFZO1lBQ2YsR0FBRyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLFVBQUEsQ0FBQyxFQUFDLFNBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFBLENBQUMsQ0FBQztZQUN2RCxNQUFNO1NBQ1Q7O1FBRUQsSUFBSSxJQUFJLEdBQUcsSUFBSSxRQUFRO1lBQ25CLEdBQUcsRUFBRSxJQUFJZ0IsSUFBUSxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFOzhCQUNyQixFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzVDO2dCQUNJLElBQUksRUFBRSxJQUFJO2dCQUNWLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7YUFDekI7U0FDSixDQUFDO1FBQ0YsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0Qjs7SUFFRCxTQUFTLFFBQVEsQ0FBQyxHQUFHLEVBQUU7UUFDbkIsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsU0FBUyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRTtZQUN2QixJQUFJLEtBQUssRUFBRTtnQkFDUCxJQUFJLEtBQUssR0FBRyxRQUFRLEdBQUcsRUFBRSxDQUFDO2dCQUMxQixJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLE1BQU0sRUFBRTtvQkFDMUIsS0FBSyxFQUFFLEtBQUs7b0JBQ1osS0FBSyxFQUFFLEtBQUs7aUJBQ2YsQ0FBQyxDQUFDLENBQUM7O2dCQUVKLElBQUksSUFBSSxLQUFLLENBQUM7Z0JBQ2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztxQkFDdEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzdCLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdEI7U0FDSjtLQUNKO0NBQ0o7O0FBRUQsU0FBUyxzQkFBc0IsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUNwRCxJQUFJLElBQUksQ0FBQztJQUNULElBQUksTUFBTSxJQUFJLE1BQU0sRUFBRTs7UUFFbEIsSUFBSSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUM7UUFDdkMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUMvQixNQUFNOzs7OztRQUtILElBQUksR0FBRyxLQUFLLENBQUM7UUFDYixNQUFNLEdBQUcsQ0FBQyxDQUFDO0tBQ2Q7SUFDRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3RCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQy9CLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsR0FBRyxNQUFNLEVBQUU7WUFDdkQsTUFBTTtTQUNUO0tBQ0o7O0lBRUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztJQUN0QixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNwQixHQUFHLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQzs7SUFFekIsSUFBSSxJQUFJLEtBQUssS0FBSyxFQUFFOzs7Ozs7O1FBT2hCLElBQUksUUFBUSxDQUFDLFFBQVEsRUFBRTtZQUNuQixJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNDVSxhQUFXLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7OztTQUl0QztLQUNKOztJQUVELE9BQU8sR0FBRyxDQUFDO0NBQ2Q7O0FBRUQsU0FBUyxhQUFhLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRTtJQUN2QyxJQUFJLEtBQUssR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQzs7SUFFdEMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDOztJQUV0QixJQUFJLHFEQUFxRCxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDN0UsT0FBTztLQUNWOztJQUVELElBQUksUUFBUSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUU7UUFDM0IsT0FBTztLQUNWOztJQUVELElBQUksT0FBTyxHQUFHLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUM3RCxJQUFJLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDdkQsSUFBSSxPQUFPLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDOztJQUVqRCxJQUFJLE9BQU8sS0FBSyxDQUFDLElBQUksVUFBVSxJQUFJLFFBQVEsSUFBSSxPQUFPLElBQUksTUFBTSxFQUFFO1FBQzlELE9BQU87S0FDVjs7SUFFRCxJQUFJLEVBQUUsR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0IsSUFBSSxLQUFLLENBQUM7O0lBRVYsSUFBSSxNQUFNLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ2hELElBQUksQ0FBQyxFQUFFLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxJQUFJLE1BQU0sSUFBSSxNQUFNLEVBQUU7UUFDekMsTUFBTSxHQUFHLENBQUMsQ0FBQztLQUNkO0lBQ0QsS0FBSyxHQUFHLHNCQUFzQixDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7Ozs7Ozs7Ozs7OztJQVkzRCxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7UUFDYixLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztLQUM1Qzs7SUFFRCxZQUFZLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs7SUFFcEMsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNMLHlCQUF5QixDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUM3QztTQUNJO1FBQ0QsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVOztZQUV6QixzQkFBc0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7OztZQUd4RSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7Ozs7O1lBS3pFLElBQUksZ0JBQWdCLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxJQUFJLFFBQVEsRUFBRTs7Z0JBRWpELHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQzthQUM5RTs7OztZQUlELElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1lBQzNDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMvQixDQUFDLEdBQUdNLE1BQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3ZCLENBQUMsR0FBR0EsTUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNsQyxDQUFDLEdBQUdYLGNBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7O1lBRTNCLFFBQVEsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBRXBELHlCQUF5QixDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztTQUM3QyxDQUFDLENBQUM7S0FDTjs7SUFFRCxXQUFXLEVBQUUsQ0FBQzs7O0NBR2pCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJELFNBQVNXLE1BQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2hCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyRSxPQUFPO1FBQ0gsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7UUFDckMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7UUFDckMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtLQUM3QyxDQUFDO0NBQ0wsQUFFRCxBQUFtQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyJ9