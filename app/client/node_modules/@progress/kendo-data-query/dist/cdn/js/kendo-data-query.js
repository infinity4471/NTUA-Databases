!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KendoDataQuery=t():e.KendoDataQuery=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPresent=function(e){return null!=e},t.isBlank=function(e){return null==e},t.isArray=function(e){return Array.isArray(e)},t.isFunction=function(e){return"function"==typeof e},t.isString=function(e){return"string"==typeof e},t.isTruthy=function(e){return!!e},t.isNullOrEmptyString=function(e){return t.isBlank(e)||0===e.trim().length},t.isNotNullOrEmptyString=function(e){return!t.isNullOrEmptyString(e)},t.isNumeric=function(e){return!isNaN(e-parseFloat(e))},t.isDate=function(e){return e&&e.getTime}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.isCompositeFilterDescriptor=function(e){return n.isPresent(e.filters)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o={},i=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;o[void 0]=function(e){return e},t.getter=function(e,t){var r=e+t;if(o[r])return o[r];var u=[];return e.replace(i,(function(e,t,r,o){u.push(n.isPresent(t)?t:r||o)})),o[r]=function(e){for(var r=e,o=0;o<u.length;o++)if(r=r[u[o]],!n.isPresent(r)&&t)return r;return r},o[r]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ifElse=function(e,t,r){return function(n){return e(n)?t(n):r(n)}},t.compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduceRight((function(e,t){return t(e)}),t)}},t.constant=function(e){return function(){return e}},t.identity=function(e){return e}},function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return o})),r.d(t,"__assign",(function(){return i})),r.d(t,"__rest",(function(){return u})),r.d(t,"__decorate",(function(){return a})),r.d(t,"__param",(function(){return c})),r.d(t,"__metadata",(function(){return s})),r.d(t,"__awaiter",(function(){return f})),r.d(t,"__generator",(function(){return l})),r.d(t,"__exportStar",(function(){return p})),r.d(t,"__values",(function(){return g})),r.d(t,"__read",(function(){return d})),r.d(t,"__spread",(function(){return v})),r.d(t,"__spreadArrays",(function(){return m})),r.d(t,"__await",(function(){return y})),r.d(t,"__asyncGenerator",(function(){return _})),r.d(t,"__asyncDelegator",(function(){return h})),r.d(t,"__asyncValues",(function(){return b})),r.d(t,"__makeTemplateObject",(function(){return O})),r.d(t,"__importStar",(function(){return w})),r.d(t,"__importDefault",(function(){return P})),r.d(t,"__classPrivateFieldGet",(function(){return S})),r.d(t,"__classPrivateFieldSet",(function(){return j}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function a(e,t,r,n){var o,i=arguments.length,u=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,r,u):o(t,r))||u);return i>3&&u&&Object.defineProperty(t,r,u),u}function c(e,t){return function(r,n){t(r,n,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(o,i){function u(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,a)}c((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)n[o]=i[u];return n}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof y?Promise.resolve(r.value.v).then(c,s):f(i[0][2],r)}catch(e){f(i[0][3],e)}var r}function c(e){a("next",e)}function s(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function h(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:y(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=g(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function j(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(0),i=r(11),u=r(7);t.normalizeGroups=function(e){return(e=o.isArray(e)?e:[e]).map((function(e){return Object.assign({dir:"asc"},e)}))};var a=n.map((function(e){return e}));t.groupBy=function(e,r,c,s){if(void 0===r&&(r=[]),void 0===c&&(c=a),void 0===s&&(s=e),!(r=t.normalizeGroups(r)).length)return e;var f=r[0],l=n.exec(c(n.groupCombinator(f.field)),{},e),p=[];return Object.keys(l).forEach((function(e){Object.keys(l[e]).forEach((function(n){var c=l[e][n],g={},d=s;o.isPresent(f.aggregates)&&(d=u.filterBy(s,{field:f.field,ignoreCase:!1,operator:"eq",value:c.value}),g=i.aggregateBy(d,f.aggregates)),p[c.__position]={aggregates:g,field:e,items:r.length>1?t.groupBy(c.items,r.slice(1),a,d):c.items,value:c.value}}))})),p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2);t.groupCombinator=function(e){var t=o.getter(e,!0),r=0;return function(o,i){o[e]=o[e]||{};var u=t(i),a=function(e){return(e=n.isPresent(e)&&e.getTime?e.getTime():e)+""}(u),c=o[e][a]||{__position:r++,aggregates:{},items:[],value:u};return c.items.push(i),o[e][a]=c,o}},t.expandAggregates=function(e){return void 0===e&&(e={}),Object.keys(e).forEach((function(t){var r=e[t];Object.keys(r).forEach((function(e){r[e]=r[e].result()}))})),e};t.aggregatesCombinator=function(e){var t=e.map((function(e){var t=o.getter(e.field,!0),r=(e.aggregate||"").toLowerCase(),i=o.getter(r,!0);return function(o,u){var a=o[e.field]||{},c=i(a)||{average:function(){var e=0,t=0;return{calc:function(r){n.isNumeric(r)?(e+=r,t++):e=r},result:function(){return n.isNumeric(e)?e/t:e}}},count:function(){var e=0;return{calc:function(){return e++},result:function(){return e}}},max:function(){var e=Number.NEGATIVE_INFINITY;return{calc:function(t){(e=n.isNumeric(e)||n.isDate(e)?e:t)<t&&(n.isNumeric(t)||n.isDate(t))&&(e=t)},result:function(){return e}}},min:function(){var e=Number.POSITIVE_INFINITY;return{calc:function(t){(e=n.isNumeric(e)||n.isDate(e)?e:t)>t&&(n.isNumeric(t)||n.isDate(t))&&(e=t)},result:function(){return e}}},sum:function(){var e=0;return{calc:function(t){return e+=t},result:function(){return e}}}}[r]();return c.calc(t(u)),a[e.aggregate]=c,o[e.field]=a,o}}));return function(e,r){return t.reduce((function(e,t){return t(e,r)}),e)}},t.concat=function(e,t){return e.push(t),e},t.map=function(e){return function(t){return function(r,n,o){return t(r,e(n,o))}}},t.filter=function(e){return function(t){return function(r,n){return e(n)?t(r,n):r}}},t.isTransformerResult=function(e){return n.isPresent(e.__value)};var i=function(e){return t.isTransformerResult(e)?e:{__value:e,reduced:!0}};t.take=function(e){return function(t){return function(r,n){return e-- >0?t(r,n):i(r)}}},t.takeWhile=function(e){return function(t){return function(r,n){return e(n)?t(r,n):i(r)}}},t.skip=function(e){return function(t){return function(r,n){return e--<=0?t(r,n):r}}},t.exec=function(e,r,n){for(var o=r,i=0,u=n.length;i<u;i++)if(o=e(o,n[i],i),t.isTransformerResult(o)){o=o.__value;break}return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(1),i=r(8),u=r(18);t.compileFilter=function(e){return e&&0!==e.filters.length?u.transformCompositeFilter(e):function(){return!0}},t.filterBy=function(e,r){return!n.isPresent(r)||o.isCompositeFilterDescriptor(r)&&0===r.filters.length?e:e.filter(t.compileFilter(i.normalizeFilters(r)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(1),i=function(e){e.filters&&(e.filters=e.filters.map((function(e){var t,r=Object.assign({},e);return!o.isCompositeFilterDescriptor(e)&&n.isString(e.operator)&&(r.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(t=e.operator).toLowerCase()]||t),o.isCompositeFilterDescriptor(e)&&i(r),r})))};t.normalizeFilters=function(e){return n.isPresent(e)&&(e=function(e){return o.isCompositeFilterDescriptor(e)?Object.assign({},e):{filters:n.isArray(e)?e:[e],logic:"and"}}(e),i(e)),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=r(4),u=r(0);t.wrapIf=function(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e()?""+t[0]+r[0]+t[1]:r[0]}},t.toUTC=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},t.quote=function(e){var t=e.field,r=e.value,n=e.ignoreCase,o=e.operator;return{value:"'"+r.replace(/'/g,"''")+"'",field:t,ignoreCase:n,operator:o}},t.encodeValue=function(e){var t=e.field,r=e.value,n=e.ignoreCase,o=e.operator;return{value:""+encodeURIComponent(r),field:t,ignoreCase:n,operator:o}},t.toLower=function(e){var r=e.field,o=e.value,u=e.ignoreCase,a=e.operator;return{field:t.wrapIf((function(){return u}))(n||(n=i.__makeTemplateObject(["tolower(",")"],["tolower(",")"])),r),value:o,ignoreCase:u,operator:a}},t.normalizeField=function(e){var t=e.field,r=e.value,n=e.ignoreCase,o=e.operator;return{value:r,field:t.replace(/\./g,"/"),ignoreCase:n,operator:o}},t.isStringValue=function(e){return u.isString(e.value)},t.isDateValue=function(e){return u.isDate(e.value)},t.serializeFilters=function(e,r){return function(n){return t.wrapIf((function(){return n.filters.length>1}))(o||(o=i.__makeTemplateObject(["(",")"],["(",")"])),n.filters.map(e).join(r(n)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2),i=function(e,t){return n.isBlank(e)?e===t?0:-1:n.isBlank(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},u=function(e,t){return i(t,e)},a=function(e){var t=o.getter(e.field,!0);return function(r,n){return("asc"===e.dir?i:u)(t(r),t(n))}},c=function(e,t){return 0};t.composeSortDescriptors=function(e){return e.filter((function(e){return n.isPresent(e.dir)})).map((function(e){return a(e)})).reduce((function(e,t){return function(r,n){return e(r,n)||t(r,n)}}),c)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=n.map((function(e){return e}));t.aggregateBy=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=o);var i={};if(!t.length)return i;var u=n.exec(r(n.aggregatesCombinator(t)),i,e);return n.expandAggregates(u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.isCompositeFilterDescriptor=n.isCompositeFilterDescriptor;var o=r(13);t.toODataString=o.toODataString;var i=r(15);t.toDataSourceRequestString=i.toDataSourceRequestString,t.toDataSourceRequest=i.toDataSourceRequest;var u=r(16);t.translateDataSourceResultGroups=u.translateDataSourceResultGroups,t.translateAggregateResults=u.translateAggregateResults;var a=r(17);t.orderBy=a.orderBy,t.process=a.process,t.distinct=a.distinct;var c=r(2);t.getter=c.getter;var s=r(7);t.filterBy=s.filterBy,t.compileFilter=s.compileFilter;var f=r(5);t.groupBy=f.groupBy;var l=r(10);t.composeSortDescriptors=l.composeSortDescriptors;var p=r(8);t.normalizeFilters=p.normalizeFilters;var g=r(5);t.normalizeGroups=g.normalizeGroups;var d=r(11);t.aggregateBy=d.aggregateBy},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=r(4),u=r(0),a=r(14),c=r(3),s=c.constant(""),f=function(e,t){return c.ifElse(u.isPresent,(r=e[0],function(e){return r+e}),s)(t);var r};t.toODataString=function(e,t){return void 0===t&&(t={}),Object.keys(e).map(function(e,t){return function(r){return{filter:a.serializeFilter(t.filter||{},e),skip:f(n||(n=i.__makeTemplateObject(["$skip=",""],["$skip=",""])),t.skip),sort:(c=t.sort||[],s=c.filter((function(e){return u.isPresent(e.dir)})).map((function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir?t+" desc":t})).join(","),s?"$orderby="+s:s),take:f(o||(o=i.__makeTemplateObject(["$top=",""],["$top=",""])),t.take)}[r];var c,s}}(t,e)).filter(u.isNotNullOrEmptyString).join("&")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(1),i=r(3),u=r(9),a=function(e){var t=e.operator;return function(e){var r=e.field,n=e.value;return r+" "+t+" "+n}},c=function(e){return i.compose(e,u.encodeValue,u.quote,u.toLower,u.normalizeField)},s=function(e){return c((t=e.operator,function(e){var r=e.field,n=e.value;return t+"("+r+","+n+")"}));var t},f=function(e){return i.compose(a(e),u.normalizeField,(t=e.utcDates,function(e){var r=e.field,n=e.value,o=e.ignoreCase,i=e.operator;return{value:JSON.stringify(t?n:u.toUTC(n)).replace(/"/g,""),field:r,ignoreCase:o,operator:i}}));var t},l=function(e){return i.ifElse(u.isDateValue,f(e),function(e){return i.compose(a(e),u.normalizeField)}(e))},p=function(e){return i.ifElse(u.isStringValue,function(e){return c(a(e))}(e),l(e))},g=function(e){return e+" eq -1"},d=function(e){return i.compose(e,u.normalizeField)},v=function(e){return" "+e.logic+" "},m=function(e){return function(t){return function(e,t){return{contains:s(n.__assign({},t,{operator:"contains"})),doesnotcontain:i.compose(g,s(n.__assign({},t,{operator:"indexof"}))),endswith:s(n.__assign({},t,{operator:"endswith"})),eq:p(n.__assign({},t,{operator:"eq"})),gt:p(n.__assign({},t,{operator:"gt"})),gte:p(n.__assign({},t,{operator:"ge"})),isempty:d((function(e){return e.field+" eq ''"})),isnotempty:d((function(e){return e.field+" ne ''"})),isnotnull:d((function(e){return e.field+" ne null"})),isnull:d((function(e){return e.field+" eq null"})),lt:p(n.__assign({},t,{operator:"lt"})),lte:p(n.__assign({},t,{operator:"le"})),neq:p(n.__assign({},t,{operator:"ne"})),startswith:s(n.__assign({},t,{operator:"startswith"}))}[e]}(t.operator,e)(t)}},y=function(e){return u.serializeFilters((function(t){return i.ifElse(o.isCompositeFilterDescriptor,y(e),m(e))(t)}),v)};t.serializeFilter=function(e,t){return void 0===t&&(t={}),e.filters&&e.filters.length?"$filter="+y(t)(e):""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=r(4),u=r(1),a=r(0),c=r(2),s=r(3),f=r(9),l=function(e){return function(t){return[e,t]}},p=function(){return null},g=function(e){return function(t){return a.isPresent(e(t))}},d=function(e){return function(t){return function(e){return a.isPresent(e)&&a.isArray(e)&&e.length>0}(e(t))}},v=function(e,t){return s.ifElse(e,t,p)},m=function(e,t){return function(r){return e(r).map(t).join("~")}},y=(n=[['"',""],[":","-"]],s.compose.apply(void 0,n.map((function(e){var t=e[0],r=e[1];return function(e){return e.replace(new RegExp(t,"g"),r)}})))),_=(o=".",function(e){return e.slice(0,e.indexOf(o))}),h=function(e){var t=e.field,r=e.dir;return t+"-"+(void 0===r?"asc":r)},b=c.getter("take"),O=c.getter("aggregates"),w=c.getter("skip"),P=c.getter("group"),S=c.getter("sort",!0),j=m(S,h),D=m(P,h),C=m(O,(function(e){return e.field+"-"+e.aggregate})),k=s.compose((function(e){return"datetime'"+e+"'"}),_,y,JSON.stringify,f.toUTC),x=s.compose(l("page"),(function(e){var t=e.skip,r=e.take;return Math.floor((t||0)/r)+1})),F=s.compose(l("pageSize"),b),q=s.compose(l("group"),D),M=s.compose(l("sort"),j),T=s.compose(l("aggregate"),C),E=v(g(w),x),N=v(g(b),F),I=v(d(P),q),R=v(g(O),T),B=s.compose(v(d(S),M),(function(e){return Object.assign({},e,{sort:(S(e)||[]).filter((function(e){var t=e.dir;return a.isNotNullOrEmptyString(t)}))})})),z=function(e){var t=e.field;return a.isNotNullOrEmptyString(t)},A=function(e){return e.field+"~"+e.operator+"~"+e.value},V=s.ifElse(f.isDateValue,s.compose(A,(function(e){var t=e.field,r=e.value,n=e.ignoreCase,o=e.operator;return{value:k(r),field:t,ignoreCase:n,operator:o}})),A),G=function(e){return"~"+e.logic+"~"},L=function(e){return f.serializeFilters((function(t){return s.ifElse(u.isCompositeFilterDescriptor,L(e),function(e){return v(z,s.ifElse(f.isStringValue,s.compose(A,f.quote,e?f.encodeValue:s.identity),V))}(e))(t)}),G)},$=function(e,t){var r=e.filter;if(r&&r.filters){var n=L(t)(r);if(n.length)return["filter",n]}return null},U=function(e,t){return void 0===t&&(t=!0),function(r){return{aggregates:R(e),filter:$(e,t),group:I(e),skip:E(e),sort:B(e),take:N(e)}[r]}};t.toDataSourceRequestString=function(e){return(t=Object.keys(e).map(U(e)).filter(a.isPresent),t.reduce((function(e,t){var r=t[0],n=t[1];return e.concat([r+"="+n])}),[])).join("&");var t},t.toDataSourceRequest=function(e){return Object.keys(e).map(U(e,!1)).filter(a.isPresent).reduce((function(e,t){var r,n=t[0],o=t[1];return i.__assign({},e,((r={})[n]=o,r))}),{})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(3),i=function(e,t,r){return t[e]=r,t},u=function(e){return function(t){var r,o=t[e];return n.isPresent(o)?o:t[(r=e,r.replace(/(^[A-Z])/g,(function(e,t){return t.toLowerCase()})))]}},a=u("Member"),c=u("AggregateMethodName"),s=u("Value"),f=function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}},l=f((function(e,t,r){return i(r.toLowerCase(),t,e[r])})),p=f((function(e,t,r){return i(r,t,l(e[r]))})),g=function(e,t){return n.isPresent(e)?e:t},d=o.compose((function(e){var t=e.field,r=e.hasSubgroups,n=e.value,o=e.aggregates,i=e.items;return{aggregates:p(o),field:t,items:r?i.map(d):i,value:n}}),(function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:g(e.Key,g(e.key,e.value))}}));t.translateDataSourceResultGroups=function(e){return e.map(d)},t.translateAggregateResults=function(e){return(e||[]).reduce((function(e,t){return i(a(t),e,i(c(t).toLowerCase(),e[a(t)]||{},s(t)))}),{})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(10),i=r(5),u=r(8),a=r(7),c=r(6),s=r(2),f=r(3),l=r(19);t.orderBy=function(e,t){if(t.some((function(e){return n.isPresent(e.dir)}))){e=e.slice(0);var r=o.composeSortDescriptors(t);l.sort(e,0,e.length,r)}return e};var p=function(e,t){return e===t};t.distinct=function(e,t){return void 0===t&&(t=p),function(e,t){return e.filter((function(e,r,n){return n.findIndex(t.bind(null,e))===r}))}(e,function(e){if(n.isString(e)){var t=s.getter(e);e=function(e,r){return t(e)===t(r)}}return e}(t))},t.count=function(e,t){for(var r=0,n=0,o=e.length;n<o;n++)t(e[n])&&r++;return r},t.limit=function(e,t){return t?e.filter(t):e},t.process=function(e,r){var o=r.skip,s=r.take,l=r.filter,p=r.sort,g=r.group,d=i.normalizeGroups(g||[]).concat(p||[]);d.length&&(e=t.orderBy(e,d));var v,m=n.isPresent(l)&&c.filter.length,y=n.isPresent(g)&&g.length;if(!m&&!y)return{data:s?e.slice(o,o+s):e,total:e.length};var _,h=[];if(m?(_=a.compileFilter(u.normalizeFilters(l)),v=t.count(e,_),h.push(c.filter(_))):v=e.length,n.isPresent(o)&&n.isPresent(s)&&(h.push(c.skip(o)),h.push(c.take(s))),h.length){var b=f.compose.apply(void 0,h);return{data:y?i.groupBy(e,g,b,t.limit(e,_)):c.exec(b(c.concat),[],e),total:v}}return{data:y?i.groupBy(e,g):e,total:v}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(2),i=r(0),u={or:{concat:function(e,t){return function(r){return e(r)||t(r)}},identity:function(){return!1}},and:{concat:function(e,t){return function(r){return e(r)&&t(r)}},identity:function(){return!0}}},a={contains:function(e,t){return(e||"").indexOf(t)>=0},doesnotcontain:function(e,t){return-1===(e||"").indexOf(t)},doesnotendwith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)<0},doesnotstartwith:function(e,t){return-1===(e||"").lastIndexOf(t,0)},endswith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)>=0},eq:function(e,t){return e===t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},isempty:function(e){return""===e},isnotempty:function(e){return""!==e},isnotnull:function(e){return i.isPresent(e)},isnull:function(e){return i.isBlank(e)},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},neq:function(e,t){return e!=t},startswith:function(e,t){return 0===(e||"").lastIndexOf(t,0)}},c=/^\/Date\((.*?)\)\/$/,s=function(e){var t=e.field,r=e.ignoreCase,n=e.value,u=e.operator;t=i.isPresent(t)?t:function(e){return e},r=!i.isPresent(r)||r;var s=function(e,t,r){if(!i.isPresent(t))return e;var n=e;if(i.isString(t)){var o=c.exec(t);o?t=new Date(+o[1]):n=function(t){var n=e(t);return"string"==typeof n&&r?n.toLowerCase():i.isNumeric(n)?n+"":n}}return i.isDate(t)?function(e){var t=n(e);return i.isDate(t)?t.getTime():t}:n}(i.isFunction(t)?t:o.getter(t,!0),n,r);n=function(e,t){if(null!=e&&i.isString(e)){var r=c.exec(e);if(r)return new Date(+r[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&i.isDate(e))return e.getTime();return e}(n,r);var f=i.isFunction(u)?u:a[u];return function(e){return f(s(e),n,r)}};t.transformCompositeFilter=function(e){var r=u[e.logic];return e.filters.filter(i.isPresent).map((function(e){return n.isCompositeFilterDescriptor(e)?t.transformCompositeFilter(e):s(e)})).reduce(r.concat,r.identity)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sort=function(e,r,n,o){if(!(n-r<2)){var i=r+n>>>1;t.sort(e,r,i,o),t.sort(e,i,n,o),function(e,t,r,n,o){for(var i=r-t,u=n-r,a=[],c=0;c<i;c++)a.push(e[t+c]);var s=0,f=r,l=t;do{o(e[f],a[s])<0?(e[l++]=e[f++],u--):(e[l++]=a[s++],i--)}while(u>0&&i>0);for(;i;)e[l++]=a[s++],i--;for(;u;)e[l++]=e[f++],u--}(e,r,i,n,o)}}}])}));