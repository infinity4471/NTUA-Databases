{"ast":null,"code":"import { align, applyLocationOffset, boundingOffset, getWindowViewPort, isBodyOffset, offset, positionWithScroll, restrictToView, addScroll, removeScroll, scrollPosition, siblingContainer } from '@progress/kendo-popup-common';\nimport { HAS_RELATIVE_STACKING_CONTEXT, scrollableParents, zIndex } from '../util';\nimport { canUseDOM } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\n\nvar DOMService =\n/** @class */\nfunction () {\n  function DOMService() {}\n\n  DOMService.prototype.addOffset = function (current, addition) {\n    return {\n      left: current.left + addition.left,\n      top: current.top + addition.top\n    };\n  };\n\n  DOMService.prototype.align = function (settings) {\n    return align(settings);\n  };\n\n  DOMService.prototype.boundingOffset = function (el) {\n    return boundingOffset(el);\n  };\n\n  DOMService.prototype.getWindow = function () {\n    return canUseDOM ? window : null;\n  };\n\n  DOMService.prototype.isBodyOffset = function (el) {\n    return isBodyOffset(el);\n  };\n\n  DOMService.prototype.hasOffsetParent = function (el) {\n    if (!el) {\n      return false;\n    }\n\n    var offsetParentEl = el.offsetParent;\n    return offsetParentEl && !(offsetParentEl.nodeName === 'BODY' && window.getComputedStyle(offsetParentEl).position === 'static');\n  };\n\n  DOMService.prototype.offset = function (el) {\n    if (!el) {\n      return null;\n    }\n\n    return offset(el);\n  };\n\n  DOMService.prototype.staticOffset = function (element) {\n    if (!element) {\n      return null;\n    }\n\n    var _a = element.style,\n        left = _a.left,\n        top = _a.top;\n    element.style.left = '0px';\n    element.style.top = '0px';\n    var currentOffset = offset(element);\n    element.style.left = left;\n    element.style.top = top;\n    return currentOffset;\n  };\n\n  DOMService.prototype.position = function (element, popup) {\n    if (!element || !popup) {\n      return null;\n    }\n\n    var parentSibling = siblingContainer(element, popup);\n    return positionWithScroll(element, parentSibling);\n  };\n\n  DOMService.prototype.relativeOffset = function (el, currentLocation) {\n    return applyLocationOffset(this.offset(el), currentLocation, this.isBodyOffset(el));\n  };\n\n  DOMService.prototype.addScroll = function (rect, scroll) {\n    return addScroll(rect, scroll);\n  };\n\n  DOMService.prototype.removeScroll = function (rect, scroll) {\n    return removeScroll(rect, scroll);\n  };\n\n  DOMService.prototype.restrictToView = function (settings) {\n    return restrictToView(settings);\n  };\n\n  DOMService.prototype.scrollPosition = function (el) {\n    return scrollPosition(el);\n  };\n\n  DOMService.prototype.scrollableParents = function (el) {\n    return scrollableParents(el);\n  };\n\n  DOMService.prototype.stackingElementOffset = function (el) {\n    var relativeContextElement = this.getRelativeContextElement(el);\n\n    if (!relativeContextElement) {\n      return null;\n    }\n\n    return offset(relativeContextElement);\n  };\n\n  DOMService.prototype.stackingElementScroll = function (el) {\n    var relativeContextElement = this.getRelativeContextElement(el);\n\n    if (!relativeContextElement) {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n\n    return {\n      x: relativeContextElement.scrollLeft,\n      y: relativeContextElement.scrollTop\n    };\n  };\n\n  DOMService.prototype.stackingElementViewPort = function (el) {\n    var relativeContextElement = this.getRelativeContextElement(el);\n\n    if (!relativeContextElement) {\n      return null;\n    }\n\n    return {\n      height: relativeContextElement.scrollHeight,\n      width: relativeContextElement.scrollWidth\n    };\n  };\n\n  DOMService.prototype.getRelativeContextElement = function (el) {\n    if (!el || !HAS_RELATIVE_STACKING_CONTEXT) {\n      return null;\n    }\n\n    var parent = el.parentElement;\n\n    while (parent) {\n      if (window.getComputedStyle(parent).transform !== 'none') {\n        return parent;\n      }\n\n      parent = parent.parentElement;\n    }\n\n    return null;\n  };\n\n  DOMService.prototype.useRelativePosition = function (el) {\n    return !!this.getRelativeContextElement(el);\n  };\n\n  DOMService.prototype.windowViewPort = function (el) {\n    return getWindowViewPort(el);\n  };\n\n  DOMService.prototype.zIndex = function (anchor, container) {\n    return zIndex(anchor, container);\n  };\n\n  DOMService.prototype.zoomLevel = function () {\n    if (!canUseDOM) {\n      return 1;\n    }\n\n    return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2));\n  };\n\n  DOMService.prototype.isZoomed = function () {\n    return this.zoomLevel() > 1;\n  };\n\n  return DOMService;\n}();\n\nexport { DOMService };","map":{"version":3,"sources":["../../../src/services/domService.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { align, applyLocationOffset, boundingOffset, getWindowViewPort, isBodyOffset, offset, positionWithScroll, restrictToView, addScroll, removeScroll, scrollPosition, siblingContainer } from '@progress/kendo-popup-common';\nimport { HAS_RELATIVE_STACKING_CONTEXT, scrollableParents, zIndex } from '../util';\nimport { canUseDOM } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar DOMService = /** @class */ (function () {\n    function DOMService() {\n    }\n    DOMService.prototype.addOffset = function (current, addition) {\n        return {\n            left: current.left + addition.left,\n            top: current.top + addition.top\n        };\n    };\n    DOMService.prototype.align = function (settings) {\n        return align(settings);\n    };\n    DOMService.prototype.boundingOffset = function (el) {\n        return boundingOffset(el);\n    };\n    DOMService.prototype.getWindow = function () {\n        return canUseDOM ? window : null;\n    };\n    DOMService.prototype.isBodyOffset = function (el) {\n        return isBodyOffset(el);\n    };\n    DOMService.prototype.hasOffsetParent = function (el) {\n        if (!el) {\n            return false;\n        }\n        var offsetParentEl = el.offsetParent;\n        return offsetParentEl &&\n            !(offsetParentEl.nodeName === 'BODY' &&\n                window.getComputedStyle(offsetParentEl).position === 'static');\n    };\n    DOMService.prototype.offset = function (el) {\n        if (!el) {\n            return null;\n        }\n        return offset(el);\n    };\n    DOMService.prototype.staticOffset = function (element) {\n        if (!element) {\n            return null;\n        }\n        var _a = element.style, left = _a.left, top = _a.top;\n        element.style.left = '0px';\n        element.style.top = '0px';\n        var currentOffset = offset(element);\n        element.style.left = left;\n        element.style.top = top;\n        return currentOffset;\n    };\n    DOMService.prototype.position = function (element, popup) {\n        if (!element || !popup) {\n            return null;\n        }\n        var parentSibling = siblingContainer(element, popup);\n        return positionWithScroll(element, parentSibling);\n    };\n    DOMService.prototype.relativeOffset = function (el, currentLocation) {\n        return applyLocationOffset(this.offset(el), currentLocation, this.isBodyOffset(el));\n    };\n    DOMService.prototype.addScroll = function (rect, scroll) {\n        return addScroll(rect, scroll);\n    };\n    DOMService.prototype.removeScroll = function (rect, scroll) {\n        return removeScroll(rect, scroll);\n    };\n    DOMService.prototype.restrictToView = function (settings) {\n        return restrictToView(settings);\n    };\n    DOMService.prototype.scrollPosition = function (el) {\n        return scrollPosition(el);\n    };\n    DOMService.prototype.scrollableParents = function (el) {\n        return scrollableParents(el);\n    };\n    DOMService.prototype.stackingElementOffset = function (el) {\n        var relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return null;\n        }\n        return offset(relativeContextElement);\n    };\n    DOMService.prototype.stackingElementScroll = function (el) {\n        var relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return { x: 0, y: 0 };\n        }\n        return {\n            x: relativeContextElement.scrollLeft,\n            y: relativeContextElement.scrollTop\n        };\n    };\n    DOMService.prototype.stackingElementViewPort = function (el) {\n        var relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return null;\n        }\n        return {\n            height: relativeContextElement.scrollHeight,\n            width: relativeContextElement.scrollWidth\n        };\n    };\n    DOMService.prototype.getRelativeContextElement = function (el) {\n        if (!el || !HAS_RELATIVE_STACKING_CONTEXT) {\n            return null;\n        }\n        var parent = el.parentElement;\n        while (parent) {\n            if (window.getComputedStyle(parent).transform !== 'none') {\n                return parent;\n            }\n            parent = parent.parentElement;\n        }\n        return null;\n    };\n    DOMService.prototype.useRelativePosition = function (el) {\n        return !!this.getRelativeContextElement(el);\n    };\n    DOMService.prototype.windowViewPort = function (el) {\n        return getWindowViewPort(el);\n    };\n    DOMService.prototype.zIndex = function (anchor, container) {\n        return zIndex(anchor, container);\n    };\n    DOMService.prototype.zoomLevel = function () {\n        if (!canUseDOM) {\n            return 1;\n        }\n        return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2));\n    };\n    DOMService.prototype.isZoomed = function () {\n        return this.zoomLevel() > 1;\n    };\n    return DOMService;\n}());\nexport { DOMService };\n//# sourceMappingURL=domService.js.map"]},"metadata":{},"sourceType":"module"}