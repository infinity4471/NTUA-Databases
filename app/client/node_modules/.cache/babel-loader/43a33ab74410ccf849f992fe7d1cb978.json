{"ast":null,"code":"/**\n * @hidden\n */\nvar isPresent = function (value) {\n  return value !== null && value !== undefined;\n};\n/**\n * @hidden\n */\n\n\nvar sameCharsOnly = function (word, character) {\n  for (var idx = 0; idx < word.length; idx++) {\n    if (word.charAt(idx) !== character) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\n * @hidden\n */\n\n\nvar shuffleData = function (data, splitIndex, defaultItem) {\n  var result = data;\n\n  if (defaultItem) {\n    result = [defaultItem].concat(result);\n  }\n\n  return result.slice(splitIndex).concat(result.slice(0, splitIndex));\n};\n/**\n * @hidden\n */\n\n\nvar matchText = function (text, word, ignoreCase) {\n  if (!isPresent(text)) {\n    return false;\n  }\n\n  var temp = String(text);\n\n  if (ignoreCase) {\n    temp = temp.toLowerCase();\n  }\n\n  return temp.indexOf(word) === 0;\n};\n/**\n * @hidden\n */\n\n\nvar scrollToItem = function (scrollElem, itemHeight, itemIndex, translate, virtualScroll) {\n  var viewportHeight = scrollElem.offsetHeight;\n  var itemOffsetTop = itemHeight * itemIndex + (virtualScroll ? translate - scrollElem.scrollTop : 0);\n\n  if (virtualScroll) {\n    var diff = 0;\n\n    if (itemOffsetTop + itemHeight > viewportHeight) {\n      diff = itemOffsetTop + itemHeight - viewportHeight;\n    } else if (itemOffsetTop < 0) {\n      diff = itemOffsetTop;\n    }\n\n    if (diff !== 0) {\n      scrollElem.scrollTop += diff;\n    } else if (scrollElem.scrollTop === 0 && translate !== 0) {\n      scrollElem.scrollTop = translate;\n    }\n  } else {\n    if (itemOffsetTop + itemHeight > viewportHeight + scrollElem.scrollTop) {\n      scrollElem.scrollTop = itemOffsetTop + itemHeight - viewportHeight;\n    } else if (itemOffsetTop < scrollElem.scrollTop) {\n      scrollElem.scrollTop -= scrollElem.scrollTop - itemOffsetTop;\n    }\n  }\n};\n/**\n * @hidden\n */\n\n\nvar itemIndexStartsWith = function (items, text, field) {\n  var result = -1;\n\n  if (text) {\n    text = text.toLowerCase();\n\n    for (var i = 0; i < items.length; i++) {\n      var itemText = (getItemValue(items[i], field) || '') + '';\n\n      if (itemText && itemText.toLowerCase().startsWith(text)) {\n        result = i;\n        break;\n      }\n    }\n  }\n\n  return result;\n};\n/**\n * @hidden\n */\n\n\nvar getItemIndexByText = function (data, text, textField, matchCase) {\n  if (matchCase === void 0) {\n    matchCase = false;\n  }\n\n  var casing = function (value) {\n    return matchCase ? value : value.toLowerCase();\n  };\n\n  return data.findIndex(function (item) {\n    return textField ? casing(getItemValue(item, textField)) === casing(text) : casing(text) === casing(item.toString());\n  });\n};\n/**\n * @hidden\n */\n\n\nvar getItemValue = function (item, field) {\n  if (field && isPresent(item)) {\n    var path = field.split('.');\n    var data_1 = item;\n    path.forEach(function (p) {\n      data_1 = data_1 ? data_1[p] : undefined;\n    });\n    return data_1;\n  }\n\n  return item;\n};\n/**\n * @hidden\n */\n\n\nvar matchDataCollections = function (data1, data2, key) {\n  if (data1 === void 0) {\n    data1 = [];\n  }\n\n  if (data2 === void 0) {\n    data2 = [];\n  }\n\n  if (data1 === data2) {\n    return true;\n  }\n\n  if (data1.length !== data2.length) {\n    return false;\n  }\n\n  for (var i = 0; i < data1.length; i++) {\n    if (!areSame(data1[i], data2[i], key)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\n * @hidden\n */\n\n\nvar removeDataItems = function (items, toRemove, key) {\n  toRemove.forEach(function (item) {\n    var itemIndex = items.findIndex(function (i) {\n      return areSame(i, item, key);\n    });\n\n    if (itemIndex !== -1) {\n      items.splice(itemIndex, 1);\n    }\n  });\n};\n/**\n * @hidden\n */\n\n\nvar areSame = function (item1, item2, key) {\n  return item1 === item2 || isPresent(item1) === isPresent(item2) && getItemValue(item1, key) === getItemValue(item2, key);\n};\n/**\n * @hidden\n */\n\n\nvar getFocusedItem = function (data, value, textField) {\n  if (value) {\n    var selectedIndex = getItemIndexByText(data, value, textField, true);\n    return selectedIndex !== -1 ? data[selectedIndex] : data[itemIndexStartsWith(data, value, textField)];\n  }\n\n  return data[0];\n};\n/**\n * @hidden\n */\n\n\nvar suggestValue = function (value, data, textField) {\n  if (data === void 0) {\n    data = [];\n  }\n\n  var suggested = '';\n\n  if (value) {\n    var suggestedItem = data[itemIndexStartsWith(data, value, textField)];\n\n    if (suggestedItem) {\n      var suggestedText = getItemValue(suggestedItem, textField);\n\n      if (value.toLowerCase() !== suggestedText.toLowerCase()) {\n        suggested = suggestedText.substring(value.length);\n      }\n    }\n  }\n\n  return suggested;\n};\n/**\n * @hidden\n */\n\n\nvar preventDefaultNonInputs = function (event) {\n  if (event.target.nodeName !== 'INPUT') {\n    event.preventDefault();\n  }\n};\n\nexport { isPresent, sameCharsOnly, shuffleData, matchText, scrollToItem, itemIndexStartsWith, getItemIndexByText, getItemValue, matchDataCollections, removeDataItems, areSame, getFocusedItem, preventDefaultNonInputs, suggestValue };","map":{"version":3,"sources":["../../../src/common/utils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\n * @hidden\n */\nvar isPresent = function (value) { return value !== null && value !== undefined; };\n/**\n * @hidden\n */\nvar sameCharsOnly = function (word, character) {\n    for (var idx = 0; idx < word.length; idx++) {\n        if (word.charAt(idx) !== character) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @hidden\n */\nvar shuffleData = function (data, splitIndex, defaultItem) {\n    var result = data;\n    if (defaultItem) {\n        result = [defaultItem].concat(result);\n    }\n    return result.slice(splitIndex).concat(result.slice(0, splitIndex));\n};\n/**\n * @hidden\n */\nvar matchText = function (text, word, ignoreCase) {\n    if (!isPresent(text)) {\n        return false;\n    }\n    var temp = String(text);\n    if (ignoreCase) {\n        temp = temp.toLowerCase();\n    }\n    return temp.indexOf(word) === 0;\n};\n/**\n * @hidden\n */\nvar scrollToItem = function (scrollElem, itemHeight, itemIndex, translate, virtualScroll) {\n    var viewportHeight = scrollElem.offsetHeight;\n    var itemOffsetTop = (itemHeight * itemIndex) +\n        (virtualScroll ? translate - scrollElem.scrollTop : 0);\n    if (virtualScroll) {\n        var diff = 0;\n        if (itemOffsetTop + itemHeight > viewportHeight) {\n            diff = itemOffsetTop + itemHeight - viewportHeight;\n        }\n        else if (itemOffsetTop < 0) {\n            diff = itemOffsetTop;\n        }\n        if (diff !== 0) {\n            scrollElem.scrollTop += diff;\n        }\n        else if (scrollElem.scrollTop === 0 && translate !== 0) {\n            scrollElem.scrollTop = translate;\n        }\n    }\n    else {\n        if (itemOffsetTop + itemHeight > viewportHeight + scrollElem.scrollTop) {\n            scrollElem.scrollTop = (itemOffsetTop + itemHeight - viewportHeight);\n        }\n        else if (itemOffsetTop < scrollElem.scrollTop) {\n            scrollElem.scrollTop -= scrollElem.scrollTop - itemOffsetTop;\n        }\n    }\n};\n/**\n * @hidden\n */\nvar itemIndexStartsWith = function (items, text, field) {\n    var result = -1;\n    if (text) {\n        text = text.toLowerCase();\n        for (var i = 0; i < items.length; i++) {\n            var itemText = (getItemValue(items[i], field) || '') + '';\n            if (itemText && itemText.toLowerCase().startsWith(text)) {\n                result = i;\n                break;\n            }\n        }\n    }\n    return result;\n};\n/**\n * @hidden\n */\nvar getItemIndexByText = function (data, text, textField, matchCase) {\n    if (matchCase === void 0) { matchCase = false; }\n    var casing = function (value) { return matchCase ? value : value.toLowerCase(); };\n    return data.findIndex(function (item) {\n        return textField ? casing(getItemValue(item, textField)) === casing(text) :\n            casing(text) === casing(item.toString());\n    });\n};\n/**\n * @hidden\n */\nvar getItemValue = function (item, field) {\n    if (field && isPresent(item)) {\n        var path = field.split('.');\n        var data_1 = item;\n        path.forEach(function (p) {\n            data_1 = data_1 ? data_1[p] : undefined;\n        });\n        return data_1;\n    }\n    return item;\n};\n/**\n * @hidden\n */\nvar matchDataCollections = function (data1, data2, key) {\n    if (data1 === void 0) { data1 = []; }\n    if (data2 === void 0) { data2 = []; }\n    if (data1 === data2) {\n        return true;\n    }\n    if (data1.length !== data2.length) {\n        return false;\n    }\n    for (var i = 0; i < data1.length; i++) {\n        if (!areSame(data1[i], data2[i], key)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @hidden\n */\nvar removeDataItems = function (items, toRemove, key) {\n    toRemove.forEach(function (item) {\n        var itemIndex = items.findIndex(function (i) { return areSame(i, item, key); });\n        if (itemIndex !== -1) {\n            items.splice(itemIndex, 1);\n        }\n    });\n};\n/**\n * @hidden\n */\nvar areSame = function (item1, item2, key) {\n    return item1 === item2 ||\n        (isPresent(item1) === isPresent(item2) && getItemValue(item1, key) === getItemValue(item2, key));\n};\n/**\n * @hidden\n */\nvar getFocusedItem = function (data, value, textField) {\n    if (value) {\n        var selectedIndex = getItemIndexByText(data, value, textField, true);\n        return selectedIndex !== -1 ? data[selectedIndex] : data[itemIndexStartsWith(data, value, textField)];\n    }\n    return data[0];\n};\n/**\n * @hidden\n */\nvar suggestValue = function (value, data, textField) {\n    if (data === void 0) { data = []; }\n    var suggested = '';\n    if (value) {\n        var suggestedItem = data[itemIndexStartsWith(data, value, textField)];\n        if (suggestedItem) {\n            var suggestedText = getItemValue(suggestedItem, textField);\n            if (value.toLowerCase() !== suggestedText.toLowerCase()) {\n                suggested = suggestedText.substring(value.length);\n            }\n        }\n    }\n    return suggested;\n};\n/**\n * @hidden\n */\nvar preventDefaultNonInputs = function (event) {\n    if (event.target.nodeName !== 'INPUT') {\n        event.preventDefault();\n    }\n};\nexport { isPresent, sameCharsOnly, shuffleData, matchText, scrollToItem, itemIndexStartsWith, getItemIndexByText, getItemValue, matchDataCollections, removeDataItems, areSame, getFocusedItem, preventDefaultNonInputs, suggestValue };\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"module"}