{"ast":null,"code":"import LinearGradient from '../gradients/linear-gradient';\nimport RadialGradient from '../gradients/radial-gradient';\nimport LinearGradientNode from './linear-gradient-node';\nimport RadialGradientNode from './radial-gradient-node';\nimport Node from './node';\nimport ClipNode from './clip-node';\n\nvar DefinitionNode = function (Node) {\n  function DefinitionNode() {\n    Node.call(this);\n    this.definitionMap = {};\n  }\n\n  if (Node) DefinitionNode.__proto__ = Node;\n  DefinitionNode.prototype = Object.create(Node && Node.prototype);\n  DefinitionNode.prototype.constructor = DefinitionNode;\n\n  DefinitionNode.prototype.attachTo = function attachTo(domElement) {\n    this.element = domElement;\n  };\n\n  DefinitionNode.prototype.template = function template() {\n    return \"<defs>\" + this.renderChildren() + \"</defs>\";\n  };\n\n  DefinitionNode.prototype.definitionChange = function definitionChange(e) {\n    var definitions = e.definitions;\n    var action = e.action;\n\n    if (action === \"add\") {\n      this.addDefinitions(definitions);\n    } else if (action === \"remove\") {\n      this.removeDefinitions(definitions);\n    }\n  };\n\n  DefinitionNode.prototype.createDefinition = function createDefinition(type, item) {\n    var nodeType;\n\n    if (type === \"clip\") {\n      nodeType = ClipNode;\n    } else if (type === \"fill\") {\n      if (item instanceof LinearGradient) {\n        nodeType = LinearGradientNode;\n      } else if (item instanceof RadialGradient) {\n        nodeType = RadialGradientNode;\n      }\n    }\n\n    return new nodeType(item);\n  };\n\n  DefinitionNode.prototype.addDefinitions = function addDefinitions(definitions) {\n    var this$1 = this;\n\n    for (var field in definitions) {\n      this$1.addDefinition(field, definitions[field]);\n    }\n  };\n\n  DefinitionNode.prototype.addDefinition = function addDefinition(type, srcElement) {\n    var ref = this;\n    var element = ref.element;\n    var definitionMap = ref.definitionMap;\n    var id = srcElement.id;\n    var mapItem = definitionMap[id];\n\n    if (!mapItem) {\n      var node = this.createDefinition(type, srcElement);\n      definitionMap[id] = {\n        element: node,\n        count: 1\n      };\n      this.append(node);\n\n      if (element) {\n        node.attachTo(this.element);\n      }\n    } else {\n      mapItem.count++;\n    }\n  };\n\n  DefinitionNode.prototype.removeDefinitions = function removeDefinitions(definitions) {\n    var this$1 = this;\n\n    for (var field in definitions) {\n      this$1.removeDefinition(definitions[field]);\n    }\n  };\n\n  DefinitionNode.prototype.removeDefinition = function removeDefinition(srcElement) {\n    var definitionMap = this.definitionMap;\n    var id = srcElement.id;\n    var mapItem = definitionMap[id];\n\n    if (mapItem) {\n      mapItem.count--;\n\n      if (mapItem.count === 0) {\n        this.remove(this.childNodes.indexOf(mapItem.element), 1);\n        delete definitionMap[id];\n      }\n    }\n  };\n\n  return DefinitionNode;\n}(Node);\n\nexport default DefinitionNode;","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/svg/definition-node.js"],"names":["LinearGradient","RadialGradient","LinearGradientNode","RadialGradientNode","Node","ClipNode","DefinitionNode","call","definitionMap","__proto__","prototype","Object","create","constructor","attachTo","domElement","element","template","renderChildren","definitionChange","e","definitions","action","addDefinitions","removeDefinitions","createDefinition","type","item","nodeType","this$1","field","addDefinition","srcElement","ref","id","mapItem","node","count","append","removeDefinition","remove","childNodes","indexOf"],"mappings":"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","sourcesContent":["import LinearGradient from '../gradients/linear-gradient';\nimport RadialGradient from '../gradients/radial-gradient';\nimport LinearGradientNode from './linear-gradient-node';\nimport RadialGradientNode from './radial-gradient-node';\nimport Node from './node';\nimport ClipNode from './clip-node';\n\nvar DefinitionNode = (function (Node) {\n    function DefinitionNode() {\n        Node.call(this);\n        this.definitionMap = {};\n    }\n\n    if ( Node ) DefinitionNode.__proto__ = Node;\n    DefinitionNode.prototype = Object.create( Node && Node.prototype );\n    DefinitionNode.prototype.constructor = DefinitionNode;\n\n    DefinitionNode.prototype.attachTo = function attachTo (domElement) {\n        this.element = domElement;\n    };\n\n    DefinitionNode.prototype.template = function template () {\n        return (\"<defs>\" + (this.renderChildren()) + \"</defs>\");\n    };\n\n    DefinitionNode.prototype.definitionChange = function definitionChange (e) {\n        var definitions = e.definitions;\n        var action = e.action;\n\n        if (action === \"add\") {\n            this.addDefinitions(definitions);\n        } else if (action === \"remove\") {\n            this.removeDefinitions(definitions);\n        }\n    };\n\n    DefinitionNode.prototype.createDefinition = function createDefinition (type, item) {\n        var nodeType;\n        if (type === \"clip\") {\n            nodeType = ClipNode;\n        } else if (type === \"fill\") {\n            if (item instanceof LinearGradient) {\n                nodeType = LinearGradientNode;\n            } else if (item instanceof RadialGradient) {\n                nodeType = RadialGradientNode;\n            }\n        }\n        return new nodeType(item);\n    };\n\n    DefinitionNode.prototype.addDefinitions = function addDefinitions (definitions) {\n        var this$1 = this;\n\n        for (var field in definitions) {\n            this$1.addDefinition(field, definitions[field]);\n        }\n    };\n\n    DefinitionNode.prototype.addDefinition = function addDefinition (type, srcElement) {\n        var ref = this;\n        var element = ref.element;\n        var definitionMap = ref.definitionMap;\n        var id = srcElement.id;\n        var mapItem = definitionMap[id];\n        if (!mapItem) {\n            var node = this.createDefinition(type, srcElement);\n            definitionMap[id] = {\n                element: node,\n                count: 1\n            };\n            this.append(node);\n            if (element) {\n                node.attachTo(this.element);\n            }\n        } else {\n            mapItem.count++;\n        }\n    };\n\n    DefinitionNode.prototype.removeDefinitions = function removeDefinitions (definitions) {\n        var this$1 = this;\n\n        for (var field in definitions) {\n            this$1.removeDefinition(definitions[field]);\n        }\n    };\n\n    DefinitionNode.prototype.removeDefinition = function removeDefinition (srcElement) {\n        var definitionMap = this.definitionMap;\n        var id = srcElement.id;\n        var mapItem = definitionMap[id];\n\n        if (mapItem) {\n            mapItem.count--;\n            if (mapItem.count === 0) {\n                this.remove(this.childNodes.indexOf(mapItem.element), 1);\n                delete definitionMap[id];\n            }\n        }\n    };\n\n    return DefinitionNode;\n}(Node));\n\nexport default DefinitionNode;"]},"metadata":{},"sourceType":"module"}