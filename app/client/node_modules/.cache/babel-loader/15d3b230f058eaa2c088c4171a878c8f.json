{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport ListFilter from '../common/ListFilter';\nimport ListDefaultItem from '../common/ListDefaultItem';\nimport List from '../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { isPresent, getItemValue, sameCharsOnly, shuffleData, matchText, areSame, preventDefaultNonInputs, getFocusedItem } from '../common/utils';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\n/**\n * Represents the [KendoReact DropDownList component]({% slug overview_dropdownlist %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    dropdownlist = null;\n *    render() {\n *       return (\n *          <div>\n *              <DropDownList\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.dropdownlist = component}\n *              />\n *              <button onClick={() => alert(this.dropdownlist.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar DropDownList =\n/** @class */\nfunction (_super) {\n  __extends(DropDownList, _super);\n\n  function DropDownList() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this.base = new DropDownBase(_this);\n    _this.searchState = {\n      word: '',\n      last: ''\n    };\n    _this._skipFocusEvent = false;\n    _this._filterInput = null;\n    _this._navigated = false;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this.base.wrapper) {\n        _this.base.wrapper.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          virtual = _a.virtual,\n          dataItemKey = _a.dataItemKey,\n          defaultItem = _a.defaultItem;\n      var skip = virtual ? virtual.skip : 0;\n      var item = index === -1 && defaultItem !== undefined ? defaultItem : data[index - skip];\n      var newSelected = !areSame(item, _this.value, dataItemKey);\n\n      _this.triggerOnChange(item, state);\n\n      if (newSelected) {\n        _this.base.triggerPageChangeCornerItems(item, state);\n      }\n    };\n\n    _this.renderDropDownWrapper = function () {\n      var _a = _this.props,\n          dataItemKey = _a.dataItemKey,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField,\n          disabled = _a.disabled,\n          tabIndex = _a.tabIndex,\n          loading = _a.loading,\n          iconClassName = _a.iconClassName,\n          _c = _a.virtual,\n          virtual = _c === void 0 ? {\n        skip: 0\n      } : _c,\n          valueRender = _a.valueRender;\n      var focused = _this.state.focused;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var value = _this.value;\n      var selectedIndex = data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n      var text = getItemValue(value, textField);\n      var valueDefaultRendering = React.createElement(\"span\", {\n        className: \"k-input\"\n      }, text);\n      var valueElement = valueRender !== undefined ? valueRender.call(undefined, valueDefaultRendering, value) : valueDefaultRendering;\n      return React.createElement(\"span\", {\n        ref: function (el) {\n          return _this.base.wrapper = el;\n        },\n        role: 'listbox',\n        tabIndex: disabled ? undefined : tabIndex,\n        accessKey: _this.props.accessKey,\n        className: classNames('k-dropdown-wrap', {\n          'k-state-default': !disabled,\n          'k-state-focused': focused,\n          'k-state-disabled': disabled\n        }),\n        style: _this.props.style,\n        onKeyDown: _this.handleKeyDown,\n        onKeyPress: _this.handleKeyPress,\n        onClick: disabled ? undefined : _this.handleWrapperClick,\n        \"aria-disabled\": disabled || undefined,\n        \"aria-haspopup\": true,\n        \"aria-expanded\": opened || false,\n        \"aria-owns\": _this.base.listBoxId,\n        \"aria-activedescendant\": 'option-' + _this.base.guid + '-' + (selectedIndex + virtual.skip),\n        \"aria-label\": _this.props.label,\n        \"aria-labelledby\": _this.props.ariaLabelledBy,\n        \"aria-describedby\": _this.props.ariaDescribedBy,\n        id: _this.props.id\n      }, valueElement, React.createElement(\"span\", {\n        className: \"k-select\"\n      }, React.createElement(\"span\", {\n        className: classNames('k-icon', iconClassName, {\n          'k-i-arrow-s': !loading && !iconClassName,\n          'k-i-loading': loading && !iconClassName\n        })\n      })), _this.dummySelect(value));\n    };\n\n    _this.dummySelect = function (value) {\n      /* Dummy component to support forms */\n      return React.createElement(\"select\", {\n        name: _this.props.name,\n        ref: function (el) {\n          _this._select = el;\n        },\n        tabIndex: -1,\n        \"aria-hidden\": true,\n        title: _this.props.label,\n        style: {\n          opacity: 0,\n          width: 1,\n          border: 0,\n          zIndex: -1,\n          position: 'absolute',\n          left: '50%'\n        }\n      }, React.createElement(\"option\", {\n        value: _this.props.valueMap ? _this.props.valueMap.call(undefined, value) : value\n      }));\n    };\n\n    _this.renderListContainer = function () {\n      var _a = _this.props,\n          header = _a.header,\n          footer = _a.footer,\n          dir = _a.dir;\n      var base = _this.base;\n      var popupSettings = base.getPopupSettings();\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var virtual = _this.props.virtual !== undefined;\n      var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n      var listContainerProps = {\n        onMouseDown: preventDefaultNonInputs,\n        dir: dir !== undefined ? dir : base.dirCalculated,\n        width: popupWidth,\n        popupSettings: {\n          className: classNames('k-list-container k-reset', popupSettings.className),\n          animate: popupSettings.animate,\n          anchor: _this.element || undefined,\n          show: opened,\n          open: _this.onPopupOpened,\n          close: _this.onPopupClosed,\n          appendTo: popupSettings.appendTo\n        }\n      };\n      return React.createElement(ListContainer, __assign({}, listContainerProps), _this.renderListFilter(), virtual && _this.renderDefaultItem(), virtual && header, _this.base.renderScrollWrapper(React.createElement(React.Fragment, null, !virtual && _this.renderDefaultItem(), !virtual && header, _this.renderList(), !virtual && footer, _this.base.renderScrollElement())), virtual && footer);\n    };\n\n    _this.renderList = function () {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField,\n          dataItemKey = _a.dataItemKey,\n          _c = _a.virtual,\n          virtual = _c === void 0 ? {\n        skip: 0\n      } : _c,\n          listNoDataRender = _a.listNoDataRender,\n          itemRender = _a.itemRender;\n      var vs = _this.base.vs;\n      var skip = virtual.skip;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var popupSettings = _this.base.getPopupSettings();\n\n      var translate = \"translateY(\" + vs.translate + \"px)\";\n      return React.createElement(List, {\n        id: _this.base.listBoxId,\n        show: opened,\n        data: data.slice(),\n        focusedIndex: _this.focusedIndex(),\n        value: _this.value,\n        textField: textField,\n        valueField: dataItemKey,\n        optionsGuid: _this.base.guid,\n        listRef: function (list) {\n          return vs.list = _this.base.list = list;\n        },\n        wrapperStyle: !vs.enabled ? {\n          maxHeight: popupSettings.height\n        } : {\n          float: 'left',\n          width: '100%'\n        },\n        wrapperCssClass: !vs.enabled ? 'k-list-scroller' : undefined,\n        listStyle: vs.enabled ? {\n          transform: translate\n        } : undefined,\n        key: \"listkey\",\n        skip: skip,\n        onClick: _this.handleItemClick,\n        itemRender: itemRender,\n        noDataRender: listNoDataRender\n      });\n    };\n\n    _this.renderListFilter = function () {\n      var filterText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      return _this.props.filterable && React.createElement(ListFilter, {\n        value: filterText,\n        ref: function (filter) {\n          return _this._filterInput = filter && filter.input;\n        },\n        onChange: _this.handleListFilterChange,\n        onKeyDown: _this.handleKeyDown\n      });\n    };\n\n    _this.renderDefaultItem = function () {\n      var _a = _this.props,\n          textField = _a.textField,\n          defaultItem = _a.defaultItem,\n          dataItemKey = _a.dataItemKey;\n      return defaultItem !== undefined && React.createElement(ListDefaultItem, {\n        defaultItem: defaultItem,\n        textField: textField,\n        selected: areSame(_this.value, defaultItem, dataItemKey),\n        key: \"defaultitemkey\",\n        onClick: _this.handleDefaultItemClick\n      });\n    };\n\n    _this.search = function (event) {\n      clearTimeout(_this._typingTimeout);\n\n      if (!_this.props.filterable) {\n        _this._typingTimeout = setTimeout(function () {\n          return _this.searchState.word = '';\n        }, _this.props.delay);\n\n        _this.selectNext(event);\n      }\n    };\n\n    _this.selectNext = function (event) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey;\n      var mappedData = data.map(function (item, idx) {\n        return {\n          item: item,\n          itemIndex: idx\n        };\n      });\n      var word = _this.searchState.word;\n      var last = _this.searchState.last;\n      var isInLoop = sameCharsOnly(word, last);\n      var dataLength = mappedData.length;\n      var startIndex = Math.max(0, data.findIndex(function (i) {\n        return areSame(i, _this.value, dataItemKey);\n      }));\n      var defaultItem;\n\n      if (_this.props.defaultItem) {\n        defaultItem = {\n          item: _this.props.defaultItem,\n          itemIndex: -1\n        };\n        dataLength += 1;\n        startIndex += 1;\n      }\n\n      startIndex += isInLoop ? 1 : 0;\n      mappedData = shuffleData(mappedData, startIndex, defaultItem);\n      var text,\n          loopMatch,\n          nextMatch,\n          index = 0;\n      var _c = _this.props,\n          textField = _c.textField,\n          ignoreCase = _c.ignoreCase;\n\n      for (; index < dataLength; index++) {\n        text = getItemValue(mappedData[index].item, textField);\n        loopMatch = isInLoop && matchText(text, last, ignoreCase);\n        nextMatch = matchText(text, word, ignoreCase);\n\n        if (loopMatch || nextMatch) {\n          index = mappedData[index].itemIndex;\n          break;\n        }\n      }\n\n      if (index !== dataLength) {\n        var state = _this.base.initState();\n\n        state.syntheticEvent = event;\n\n        _this.handleItemSelect(index, state);\n\n        _this.applyState(state);\n\n        _this._valueDuringOnChange = undefined;\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          filterable = _a.filterable,\n          disabled = _a.disabled,\n          _c = _a.virtual,\n          virtual = _c === void 0 ? {\n        skip: 0,\n        total: 0,\n        pageSize: 0\n      } : _c;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var keyCode = event.keyCode;\n      var homeOrEndKeys = keyCode === Keys.home || keyCode === Keys.end;\n      var upOrDownKeys = keyCode === Keys.up || keyCode === Keys.down;\n      var shouldOpen = !opened && (event.altKey && keyCode === Keys.down || keyCode === Keys.enter || keyCode === Keys.space);\n      var shouldClose = opened && (event.altKey && keyCode === Keys.up || keyCode === Keys.esc);\n      var leftOrRightKeys = keyCode === Keys.left || keyCode === Keys.right;\n      var shouldNavigate = upOrDownKeys || !filterable && (leftOrRightKeys || homeOrEndKeys);\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (disabled) {\n        return;\n      } else if (homeOrEndKeys && _this.base.vs.enabled) {\n        if (keyCode === Keys.home) {\n          if (virtual.skip !== 0) {\n            _this.base.triggerOnPageChange(state, 0, virtual.pageSize);\n\n            _this._navigated = true;\n          } else {\n            _this.triggerOnChange(data[0], state);\n          }\n        } else {\n          if (virtual.skip < virtual.total - virtual.pageSize) {\n            _this.base.triggerOnPageChange(state, virtual.total - virtual.pageSize, virtual.pageSize);\n\n            _this._navigated = true;\n          } else {\n            _this.triggerOnChange(data[data.length - 1], state);\n          }\n        }\n      } else if (opened && keyCode === Keys.enter) {\n        var focusedIndex = _this.focusedIndex();\n\n        if (focusedIndex !== undefined) {\n          _this.handleItemSelect(focusedIndex, state);\n        }\n\n        _this.base.togglePopup(state);\n\n        event.preventDefault();\n      } else if (shouldOpen || shouldClose) {\n        _this.base.togglePopup(state);\n\n        event.preventDefault();\n      } else if (shouldNavigate) {\n        _this.onNavigate(state, keyCode);\n\n        event.preventDefault();\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.handleItemClick = function (index, event) {\n      _this.base.handleItemClick(index, event);\n\n      _this._valueDuringOnChange = undefined;\n    };\n\n    _this.handleFocus = function (event) {\n      if (_this._skipFocusEvent) {\n        return;\n      }\n\n      _this.base.handleFocus(event);\n    };\n\n    _this.handleBlur = function (event) {\n      if (_this._skipFocusEvent || !_this.state.focused) {\n        return;\n      }\n\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      state.data.focused = false;\n      state.events.push({\n        type: 'onBlur'\n      });\n\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.handleDefaultItemClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      _this.base.togglePopup(state);\n\n      _this.triggerOnChange(_this.props.defaultItem, state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleWrapperClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (!_this.state.focused) {\n        state.data.focused = true;\n      }\n\n      _this.base.togglePopup(state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleKeyPress = function (event) {\n      if (_this.props.filterable || event.which === 0 || event.keyCode === Keys.enter) {\n        return;\n      }\n\n      var character = String.fromCharCode(event.charCode || event.keyCode);\n\n      if (_this.props.ignoreCase) {\n        character = character.toLowerCase();\n      }\n\n      if (character === ' ') {\n        event.preventDefault();\n      }\n\n      _this.searchState = {\n        word: _this.searchState.word + character,\n        last: _this.searchState.last + character\n      };\n\n      _this.search(event);\n    };\n\n    _this.handleListFilterChange = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (_this.props.filter === undefined) {\n        state.data.text = event.target.value;\n      }\n\n      _this.base.filterChanged(event.target.value, state);\n\n      _this.applyState(state);\n    };\n\n    _this.onPopupOpened = function () {\n      if (_this._filterInput) {\n        _this.focusElement(_this._filterInput);\n      }\n    };\n\n    _this.onPopupClosed = function () {\n      if (_this.state.focused) {\n        setTimeout(function () {\n          if (_this.state.focused && _this.base.wrapper) {\n            _this.focusElement(_this.base.wrapper);\n          }\n        });\n      }\n    };\n\n    _this.setValidity = function () {\n      if (_this._select && _this._select.setCustomValidity) {\n        _this._select.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(DropDownList.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownList.prototype, \"actionElement\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.base.wrapper;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownList.prototype, \"value\", {\n    /**\n     * The value of the DropDownList.\n     */\n    get: function () {\n      var value;\n\n      if (this._valueDuringOnChange !== undefined) {\n        value = this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        value = this.props.value;\n      } else if (this.state.value !== undefined) {\n        value = this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        value = this.props.defaultValue;\n      }\n\n      if (!isPresent(value) && this.props.defaultItem !== undefined) {\n        value = this.props.defaultItem;\n      }\n\n      return value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownList.prototype, \"index\", {\n    /**\n     * The index of the selected item.\n     */\n    get: function () {\n      var _a = this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey;\n      var value = this.value; // TO DO: deprecate it!\n\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownList.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the DropDownList.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownList.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the DropDownList is set.\n     */\n    get: function () {\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== null && this.value !== '' && this.value !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownList.prototype, \"validityStyles\", {\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : DropDownList.defaultProps.validityStyles;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownList.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : DropDownList.defaultProps.required;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  DropDownList.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        virtual = _a.virtual;\n    var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n    var closing = prevOpened && !opened;\n\n    if (!this.base.getPopupSettings().animate) {\n      if (opening) {\n        this.onPopupOpened();\n      } else if (closing) {// this.onPopupClosed();\n      }\n    }\n\n    if (virtual && virtual.total !== prevTotal) {\n      this.base.vs.calcScrollElementHeight();\n      this.base.vs.reset();\n    } else {\n      var selectedItem_1 = this.value;\n      var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n      var selectedItemIndex = data.findIndex(function (i) {\n        return areSame(i, selectedItem_1, dataItemKey);\n      });\n      var selectedItemChanged = !areSame(prevSelectedItem, selectedItem_1, dataItemKey);\n\n      if (opening && virtual) {\n        this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n      } else if (opening && !virtual) {\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && selectedItem_1 && selectedItemChanged && !this._navigated) {\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && this._navigated) {\n        if (this._navigated && virtual && virtual.skip === 0) {\n          this.base.vs.reset();\n        } else if (this._navigated && virtual && virtual.skip === virtual.total - virtual.pageSize) {\n          this.base.vs.scrollToEnd();\n        }\n      }\n    }\n\n    this._navigated = false;\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownList.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownList.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        style = _a.style,\n        className = _a.className,\n        label = _a.label,\n        dir = _a.dir,\n        virtual = _a.virtual;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var text = getItemValue(this.value, this.props.textField);\n    var isValid = !this.validityStyles || this.validity.valid;\n    var base = this.base;\n    var vs = base.vs;\n    vs.enabled = virtual !== undefined;\n\n    if (virtual !== undefined) {\n      base.vs.skip = virtual.skip;\n      base.vs.total = virtual.total;\n      base.vs.pageSize = virtual.pageSize;\n    }\n\n    var dropdownlist = React.createElement(\"span\", {\n      ref: function (dropdown) {\n        return _this._element = dropdown;\n      },\n      className: classNames('k-widget k-dropdown k-header', {\n        'k-state-invalid': !isValid\n      }, className),\n      style: !label ? style : __assign({}, style, {\n        width: undefined\n      }),\n      dir: dir,\n      onMouseDown: opened ? preventDefaultNonInputs : undefined,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur\n    }, this.renderDropDownWrapper(), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorValue: text,\n      editorValid: isValid,\n      editorDisabled: this.props.disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: dropdownlist\n    }) : dropdownlist;\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownList.prototype.onNavigate = function (state, keyCode) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        defaultItem = _a.defaultItem,\n        dataItemKey = _a.dataItemKey,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0,\n      total: 0,\n      pageSize: 0\n    } : _c;\n    var vs = this.base.vs;\n    var value = this.value;\n    var index = data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    });\n    var newIndex = this.base.navigation.navigate({\n      current: virtual.skip + index,\n      max: (vs.enabled ? virtual.total : data.length) - 1,\n      min: defaultItem !== undefined ? -1 : 0,\n      keyCode: keyCode\n    });\n\n    if (newIndex !== undefined) {\n      this.handleItemSelect(newIndex, state);\n    }\n\n    this.applyState(state);\n  };\n\n  DropDownList.prototype.focusedIndex = function () {\n    var filterText = isPresent(this.props.filter) ? this.props.filter : this.state.text;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c,\n        dataItemKey = _a.dataItemKey,\n        textField = _a.textField,\n        focusedItemIndex = _a.focusedItemIndex;\n    var value = this.value;\n    var selectedIndex = data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    });\n    var hasSelected = !(selectedIndex < 0 && !this.props.defaultItem);\n\n    if (!hasSelected && filterText && virtual.skip === 0) {\n      return focusedItemIndex ? focusedItemIndex(data, filterText, textField) : data.indexOf(getFocusedItem(data, filterText, textField));\n    } else {\n      return !hasSelected && virtual.skip === 0 ? 0 : undefined;\n    }\n  };\n\n  DropDownList.prototype.focusElement = function (element) {\n    var _this = this;\n\n    this._skipFocusEvent = true;\n    element.focus();\n    setTimeout(function () {\n      return _this._skipFocusEvent = false;\n    }, 30);\n  };\n\n  DropDownList.prototype.triggerOnChange = function (item, state) {\n    if (areSame(this.value, item, this.props.dataItemKey)) {\n      return;\n    }\n\n    if (this.props.value === undefined) {\n      state.data.value = item;\n    }\n\n    this._valueDuringOnChange = item;\n    state.events.push({\n      type: 'onChange'\n    });\n  };\n\n  DropDownList.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueDuringOnChange = undefined;\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownList.propTypes = __assign({\n    delay: PropTypes.number,\n    ignoreCase: PropTypes.bool,\n    iconClassName: PropTypes.string,\n    defaultItem: PropTypes.any,\n    valueRender: PropTypes.func,\n    valueMap: PropTypes.func,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n  }, DropDownBase.propTypes);\n  /**\n   * @hidden\n   */\n\n  DropDownList.defaultProps = __assign({\n    delay: 500,\n    tabIndex: 0,\n    ignoreCase: true\n  }, DropDownBase.defaultProps, {\n    required: false\n  });\n  return DropDownList;\n}(React.Component);\n\nexport default DropDownList;","map":{"version":3,"sources":["../../../src/DropDownList/DropDownList.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport ListFilter from '../common/ListFilter';\nimport ListDefaultItem from '../common/ListDefaultItem';\nimport List from '../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { isPresent, getItemValue, sameCharsOnly, shuffleData, matchText, areSame, preventDefaultNonInputs, getFocusedItem } from '../common/utils';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\n/**\n * Represents the [KendoReact DropDownList component]({% slug overview_dropdownlist %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    dropdownlist = null;\n *    render() {\n *       return (\n *          <div>\n *              <DropDownList\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.dropdownlist = component}\n *              />\n *              <button onClick={() => alert(this.dropdownlist.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    function DropDownList() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this.searchState = { word: '', last: '' };\n        _this._skipFocusEvent = false;\n        _this._filterInput = null;\n        _this._navigated = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.base.wrapper) {\n                _this.base.wrapper.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual, dataItemKey = _a.dataItemKey, defaultItem = _a.defaultItem;\n            var skip = virtual ? virtual.skip : 0;\n            var item = (index === -1 && defaultItem !== undefined) ?\n                defaultItem : data[index - skip];\n            var newSelected = !areSame(item, _this.value, dataItemKey);\n            _this.triggerOnChange(item, state);\n            if (newSelected) {\n                _this.base.triggerPageChangeCornerItems(item, state);\n            }\n        };\n        _this.renderDropDownWrapper = function () {\n            var _a = _this.props, dataItemKey = _a.dataItemKey, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, disabled = _a.disabled, tabIndex = _a.tabIndex, loading = _a.loading, iconClassName = _a.iconClassName, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, valueRender = _a.valueRender;\n            var focused = _this.state.focused;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var value = _this.value;\n            var selectedIndex = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n            var text = getItemValue(value, textField);\n            var valueDefaultRendering = (React.createElement(\"span\", { className: \"k-input\" }, text));\n            var valueElement = valueRender !== undefined ?\n                valueRender.call(undefined, valueDefaultRendering, value) : valueDefaultRendering;\n            return (React.createElement(\"span\", { ref: function (el) { return _this.base.wrapper = el; }, role: 'listbox', tabIndex: disabled ? undefined : tabIndex, accessKey: _this.props.accessKey, className: classNames('k-dropdown-wrap', {\n                    'k-state-default': !disabled,\n                    'k-state-focused': focused,\n                    'k-state-disabled': disabled\n                }), style: _this.props.style, onKeyDown: _this.handleKeyDown, onKeyPress: _this.handleKeyPress, onClick: disabled ? undefined : _this.handleWrapperClick, \"aria-disabled\": disabled || undefined, \"aria-haspopup\": true, \"aria-expanded\": opened || false, \"aria-owns\": _this.base.listBoxId, \"aria-activedescendant\": 'option-' + _this.base.guid + '-' + (selectedIndex + virtual.skip), \"aria-label\": _this.props.label, \"aria-labelledby\": _this.props.ariaLabelledBy, \"aria-describedby\": _this.props.ariaDescribedBy, id: _this.props.id },\n                valueElement,\n                React.createElement(\"span\", { className: \"k-select\" },\n                    React.createElement(\"span\", { className: classNames('k-icon', iconClassName, {\n                            'k-i-arrow-s': !loading && !iconClassName,\n                            'k-i-loading': loading && !iconClassName\n                        }) })),\n                _this.dummySelect(value)));\n        };\n        _this.dummySelect = function (value) {\n            /* Dummy component to support forms */\n            return (React.createElement(\"select\", { name: _this.props.name, ref: function (el) { _this._select = el; }, tabIndex: -1, \"aria-hidden\": true, title: _this.props.label, style: { opacity: 0, width: 1, border: 0, zIndex: -1, position: 'absolute', left: '50%' } },\n                React.createElement(\"option\", { value: _this.props.valueMap ? _this.props.valueMap.call(undefined, value) : value })));\n        };\n        _this.renderListContainer = function () {\n            var _a = _this.props, header = _a.header, footer = _a.footer, dir = _a.dir;\n            var base = _this.base;\n            var popupSettings = base.getPopupSettings();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var virtual = _this.props.virtual !== undefined;\n            var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n            var listContainerProps = {\n                onMouseDown: preventDefaultNonInputs,\n                dir: dir !== undefined ? dir : base.dirCalculated,\n                width: popupWidth,\n                popupSettings: {\n                    className: classNames('k-list-container k-reset', popupSettings.className),\n                    animate: popupSettings.animate,\n                    anchor: _this.element || undefined,\n                    show: opened,\n                    open: _this.onPopupOpened,\n                    close: _this.onPopupClosed,\n                    appendTo: popupSettings.appendTo\n                }\n            };\n            return (React.createElement(ListContainer, __assign({}, listContainerProps),\n                _this.renderListFilter(),\n                virtual && _this.renderDefaultItem(),\n                virtual && header,\n                _this.base.renderScrollWrapper(React.createElement(React.Fragment, null,\n                    !virtual && _this.renderDefaultItem(),\n                    !virtual && header,\n                    _this.renderList(),\n                    !virtual && footer,\n                    _this.base.renderScrollElement())),\n                virtual && footer));\n        };\n        _this.renderList = function () {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender;\n            var vs = _this.base.vs;\n            var skip = virtual.skip;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var popupSettings = _this.base.getPopupSettings();\n            var translate = \"translateY(\" + vs.translate + \"px)\";\n            return (React.createElement(List, { id: _this.base.listBoxId, show: opened, data: data.slice(), focusedIndex: _this.focusedIndex(), value: _this.value, textField: textField, valueField: dataItemKey, optionsGuid: _this.base.guid, listRef: function (list) { return vs.list = _this.base.list = list; }, wrapperStyle: !vs.enabled ?\n                    { maxHeight: popupSettings.height } : { float: 'left', width: '100%' }, wrapperCssClass: !vs.enabled ? 'k-list-scroller' : undefined, listStyle: vs.enabled ?\n                    { transform: translate } : undefined, key: \"listkey\", skip: skip, onClick: _this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender }));\n        };\n        _this.renderListFilter = function () {\n            var filterText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            return _this.props.filterable && (React.createElement(ListFilter, { value: filterText, ref: function (filter) { return _this._filterInput = filter && filter.input; }, onChange: _this.handleListFilterChange, onKeyDown: _this.handleKeyDown }));\n        };\n        _this.renderDefaultItem = function () {\n            var _a = _this.props, textField = _a.textField, defaultItem = _a.defaultItem, dataItemKey = _a.dataItemKey;\n            return defaultItem !== undefined && (React.createElement(ListDefaultItem, { defaultItem: defaultItem, textField: textField, selected: areSame(_this.value, defaultItem, dataItemKey), key: \"defaultitemkey\", onClick: _this.handleDefaultItemClick }));\n        };\n        _this.search = function (event) {\n            clearTimeout(_this._typingTimeout);\n            if (!_this.props.filterable) {\n                _this._typingTimeout = setTimeout(function () { return _this.searchState.word = ''; }, _this.props.delay);\n                _this.selectNext(event);\n            }\n        };\n        _this.selectNext = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var mappedData = data.map(function (item, idx) {\n                return { item: item, itemIndex: idx };\n            });\n            var word = _this.searchState.word;\n            var last = _this.searchState.last;\n            var isInLoop = sameCharsOnly(word, last);\n            var dataLength = mappedData.length;\n            var startIndex = Math.max(0, data.findIndex(function (i) { return areSame(i, _this.value, dataItemKey); }));\n            var defaultItem;\n            if (_this.props.defaultItem) {\n                defaultItem = { item: _this.props.defaultItem, itemIndex: -1 };\n                dataLength += 1;\n                startIndex += 1;\n            }\n            startIndex += isInLoop ? 1 : 0;\n            mappedData = shuffleData(mappedData, startIndex, defaultItem);\n            var text, loopMatch, nextMatch, index = 0;\n            var _c = _this.props, textField = _c.textField, ignoreCase = _c.ignoreCase;\n            for (; index < dataLength; index++) {\n                text = getItemValue(mappedData[index].item, textField);\n                loopMatch = isInLoop && matchText(text, last, ignoreCase);\n                nextMatch = matchText(text, word, ignoreCase);\n                if (loopMatch || nextMatch) {\n                    index = mappedData[index].itemIndex;\n                    break;\n                }\n            }\n            if (index !== dataLength) {\n                var state = _this.base.initState();\n                state.syntheticEvent = event;\n                _this.handleItemSelect(index, state);\n                _this.applyState(state);\n                _this._valueDuringOnChange = undefined;\n            }\n        };\n        _this.handleKeyDown = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, filterable = _a.filterable, disabled = _a.disabled, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0, total: 0, pageSize: 0 } : _c;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var keyCode = event.keyCode;\n            var homeOrEndKeys = keyCode === Keys.home || keyCode === Keys.end;\n            var upOrDownKeys = keyCode === Keys.up || keyCode === Keys.down;\n            var shouldOpen = !opened &&\n                ((event.altKey && keyCode === Keys.down) || keyCode === Keys.enter || keyCode === Keys.space);\n            var shouldClose = opened && ((event.altKey && keyCode === Keys.up) || keyCode === Keys.esc);\n            var leftOrRightKeys = keyCode === Keys.left || keyCode === Keys.right;\n            var shouldNavigate = upOrDownKeys || (!filterable && (leftOrRightKeys || homeOrEndKeys));\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (disabled) {\n                return;\n            }\n            else if (homeOrEndKeys && _this.base.vs.enabled) {\n                if (keyCode === Keys.home) {\n                    if (virtual.skip !== 0) {\n                        _this.base.triggerOnPageChange(state, 0, virtual.pageSize);\n                        _this._navigated = true;\n                    }\n                    else {\n                        _this.triggerOnChange(data[0], state);\n                    }\n                }\n                else {\n                    if (virtual.skip < virtual.total - virtual.pageSize) {\n                        _this.base.triggerOnPageChange(state, virtual.total - virtual.pageSize, virtual.pageSize);\n                        _this._navigated = true;\n                    }\n                    else {\n                        _this.triggerOnChange(data[data.length - 1], state);\n                    }\n                }\n            }\n            else if (opened && keyCode === Keys.enter) {\n                var focusedIndex = _this.focusedIndex();\n                if (focusedIndex !== undefined) {\n                    _this.handleItemSelect(focusedIndex, state);\n                }\n                _this.base.togglePopup(state);\n                event.preventDefault();\n            }\n            else if (shouldOpen || shouldClose) {\n                _this.base.togglePopup(state);\n                event.preventDefault();\n            }\n            else if (shouldNavigate) {\n                _this.onNavigate(state, keyCode);\n                event.preventDefault();\n            }\n            _this.applyState(state);\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.handleFocus = function (event) {\n            if (_this._skipFocusEvent) {\n                return;\n            }\n            _this.base.handleFocus(event);\n        };\n        _this.handleBlur = function (event) {\n            if (_this._skipFocusEvent || !_this.state.focused) {\n                return;\n            }\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            state.data.focused = false;\n            state.events.push({ type: 'onBlur' });\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.handleDefaultItemClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.base.togglePopup(state);\n            _this.triggerOnChange(_this.props.defaultItem, state);\n            _this.applyState(state);\n        };\n        _this.handleWrapperClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!_this.state.focused) {\n                state.data.focused = true;\n            }\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleKeyPress = function (event) {\n            if (_this.props.filterable || event.which === 0 || event.keyCode === Keys.enter) {\n                return;\n            }\n            var character = String.fromCharCode(event.charCode || event.keyCode);\n            if (_this.props.ignoreCase) {\n                character = character.toLowerCase();\n            }\n            if (character === ' ') {\n                event.preventDefault();\n            }\n            _this.searchState = {\n                word: _this.searchState.word + character,\n                last: _this.searchState.last + character\n            };\n            _this.search(event);\n        };\n        _this.handleListFilterChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (_this.props.filter === undefined) {\n                state.data.text = event.target.value;\n            }\n            _this.base.filterChanged(event.target.value, state);\n            _this.applyState(state);\n        };\n        _this.onPopupOpened = function () {\n            if (_this._filterInput) {\n                _this.focusElement(_this._filterInput);\n            }\n        };\n        _this.onPopupClosed = function () {\n            if (_this.state.focused) {\n                setTimeout(function () {\n                    if (_this.state.focused && _this.base.wrapper) {\n                        _this.focusElement(_this.base.wrapper);\n                    }\n                });\n            }\n        };\n        _this.setValidity = function () {\n            if (_this._select && _this._select.setCustomValidity) {\n                _this._select.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(DropDownList.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"actionElement\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.base.wrapper;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"value\", {\n        /**\n         * The value of the DropDownList.\n         */\n        get: function () {\n            var value;\n            if (this._valueDuringOnChange !== undefined) {\n                value = this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                value = this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                value = this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                value = this.props.defaultValue;\n            }\n            if (!isPresent(value) && this.props.defaultItem !== undefined) {\n                value = this.props.defaultItem;\n            }\n            return value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"index\", {\n        /**\n         * The index of the selected item.\n         */\n        get: function () {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var value = this.value;\n            // TO DO: deprecate it!\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the DropDownList.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the DropDownList is set.\n         */\n        get: function () {\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value !== '' && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : DropDownList.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownList.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : DropDownList.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DropDownList.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var closing = prevOpened && !opened;\n        if (!this.base.getPopupSettings().animate) {\n            if (opening) {\n                this.onPopupOpened();\n            }\n            else if (closing) {\n                // this.onPopupClosed();\n            }\n        }\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var selectedItem_1 = this.value;\n            var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n            var selectedItemIndex = data.findIndex(function (i) { return areSame(i, selectedItem_1, dataItemKey); });\n            var selectedItemChanged = !areSame(prevSelectedItem, selectedItem_1, dataItemKey);\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && selectedItem_1 && selectedItemChanged && !this._navigated) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && this._navigated) {\n                if (this._navigated && virtual && virtual.skip === 0) {\n                    this.base.vs.reset();\n                }\n                else if (this._navigated && virtual && virtual.skip === virtual.total - virtual.pageSize) {\n                    this.base.vs.scrollToEnd();\n                }\n            }\n        }\n        this._navigated = false;\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DropDownList.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DropDownList.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, style = _a.style, className = _a.className, label = _a.label, dir = _a.dir, virtual = _a.virtual;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var text = getItemValue(this.value, this.props.textField);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var base = this.base;\n        var vs = base.vs;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            base.vs.skip = virtual.skip;\n            base.vs.total = virtual.total;\n            base.vs.pageSize = virtual.pageSize;\n        }\n        var dropdownlist = (React.createElement(\"span\", { ref: function (dropdown) { return _this._element = dropdown; }, className: classNames('k-widget k-dropdown k-header', {\n                'k-state-invalid': !isValid\n            }, className), style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir, onMouseDown: opened ? preventDefaultNonInputs : undefined, onFocus: this.handleFocus, onBlur: this.handleBlur },\n            this.renderDropDownWrapper(),\n            this.renderListContainer()));\n        return label ? (React.createElement(FloatingLabel, { label: label, editorValue: text, editorValid: isValid, editorDisabled: this.props.disabled, style: { width: style ? style.width : undefined }, children: dropdownlist })) : dropdownlist;\n    };\n    /**\n     * @hidden\n     */\n    DropDownList.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, defaultItem = _a.defaultItem, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0, total: 0, pageSize: 0 } : _c;\n        var vs = this.base.vs;\n        var value = this.value;\n        var index = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var newIndex = this.base.navigation.navigate({\n            current: virtual.skip + index,\n            max: (vs.enabled ? virtual.total : data.length) - 1,\n            min: defaultItem !== undefined ? -1 : 0,\n            keyCode: keyCode\n        });\n        if (newIndex !== undefined) {\n            this.handleItemSelect(newIndex, state);\n        }\n        this.applyState(state);\n    };\n    DropDownList.prototype.focusedIndex = function () {\n        var filterText = isPresent(this.props.filter) ? this.props.filter : this.state.text;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, dataItemKey = _a.dataItemKey, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var value = this.value;\n        var selectedIndex = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var hasSelected = !(selectedIndex < 0 && !this.props.defaultItem);\n        if (!hasSelected && filterText && virtual.skip === 0) {\n            return focusedItemIndex ? focusedItemIndex(data, filterText, textField) :\n                data.indexOf(getFocusedItem(data, filterText, textField));\n        }\n        else {\n            return !hasSelected && virtual.skip === 0 ? 0 : undefined;\n        }\n    };\n    DropDownList.prototype.focusElement = function (element) {\n        var _this = this;\n        this._skipFocusEvent = true;\n        element.focus();\n        setTimeout(function () { return _this._skipFocusEvent = false; }, 30);\n    };\n    DropDownList.prototype.triggerOnChange = function (item, state) {\n        if (areSame(this.value, item, this.props.dataItemKey)) {\n            return;\n        }\n        if (this.props.value === undefined) {\n            state.data.value = item;\n        }\n        this._valueDuringOnChange = item;\n        state.events.push({ type: 'onChange' });\n    };\n    DropDownList.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    /**\n     * @hidden\n     */\n    DropDownList.propTypes = __assign({ delay: PropTypes.number, ignoreCase: PropTypes.bool, iconClassName: PropTypes.string, defaultItem: PropTypes.any, valueRender: PropTypes.func, valueMap: PropTypes.func, validationMessage: PropTypes.string, required: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string }, DropDownBase.propTypes);\n    /**\n     * @hidden\n     */\n    DropDownList.defaultProps = __assign({ delay: 500, tabIndex: 0, ignoreCase: true }, DropDownBase.defaultProps, { required: false });\n    return DropDownList;\n}(React.Component));\nexport default DropDownList;\n//# sourceMappingURL=DropDownList.js.map"]},"metadata":{},"sourceType":"module"}