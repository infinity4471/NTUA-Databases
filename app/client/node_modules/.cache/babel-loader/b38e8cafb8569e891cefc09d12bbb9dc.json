{"ast":null,"code":"/**\n * Bundle of @devexpress/dx-core\n * Generated: 2020-05-14\n * Version: 2.6.3\n * License: https://js.devexpress.com/Licensing\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n}\n\nvar DELAY = 200;\n\nvar compare = function (a, b) {\n  var aPosition = a.position();\n  var bPosition = b.position();\n\n  for (var i = 0; i < Math.min(aPosition.length, bPosition.length); i += 1) {\n    if (aPosition[i] < bPosition[i]) return -1;\n    if (aPosition[i] > bPosition[i]) return 1;\n  }\n\n  return aPosition.length - bPosition.length;\n};\n/** @internal */\n\n\nvar insertPlugin = function (array, newItem) {\n  var result = array.slice();\n  var nextItemIndex = array.findIndex(function (item) {\n    return compare(newItem, item) <= 0;\n  });\n  var targetIndex = nextItemIndex < 0 ? array.length : nextItemIndex;\n  var alreadyExists = targetIndex >= 0 && targetIndex < array.length && compare(newItem, array[targetIndex]) === 0;\n  result.splice(targetIndex, alreadyExists ? 1 : 0, newItem);\n  return result;\n};\n/** @internal */\n\n\nvar removePlugin = function (array, item) {\n  var itemIndex = array.indexOf(item);\n  return itemIndex >= 0 ? __spread(array.slice(0, itemIndex), array.slice(itemIndex + 1)) : array;\n};\n/** @internal */\n\n\nvar createClickHandlers = function (click, dblClick) {\n  var timeoutId;\n  var events = {};\n\n  if (click) {\n    events.onClick = function (e) {\n      if (!timeoutId) {\n        timeoutId = setTimeout(function () {\n          clearTimeout(timeoutId);\n          click(e);\n        }, DELAY);\n      }\n    };\n  }\n\n  if (dblClick) {\n    events.onDoubleClick = function (e) {\n      clearTimeout(timeoutId);\n      dblClick(e);\n    };\n  }\n\n  return events;\n};\n/** @internal */\n\n\nvar slice = function (arr) {\n  return Array.prototype.slice.call(arr);\n}; // slice can be renamed to copy as well\n\n\nvar getDependencyError = function (pluginName, dependencyName) {\n  return new Error(\"The '\" + pluginName + \"' plugin requires '\" + dependencyName + \"' to be defined before it.\");\n};\n/** @internal */\n\n\nvar PluginHost = /*#__PURE__*/function () {\n  function PluginHost() {\n    this.gettersCache = {};\n    this.knownKeysCache = {};\n    this.validationRequired = true;\n    this.plugins = [];\n    this.subscriptions = new Set();\n  }\n\n  PluginHost.prototype.ensureDependencies = function () {\n    var defined = new Set();\n    var knownOptionals = new Map();\n    this.plugins.filter(function (plugin) {\n      return plugin.container;\n    }).forEach(function (plugin) {\n      var pluginName = plugin.name || '';\n\n      if (knownOptionals.has(pluginName)) {\n        throw getDependencyError(knownOptionals.get(pluginName), pluginName);\n      }\n\n      (plugin.dependencies || []).forEach(function (dependency) {\n        if (defined.has(dependency.name)) return;\n\n        if (dependency.optional) {\n          if (!knownOptionals.has(dependency.name)) {\n            knownOptionals.set(dependency.name, pluginName);\n          }\n\n          return;\n        }\n\n        throw getDependencyError(pluginName, dependency.name);\n      });\n      defined.add(pluginName);\n    });\n  };\n\n  PluginHost.prototype.registerPlugin = function (plugin) {\n    this.plugins = insertPlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  };\n\n  PluginHost.prototype.unregisterPlugin = function (plugin) {\n    this.plugins = removePlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  };\n\n  PluginHost.prototype.knownKeys = function (postfix) {\n    if (!this.knownKeysCache[postfix]) {\n      this.knownKeysCache[postfix] = Array.from(this.plugins.map(function (plugin) {\n        return Object.keys(plugin);\n      }).map(function (keys) {\n        return keys.filter(function (key) {\n          return key.endsWith(postfix);\n        })[0];\n      }).filter(function (key) {\n        return !!key;\n      }).reduce(function (acc, key) {\n        return acc.add(key);\n      }, new Set())).map(function (key) {\n        return key.replace(postfix, '');\n      });\n    }\n\n    return this.knownKeysCache[postfix];\n  };\n\n  PluginHost.prototype.collect = function (key, upTo) {\n    var _this = this;\n\n    if (this.validationRequired) {\n      this.ensureDependencies();\n      this.validationRequired = false;\n    }\n\n    if (!this.gettersCache[key]) {\n      this.gettersCache[key] = this.plugins.map(function (plugin) {\n        return plugin[key];\n      }).filter(function (plugin) {\n        return !!plugin;\n      });\n    }\n\n    if (!upTo) return this.gettersCache[key];\n    var upToIndex = this.plugins.indexOf(upTo);\n    return this.gettersCache[key].filter(function (getter) {\n      var pluginIndex = _this.plugins.findIndex(function (plugin) {\n        return plugin[key] === getter;\n      });\n\n      return pluginIndex < upToIndex;\n    });\n  };\n\n  PluginHost.prototype.get = function (key, upTo) {\n    var plugins = this.collect(key, upTo);\n    if (!plugins.length) return undefined;\n    var result = plugins[0]();\n    plugins.slice(1).forEach(function (plugin) {\n      result = plugin(result);\n    });\n    return result;\n  };\n\n  PluginHost.prototype.registerSubscription = function (subscription) {\n    this.subscriptions.add(subscription);\n  };\n\n  PluginHost.prototype.unregisterSubscription = function (subscription) {\n    this.subscriptions.delete(subscription);\n  };\n\n  PluginHost.prototype.broadcast = function (event, message) {\n    this.subscriptions.forEach(function (subscription) {\n      return subscription[event] && subscription[event](message);\n    });\n  };\n\n  PluginHost.prototype.cleanPluginsCache = function () {\n    this.validationRequired = true;\n    this.gettersCache = {};\n    this.knownKeysCache = {};\n  };\n\n  return PluginHost;\n}();\n/** @internal */\n\n\nvar EventEmitter = /*#__PURE__*/function () {\n  function EventEmitter() {\n    this.handlers = [];\n  }\n\n  EventEmitter.prototype.emit = function (e) {\n    this.handlers.forEach(function (handler) {\n      return handler(e);\n    });\n  };\n\n  EventEmitter.prototype.subscribe = function (handler) {\n    this.handlers.push(handler);\n  };\n\n  EventEmitter.prototype.unsubscribe = function (handler) {\n    this.handlers.splice(this.handlers.indexOf(handler), 1);\n  };\n\n  return EventEmitter;\n}();\n/** @internal */\n\n\nvar shallowEqual = function (objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  } // Test for A's keys different from B.\n\n\n  var hasOwn = Object.prototype.hasOwnProperty; // tslint:disable-next-line: prefer-for-of\n\n  for (var i = 0; i < keysA.length; i += 1) {\n    if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n\n    var valA = objA[keysA[i]];\n    var valB = objB[keysA[i]];\n\n    if (valA !== valB) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/** @internal */\n\n\nvar argumentsShallowEqual = function (prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  for (var i = 0; i < prev.length; i += 1) {\n    if (prev[i] !== next[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/** @internal */\n\n\nvar memoize = function (func) {\n  var lastArgs = null;\n  var lastResult = null;\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (lastArgs === null || !argumentsShallowEqual(lastArgs, args)) {\n      lastResult = func.apply(void 0, __spread(args));\n    }\n\n    lastArgs = args;\n    return lastResult;\n  };\n};\n/** @internal */\n\n\nvar easeInQuad = function (t) {\n  return t * t;\n};\n/** @internal */\n\n\nvar easeOutQuad = function (t) {\n  return t * (2 - t);\n};\n/** @internal */\n\n\nvar easeInOutQuad = function (t) {\n  return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n};\n/** @internal */\n\n\nvar easeInCubic = function (t) {\n  return t * t * t;\n};\n/** @internal */\n\n\nvar easeOutCubic = function (t) {\n  return (t - 1) * (t - 1) * (t - 1) + 1;\n};\n/** @internal */\n\n\nvar easeInOutCubic = function (t) {\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n};\n/** @internal */\n\n\nvar easeInQuart = function (t) {\n  return t * t * t * t;\n};\n/** @internal */\n\n\nvar easeOutQuart = function (t) {\n  return 1 - (t - 1) * (t - 1) * (t - 1) * (t - 1);\n};\n/** @internal */\n\n\nvar easeInOutQuart = function (t) {\n  return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (t - 1) * (t - 1) * (t - 1) * (t - 1);\n};\n/** @internal */\n\n\nvar easeInQuint = function (t) {\n  return t * t * t * t * t;\n};\n/** @internal */\n\n\nvar easeOutQuint = function (t) {\n  return 1 + (t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1);\n};\n/** @internal */\n\n\nvar easeInOutQuint = function (t) {\n  return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1);\n};\n\nvar processPattern = function (pattern, params) {\n  return Object.keys(params).reduce(function (msg, key) {\n    return msg.replace(\"{\" + key + \"}\", params[key]);\n  }, pattern);\n};\n/** @internal */\n\n\nvar getMessagesFormatter = function (messages) {\n  return function (key, params) {\n    var message = messages[key];\n\n    if (typeof message === 'function') {\n      return message(params);\n    }\n\n    if (params) {\n      return processPattern(message, params);\n    }\n\n    return message;\n  };\n};\n\nexport { EventEmitter, PluginHost, argumentsShallowEqual, createClickHandlers, easeInCubic, easeInOutCubic, easeInOutQuad, easeInOutQuart, easeInOutQuint, easeInQuad, easeInQuart, easeInQuint, easeOutCubic, easeOutQuad, easeOutQuart, easeOutQuint, getMessagesFormatter, memoize, shallowEqual, slice };","map":{"version":3,"sources":["../src/utils.ts","../src/plugin-host.ts","../src/event-emitter.ts","../src/shallow-equal.ts","../src/memoize.ts","../src/easings.ts","../src/messages-formatter.ts"],"names":[],"mappings":"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","sourcesContent":["const DELAY = 200;\n\nconst compare = (a, b) => {\n  const aPosition = a.position();\n  const bPosition = b.position();\n  for (let i = 0; i < Math.min(aPosition.length, bPosition.length); i += 1) {\n    if (aPosition[i] < bPosition[i]) return -1;\n    if (aPosition[i] > bPosition[i]) return 1;\n  }\n  return aPosition.length - bPosition.length;\n};\n\n/** @internal */\nexport const insertPlugin = (array, newItem) => {\n  const result = array.slice();\n  const nextItemIndex = array.findIndex(item => compare(newItem, item) <= 0);\n  const targetIndex = nextItemIndex < 0 ? array.length : nextItemIndex;\n  const alreadyExists = (targetIndex >= 0 && targetIndex < array.length)\n    && compare(newItem, array[targetIndex]) === 0;\n  result.splice(targetIndex, alreadyExists ? 1 : 0, newItem);\n  return result;\n};\n\n/** @internal */\nexport const removePlugin = (array, item) => {\n  const itemIndex = array.indexOf(item);\n  return itemIndex >= 0 ? [...array.slice(0, itemIndex), ...array.slice(itemIndex + 1)] : array;\n};\n\n/** @internal */\nexport const createClickHandlers = (click?, dblClick?) => {\n  let timeoutId;\n  const events: any = {};\n  if (click) {\n    events.onClick = (e) => {\n      if (!timeoutId) {\n        timeoutId = setTimeout(() => {\n          clearTimeout(timeoutId);\n          click(e);\n        }, DELAY);\n      }\n    };\n  }\n  if (dblClick) {\n    events.onDoubleClick = (e) => {\n      clearTimeout(timeoutId);\n      dblClick(e);\n    };\n  }\n  return events;\n};\n\n/** @internal */\nexport const slice = arr => Array.prototype.slice.call(arr); // slice can be renamed to copy as well\n","import { insertPlugin, removePlugin } from './utils';\nimport { Getters } from '@devexpress/dx-react-core';\n\nconst getDependencyError = (\n  pluginName, dependencyName,\n  ) => new Error(\n    `The '${pluginName}' plugin requires '${dependencyName}' to be defined before it.`,\n  );\n\n/** @internal */\nexport type PluginPositionFn = () => number[];\n\nexport interface IDependency { name: string; optional?: boolean; }\n\n/** @internal */\nexport type InnerPlugin = {\n  position: PluginPositionFn;\n  name?: string;\n  dependencies?: IDependency[];\n} & Getters;\n\n/** @internal */\nexport class PluginHost {\n  private plugins: InnerPlugin[];\n  private subscriptions: Set<any>;\n  private gettersCache: object = {};\n  private knownKeysCache: object = {};\n  private validationRequired: boolean = true;\n\n  constructor() {\n    this.plugins = [];\n    this.subscriptions = new Set();\n  }\n\n  ensureDependencies() {\n    const defined: Set<string> = new Set();\n    const knownOptionals: Map<string, string> = new Map();\n    this.plugins\n      .filter(plugin => plugin.container)\n      .forEach((plugin) => {\n        const pluginName = plugin.name || '';\n        if (knownOptionals.has(pluginName)) {\n          throw (getDependencyError(knownOptionals.get(pluginName), pluginName));\n        }\n\n        (plugin.dependencies || [])\n          .forEach((dependency) => {\n            if (defined.has(dependency.name)) return;\n            if (dependency.optional) {\n              if (!knownOptionals.has(dependency.name)) {\n                knownOptionals.set(dependency.name, pluginName);\n              }\n              return;\n            }\n            throw (getDependencyError(pluginName, dependency.name));\n          });\n\n        defined.add(pluginName);\n      });\n  }\n\n  registerPlugin(plugin) {\n    this.plugins = insertPlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  }\n\n  unregisterPlugin(plugin) {\n    this.plugins = removePlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  }\n\n  knownKeys(postfix) {\n    if (!this.knownKeysCache[postfix]) {\n      this.knownKeysCache[postfix] = Array.from(this.plugins\n        .map(plugin => Object.keys(plugin))\n        .map(keys => keys.filter(key => key.endsWith(postfix))[0])\n        .filter(key => !!key)\n        .reduce((acc, key) => acc.add(key), new Set<string>()))\n        .map(key => key.replace(postfix, ''));\n    }\n    return this.knownKeysCache[postfix];\n  }\n\n  collect(key, upTo?) {\n    if (this.validationRequired) {\n      this.ensureDependencies();\n      this.validationRequired = false;\n    }\n\n    if (!this.gettersCache[key]) {\n      this.gettersCache[key] = this.plugins.map(plugin => plugin[key]).filter(plugin => !!plugin);\n    }\n    if (!upTo) return this.gettersCache[key];\n\n    const upToIndex = this.plugins.indexOf(upTo);\n    return this.gettersCache[key].filter((getter) => {\n      const pluginIndex = this.plugins.findIndex(plugin => plugin[key] === getter);\n      return pluginIndex < upToIndex;\n    });\n  }\n\n  get(key, upTo) {\n    const plugins = this.collect(key, upTo);\n\n    if (!plugins.length) return undefined;\n\n    let result = plugins[0]();\n    plugins.slice(1).forEach((plugin) => {\n      result = plugin(result);\n    });\n    return result;\n  }\n\n  registerSubscription(subscription) {\n    this.subscriptions.add(subscription);\n  }\n\n  unregisterSubscription(subscription) {\n    this.subscriptions.delete(subscription);\n  }\n\n  broadcast(event, message?: any) {\n    this.subscriptions.forEach(subscription => subscription[event] && subscription[event](message));\n  }\n\n  private cleanPluginsCache() {\n    this.validationRequired = true;\n    this.gettersCache = {};\n    this.knownKeysCache = {};\n  }\n}\n","type Handler = (e: object) => void;\n\n/** @internal */\nexport class EventEmitter {\n  private handlers: Handler[];\n\n  constructor() {\n    this.handlers = [];\n  }\n\n  emit(e) {\n    this.handlers.forEach(handler => handler(e));\n  }\n\n  subscribe(handler) {\n    this.handlers.push(handler);\n  }\n\n  unsubscribe(handler) {\n    this.handlers.splice(this.handlers.indexOf(handler), 1);\n  }\n}\n","/** @internal */\nexport const shallowEqual = (objA, objB) => {\n  if (objA === objB) {\n    return true;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  const hasOwn = Object.prototype.hasOwnProperty;\n  // tslint:disable-next-line: prefer-for-of\n  for (let i = 0; i < keysA.length; i += 1) {\n    if (!hasOwn.call(objB, keysA[i])\n        || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n\n    const valA = objA[keysA[i]];\n    const valB = objB[keysA[i]];\n\n    if (valA !== valB) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/** @internal */\nexport const argumentsShallowEqual = (prev, next) => {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  for (let i = 0; i < prev.length; i += 1) {\n    if (prev[i] !== next[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","import { argumentsShallowEqual } from './shallow-equal';\n\n/** @internal */\nexport const memoize = (func) => {\n  let lastArgs: any = null;\n  let lastResult: ReturnType<typeof func> = null;\n  return (...args) => {\n    if (lastArgs === null || !argumentsShallowEqual(lastArgs, args)) {\n      lastResult = func(...args);\n    }\n    lastArgs = args;\n    return lastResult;\n  };\n};\n","/** @internal */\nexport const easeInQuad = t => t * t;\n/** @internal */\nexport const easeOutQuad = t => t * (2 - t);\n/** @internal */\nexport const easeInOutQuad = t => (t < 0.5\n  ? 2 * t * t\n  : -1 + ((4 - (2 * t)) * t));\n\n/** @internal */\nexport const easeInCubic = t => t * t * t;\n/** @internal */\nexport const easeOutCubic = t => ((t - 1) * (t - 1) * (t - 1)) + 1;\n/** @internal */\nexport const easeInOutCubic = t => (t < 0.5\n  ? 4 * t * t * t\n  : ((t - 1) * ((2 * t) - 2) * ((2 * t) - 2)) + 1);\n\n/** @internal */\nexport const easeInQuart = t => t * t * t * t;\n/** @internal */\nexport const easeOutQuart = t => 1 - ((t - 1) * (t - 1) * (t - 1) * (t - 1));\n/** @internal */\nexport const easeInOutQuart = t => (t < 0.5\n  ? 8 * t * t * t * t\n  : 1 - (8 * (t - 1) * (t - 1) * (t - 1) * (t - 1)));\n\n/** @internal */\nexport const easeInQuint = t => t * t * t * t * t;\n/** @internal */\nexport const easeOutQuint = t => 1 + ((t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1));\n/** @internal */\nexport const easeInOutQuint = t => (t < 0.5\n  ? 16 * t * t * t * t * t\n  : 1 + (16 * (t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1)));\n","import { GetMessagesFormatterFn } from './types';\n\nconst processPattern = (pattern, params) => Object.keys(params).reduce(\n  (msg, key) => msg.replace(`{${key}}`, params[key]),\n  pattern,\n);\n\n/** @internal */\nexport const getMessagesFormatter: GetMessagesFormatterFn = messages => (key, params?) => {\n  const message = messages[key];\n\n  if (typeof message === 'function') {\n    return message(params);\n  }\n  if (params) {\n    return processPattern(message, params);\n  }\n  return message;\n};\n"]},"metadata":{},"sourceType":"module"}