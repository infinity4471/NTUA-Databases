{"ast":null,"code":"import ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport { defined } from '../util';\nvar toString = {}.toString;\n\nvar OptionsStore = function (Class) {\n  function OptionsStore(options, prefix) {\n    var this$1 = this;\n    if (prefix === void 0) prefix = \"\";\n    Class.call(this);\n    this.prefix = prefix;\n\n    for (var field in options) {\n      var member = options[field];\n      member = this$1._wrap(member, field);\n      this$1[field] = member;\n    }\n  }\n\n  if (Class) OptionsStore.__proto__ = Class;\n  OptionsStore.prototype = Object.create(Class && Class.prototype);\n  OptionsStore.prototype.constructor = OptionsStore;\n\n  OptionsStore.prototype.get = function get(field) {\n    var parts = field.split(\".\");\n    var result = this;\n\n    while (parts.length && result) {\n      var part = parts.shift();\n      result = result[part];\n    }\n\n    return result;\n  };\n\n  OptionsStore.prototype.set = function set(field, value) {\n    var current = this.get(field);\n\n    if (current !== value) {\n      this._set(field, this._wrap(value, field));\n\n      this.optionsChange({\n        field: this.prefix + field,\n        value: value\n      });\n    }\n  };\n\n  OptionsStore.prototype._set = function _set(field, value) {\n    var this$1 = this;\n    var composite = field.indexOf(\".\") >= 0;\n    var parentObj = this;\n    var fieldName = field;\n\n    if (composite) {\n      var parts = fieldName.split(\".\");\n      var prefix = this.prefix;\n\n      while (parts.length > 1) {\n        fieldName = parts.shift();\n        prefix += fieldName + \".\";\n        var obj = parentObj[fieldName];\n\n        if (!obj) {\n          obj = new OptionsStore({}, prefix);\n          obj.addObserver(this$1);\n          parentObj[fieldName] = obj;\n        }\n\n        parentObj = obj;\n      }\n\n      fieldName = parts[0];\n    }\n\n    parentObj._clear(fieldName);\n\n    parentObj[fieldName] = value;\n  };\n\n  OptionsStore.prototype._clear = function _clear(field) {\n    var current = this[field];\n\n    if (current && current.removeObserver) {\n      current.removeObserver(this);\n    }\n  };\n\n  OptionsStore.prototype._wrap = function _wrap(object, field) {\n    var type = toString.call(object);\n    var wrapped = object;\n\n    if (wrapped !== null && defined(wrapped) && type === \"[object Object]\") {\n      if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n        wrapped = new OptionsStore(wrapped, this.prefix + field + \".\");\n      }\n\n      wrapped.addObserver(this);\n    }\n\n    return wrapped;\n  };\n\n  return OptionsStore;\n}(Class);\n\nObserversMixin.extend(OptionsStore.prototype);\nexport default OptionsStore;","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/core/options-store.js"],"names":["ObserversMixin","Class","defined","toString","OptionsStore","options","prefix","this$1","call","field","member","_wrap","__proto__","prototype","Object","create","constructor","get","parts","split","result","length","part","shift","set","value","current","_set","optionsChange","composite","indexOf","parentObj","fieldName","obj","addObserver","_clear","removeObserver","object","type","wrapped","extend"],"mappings":"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","sourcesContent":["import ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport { defined } from '../util';\n\nvar toString = {}.toString;\n\nvar OptionsStore = (function (Class) {\n    function OptionsStore(options, prefix) {\n        var this$1 = this;\n        if ( prefix === void 0 ) prefix = \"\";\n\n        Class.call(this);\n\n        this.prefix = prefix;\n\n        for (var field in options) {\n            var member = options[field];\n            member = this$1._wrap(member, field);\n            this$1[field] = member;\n        }\n    }\n\n    if ( Class ) OptionsStore.__proto__ = Class;\n    OptionsStore.prototype = Object.create( Class && Class.prototype );\n    OptionsStore.prototype.constructor = OptionsStore;\n\n    OptionsStore.prototype.get = function get (field) {\n        var parts = field.split(\".\");\n        var result = this;\n\n        while (parts.length && result) {\n            var part = parts.shift();\n            result = result[part];\n        }\n\n        return result;\n    };\n\n    OptionsStore.prototype.set = function set (field, value) {\n        var current = this.get(field);\n\n        if (current !== value) {\n            this._set(field, this._wrap(value, field));\n            this.optionsChange({\n                field: this.prefix + field,\n                value: value\n            });\n        }\n    };\n\n    OptionsStore.prototype._set = function _set (field, value) {\n        var this$1 = this;\n\n        var composite = field.indexOf(\".\") >= 0;\n        var parentObj = this;\n        var fieldName = field;\n\n        if (composite) {\n            var parts = fieldName.split(\".\");\n            var prefix = this.prefix;\n\n            while (parts.length > 1) {\n                fieldName = parts.shift();\n                prefix += fieldName + \".\";\n\n                var obj = parentObj[fieldName];\n\n                if (!obj) {\n                    obj = new OptionsStore({}, prefix);\n                    obj.addObserver(this$1);\n                    parentObj[fieldName] = obj;\n                }\n                parentObj = obj;\n            }\n            fieldName = parts[0];\n        }\n\n        parentObj._clear(fieldName);\n        parentObj[fieldName] = value;\n    };\n\n    OptionsStore.prototype._clear = function _clear (field) {\n        var current = this[field];\n        if (current && current.removeObserver) {\n            current.removeObserver(this);\n        }\n    };\n\n    OptionsStore.prototype._wrap = function _wrap (object, field) {\n        var type = toString.call(object);\n        var wrapped = object;\n\n        if (wrapped !== null && defined(wrapped) && type === \"[object Object]\") {\n            if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n                wrapped = new OptionsStore(wrapped, this.prefix + field + \".\");\n            }\n\n            wrapped.addObserver(this);\n        }\n\n        return wrapped;\n    };\n\n    return OptionsStore;\n}(Class));\n\nObserversMixin.extend(OptionsStore.prototype);\n\nexport default OptionsStore;"]},"metadata":{},"sourceType":"module"}