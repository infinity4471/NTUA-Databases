{"ast":null,"code":"import toCubicPolynomial from './to-cubic-polynomial';\nimport solveCubicEquation from './solve-cubic-equation';\nimport calculateCurveAt from './calculate-curve-at';\nimport close from './close';\nexport default function curveIntersectionsCount(points, point, bbox) {\n  var polynomial = toCubicPolynomial(points, \"x\");\n  var roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n  var rayIntersection, intersectsRay;\n  var count = 0;\n\n  for (var i = 0; i < roots.length; i++) {\n    rayIntersection = calculateCurveAt(roots[i], \"y\", points);\n    intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n\n    if (intersectsRay && ((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x || 0 < roots[i] && roots[i] < 1)) {\n      count++;\n    }\n  }\n\n  return count;\n}","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/geometry/math/curve-intersections-count.js"],"names":["toCubicPolynomial","solveCubicEquation","calculateCurveAt","close","curveIntersectionsCount","points","point","bbox","polynomial","roots","x","rayIntersection","intersectsRay","count","i","length","y","bottomRight"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,uBAA9B;AACA,OAAOC,kBAAP,MAA+B,wBAA/B;AACA,OAAOC,gBAAP,MAA6B,sBAA7B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,eAAe,SAASC,uBAAT,CAAiCC,MAAjC,EAAyCC,KAAzC,EAAgDC,IAAhD,EAAsD;AACjE,MAAIC,UAAU,GAAGR,iBAAiB,CAACK,MAAD,EAAS,GAAT,CAAlC;AACA,MAAII,KAAK,GAAGR,kBAAkB,CAACO,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,EAA+BA,UAAU,CAAC,CAAD,CAAzC,EAA8CA,UAAU,CAAC,CAAD,CAAV,GAAgBF,KAAK,CAACI,CAApE,CAA9B;AACA,MAAIC,eAAJ,EAAqBC,aAArB;AACA,MAAIC,KAAK,GAAG,CAAZ;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,KAAK,CAACM,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnCH,IAAAA,eAAe,GAAGT,gBAAgB,CAACO,KAAK,CAACK,CAAD,CAAN,EAAW,GAAX,EAAgBT,MAAhB,CAAlC;AACAO,IAAAA,aAAa,GAAGT,KAAK,CAACQ,eAAD,EAAkBL,KAAK,CAACU,CAAxB,CAAL,IAAmCL,eAAe,GAAGL,KAAK,CAACU,CAA3E;;AACA,QAAIJ,aAAa,KAAM,CAACH,KAAK,CAACK,CAAD,CAAL,KAAa,CAAb,IAAkBL,KAAK,CAACK,CAAD,CAAL,KAAa,CAAhC,KAAsCP,IAAI,CAACU,WAAL,GAAmBP,CAAnB,GAAuBJ,KAAK,CAACI,CAApE,IAA2E,IAAID,KAAK,CAACK,CAAD,CAAT,IAAgBL,KAAK,CAACK,CAAD,CAAL,GAAW,CAA3G,CAAjB,EAAiI;AAC7HD,MAAAA,KAAK;AACR;AACJ;;AAED,SAAOA,KAAP;AACH","sourcesContent":["import toCubicPolynomial from './to-cubic-polynomial';\nimport solveCubicEquation from './solve-cubic-equation';\nimport calculateCurveAt from './calculate-curve-at';\nimport close from './close';\n\nexport default function curveIntersectionsCount(points, point, bbox) {\n    var polynomial = toCubicPolynomial(points, \"x\");\n    var roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n    var rayIntersection, intersectsRay;\n    var count = 0;\n    for (var i = 0; i < roots.length; i++) {\n        rayIntersection = calculateCurveAt(roots[i], \"y\", points);\n        intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n        if (intersectsRay && (((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x) || (0 < roots[i] && roots[i] < 1))) {\n            count++;\n        }\n    }\n\n    return count;\n}"]},"metadata":{},"sourceType":"module"}