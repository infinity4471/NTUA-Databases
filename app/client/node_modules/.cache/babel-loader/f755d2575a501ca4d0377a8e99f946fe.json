{"ast":null,"code":"import translateToPoint from './translate-to-point';\nimport stackElements from './stack-elements';\n\nfunction getStacks(elements, rect, sizeField) {\n  var maxSize = rect.size[sizeField];\n  var stacks = [];\n  var stack = [];\n  var stackSize = 0;\n  var element, bbox;\n\n  var addElementToStack = function () {\n    stack.push({\n      element: element,\n      bbox: bbox\n    });\n  };\n\n  for (var idx = 0; idx < elements.length; idx++) {\n    element = elements[idx];\n    bbox = element.clippedBBox();\n\n    if (bbox) {\n      var size = bbox.size[sizeField];\n\n      if (stackSize + size > maxSize) {\n        if (stack.length) {\n          stacks.push(stack);\n          stack = [];\n          addElementToStack();\n          stackSize = size;\n        } else {\n          addElementToStack();\n          stacks.push(stack);\n          stack = [];\n          stackSize = 0;\n        }\n      } else {\n        addElementToStack();\n        stackSize += size;\n      }\n    }\n  }\n\n  if (stack.length) {\n    stacks.push(stack);\n  }\n\n  return stacks;\n}\n\nexport default function wrapElements(elements, rect, axis, otherAxis, sizeField) {\n  var stacks = getStacks(elements, rect, sizeField);\n  var origin = rect.origin.clone();\n  var result = [];\n\n  for (var idx = 0; idx < stacks.length; idx++) {\n    var stack = stacks[idx];\n    var startElement = stack[0];\n    origin[otherAxis] = startElement.bbox.origin[otherAxis];\n    translateToPoint(origin, startElement.bbox, startElement.element);\n    startElement.bbox.origin[axis] = origin[axis];\n    stackElements(stack, axis, otherAxis, sizeField);\n    result.push([]);\n\n    for (var elementIdx = 0; elementIdx < stack.length; elementIdx++) {\n      result[idx].push(stack[elementIdx].element);\n    }\n  }\n\n  return result;\n}","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/alignment/wrap-elements.js"],"names":["translateToPoint","stackElements","getStacks","elements","rect","sizeField","maxSize","size","stacks","stack","stackSize","element","bbox","addElementToStack","push","idx","length","clippedBBox","wrapElements","axis","otherAxis","origin","clone","result","startElement","elementIdx"],"mappings":"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","sourcesContent":["import translateToPoint from './translate-to-point';\nimport stackElements from './stack-elements';\n\nfunction getStacks(elements, rect, sizeField) {\n    var maxSize = rect.size[sizeField];\n    var stacks = [];\n    var stack = [];\n    var stackSize = 0;\n    var element, bbox;\n\n    var addElementToStack = function() {\n        stack.push({\n            element: element,\n            bbox: bbox\n        });\n    };\n\n    for (var idx = 0; idx < elements.length; idx++) {\n        element = elements[idx];\n\n        bbox = element.clippedBBox();\n        if (bbox) {\n            var size = bbox.size[sizeField];\n            if (stackSize + size > maxSize) {\n                if (stack.length) {\n                    stacks.push(stack);\n                    stack = [];\n                    addElementToStack();\n                    stackSize = size;\n                } else {\n                    addElementToStack();\n                    stacks.push(stack);\n                    stack = [];\n                    stackSize = 0;\n                }\n            } else {\n                addElementToStack();\n                stackSize += size;\n            }\n        }\n    }\n\n    if (stack.length) {\n        stacks.push(stack);\n    }\n\n    return stacks;\n}\n\nexport default function wrapElements(elements, rect, axis, otherAxis, sizeField) {\n    var stacks = getStacks(elements, rect, sizeField);\n    var origin = rect.origin.clone();\n    var result = [];\n\n    for (var idx = 0; idx < stacks.length; idx++) {\n        var stack = stacks[idx];\n        var startElement = stack[0];\n        origin[otherAxis] = startElement.bbox.origin[otherAxis];\n        translateToPoint(origin, startElement.bbox, startElement.element);\n        startElement.bbox.origin[axis] = origin[axis];\n        stackElements(stack, axis, otherAxis, sizeField);\n        result.push([]);\n        for (var elementIdx = 0; elementIdx < stack.length; elementIdx++) {\n            result[idx].push(stack[elementIdx].element);\n        }\n    }\n    return result;\n}"]},"metadata":{},"sourceType":"module"}