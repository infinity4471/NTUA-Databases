{"ast":null,"code":"import Surface from './surface';\nimport { transform } from '../geometry';\nimport Group from '../shapes/group';\nexport default function exportImage(group, options) {\n  var defaults = {\n    width: \"800px\",\n    height: \"600px\",\n    cors: \"Anonymous\"\n  };\n  var exportRoot = group;\n  var bbox = group.clippedBBox();\n\n  if (bbox) {\n    var origin = bbox.getOrigin();\n    exportRoot = new Group();\n    exportRoot.transform(transform().translate(-origin.x, -origin.y));\n    exportRoot.children.push(group);\n    var size = bbox.getSize();\n    defaults.width = size.width + \"px\";\n    defaults.height = size.height + \"px\";\n  }\n\n  var surfaceOptions = Object.assign(defaults, options);\n  var container = document.createElement(\"div\");\n  var style = container.style;\n  style.display = \"none\";\n  style.width = surfaceOptions.width;\n  style.height = surfaceOptions.height;\n  document.body.appendChild(container);\n  var surface = new Surface(container, surfaceOptions);\n  surface.suspendTracking();\n  surface.draw(exportRoot);\n  var promise = surface.image();\n\n  var destroy = function () {\n    surface.destroy();\n    document.body.removeChild(container);\n  };\n\n  promise.then(destroy, destroy);\n  return promise;\n}","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/canvas/export-image.js"],"names":["Surface","transform","Group","exportImage","group","options","defaults","width","height","cors","exportRoot","bbox","clippedBBox","origin","getOrigin","translate","x","y","children","push","size","getSize","surfaceOptions","Object","assign","container","document","createElement","style","display","body","appendChild","surface","suspendTracking","draw","promise","image","destroy","removeChild","then"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4BC,OAA5B,EAAqC;AAChD,MAAIC,QAAQ,GAAG;AACXC,IAAAA,KAAK,EAAE,OADI;AACKC,IAAAA,MAAM,EAAE,OADb;AAEXC,IAAAA,IAAI,EAAE;AAFK,GAAf;AAKA,MAAIC,UAAU,GAAGN,KAAjB;AACA,MAAIO,IAAI,GAAGP,KAAK,CAACQ,WAAN,EAAX;;AAGA,MAAID,IAAJ,EAAU;AACN,QAAIE,MAAM,GAAGF,IAAI,CAACG,SAAL,EAAb;AACAJ,IAAAA,UAAU,GAAG,IAAIR,KAAJ,EAAb;AACAQ,IAAAA,UAAU,CAACT,SAAX,CAAqBA,SAAS,GAAGc,SAAZ,CAAsB,CAACF,MAAM,CAACG,CAA9B,EAAiC,CAACH,MAAM,CAACI,CAAzC,CAArB;AACAP,IAAAA,UAAU,CAACQ,QAAX,CAAoBC,IAApB,CAAyBf,KAAzB;AAEA,QAAIgB,IAAI,GAAGT,IAAI,CAACU,OAAL,EAAX;AACAf,IAAAA,QAAQ,CAACC,KAAT,GAAiBa,IAAI,CAACb,KAAL,GAAa,IAA9B;AACAD,IAAAA,QAAQ,CAACE,MAAT,GAAkBY,IAAI,CAACZ,MAAL,GAAc,IAAhC;AACH;;AAED,MAAIc,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAclB,QAAd,EAAwBD,OAAxB,CAArB;AAEA,MAAIoB,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA,MAAIC,KAAK,GAAGH,SAAS,CAACG,KAAtB;AAEAA,EAAAA,KAAK,CAACC,OAAN,GAAgB,MAAhB;AACAD,EAAAA,KAAK,CAACrB,KAAN,GAAce,cAAc,CAACf,KAA7B;AACAqB,EAAAA,KAAK,CAACpB,MAAN,GAAec,cAAc,CAACd,MAA9B;AACAkB,EAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,SAA1B;AAEA,MAAIO,OAAO,GAAG,IAAIhC,OAAJ,CAAYyB,SAAZ,EAAuBH,cAAvB,CAAd;AACAU,EAAAA,OAAO,CAACC,eAAR;AACAD,EAAAA,OAAO,CAACE,IAAR,CAAaxB,UAAb;AAEA,MAAIyB,OAAO,GAAGH,OAAO,CAACI,KAAR,EAAd;;AACA,MAAIC,OAAO,GAAG,YAAY;AACtBL,IAAAA,OAAO,CAACK,OAAR;AACAX,IAAAA,QAAQ,CAACI,IAAT,CAAcQ,WAAd,CAA0Bb,SAA1B;AACH,GAHD;;AAIAU,EAAAA,OAAO,CAACI,IAAR,CAAaF,OAAb,EAAsBA,OAAtB;AAEA,SAAOF,OAAP;AACH","sourcesContent":["import Surface from './surface';\nimport { transform } from '../geometry';\nimport Group from '../shapes/group';\n\nexport default function exportImage(group, options) {\n    var defaults = {\n        width: \"800px\", height: \"600px\",\n        cors: \"Anonymous\"\n    };\n\n    var exportRoot = group;\n    var bbox = group.clippedBBox();\n\n\n    if (bbox) {\n        var origin = bbox.getOrigin();\n        exportRoot = new Group();\n        exportRoot.transform(transform().translate(-origin.x, -origin.y));\n        exportRoot.children.push(group);\n\n        var size = bbox.getSize();\n        defaults.width = size.width + \"px\";\n        defaults.height = size.height + \"px\";\n    }\n\n    var surfaceOptions = Object.assign(defaults, options);\n\n    var container = document.createElement(\"div\");\n    var style = container.style;\n\n    style.display = \"none\";\n    style.width = surfaceOptions.width;\n    style.height = surfaceOptions.height;\n    document.body.appendChild(container);\n\n    var surface = new Surface(container, surfaceOptions);\n    surface.suspendTracking();\n    surface.draw(exportRoot);\n\n    var promise = surface.image();\n    var destroy = function () {\n        surface.destroy();\n        document.body.removeChild(container);\n    };\n    promise.then(destroy, destroy);\n\n    return promise;\n}"]},"metadata":{},"sourceType":"module"}