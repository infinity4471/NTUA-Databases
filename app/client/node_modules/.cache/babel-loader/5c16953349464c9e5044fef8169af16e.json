{"ast":null,"code":"import io from 'socket.io-client';\nimport { updateCustomers, updateStores, updateCustomersData } from '../../actions';\n\nconst socketMiddleware = url => {\n  return store => {\n    let socket = io(url);\n    socket.on('CUSTOMER_NAMES', data => {\n      store.dispatch(updateCustomers(data));\n    });\n    socket.on('STORE_ADDRESSES', data => {\n      store.dispatch(updateStores(data));\n    });\n    socket.on('CUSTOMER_DATA', data => {\n      console.log(data);\n      store.dispatch(updateCustomersData(data));\n    });\n    return next => action => {\n      switch (action.type) {\n        default:\n          break;\n      }\n\n      return next(action);\n    };\n  };\n};\n\nexport { socketMiddleware };","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/src/reducers/middlewares/socketMiddleware.js"],"names":["io","updateCustomers","updateStores","updateCustomersData","socketMiddleware","url","store","socket","on","data","dispatch","console","log","next","action","type"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;AACA,SAASC,eAAT,EAA0BC,YAA1B,EAAuCC,mBAAvC,QAAkE,eAAlE;;AAEA,MAAMC,gBAAgB,GAAIC,GAAD,IAAS;AACjC,SAAOC,KAAK,IAAI;AACf,QAAIC,MAAM,GAAGP,EAAE,CAACK,GAAD,CAAf;AACAE,IAAAA,MAAM,CAACC,EAAP,CAAU,gBAAV,EAA4BC,IAAI,IAAI;AACnCH,MAAAA,KAAK,CAACI,QAAN,CAAeT,eAAe,CAACQ,IAAD,CAA9B;AACA,KAFD;AAGAF,IAAAA,MAAM,CAACC,EAAP,CAAU,iBAAV,EAA6BC,IAAI,IAAI;AACpCH,MAAAA,KAAK,CAACI,QAAN,CAAeR,YAAY,CAACO,IAAD,CAA3B;AACA,KAFD;AAGAF,IAAAA,MAAM,CAACC,EAAP,CAAU,eAAV,EAA2BC,IAAI,IAAI;AAClCE,MAAAA,OAAO,CAACC,GAAR,CAAaH,IAAb;AACAH,MAAAA,KAAK,CAACI,QAAN,CAAeP,mBAAmB,CAACM,IAAD,CAAlC;AACA,KAHD;AAIA,WAAOI,IAAI,IAAIC,MAAM,IAAI;AACjB,cAAOA,MAAM,CAACC,IAAd;AACN;AAAS;AADH;;AAGP,aAAOF,IAAI,CAAEC,MAAF,CAAX;AACA,KALD;AAMA,GAlBD;AAmBA,CApBD;;AAsBA,SAAQV,gBAAR","sourcesContent":["import io from 'socket.io-client';\nimport { updateCustomers, updateStores,updateCustomersData } from '../../actions';\n\nconst socketMiddleware = (url) => {\n\treturn store => {\n\t\tlet socket = io(url);\n\t\tsocket.on('CUSTOMER_NAMES', data => {\n\t\t\tstore.dispatch(updateCustomers(data))\t\n\t\t});\n\t\tsocket.on('STORE_ADDRESSES', data => {\n\t\t\tstore.dispatch(updateStores(data))\n\t\t});\n\t\tsocket.on('CUSTOMER_DATA', data => {\n\t\t\tconsole.log( data )\n\t\t\tstore.dispatch(updateCustomersData(data))\n\t\t});\n\t\treturn next => action => {\n        \t\tswitch(action.type){\n\t\t\t\tdefault: break;\n\t\t\t}\n\t\t\treturn next( action );\n\t\t}\n\t}\n}\n\nexport {socketMiddleware};\n"]},"metadata":{},"sourceType":"module"}