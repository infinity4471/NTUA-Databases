{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { provideIntlService, registerForIntl, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, timePickerCancel, timePickerSet } from '../messages';\nimport { MIN_TIME, MAX_TIME, MIDNIGHT_DATE } from '../utils';\nimport { generateGetters, getNow, valueMerger } from './utils';\nimport { TimePart } from './TimePart';\n/**\n * @hidden\n */\n\nexport var Direction;\n\n(function (Direction) {\n  Direction[Direction[\"Left\"] = 0] = \"Left\";\n  Direction[Direction[\"Right\"] = 1] = \"Right\";\n})(Direction || (Direction = {}));\n/**\n * @hidden\n */\n\n\nvar TimeSelector =\n/** @class */\nfunction (_super) {\n  __extends(TimeSelector, _super);\n\n  function TimeSelector(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.focusActiveList = function () {\n      if (!_this.timePart) {\n        return;\n      }\n\n      _this.timePart.focus({\n        preventScroll: true\n      });\n    };\n\n    _this.handleKeyDown = function (event) {\n      var keyCode = event.keyCode;\n\n      switch (keyCode) {\n        case Keys.enter:\n          if (!_this.hasActiveButton()) {\n            _this.handleAccept(event);\n          }\n\n          return;\n\n        default:\n          return;\n      }\n    };\n\n    _this.handleAccept = function (event) {\n      var value = _this.mergeValue(cloneDate(_this.value || getNow()), _this.timePart ? _this.timePart.value : _this.current);\n\n      _this.setState({\n        value: value\n      });\n\n      _this.valueDuringOnChange = value;\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.call(undefined, {\n          syntheticEvent: event,\n          nativeEvent: event.nativeEvent,\n          value: _this.value,\n          target: _this\n        });\n      }\n\n      _this.valueDuringOnChange = undefined;\n    };\n\n    _this.handleReject = function (event) {\n      _this.setState({\n        current: _this.value\n      });\n\n      var onReject = _this.props.onReject;\n\n      if (onReject) {\n        onReject.call(undefined, event);\n      }\n    };\n\n    _this.handleNowClick = function (event) {\n      var now = _this.mergeValue(cloneDate(_this.value || getNow()), getNow());\n\n      _this.setState({\n        current: now,\n        value: now\n      });\n\n      _this.valueDuringOnChange = now;\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.call(undefined, {\n          syntheticEvent: event,\n          nativeEvent: event.nativeEvent,\n          value: _this.value,\n          target: _this\n        });\n      }\n\n      _this.valueDuringOnChange = undefined;\n    };\n\n    _this.handleChange = function (candidate) {\n      _this.setState({\n        current: candidate\n      });\n    };\n\n    _this.dateFormatParts = _this.intl.splitDateFormat(_this.props.format || TimeSelector.defaultProps.format);\n    _this.mergeValue = valueMerger(generateGetters(_this.dateFormatParts));\n    _this.hasActiveButton = _this.hasActiveButton.bind(_this);\n    _this.state = {\n      current: _this.props.value || MIDNIGHT_DATE,\n      value: _this.props.value || TimeSelector.defaultProps.value\n    };\n    return _this;\n  }\n\n  Object.defineProperty(TimeSelector.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TimeSelector.prototype, \"value\", {\n    get: function () {\n      var value = this.valueDuringOnChange !== undefined ? this.valueDuringOnChange : this.props.value !== undefined ? this.props.value : this.state.value;\n      return value !== null ? cloneDate(value) : null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TimeSelector.prototype, \"intl\", {\n    get: function () {\n      return provideIntlService(this);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TimeSelector.prototype, \"current\", {\n    get: function () {\n      return this.state.current !== null ? cloneDate(this.state.current) : null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  TimeSelector.prototype.componentWillUnmount = function () {\n    clearTimeout(this.nextTickId);\n  };\n  /**\n   * @hidden\n   */\n\n\n  TimeSelector.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        format = _a.format,\n        cancelButton = _a.cancelButton,\n        disabled = _a.disabled,\n        tabIndex = _a.tabIndex,\n        className = _a.className,\n        smoothScroll = _a.smoothScroll,\n        min = _a.min,\n        max = _a.max,\n        boundRange = _a.boundRange,\n        nowButton = _a.nowButton,\n        steps = _a.steps;\n    var localizationService = provideLocalizationService(this);\n    var cancelMessage = localizationService.toLanguageString(timePickerCancel, messages[timePickerCancel]);\n    var setMessage = localizationService.toLanguageString(timePickerSet, messages[timePickerSet]);\n    return React.createElement(\"div\", {\n      ref: function (el) {\n        _this._element = el;\n      },\n      tabIndex: !disabled ? tabIndex || 0 : undefined,\n      className: classNames('k-timeselector k-reset', className, {\n        'k-state-disabled': disabled\n      }),\n      onKeyDown: this.handleKeyDown\n    }, React.createElement(TimePart, {\n      ref: function (el) {\n        _this.timePart = el;\n      },\n      value: this.current,\n      onChange: this.handleChange,\n      onNowClick: this.handleNowClick,\n      format: format,\n      smoothScroll: smoothScroll,\n      min: min,\n      max: max,\n      boundRange: boundRange,\n      disabled: disabled,\n      nowButton: nowButton,\n      steps: steps\n    }), React.createElement(\"div\", {\n      className: \"k-time-footer k-action-buttons\"\n    }, cancelButton && React.createElement(\"button\", __assign({\n      ref: function (btn) {\n        _this._cancelButton = btn;\n      },\n      className: \"k-button k-time-cancel\",\n      onClick: this.handleReject,\n      title: cancelMessage\n    }, {\n      'aria-label': cancelMessage\n    }), cancelMessage), React.createElement(\"button\", __assign({\n      ref: function (btn) {\n        _this._acceptButton = btn;\n      },\n      className: \"k-time-accept k-button k-primary\",\n      onClick: this.handleAccept,\n      title: setMessage\n    }, {\n      'aria-label': setMessage\n    }), setMessage)));\n  };\n\n  TimeSelector.prototype.nextTick = function (f) {\n    // XXX: use setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n    // XXX: https://github.com/facebook/react/issues/3751\n    clearTimeout(this.nextTickId);\n    this.nextTickId = setTimeout(function () {\n      return f();\n    });\n  };\n\n  TimeSelector.prototype.hasActiveButton = function () {\n    if (!this._acceptButton) {\n      return false;\n    }\n\n    return document.activeElement === this._acceptButton || document.activeElement === this._cancelButton;\n  };\n\n  TimeSelector.propTypes = {\n    cancelButton: PropTypes.bool,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n      skeleton: PropTypes.string,\n      pattern: PropTypes.string,\n      date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      era: PropTypes.oneOf(['narrow', 'short', 'long']),\n      year: PropTypes.oneOf(['numeric', '2-digit']),\n      month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n      day: PropTypes.oneOf(['numeric', '2-digit']),\n      weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n      hour: PropTypes.oneOf(['numeric', '2-digit']),\n      hour12: PropTypes.bool,\n      minute: PropTypes.oneOf(['numeric', '2-digit']),\n      second: PropTypes.oneOf(['numeric', '2-digit']),\n      timeZoneName: PropTypes.oneOf(['short', 'long'])\n    })]),\n    max: PropTypes.instanceOf(Date),\n    min: PropTypes.instanceOf(Date),\n    nowButton: PropTypes.bool,\n    steps: PropTypes.shape({\n      hour: PropTypes.number,\n      minute: PropTypes.number,\n      second: PropTypes.number\n    }),\n    smoothScroll: PropTypes.bool,\n    tabIndex: PropTypes.number,\n    value: PropTypes.instanceOf(Date)\n  };\n  TimeSelector.defaultProps = {\n    value: null,\n    disabled: false,\n    cancelButton: true,\n    format: 't',\n    min: MIN_TIME,\n    max: MAX_TIME,\n    boundRange: false\n  };\n  return TimeSelector;\n}(React.Component);\n\nexport { TimeSelector };\nregisterForIntl(TimeSelector);\nregisterForLocalization(TimeSelector);","map":{"version":3,"sources":["../../../src/timepicker/TimeSelector.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { classNames, Keys } from '@progress/kendo-react-common';\nimport { provideIntlService, registerForIntl, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, timePickerCancel, timePickerSet } from '../messages';\nimport { MIN_TIME, MAX_TIME, MIDNIGHT_DATE } from '../utils';\nimport { generateGetters, getNow, valueMerger } from './utils';\nimport { TimePart } from './TimePart';\n/**\n * @hidden\n */\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"Left\"] = 0] = \"Left\";\n    Direction[Direction[\"Right\"] = 1] = \"Right\";\n})(Direction || (Direction = {}));\n/**\n * @hidden\n */\nvar TimeSelector = /** @class */ (function (_super) {\n    __extends(TimeSelector, _super);\n    function TimeSelector(props) {\n        var _this = _super.call(this, props) || this;\n        _this.focusActiveList = function () {\n            if (!_this.timePart) {\n                return;\n            }\n            _this.timePart.focus({ preventScroll: true });\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            switch (keyCode) {\n                case Keys.enter:\n                    if (!_this.hasActiveButton()) {\n                        _this.handleAccept(event);\n                    }\n                    return;\n                default:\n                    return;\n            }\n        };\n        _this.handleAccept = function (event) {\n            var value = _this.mergeValue(cloneDate(_this.value || getNow()), _this.timePart ? _this.timePart.value : _this.current);\n            _this.setState({ value: value });\n            _this.valueDuringOnChange = value;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    target: _this\n                });\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        _this.handleReject = function (event) {\n            _this.setState({ current: _this.value });\n            var onReject = _this.props.onReject;\n            if (onReject) {\n                onReject.call(undefined, event);\n            }\n        };\n        _this.handleNowClick = function (event) {\n            var now = _this.mergeValue(cloneDate(_this.value || getNow()), getNow());\n            _this.setState({\n                current: now,\n                value: now\n            });\n            _this.valueDuringOnChange = now;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    target: _this\n                });\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        _this.handleChange = function (candidate) {\n            _this.setState({ current: candidate });\n        };\n        _this.dateFormatParts = _this.intl.splitDateFormat(_this.props.format || TimeSelector.defaultProps.format);\n        _this.mergeValue = valueMerger(generateGetters(_this.dateFormatParts));\n        _this.hasActiveButton = _this.hasActiveButton.bind(_this);\n        _this.state = {\n            current: _this.props.value || MIDNIGHT_DATE,\n            value: _this.props.value || TimeSelector.defaultProps.value\n        };\n        return _this;\n    }\n    Object.defineProperty(TimeSelector.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeSelector.prototype, \"value\", {\n        get: function () {\n            var value = this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n            return (value !== null)\n                ? cloneDate(value)\n                : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeSelector.prototype, \"intl\", {\n        get: function () {\n            return provideIntlService(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeSelector.prototype, \"current\", {\n        get: function () {\n            return this.state.current !== null\n                ? cloneDate(this.state.current)\n                : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TimeSelector.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    /**\n     * @hidden\n     */\n    TimeSelector.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, format = _a.format, cancelButton = _a.cancelButton, disabled = _a.disabled, tabIndex = _a.tabIndex, className = _a.className, smoothScroll = _a.smoothScroll, min = _a.min, max = _a.max, boundRange = _a.boundRange, nowButton = _a.nowButton, steps = _a.steps;\n        var localizationService = provideLocalizationService(this);\n        var cancelMessage = localizationService.toLanguageString(timePickerCancel, messages[timePickerCancel]);\n        var setMessage = localizationService.toLanguageString(timePickerSet, messages[timePickerSet]);\n        return (React.createElement(\"div\", { ref: function (el) { _this._element = el; }, tabIndex: !disabled ? tabIndex || 0 : undefined, className: classNames('k-timeselector k-reset', className, {\n                'k-state-disabled': disabled\n            }), onKeyDown: this.handleKeyDown },\n            React.createElement(TimePart, { ref: function (el) { _this.timePart = el; }, value: this.current, onChange: this.handleChange, onNowClick: this.handleNowClick, format: format, smoothScroll: smoothScroll, min: min, max: max, boundRange: boundRange, disabled: disabled, nowButton: nowButton, steps: steps }),\n            React.createElement(\"div\", { className: \"k-time-footer k-action-buttons\" },\n                cancelButton &&\n                    React.createElement(\"button\", __assign({ ref: function (btn) { _this._cancelButton = btn; }, className: \"k-button k-time-cancel\", onClick: this.handleReject, title: cancelMessage }, { 'aria-label': cancelMessage }), cancelMessage),\n                React.createElement(\"button\", __assign({ ref: function (btn) { _this._acceptButton = btn; }, className: \"k-time-accept k-button k-primary\", onClick: this.handleAccept, title: setMessage }, { 'aria-label': setMessage }), setMessage))));\n    };\n    TimeSelector.prototype.nextTick = function (f) {\n        // XXX: use setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        clearTimeout(this.nextTickId);\n        this.nextTickId = setTimeout(function () { return f(); });\n    };\n    TimeSelector.prototype.hasActiveButton = function () {\n        if (!this._acceptButton) {\n            return false;\n        }\n        return document.activeElement === this._acceptButton\n            || document.activeElement === this._cancelButton;\n    };\n    TimeSelector.propTypes = {\n        cancelButton: PropTypes.bool,\n        className: PropTypes.string,\n        disabled: PropTypes.bool,\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        nowButton: PropTypes.bool,\n        steps: PropTypes.shape({\n            hour: PropTypes.number,\n            minute: PropTypes.number,\n            second: PropTypes.number\n        }),\n        smoothScroll: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        value: PropTypes.instanceOf(Date)\n    };\n    TimeSelector.defaultProps = {\n        value: null,\n        disabled: false,\n        cancelButton: true,\n        format: 't',\n        min: MIN_TIME,\n        max: MAX_TIME,\n        boundRange: false\n    };\n    return TimeSelector;\n}(React.Component));\nexport { TimeSelector };\nregisterForIntl(TimeSelector);\nregisterForLocalization(TimeSelector);\n//# sourceMappingURL=TimeSelector.js.map"]},"metadata":{},"sourceType":"module"}