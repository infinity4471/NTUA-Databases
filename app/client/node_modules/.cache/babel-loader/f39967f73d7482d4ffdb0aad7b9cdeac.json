{"ast":null,"code":"import OptionsStore from '../core/options-store';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport Rect from '../geometry/rect';\nimport Matrix from '../geometry/matrix';\nimport createTransform from '../geometry/transform';\nimport toMatrix from '../geometry/to-matrix';\nimport { Class } from '../common';\nimport { defined, definitionId, isTransparent, valueOrDefault } from '../util';\n\nvar Element = function (Class) {\n  function Element(options) {\n    Class.call(this);\n\n    this._initOptions(options);\n  }\n\n  if (Class) Element.__proto__ = Class;\n  Element.prototype = Object.create(Class && Class.prototype);\n  Element.prototype.constructor = Element;\n\n  Element.prototype._initOptions = function _initOptions(options) {\n    if (options === void 0) options = {};\n    var clip = options.clip;\n    var transform = options.transform;\n\n    if (transform) {\n      options.transform = createTransform(transform);\n    }\n\n    if (clip && !clip.id) {\n      clip.id = definitionId();\n    }\n\n    this.options = new OptionsStore(options);\n    this.options.addObserver(this);\n  };\n\n  Element.prototype.transform = function transform(value) {\n    if (defined(value)) {\n      this.options.set(\"transform\", createTransform(value));\n    } else {\n      return this.options.get(\"transform\");\n    }\n  };\n\n  Element.prototype.parentTransform = function parentTransform() {\n    var element = this;\n    var parentMatrix;\n\n    while (element.parent) {\n      element = element.parent;\n      var transformation = element.transform();\n\n      if (transformation) {\n        parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n      }\n    }\n\n    if (parentMatrix) {\n      return createTransform(parentMatrix);\n    }\n  };\n\n  Element.prototype.currentTransform = function currentTransform(parentTransform) {\n    if (parentTransform === void 0) parentTransform = this.parentTransform();\n    var elementTransform = this.transform();\n    var elementMatrix = toMatrix(elementTransform);\n    var parentMatrix = toMatrix(parentTransform);\n    var combinedMatrix;\n\n    if (elementMatrix && parentMatrix) {\n      combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n    } else {\n      combinedMatrix = elementMatrix || parentMatrix;\n    }\n\n    if (combinedMatrix) {\n      return createTransform(combinedMatrix);\n    }\n  };\n\n  Element.prototype.visible = function visible(value) {\n    if (defined(value)) {\n      this.options.set(\"visible\", value);\n      return this;\n    }\n\n    return this.options.get(\"visible\") !== false;\n  };\n\n  Element.prototype.clip = function clip(value) {\n    var options = this.options;\n\n    if (defined(value)) {\n      if (value && !value.id) {\n        value.id = definitionId();\n      }\n\n      options.set(\"clip\", value);\n      return this;\n    }\n\n    return options.get(\"clip\");\n  };\n\n  Element.prototype.opacity = function opacity(value) {\n    if (defined(value)) {\n      this.options.set(\"opacity\", value);\n      return this;\n    }\n\n    return valueOrDefault(this.options.get(\"opacity\"), 1);\n  };\n\n  Element.prototype.clippedBBox = function clippedBBox(transformation) {\n    var bbox = this._clippedBBox(transformation);\n\n    if (bbox) {\n      var clip = this.clip();\n      return clip ? Rect.intersect(bbox, clip.bbox(transformation)) : bbox;\n    }\n  };\n\n  Element.prototype.containsPoint = function containsPoint(point, parentTransform) {\n    if (this.visible()) {\n      var transform = this.currentTransform(parentTransform);\n      var transformedPoint = point;\n\n      if (transform) {\n        transformedPoint = point.transformCopy(transform.matrix().invert());\n      }\n\n      return this._hasFill() && this._containsPoint(transformedPoint) || this._isOnPath && this._hasStroke() && this._isOnPath(transformedPoint);\n    }\n\n    return false;\n  };\n\n  Element.prototype._hasFill = function _hasFill() {\n    var fill = this.options.fill;\n    return fill && !isTransparent(fill.color);\n  };\n\n  Element.prototype._hasStroke = function _hasStroke() {\n    var stroke = this.options.stroke;\n    return stroke && stroke.width > 0 && !isTransparent(stroke.color);\n  };\n\n  Element.prototype._clippedBBox = function _clippedBBox(transformation) {\n    return this.bbox(transformation);\n  };\n\n  return Element;\n}(Class);\n\nElement.prototype.nodeType = \"Element\";\nObserversMixin.extend(Element.prototype);\nexport default Element;","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/shapes/element.js"],"names":["OptionsStore","ObserversMixin","Rect","Matrix","createTransform","toMatrix","Class","defined","definitionId","isTransparent","valueOrDefault","Element","options","call","_initOptions","__proto__","prototype","Object","create","constructor","clip","transform","id","addObserver","value","set","get","parentTransform","element","parentMatrix","parent","transformation","matrix","multiplyCopy","unit","currentTransform","elementTransform","elementMatrix","combinedMatrix","visible","opacity","clippedBBox","bbox","_clippedBBox","intersect","containsPoint","point","transformedPoint","transformCopy","invert","_hasFill","_containsPoint","_isOnPath","_hasStroke","fill","color","stroke","width","nodeType","extend"],"mappings":"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","sourcesContent":["import OptionsStore from '../core/options-store';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport Rect from '../geometry/rect';\nimport Matrix from '../geometry/matrix';\nimport createTransform from '../geometry/transform';\nimport toMatrix from '../geometry/to-matrix';\nimport { Class } from '../common';\nimport { defined, definitionId, isTransparent, valueOrDefault } from '../util';\n\nvar Element = (function (Class) {\n    function Element(options) {\n        Class.call(this);\n\n        this._initOptions(options);\n    }\n\n    if ( Class ) Element.__proto__ = Class;\n    Element.prototype = Object.create( Class && Class.prototype );\n    Element.prototype.constructor = Element;\n\n    Element.prototype._initOptions = function _initOptions (options) {\n        if ( options === void 0 ) options = {};\n\n        var clip = options.clip;\n        var transform = options.transform;\n\n        if (transform) {\n            options.transform = createTransform(transform);\n        }\n\n        if (clip && !clip.id) {\n            clip.id = definitionId();\n        }\n\n        this.options = new OptionsStore(options);\n        this.options.addObserver(this);\n    };\n\n    Element.prototype.transform = function transform (value) {\n        if (defined(value)) {\n            this.options.set(\"transform\", createTransform(value));\n        } else {\n            return this.options.get(\"transform\");\n        }\n    };\n\n    Element.prototype.parentTransform = function parentTransform () {\n        var element = this;\n        var parentMatrix;\n\n        while (element.parent) {\n            element = element.parent;\n            var transformation = element.transform();\n            if (transformation) {\n                parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n            }\n        }\n\n        if (parentMatrix) {\n            return createTransform(parentMatrix);\n        }\n    };\n\n    Element.prototype.currentTransform = function currentTransform (parentTransform) {\n        if ( parentTransform === void 0 ) parentTransform = this.parentTransform();\n\n        var elementTransform = this.transform();\n        var elementMatrix = toMatrix(elementTransform);\n\n        var parentMatrix = toMatrix(parentTransform);\n        var combinedMatrix;\n\n        if (elementMatrix && parentMatrix) {\n            combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n        } else {\n            combinedMatrix = elementMatrix || parentMatrix;\n        }\n\n        if (combinedMatrix) {\n            return createTransform(combinedMatrix);\n        }\n    };\n\n    Element.prototype.visible = function visible (value) {\n        if (defined(value)) {\n            this.options.set(\"visible\", value);\n            return this;\n        }\n\n        return this.options.get(\"visible\") !== false;\n    };\n\n    Element.prototype.clip = function clip (value) {\n        var options = this.options;\n        if (defined(value)) {\n            if (value && !value.id) {\n                value.id = definitionId();\n            }\n            options.set(\"clip\", value);\n            return this;\n        }\n\n        return options.get(\"clip\");\n    };\n\n    Element.prototype.opacity = function opacity (value) {\n        if (defined(value)) {\n            this.options.set(\"opacity\", value);\n            return this;\n        }\n\n        return valueOrDefault(this.options.get(\"opacity\"), 1);\n    };\n\n    Element.prototype.clippedBBox = function clippedBBox (transformation) {\n        var bbox = this._clippedBBox(transformation);\n        if (bbox) {\n            var clip = this.clip();\n            return clip ? Rect.intersect(bbox, clip.bbox(transformation)) : bbox;\n        }\n    };\n\n    Element.prototype.containsPoint = function containsPoint (point, parentTransform) {\n        if (this.visible()) {\n            var transform = this.currentTransform(parentTransform);\n            var transformedPoint = point;\n            if (transform) {\n                transformedPoint = point.transformCopy(transform.matrix().invert());\n            }\n            return (this._hasFill() && this._containsPoint(transformedPoint)) || (this._isOnPath && this._hasStroke() && this._isOnPath(transformedPoint));\n        }\n        return false;\n    };\n\n    Element.prototype._hasFill = function _hasFill () {\n        var fill = this.options.fill;\n        return fill && !isTransparent(fill.color);\n    };\n\n    Element.prototype._hasStroke = function _hasStroke () {\n        var stroke = this.options.stroke;\n        return stroke && stroke.width > 0 && !isTransparent(stroke.color);\n    };\n\n    Element.prototype._clippedBBox = function _clippedBBox (transformation) {\n        return this.bbox(transformation);\n    };\n\n    return Element;\n}(Class));\n\nElement.prototype.nodeType = \"Element\";\n\nObserversMixin.extend(Element.prototype);\n\nexport default Element;\n"]},"metadata":{},"sourceType":"module"}