{"ast":null,"code":"import { Class } from '../common';\n\nvar LRUCache = function (Class) {\n  function LRUCache(size) {\n    Class.call(this);\n    this._size = size;\n    this._length = 0;\n    this._map = {};\n  }\n\n  if (Class) LRUCache.__proto__ = Class;\n  LRUCache.prototype = Object.create(Class && Class.prototype);\n  LRUCache.prototype.constructor = LRUCache;\n\n  LRUCache.prototype.put = function put(key, value) {\n    var map = this._map;\n    var entry = {\n      key: key,\n      value: value\n    };\n    map[key] = entry;\n\n    if (!this._head) {\n      this._head = this._tail = entry;\n    } else {\n      this._tail.newer = entry;\n      entry.older = this._tail;\n      this._tail = entry;\n    }\n\n    if (this._length >= this._size) {\n      map[this._head.key] = null;\n      this._head = this._head.newer;\n      this._head.older = null;\n    } else {\n      this._length++;\n    }\n  };\n\n  LRUCache.prototype.get = function get(key) {\n    var entry = this._map[key];\n\n    if (entry) {\n      if (entry === this._head && entry !== this._tail) {\n        this._head = entry.newer;\n        this._head.older = null;\n      }\n\n      if (entry !== this._tail) {\n        if (entry.older) {\n          entry.older.newer = entry.newer;\n          entry.newer.older = entry.older;\n        }\n\n        entry.older = this._tail;\n        entry.newer = null;\n        this._tail.newer = entry;\n        this._tail = entry;\n      }\n\n      return entry.value;\n    }\n  };\n\n  return LRUCache;\n}(Class);\n\nexport default LRUCache;","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/text-metrics/lru-cache.js"],"names":["Class","LRUCache","size","call","_size","_length","_map","__proto__","prototype","Object","create","constructor","put","key","value","map","entry","_head","_tail","newer","older","get"],"mappings":"AAAA,SAASA,KAAT,QAAsB,WAAtB;;AAEA,IAAIC,QAAQ,GAAI,UAAUD,KAAV,EAAiB;AAC7B,WAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACpBF,IAAAA,KAAK,CAACG,IAAN,CAAW,IAAX;AAEA,SAAKC,KAAL,GAAaF,IAAb;AACA,SAAKG,OAAL,GAAe,CAAf;AACA,SAAKC,IAAL,GAAY,EAAZ;AACH;;AAED,MAAKN,KAAL,EAAaC,QAAQ,CAACM,SAAT,GAAqBP,KAArB;AACbC,EAAAA,QAAQ,CAACO,SAAT,GAAqBC,MAAM,CAACC,MAAP,CAAeV,KAAK,IAAIA,KAAK,CAACQ,SAA9B,CAArB;AACAP,EAAAA,QAAQ,CAACO,SAAT,CAAmBG,WAAnB,GAAiCV,QAAjC;;AAEAA,EAAAA,QAAQ,CAACO,SAAT,CAAmBI,GAAnB,GAAyB,SAASA,GAAT,CAAcC,GAAd,EAAmBC,KAAnB,EAA0B;AAC/C,QAAIC,GAAG,GAAG,KAAKT,IAAf;AACA,QAAIU,KAAK,GAAG;AAAEH,MAAAA,GAAG,EAAEA,GAAP;AAAYC,MAAAA,KAAK,EAAEA;AAAnB,KAAZ;AAEAC,IAAAA,GAAG,CAACF,GAAD,CAAH,GAAWG,KAAX;;AAEA,QAAI,CAAC,KAAKC,KAAV,EAAiB;AACb,WAAKA,KAAL,GAAa,KAAKC,KAAL,GAAaF,KAA1B;AACH,KAFD,MAEO;AACH,WAAKE,KAAL,CAAWC,KAAX,GAAmBH,KAAnB;AACAA,MAAAA,KAAK,CAACI,KAAN,GAAc,KAAKF,KAAnB;AACA,WAAKA,KAAL,GAAaF,KAAb;AACH;;AAED,QAAI,KAAKX,OAAL,IAAgB,KAAKD,KAAzB,EAAgC;AAC5BW,MAAAA,GAAG,CAAC,KAAKE,KAAL,CAAWJ,GAAZ,CAAH,GAAsB,IAAtB;AACA,WAAKI,KAAL,GAAa,KAAKA,KAAL,CAAWE,KAAxB;AACA,WAAKF,KAAL,CAAWG,KAAX,GAAmB,IAAnB;AACH,KAJD,MAIO;AACH,WAAKf,OAAL;AACH;AACJ,GArBD;;AAuBAJ,EAAAA,QAAQ,CAACO,SAAT,CAAmBa,GAAnB,GAAyB,SAASA,GAAT,CAAcR,GAAd,EAAmB;AACxC,QAAIG,KAAK,GAAG,KAAKV,IAAL,CAAUO,GAAV,CAAZ;;AAEA,QAAIG,KAAJ,EAAW;AACP,UAAIA,KAAK,KAAK,KAAKC,KAAf,IAAwBD,KAAK,KAAK,KAAKE,KAA3C,EAAkD;AAC9C,aAAKD,KAAL,GAAaD,KAAK,CAACG,KAAnB;AACA,aAAKF,KAAL,CAAWG,KAAX,GAAmB,IAAnB;AACH;;AAED,UAAIJ,KAAK,KAAK,KAAKE,KAAnB,EAA0B;AACtB,YAAIF,KAAK,CAACI,KAAV,EAAiB;AACbJ,UAAAA,KAAK,CAACI,KAAN,CAAYD,KAAZ,GAAoBH,KAAK,CAACG,KAA1B;AACAH,UAAAA,KAAK,CAACG,KAAN,CAAYC,KAAZ,GAAoBJ,KAAK,CAACI,KAA1B;AACH;;AAEDJ,QAAAA,KAAK,CAACI,KAAN,GAAc,KAAKF,KAAnB;AACAF,QAAAA,KAAK,CAACG,KAAN,GAAc,IAAd;AAEA,aAAKD,KAAL,CAAWC,KAAX,GAAmBH,KAAnB;AACA,aAAKE,KAAL,GAAaF,KAAb;AACH;;AAED,aAAOA,KAAK,CAACF,KAAb;AACH;AACJ,GAxBD;;AA0BA,SAAOb,QAAP;AACH,CA/De,CA+DdD,KA/Dc,CAAhB;;AAiEA,eAAeC,QAAf","sourcesContent":["import { Class } from '../common';\n\nvar LRUCache = (function (Class) {\n    function LRUCache(size) {\n        Class.call(this);\n\n        this._size = size;\n        this._length = 0;\n        this._map = {};\n    }\n\n    if ( Class ) LRUCache.__proto__ = Class;\n    LRUCache.prototype = Object.create( Class && Class.prototype );\n    LRUCache.prototype.constructor = LRUCache;\n\n    LRUCache.prototype.put = function put (key, value) {\n        var map = this._map;\n        var entry = { key: key, value: value };\n\n        map[key] = entry;\n\n        if (!this._head) {\n            this._head = this._tail = entry;\n        } else {\n            this._tail.newer = entry;\n            entry.older = this._tail;\n            this._tail = entry;\n        }\n\n        if (this._length >= this._size) {\n            map[this._head.key] = null;\n            this._head = this._head.newer;\n            this._head.older = null;\n        } else {\n            this._length++;\n        }\n    };\n\n    LRUCache.prototype.get = function get (key) {\n        var entry = this._map[key];\n\n        if (entry) {\n            if (entry === this._head && entry !== this._tail) {\n                this._head = entry.newer;\n                this._head.older = null;\n            }\n\n            if (entry !== this._tail) {\n                if (entry.older) {\n                    entry.older.newer = entry.newer;\n                    entry.newer.older = entry.older;\n                }\n\n                entry.older = this._tail;\n                entry.newer = null;\n\n                this._tail.newer = entry;\n                this._tail = entry;\n            }\n\n            return entry.value;\n        }\n    };\n\n    return LRUCache;\n}(Class));\n\nexport default LRUCache;"]},"metadata":{},"sourceType":"module"}