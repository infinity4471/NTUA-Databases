{"ast":null,"code":"import ComplexNumber from './complex-number';\nimport { PRECISION } from '../constants';\nimport { round } from '../../util';\n\nfunction numberSign(x) {\n  return x < 0 ? -1 : 1;\n}\n\nfunction solveQuadraticEquation(a, b, c) {\n  var squareRoot = Math.sqrt(Math.pow(b, 2) - 4 * a * c);\n  return [(-b + squareRoot) / (2 * a), (-b - squareRoot) / (2 * a)];\n} //Cardano's formula\n\n\nexport default function solveCubicEquation(a, b, c, d) {\n  if (a === 0) {\n    return solveQuadraticEquation(b, c, d);\n  }\n\n  var p = (3 * a * c - Math.pow(b, 2)) / (3 * Math.pow(a, 2));\n  var q = (2 * Math.pow(b, 3) - 9 * a * b * c + 27 * Math.pow(a, 2) * d) / (27 * Math.pow(a, 3));\n  var Q = Math.pow(p / 3, 3) + Math.pow(q / 2, 2);\n  var i = new ComplexNumber(0, 1);\n  var b3a = -b / (3 * a);\n  var x1, x2, y1, y2, y3, z1, z2;\n\n  if (Q < 0) {\n    x1 = new ComplexNumber(-q / 2, Math.sqrt(-Q)).nthRoot(3);\n    x2 = new ComplexNumber(-q / 2, -Math.sqrt(-Q)).nthRoot(3);\n  } else {\n    x1 = -q / 2 + Math.sqrt(Q);\n    x1 = new ComplexNumber(numberSign(x1) * Math.pow(Math.abs(x1), 1 / 3));\n    x2 = -q / 2 - Math.sqrt(Q);\n    x2 = new ComplexNumber(numberSign(x2) * Math.pow(Math.abs(x2), 1 / 3));\n  }\n\n  y1 = x1.add(x2);\n  z1 = x1.add(x2).multiplyConstant(-1 / 2);\n  z2 = x1.add(x2.negate()).multiplyConstant(Math.sqrt(3) / 2);\n  y2 = z1.add(i.multiply(z2));\n  y3 = z1.add(i.negate().multiply(z2));\n  var result = [];\n\n  if (y1.isReal()) {\n    result.push(round(y1.real + b3a, PRECISION));\n  }\n\n  if (y2.isReal()) {\n    result.push(round(y2.real + b3a, PRECISION));\n  }\n\n  if (y3.isReal()) {\n    result.push(round(y3.real + b3a, PRECISION));\n  }\n\n  return result;\n}","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/geometry/math/solve-cubic-equation.js"],"names":["ComplexNumber","PRECISION","round","numberSign","x","solveQuadraticEquation","a","b","c","squareRoot","Math","sqrt","pow","solveCubicEquation","d","p","q","Q","i","b3a","x1","x2","y1","y2","y3","z1","z2","nthRoot","abs","add","multiplyConstant","negate","multiply","result","isReal","push","real"],"mappings":"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","sourcesContent":["import ComplexNumber from './complex-number';\nimport { PRECISION } from '../constants';\nimport { round } from '../../util';\n\nfunction numberSign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction solveQuadraticEquation(a, b, c) {\n    var squareRoot = Math.sqrt(Math.pow(b, 2) - 4 * a * c);\n    return [\n        (-b + squareRoot) / (2 * a),\n        (-b - squareRoot) / (2 * a)\n    ];\n}\n\n//Cardano's formula\nexport default function solveCubicEquation(a, b, c, d) {\n    if (a === 0) {\n        return solveQuadraticEquation(b, c, d);\n    }\n\n    var p = (3 * a * c - Math.pow(b, 2)) / (3 * Math.pow(a, 2));\n    var q = (2 * Math.pow(b, 3) - 9 * a * b * c + 27 * Math.pow(a, 2) * d) / (27 * Math.pow(a, 3));\n    var Q = Math.pow(p / 3, 3) + Math.pow(q / 2, 2);\n    var i = new ComplexNumber(0,1);\n    var b3a = -b / (3 * a);\n    var x1, x2, y1, y2, y3, z1, z2;\n\n    if (Q < 0) {\n        x1 = new ComplexNumber(-q / 2, Math.sqrt(-Q)).nthRoot(3);\n        x2 = new ComplexNumber(-q / 2, - Math.sqrt(-Q)).nthRoot(3);\n    } else {\n        x1 = -q / 2 + Math.sqrt(Q);\n        x1 = new ComplexNumber(numberSign(x1) * Math.pow(Math.abs(x1), 1 / 3));\n        x2 = -q / 2 - Math.sqrt(Q);\n        x2 = new ComplexNumber(numberSign(x2) * Math.pow(Math.abs(x2), 1 / 3));\n    }\n\n    y1 = x1.add(x2);\n\n    z1 = x1.add(x2).multiplyConstant(-1 / 2);\n    z2 = x1.add(x2.negate()).multiplyConstant(Math.sqrt(3) / 2);\n\n    y2 = z1.add(i.multiply(z2));\n    y3 = z1.add(i.negate().multiply(z2));\n\n    var result = [];\n\n    if (y1.isReal()) {\n        result.push(round(y1.real + b3a, PRECISION));\n    }\n    if (y2.isReal()) {\n        result.push(round(y2.real + b3a, PRECISION));\n    }\n    if (y3.isReal()) {\n        result.push(round(y3.real + b3a, PRECISION));\n    }\n\n    return result;\n}"]},"metadata":{},"sourceType":"module"}