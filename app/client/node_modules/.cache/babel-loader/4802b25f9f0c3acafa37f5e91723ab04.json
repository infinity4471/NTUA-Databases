{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n};\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { dispatchEvent } from '@progress/kendo-react-common';\nimport { tableColumnsVirtualization, Pager, mapColumns } from '@progress/kendo-react-data-tools';\nimport { GridSelectionCell } from './cells/GridSelectionCell';\nimport { GridHierarchyCell } from './cells/GridHierarchyCell';\nimport { GridEditCell } from './cells/GridEditCell';\nimport { Header } from './header/Header';\nimport { HeaderRow } from './header/HeaderRow';\nimport { FilterRow } from './header/FilterRow';\nimport { GroupPanel } from './header/GroupPanel';\nimport { Footer } from './footer/Footer';\nimport { VirtualScroll } from './VirtualScroll';\nimport { ColumnResize } from './drag/ColumnResize';\nimport { CommonDragLogic } from './drag/CommonDragLogic';\nimport { DragClue } from './drag/DragClue';\nimport { DropClue } from './drag/DropClue';\nimport { getNestedValue, flatData, readColumns, autoGenerateColumns } from './utils/index';\nimport { GridCell } from './cells/GridCell';\nimport { GridGroupCell } from './cells/GridGroupCell';\nimport { GridRow } from './rows/GridRow';\nimport { GridHeaderSelectionCell } from './header/GridHeaderSelectionCell';\nimport { GridNoRecords } from './GridNoRecords';\nimport { operators } from './filterCommon';\nimport { FooterRow } from './footer/FooterRow';\nimport { normalize } from './paging/GridPagerSettings';\nimport { pagerMessagesMap } from './messages';\n/**\n * Represents the [KendoReact Grid component]({% slug overview_grid %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    constructor(props) {\n *        super(props);\n *        this.state = {\n *            data: [\n *                { 'foo': 'A1', 'bar': 'B1' },\n *                { 'foo': 'A2', 'bar': 'B2' },\n *                { 'foo': 'A3', 'bar': 'B2' }\n *            ]\n *        };\n *    }\n *    render() {\n *        return (\n *            <Grid\n *                data={this.state.data}\n *                reorderable={true}\n *            >\n *                <GridColumn field=\"foo\" />\n *                <GridColumn field=\"bar\" />\n *            </Grid>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar Grid =\n/** @class */\nfunction (_super) {\n  __extends(Grid, _super);\n\n  function Grid(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._columns = [];\n    _this._columnsMap = [[]];\n    _this._header = null;\n    _this._footer = null;\n    _this.forceUpdateTimeout = undefined;\n\n    _this.scrollHandler = function (event) {\n      if (event.currentTarget !== event.currentTarget) {\n        return;\n      }\n\n      clearTimeout(_this.forceUpdateTimeout);\n\n      if (_this.props.columnVirtualization && !_this.vs.scrollableVirtual) {\n        _this.forceUpdateTimeout = setTimeout(function () {\n          _this.forceUpdate();\n        }, 0);\n      }\n\n      if (_this._header) {\n        _this._header.setScrollLeft(event.currentTarget.scrollLeft);\n      }\n\n      if (_this._footer) {\n        _this._footer.setScrollLeft(event.currentTarget.scrollLeft);\n      }\n\n      if (_this.vs) {\n        _this.vs.scrollHandler(event);\n      }\n\n      dispatchEvent(_this.props.onScroll, event, _this, undefined);\n    };\n\n    _this.rowClick = function (e, item) {\n      if (_this.props.onRowClick && e.target.nodeName === 'TD') {\n        _this.props.onRowClick.call(undefined, __assign({\n          dataItem: item.dataItem\n        }, _this.getArguments(e)));\n      }\n    };\n\n    _this.rowDblClick = function (e, item) {\n      if (_this.props.onRowDoubleClick && e.target.nodeName === 'TD') {\n        _this.props.onRowDoubleClick.call(undefined, __assign({\n          dataItem: item.dataItem\n        }, _this.getArguments(e)));\n      }\n    };\n\n    _this.itemChange = function (event) {\n      var itemChange = _this.props.onItemChange;\n\n      if (event.field === _this.props.expandField || _this.props.group && event.field === undefined) {\n        var expandChange = _this.props.onExpandChange;\n\n        if (expandChange) {\n          expandChange.call(undefined, __assign({}, _this.getArguments(event.syntheticEvent), {\n            dataItem: event.dataItem,\n            value: event.value\n          }));\n        }\n\n        return;\n      }\n\n      if (itemChange) {\n        itemChange.call(undefined, __assign({}, _this.getArguments(event.syntheticEvent), {\n          dataItem: event.dataItem,\n          field: event.field,\n          value: event.value\n        }));\n      }\n    };\n\n    _this.onHeaderSelectionChange = function (event) {\n      if (_this.props.onHeaderSelectionChange) {\n        _this.props.onHeaderSelectionChange.call(undefined, {\n          field: event.field,\n          nativeEvent: event.syntheticEvent && event.syntheticEvent.nativeEvent,\n          syntheticEvent: event.syntheticEvent,\n          target: _this\n        });\n      }\n    };\n\n    _this.pageChange = function (event) {\n      _this.raiseDataEvent(_this.props.onPageChange, {\n        page: {\n          skip: event.skip,\n          take: event.take\n        }\n      }, {\n        skip: event.skip,\n        take: event.take\n      }, event.syntheticEvent);\n    };\n\n    _this.sortChange = function (sort, syntheticEvent) {\n      _this.raiseDataEvent(_this.props.onSortChange, {\n        sort: sort\n      }, {\n        sort: sort\n      }, syntheticEvent);\n    };\n\n    _this.filterChange = function (filter, syntheticEvent) {\n      _this.raiseDataEvent(_this.props.onFilterChange, {\n        filter: filter\n      }, {\n        filter: filter,\n        skip: 0\n      }, syntheticEvent);\n    };\n\n    _this.groupChange = function (groups, event) {\n      var syntheticEvent = event.nativeEvent ? event : {\n        nativeEvent: event.nativeEvent || event.originalEvent\n      };\n\n      _this.raiseDataEvent(_this.props.onGroupChange, {\n        group: groups\n      }, {\n        group: groups,\n        skip: 0\n      }, syntheticEvent);\n    };\n\n    _this.resolveTitle = function (field) {\n      var column = _this._columns.find(function (c) {\n        return c.field === field;\n      });\n\n      var title = column && (column.title || column.field);\n      return title === undefined ? field : title;\n    };\n\n    var groupable = _this.props.groupable === true || typeof _this.props.groupable === 'object' && _this.props.groupable.enabled !== false;\n    _this.vs = new VirtualScroll(groupable || props.rowHeight === undefined || props.rowHeight === 0);\n    _this.dragLogic = new CommonDragLogic(_this.columnReorder.bind(_this), _this.groupReorder.bind(_this), _this.columnToGroup.bind(_this));\n    _this.columnResize = new ColumnResize(_this.onResize.bind(_this));\n    return _this;\n  }\n\n  Object.defineProperty(Grid.prototype, \"columns\", {\n    // tslint:disable:max-line-length\n\n    /**\n     * A getter of the current columns. Gets the current column width or current columns, or any other [`GridColumnProps`]({% slug api_grid_gridcolumnprops %}) for each defined column. Can be used on each Grid instance. To obtain the instance of the rendered Grid, use the `ref` callback. The following example demonstrates how to reorder the columns by dragging their handlers and check the properties afterwards. You can check the result in the browser console.\n     *\n     * @example\n     * ```jsx\n     * class App extends React.Component {\n     *     constructor(props) {\n     *         super(props);\n     *         this.state = {\n     *             data: [\n     *                 { 'foo': 'A1', 'bar': 'B1' },\n     *                 { 'foo': 'A2', 'bar': 'B2' },\n     *                 { 'foo': 'A3', 'bar': 'B2' }\n     *             ]\n     *         };\n     *         this.grid = null;\n     *     }\n     *     render() {\n     *         return (\n     *             <div>\n     *                 <Grid\n     *                     data={this.state.data}\n     *                     reorderable={true}\n     *                     ref={(g) => { this.grid = g; }}\n     *                 >\n     *                     <GridColumn field=\"foo\" />\n     *                     <GridColumn field=\"bar\" />\n     *                 </Grid>\n     *                 <button onClick={() => console.log(JSON.stringify(this.grid.columns))}>\n     *                     log current properties into browser console.\n     *                 </button>\n     *             </div>\n     *         );\n     *     }\n     * }\n     * ReactDOM.render(<App />, document.querySelector('my-app'));\n     * ```\n     */\n    // tslint:enable:max-line-length\n    get: function () {\n      var shuffledColumns = this._columns.filter(function (q) {\n        return q.declarationIndex >= 0 && q.parentIndex === -1;\n      });\n\n      var sanitize = function (columns) {\n        columns.sort(function (a, b) {\n          return a.declarationIndex - b.declarationIndex;\n        });\n        return columns.map(function (column) {\n          var declarationIndex = column.declarationIndex,\n              parentIndex = column.parentIndex,\n              depth = column.depth,\n              colSpan = column.colSpan,\n              rowSpan = column.rowSpan,\n              index = column.index,\n              kFirst = column.kFirst,\n              children = column.children,\n              props = __rest(column, [\"declarationIndex\", \"parentIndex\", \"depth\", \"colSpan\", \"rowSpan\", \"index\", \"kFirst\", \"children\"]);\n\n          return children.length ? __assign({\n            children: sanitize(children)\n          }, props) : props;\n        });\n      };\n\n      return sanitize(shuffledColumns);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  Grid.prototype.componentWillUnmount = function () {\n    clearTimeout(this.forceUpdateTimeout);\n    this.columnResize.columns = [];\n    this.dragLogic.columns = [];\n    this._columns = [];\n  };\n  /**\n   * @hidden\n   */\n\n\n  Grid.prototype.render = function () {\n    var _this = this;\n\n    var total = this.props.total || 0;\n    var propsData = [];\n\n    if (Array.isArray(this.props.data)) {\n      propsData = this.props.data;\n    } else if (this.props.data) {\n      propsData = this.props.data.data;\n      total = total || this.props.data.total;\n    }\n\n    var groupable = this.props.groupable === true || typeof this.props.groupable === 'object' && this.props.groupable.enabled !== false;\n    this.columnResize.resizable = this.props.resizable || false;\n    this.dragLogic.reorderable = this.props.reorderable || false;\n    this.dragLogic.groupable = groupable;\n\n    if (total !== this.vs.total) {\n      this.vs.reset();\n      this.vs = new VirtualScroll(groupable || this.props.rowHeight === undefined || this.props.rowHeight === 0);\n    }\n\n    this.vs.PageChange = this.pageChange;\n    this.vs.realSkip = this.props.skip || 0;\n    this.vs.pageSize = (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 0;\n    this.vs.scrollableVirtual = this.props.scrollable === 'virtual';\n    this.vs.total = total;\n    this.vs.propsSkip = (this.props.skip || 0) + (this.props.scrollable === 'virtual' ? this.vs.topCacheCount + (this.vs.attendedSkip - (this.props.skip || 0)) : 0);\n\n    if (this.props.rowHeight !== undefined && this.props.rowHeight > 0 && !groupable) {\n      this.vs.containerHeight = Math.min(1533915, this.props.rowHeight * (total || 0));\n    } else {\n      this.vs.containerHeight = 1533915;\n    }\n\n    var groupingFooter = typeof this.props.groupable === 'object' && this.props.groupable.footer || 'none';\n    var data = [];\n    var resolvedGroupsCount = flatData(data, propsData, groupingFooter, {\n      index: this.props.skip || 0\n    }, this.props.group !== undefined, this.props.expandField);\n    var children = React.Children.toArray(this.props.children);\n    this.initColumns(children.filter(function (child) {\n      return child && child.type.displayName === 'KendoReactGridColumn';\n    }), resolvedGroupsCount);\n    var toolbar = children.filter(function (child) {\n      return child && child.type.displayName === 'KendoReactGridToolbar';\n    });\n    var noRecords = children.filter(function (child) {\n      return child && child.type.displayName === 'KendoReactGridNoRecords';\n    });\n\n    var columnsWithColGroup = this._columns.filter(function (c) {\n      return c.children.length === 0;\n    });\n\n    var groupingPanel = groupable && React.createElement(GroupPanel, {\n      group: this.props.group || [],\n      groupChange: this.groupChange,\n      pressHandler: this.dragLogic.pressHandler,\n      dragHandler: this.dragLogic.dragHandler,\n      releaseHandler: this.dragLogic.releaseHandler,\n      refCallback: this.dragLogic.refGroupPanelDiv,\n      resolveTitle: this.resolveTitle\n    });\n    var clues = (this.dragLogic.reorderable || this.dragLogic.groupable) && document && document.body && [ReactDOM.createPortal(React.createElement(DropClue, {\n      ref: this.dragLogic.refDropElementClue\n    }), document.body), ReactDOM.createPortal(React.createElement(DragClue, {\n      ref: this.dragLogic.refDragElementClue\n    }), document.body)];\n    var header = React.createElement(Header, {\n      columnResize: this.columnResize,\n      staticHeaders: this.props.scrollable !== 'none',\n      scrollableDataElement: function () {\n        return _this.vs.container;\n      },\n      ref: function (h) {\n        _this._header = h;\n      },\n      headerRow: React.createElement(HeaderRow, {\n        sort: this.props.sort,\n        sortable: this.props.sortable,\n        sortChange: this.sortChange,\n        filter: this.props.filter,\n        filterable: this.props.filterable,\n        filterOperators: this.props.filterOperators || operators,\n        filterChange: this.filterChange,\n        columnMenu: this.props.columnMenu,\n        selectionChange: this.onHeaderSelectionChange,\n        columns: this._columns,\n        columnResize: this.columnResize,\n        pressHandler: this.dragLogic.pressHandler,\n        dragHandler: this.dragLogic.dragHandler,\n        releaseHandler: this.dragLogic.releaseHandler,\n        columnsMap: this._columnsMap,\n        cellRender: this.props.headerCellRender\n      }),\n      filterRow: this.props.filterable && React.createElement(FilterRow, {\n        columns: this._columns,\n        filter: this.props.filter,\n        filterOperators: this.props.filterOperators || operators,\n        filterChange: this.filterChange,\n        sort: this.props.sort,\n        cellRender: this.props.filterCellRender\n      }) || undefined,\n      cols: columnsWithColGroup.map(function (column, index) {\n        return React.createElement(\"col\", {\n          key: index.toString(),\n          width: column.width !== undefined ? Math.floor(parseFloat(column.width.toString())) + 'px' : undefined\n        });\n      })\n    });\n    var footer = this._columns.some(function (c) {\n      return Boolean(c.footerCell);\n    }) ? React.createElement(Footer, {\n      columnResize: this.columnResize,\n      staticHeaders: this.props.scrollable !== 'none',\n      ref: function (f) {\n        return _this._footer = f;\n      },\n      row: React.createElement(FooterRow, {\n        columns: this._columns\n      }),\n      cols: columnsWithColGroup.map(function (column, index) {\n        return React.createElement(\"col\", {\n          key: index.toString(),\n          width: column.width !== undefined ? Math.floor(parseFloat(column.width.toString())) + 'px' : undefined\n        });\n      })\n    }) : null;\n    var scrollLeft = this.vs && this.vs.container && this.vs.container.scrollLeft || 0;\n    var tableWidth = parseFloat(((this.props.style || {}).width || '').toString());\n\n    var _a = tableColumnsVirtualization({\n      enabled: this.props.columnVirtualization,\n      columns: this._columns,\n      tableViewPortWidth: tableWidth,\n      scrollLeft: scrollLeft\n    }),\n        colSpans = _a.colSpans,\n        isColHidden = _a.hiddenColumns;\n\n    var dataRow = function (item) {\n      var isInEdit = false;\n      return {\n        row: _this._columns.map(function (column, index) {\n          if (isColHidden[index]) {\n            return null;\n          }\n\n          var className = \"\" + (column.className ? column.className + ' ' : '') + (\"\" + (column.locked ? 'k-grid-content-sticky' : ''));\n          var cellProps = {\n            colSpan: colSpans[index],\n            dataItem: item.dataItem,\n            field: column.field,\n            editor: column.editor,\n            format: column.format,\n            className: className,\n            render: _this.props.cellRender,\n            onChange: _this.itemChange,\n            selectionChange: _this.props.onSelectionChange ? function (e) {\n              _this.selectionChange(e, item.dataItem);\n            } : undefined,\n            columnIndex: index,\n            columnsCount: _this._columns.filter(function (c) {\n              return !c.children.length;\n            }).length,\n            rowType: item.rowType,\n            level: item.level,\n            expanded: item.expanded,\n            dataIndex: item.dataIndex,\n            style: column.left !== undefined && {\n              left: column.left,\n              right: column.right,\n              borderRightWidth: column.rightBorder ? '1px' : ''\n            } || {}\n          };\n\n          if (column.cell) {\n            return React.createElement(column.cell, __assign({\n              key: index\n            }, cellProps));\n          }\n\n          if (column.editable && _this.props.editField) {\n            var inEdit = getNestedValue(_this.props.editField, item.dataItem);\n\n            if (inEdit === true || inEdit === column.field) {\n              isInEdit = true;\n              return React.createElement(GridEditCell, __assign({\n                key: index\n              }, cellProps));\n            }\n          }\n\n          return React.createElement(GridCell, __assign({\n            key: index\n          }, cellProps));\n        }),\n        isInEdit: isInEdit\n      };\n    };\n\n    var hiddenRows = 0;\n\n    if (this.props.scrollable === 'virtual') {\n      for (var i = 0; i < this.vs.topCacheCount + this.vs.attendedSkip - (this.props.skip || 0); i++) {\n        var item = data.shift();\n\n        if (item) {\n          data.push(item);\n          hiddenRows++;\n\n          if (item.rowType === 'groupHeader') {\n            i--;\n          }\n        } else {\n          break;\n        }\n      }\n    }\n\n    var hidden = function (index) {\n      return index >= data.length - hiddenRows;\n    };\n\n    var absoluteIndex = function (index) {\n      return index + (_this.vs.propsSkip || 0);\n    };\n\n    var absoluteDataIndex = this.vs.propsSkip || 0;\n    var body = data.length && data.map(function (item, index) {\n      if (item.rowType === 'data') {\n        absoluteDataIndex++;\n      }\n\n      var isAlt = absoluteDataIndex % 2 === 0;\n      var gridRow = dataRow(item);\n      return [React.createElement(GridRow, {\n        key: absoluteIndex(index) * 2,\n        dataItem: item.dataItem,\n        isAltRow: isAlt,\n        isInEdit: gridRow.isInEdit,\n        rowType: item.rowType,\n        isHidden: hidden(index),\n        onClick: function (e) {\n          return _this.rowClick(e, item);\n        },\n        onDoubleClick: function (e) {\n          return _this.rowDblClick(e, item);\n        },\n        selectedField: _this.props.selectedField,\n        rowHeight: _this.props.rowHeight,\n        render: _this.props.rowRender\n      }, gridRow.row), _this.props.detail && item.rowType === 'data' && item.expanded && React.createElement(\"tr\", {\n        key: absoluteIndex(index) * 2 + 1,\n        className: isAlt ? 'k-detail-row k-alt' : 'k-detail-row',\n        style: {\n          visibility: hidden(index) ? 'hidden' : ''\n        }\n      }, _this.props.group && _this.props.group.map(function (group, idx) {\n        return React.createElement(GridGroupCell, {\n          dataIndex: item.dataIndex,\n          field: group.field,\n          dataItem: item.dataItem,\n          key: idx,\n          style: {}\n        });\n      }), _this.props.expandField && React.createElement(\"td\", {\n        className: \"k-hierarchy-cell\"\n      }), React.createElement(\"td\", {\n        className: \"k-detail-cell\",\n        colSpan: _this._columns.filter(function (c) {\n          return !c.children.length;\n        }).length - (_this.props.expandField ? 1 : 0) - (_this.props.group ? _this.props.group.length : 0) || 1\n      }, React.createElement(_this.props.detail, {\n        dataItem: item.dataItem\n      })))];\n    }) || React.createElement(\"tr\", {\n      className: \"k-grid-norecords\"\n    }, React.createElement(\"td\", {\n      colSpan: this._columns.filter(function (c) {\n        return !c.children.length;\n      }).length\n    }, noRecords.length ? noRecords : React.createElement(GridNoRecords, null)));\n    var pager = this.props.pageable && React.createElement(Pager, __assign({\n      className: \"k-grid-pager\",\n      onPageChange: this.pageChange,\n      total: total,\n      skip: this.vs.propsSkip || 0,\n      take: (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 10,\n      messagesMap: pagerMessagesMap\n    }, normalize(this.props.pageable)));\n\n    var sorted = function (field) {\n      return _this.props.sort && _this.props.sort.filter(function (descriptor) {\n        return descriptor.field === field;\n      }).length > 0;\n    };\n\n    var colGroups = React.createElement(\"colgroup\", {\n      ref: function (c) {\n        _this.columnResize.colGroupMain = c;\n      },\n      role: \"presentation\"\n    }, columnsWithColGroup.map(function (column, index) {\n      return React.createElement(\"col\", {\n        key: index.toString(),\n        className: sorted(column.field) ? 'k-sorted' : undefined,\n        width: column.width !== undefined ? Math.floor(parseFloat(column.width.toString())) + 'px' : undefined\n      });\n    }));\n\n    if (this.props.scrollable === 'none') {\n      return React.createElement(\"div\", {\n        style: this.props.style,\n        className: 'k-widget k-grid ' + (this.props.className || '')\n      }, toolbar, groupingPanel, React.createElement(\"table\", {\n        ref: function (table) {\n          _this.vs.table = table;\n\n          _this.resetTableWidth();\n        }\n      }, colGroups, header, React.createElement(\"tbody\", null, body), footer), pager, clues);\n    }\n\n    var wrapperStyle = this.props.style || {};\n\n    if (this.props.scrollable === 'virtual') {\n      // Set the default height for vs if not existing.\n      if (!wrapperStyle.height) {\n        wrapperStyle = Object.assign({}, wrapperStyle, {\n          height: '450px'\n        });\n      }\n    }\n\n    return React.createElement(\"div\", {\n      style: wrapperStyle,\n      className: 'k-widget k-grid' + ((this.props.scrollable === 'virtual' ? ' k-grid-virtual ' : ' ') + (this.props.className || '')),\n      ref: function () {\n        _this.resetTableWidth();\n      },\n      role: \"grid\"\n    }, toolbar, groupingPanel, header, React.createElement(\"div\", {\n      className: \"k-grid-container\",\n      role: \"presentation\"\n    }, React.createElement(\"div\", {\n      ref: function (container) {\n        _this.vs.container = container;\n      },\n      className: \"k-grid-content k-virtual-content\",\n      onScroll: this.scrollHandler,\n      role: \"presentation\"\n    }, React.createElement(\"div\", {\n      style: {\n        'position': 'relative'\n      },\n      role: \"presentation\"\n    }, React.createElement(\"table\", {\n      className: 'k-grid-table',\n      ref: function (table) {\n        return _this.vs.table = table;\n      },\n      role: \"presentation\"\n    }, colGroups, React.createElement(\"tbody\", {\n      ref: function (tableBody) {\n        _this.vs.tableBody = tableBody;\n      },\n      role: \"presentation\"\n    }, body))), React.createElement(\"div\", {\n      className: \"k-height-container\",\n      role: \"presentation\"\n    }, React.createElement(\"div\", {\n      style: this.props.scrollable === 'virtual' ? {\n        'height': this.vs.containerHeight + 'px'\n      } : {}\n    })))), footer, pager, clues);\n  };\n\n  Grid.prototype.selectionChange = function (event, dataItem) {\n    if (this.props.onSelectionChange) {\n      this.props.onSelectionChange.call(undefined, __assign({}, this.getArguments(event.syntheticEvent), {\n        dataItem: dataItem\n      }));\n    }\n  };\n\n  Grid.prototype.raiseDataEvent = function (handler, data, moreData, syntheticEvent) {\n    var dataStateChange = this.props.onDataStateChange;\n\n    if (handler) {\n      handler.call(undefined, __assign({}, this.getArguments(syntheticEvent), data));\n    } else if (dataStateChange) {\n      dataStateChange.call(undefined, __assign({}, this.getArguments(syntheticEvent), {\n        data: __assign({}, this.getDataState(), moreData),\n        dataState: __assign({}, this.getDataState(), moreData)\n      }));\n    }\n  };\n\n  Grid.prototype.columnReorder = function (prev, next, nativeEvent) {\n    var _this = this;\n\n    var _a;\n\n    var depth = this._columns[prev].depth;\n\n    var end = function (index) {\n      do {\n        index++;\n      } while (index < _this._columns.length && _this._columns[index].depth > depth);\n\n      return index;\n    };\n\n    var spliced = this._columns.splice(prev, end(prev) - prev);\n\n    (_a = this._columns).splice.apply(_a, [prev < next ? end(next - spliced.length) : next, 0].concat(spliced));\n\n    this._columns.filter(function (q) {\n      return q.declarationIndex >= 0;\n    }).forEach(function (c, i) {\n      return c.orderIndex = i;\n    });\n\n    var eventColumnProps = this.columns;\n    this.forceUpdate();\n\n    if (this.props.onColumnReorder) {\n      this.props.onColumnReorder.call(undefined, {\n        target: this,\n        columns: eventColumnProps,\n        nativeEvent: nativeEvent\n      });\n    }\n  };\n\n  Grid.prototype.groupReorder = function (prevIndex, nextIndex, nativeEvent) {\n    if (this.props.group === undefined) {\n      return;\n    }\n\n    var group = this.props.group.slice();\n    group.splice.apply(group, [nextIndex, 0].concat(group.splice(prevIndex, 1)));\n    this.groupChange(group, nativeEvent);\n  };\n\n  Grid.prototype.columnToGroup = function (columnIndex, groupIndex, nativeEvent) {\n    var field = this._columns[columnIndex].field;\n\n    if (!field) {\n      return;\n    }\n\n    var group = (this.props.group || []).slice();\n    group.splice(groupIndex, 0, {\n      field: field\n    });\n    this.groupChange(group, nativeEvent);\n  };\n\n  Grid.prototype.resetTableWidth = function () {\n    var totalWidth = 0;\n\n    if (!this.columnResize.colGroupMain) {\n      return;\n    }\n\n    var colElements = this.columnResize.colGroupMain.children;\n\n    for (var i = 0; i < colElements.length; i++) {\n      var width = colElements[i].width;\n\n      if (!width) {\n        return;\n      }\n\n      totalWidth += parseFloat(width.toString());\n    }\n\n    totalWidth = Math.round(totalWidth);\n\n    if (this._header) {\n      this._header.setWidth(totalWidth);\n    }\n\n    if (this._footer) {\n      this._footer.setWidth(totalWidth);\n    }\n\n    if (this.vs.table) {\n      this.vs.table.style.width = totalWidth + 'px';\n    }\n  };\n\n  Grid.prototype.onResize = function (index, newWidth, oldWidth, nativeEvent, end) {\n    this.resetTableWidth();\n\n    if (this.props.onColumnResize) {\n      this.props.onColumnResize.call(undefined, {\n        columns: this.columns,\n        index: index,\n        nativeEvent: nativeEvent,\n        newWidth: newWidth,\n        oldWidth: oldWidth,\n        end: end,\n        target: this\n      });\n    }\n  };\n\n  Grid.prototype.initColumns = function (columnElements, groupCount) {\n    var _this = this;\n\n    this._columns = readColumns(columnElements, this.columns);\n\n    if (this._columns.length === 0) {\n      this._columns = autoGenerateColumns(this.props.data, this.props.group, this.props.expandField);\n    }\n\n    if (this.props.selectedField) {\n      this._columns.filter(function (c) {\n        return c.field === _this.props.selectedField;\n      }).forEach(function (c) {\n        c.width = c.width || '50px';\n        c.cell = c.cell || GridSelectionCell;\n        c.headerCell = c.headerCell || GridHeaderSelectionCell;\n      });\n    }\n\n    var defaultServiceProps = {\n      resizable: true,\n      width: '32px',\n      title: ' ',\n      declarationIndex: -1,\n      orderIndex: -1,\n      children: [],\n      parentIndex: -1,\n      depth: 0,\n      colSpan: 0,\n      rowSpan: 0,\n      left: 0,\n      right: 0,\n      index: 0,\n      rightBorder: false\n    };\n    var columnIndexOffset = 0;\n\n    if (this.props.expandField && this.props.onExpandChange && this.props.detail) {\n      this._columns.unshift(__assign({}, defaultServiceProps, {\n        cell: GridHierarchyCell,\n        field: this.props.expandField,\n        headerClassName: 'k-hierarchy-cell k-header'\n      }));\n\n      columnIndexOffset++;\n    }\n\n    for (var i = 0; i < groupCount; i++) {\n      this._columns.unshift(__assign({}, defaultServiceProps, {\n        cell: GridGroupCell,\n        field: 'value'\n      }));\n\n      columnIndexOffset++;\n    }\n\n    this._columns.slice(columnIndexOffset).forEach(function (c) {\n      return c.parentIndex >= 0 && (c.parentIndex += columnIndexOffset);\n    });\n\n    this._columnsMap = mapColumns(this._columns);\n    this.columnResize.columns = this._columns;\n    this.dragLogic.columns = this._columns;\n  };\n\n  Grid.prototype.getDataState = function () {\n    return {\n      filter: this.props.filter,\n      sort: this.props.sort,\n      skip: this.props.skip,\n      take: this.props.take !== undefined ? this.props.take : this.props.pageSize,\n      group: this.props.group\n    };\n  };\n\n  Grid.prototype.getArguments = function (syntheticEvent) {\n    return {\n      nativeEvent: syntheticEvent && syntheticEvent.nativeEvent,\n      syntheticEvent: syntheticEvent,\n      target: this\n    };\n  };\n  /**\n   * @hidden\n   */\n\n\n  Grid.displayName = 'KendoReactGrid';\n  /**\n   * @hidden\n   */\n\n  Grid.defaultProps = {// never use this\n  };\n  /**\n   * @hidden\n   */\n\n  Grid.propTypes = {\n    data: PropTypes.oneOfType([PropTypes.array, PropTypes.shape({\n      data: PropTypes.array,\n      total: PropTypes.number\n    })]),\n    sortable: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n      mode: PropTypes.oneOf(['single', 'multiple']),\n      allowUnsort: PropTypes.bool\n    })]),\n    onSortChange: PropTypes.func,\n    sort: PropTypes.array,\n    filterable: PropTypes.bool,\n    filter: PropTypes.any,\n    onFilterChange: PropTypes.func,\n    pageable: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n      buttonCount: PropTypes.number,\n      info: PropTypes.bool,\n      type: PropTypes.oneOf(['numeric', 'input']),\n      pageSizes: PropTypes.oneOfType([PropTypes.bool, PropTypes.arrayOf(PropTypes.number)]),\n      previousNext: PropTypes.bool\n    })]),\n    pageSize: PropTypes.number,\n    onPageChange: PropTypes.func,\n    total: PropTypes.number,\n    skip: PropTypes.number,\n    take: PropTypes.number,\n    onExpandChange: PropTypes.func,\n    expandField: PropTypes.string,\n    selectedField: PropTypes.string,\n    onSelectionChange: PropTypes.func,\n    onHeaderSelectionChange: PropTypes.func,\n    resizable: PropTypes.bool,\n    reorderable: PropTypes.bool,\n    group: PropTypes.any,\n    groupable: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n      enabled: PropTypes.bool,\n      footer: PropTypes.oneOf(['always', 'visible', 'none'])\n    })]),\n    onGroupChange: PropTypes.func,\n    onRowClick: PropTypes.func,\n    onRowDoubleClick: PropTypes.func,\n    onItemChange: PropTypes.func,\n    editField: PropTypes.string,\n    scrollable: PropTypes.oneOf(['none', 'scrollable', 'virtual']),\n    rowHeight: PropTypes.number,\n    detail: PropTypes.any,\n    style: PropTypes.object,\n    onDataStateChange: PropTypes.func,\n    onColumnResize: PropTypes.func,\n    onColumnReorder: PropTypes.func\n  };\n  return Grid;\n}(React.Component);\n\nexport { Grid };","map":{"version":3,"sources":["../../src/Grid.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { dispatchEvent } from '@progress/kendo-react-common';\nimport { tableColumnsVirtualization, Pager, mapColumns } from '@progress/kendo-react-data-tools';\nimport { GridSelectionCell } from './cells/GridSelectionCell';\nimport { GridHierarchyCell } from './cells/GridHierarchyCell';\nimport { GridEditCell } from './cells/GridEditCell';\nimport { Header } from './header/Header';\nimport { HeaderRow } from './header/HeaderRow';\nimport { FilterRow } from './header/FilterRow';\nimport { GroupPanel } from './header/GroupPanel';\nimport { Footer } from './footer/Footer';\nimport { VirtualScroll } from './VirtualScroll';\nimport { ColumnResize } from './drag/ColumnResize';\nimport { CommonDragLogic } from './drag/CommonDragLogic';\nimport { DragClue } from './drag/DragClue';\nimport { DropClue } from './drag/DropClue';\nimport { getNestedValue, flatData, readColumns, autoGenerateColumns } from './utils/index';\nimport { GridCell } from './cells/GridCell';\nimport { GridGroupCell } from './cells/GridGroupCell';\nimport { GridRow } from './rows/GridRow';\nimport { GridHeaderSelectionCell } from './header/GridHeaderSelectionCell';\nimport { GridNoRecords } from './GridNoRecords';\nimport { operators } from './filterCommon';\nimport { FooterRow } from './footer/FooterRow';\nimport { normalize } from './paging/GridPagerSettings';\nimport { pagerMessagesMap } from './messages';\n/**\n * Represents the [KendoReact Grid component]({% slug overview_grid %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    constructor(props) {\n *        super(props);\n *        this.state = {\n *            data: [\n *                { 'foo': 'A1', 'bar': 'B1' },\n *                { 'foo': 'A2', 'bar': 'B2' },\n *                { 'foo': 'A3', 'bar': 'B2' }\n *            ]\n *        };\n *    }\n *    render() {\n *        return (\n *            <Grid\n *                data={this.state.data}\n *                reorderable={true}\n *            >\n *                <GridColumn field=\"foo\" />\n *                <GridColumn field=\"bar\" />\n *            </Grid>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar Grid = /** @class */ (function (_super) {\n    __extends(Grid, _super);\n    function Grid(props) {\n        var _this = _super.call(this, props) || this;\n        _this._columns = [];\n        _this._columnsMap = [[]];\n        _this._header = null;\n        _this._footer = null;\n        _this.forceUpdateTimeout = undefined;\n        _this.scrollHandler = function (event) {\n            if (event.currentTarget !== event.currentTarget) {\n                return;\n            }\n            clearTimeout(_this.forceUpdateTimeout);\n            if (_this.props.columnVirtualization && !_this.vs.scrollableVirtual) {\n                _this.forceUpdateTimeout = setTimeout(function () { _this.forceUpdate(); }, 0);\n            }\n            if (_this._header) {\n                _this._header.setScrollLeft(event.currentTarget.scrollLeft);\n            }\n            if (_this._footer) {\n                _this._footer.setScrollLeft(event.currentTarget.scrollLeft);\n            }\n            if (_this.vs) {\n                _this.vs.scrollHandler(event);\n            }\n            dispatchEvent(_this.props.onScroll, event, _this, undefined);\n        };\n        _this.rowClick = function (e, item) {\n            if (_this.props.onRowClick && e.target.nodeName === 'TD') {\n                _this.props.onRowClick.call(undefined, __assign({ dataItem: item.dataItem }, _this.getArguments(e)));\n            }\n        };\n        _this.rowDblClick = function (e, item) {\n            if (_this.props.onRowDoubleClick && e.target.nodeName === 'TD') {\n                _this.props.onRowDoubleClick.call(undefined, __assign({ dataItem: item.dataItem }, _this.getArguments(e)));\n            }\n        };\n        _this.itemChange = function (event) {\n            var itemChange = _this.props.onItemChange;\n            if (event.field === _this.props.expandField || _this.props.group && event.field === undefined) {\n                var expandChange = _this.props.onExpandChange;\n                if (expandChange) {\n                    expandChange.call(undefined, __assign({}, _this.getArguments(event.syntheticEvent), { dataItem: event.dataItem, value: event.value }));\n                }\n                return;\n            }\n            if (itemChange) {\n                itemChange.call(undefined, __assign({}, _this.getArguments(event.syntheticEvent), { dataItem: event.dataItem, field: event.field, value: event.value }));\n            }\n        };\n        _this.onHeaderSelectionChange = function (event) {\n            if (_this.props.onHeaderSelectionChange) {\n                _this.props.onHeaderSelectionChange.call(undefined, {\n                    field: event.field,\n                    nativeEvent: event.syntheticEvent && event.syntheticEvent.nativeEvent,\n                    syntheticEvent: event.syntheticEvent,\n                    target: _this\n                });\n            }\n        };\n        _this.pageChange = function (event) {\n            _this.raiseDataEvent(_this.props.onPageChange, { page: { skip: event.skip, take: event.take } }, { skip: event.skip, take: event.take }, event.syntheticEvent);\n        };\n        _this.sortChange = function (sort, syntheticEvent) {\n            _this.raiseDataEvent(_this.props.onSortChange, { sort: sort }, { sort: sort }, syntheticEvent);\n        };\n        _this.filterChange = function (filter, syntheticEvent) {\n            _this.raiseDataEvent(_this.props.onFilterChange, { filter: filter }, { filter: filter, skip: 0 }, syntheticEvent);\n        };\n        _this.groupChange = function (groups, event) {\n            var syntheticEvent = event.nativeEvent ?\n                event : { nativeEvent: event.nativeEvent || event.originalEvent };\n            _this.raiseDataEvent(_this.props.onGroupChange, { group: groups }, { group: groups, skip: 0 }, syntheticEvent);\n        };\n        _this.resolveTitle = function (field) {\n            var column = _this._columns.find(function (c) { return c.field === field; });\n            var title = column && (column.title || column.field);\n            return title === undefined ? field : title;\n        };\n        var groupable = _this.props.groupable === true ||\n            (typeof _this.props.groupable === 'object') && _this.props.groupable.enabled !== false;\n        _this.vs = new VirtualScroll(groupable || props.rowHeight === undefined || props.rowHeight === 0);\n        _this.dragLogic = new CommonDragLogic(_this.columnReorder.bind(_this), _this.groupReorder.bind(_this), _this.columnToGroup.bind(_this));\n        _this.columnResize = new ColumnResize(_this.onResize.bind(_this));\n        return _this;\n    }\n    Object.defineProperty(Grid.prototype, \"columns\", {\n        // tslint:disable:max-line-length\n        /**\n         * A getter of the current columns. Gets the current column width or current columns, or any other [`GridColumnProps`]({% slug api_grid_gridcolumnprops %}) for each defined column. Can be used on each Grid instance. To obtain the instance of the rendered Grid, use the `ref` callback. The following example demonstrates how to reorder the columns by dragging their handlers and check the properties afterwards. You can check the result in the browser console.\n         *\n         * @example\n         * ```jsx\n         * class App extends React.Component {\n         *     constructor(props) {\n         *         super(props);\n         *         this.state = {\n         *             data: [\n         *                 { 'foo': 'A1', 'bar': 'B1' },\n         *                 { 'foo': 'A2', 'bar': 'B2' },\n         *                 { 'foo': 'A3', 'bar': 'B2' }\n         *             ]\n         *         };\n         *         this.grid = null;\n         *     }\n         *     render() {\n         *         return (\n         *             <div>\n         *                 <Grid\n         *                     data={this.state.data}\n         *                     reorderable={true}\n         *                     ref={(g) => { this.grid = g; }}\n         *                 >\n         *                     <GridColumn field=\"foo\" />\n         *                     <GridColumn field=\"bar\" />\n         *                 </Grid>\n         *                 <button onClick={() => console.log(JSON.stringify(this.grid.columns))}>\n         *                     log current properties into browser console.\n         *                 </button>\n         *             </div>\n         *         );\n         *     }\n         * }\n         * ReactDOM.render(<App />, document.querySelector('my-app'));\n         * ```\n         */\n        // tslint:enable:max-line-length\n        get: function () {\n            var shuffledColumns = this._columns.filter(function (q) { return q.declarationIndex >= 0 && q.parentIndex === -1; });\n            var sanitize = function (columns) {\n                columns.sort(function (a, b) { return a.declarationIndex - b.declarationIndex; });\n                return columns.map(function (column) {\n                    var declarationIndex = column.declarationIndex, parentIndex = column.parentIndex, depth = column.depth, colSpan = column.colSpan, rowSpan = column.rowSpan, index = column.index, kFirst = column.kFirst, children = column.children, props = __rest(column, [\"declarationIndex\", \"parentIndex\", \"depth\", \"colSpan\", \"rowSpan\", \"index\", \"kFirst\", \"children\"]);\n                    return children.length ? __assign({ children: sanitize(children) }, props) : props;\n                });\n            };\n            return sanitize(shuffledColumns);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Grid.prototype.componentWillUnmount = function () {\n        clearTimeout(this.forceUpdateTimeout);\n        this.columnResize.columns = [];\n        this.dragLogic.columns = [];\n        this._columns = [];\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.render = function () {\n        var _this = this;\n        var total = this.props.total || 0;\n        var propsData = [];\n        if (Array.isArray(this.props.data)) {\n            propsData = this.props.data;\n        }\n        else if (this.props.data) {\n            propsData = this.props.data.data;\n            total = total || this.props.data.total;\n        }\n        var groupable = this.props.groupable === true ||\n            (typeof this.props.groupable === 'object') && this.props.groupable.enabled !== false;\n        this.columnResize.resizable = this.props.resizable || false;\n        this.dragLogic.reorderable = this.props.reorderable || false;\n        this.dragLogic.groupable = groupable;\n        if (total !== this.vs.total) {\n            this.vs.reset();\n            this.vs = new VirtualScroll(groupable || this.props.rowHeight === undefined || this.props.rowHeight === 0);\n        }\n        this.vs.PageChange = this.pageChange;\n        this.vs.realSkip = this.props.skip || 0;\n        this.vs.pageSize = (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 0;\n        this.vs.scrollableVirtual = (this.props.scrollable === 'virtual');\n        this.vs.total = total;\n        this.vs.propsSkip = (this.props.skip || 0) + (this.props.scrollable === 'virtual' ?\n            this.vs.topCacheCount + (this.vs.attendedSkip - (this.props.skip || 0)) : 0);\n        if (this.props.rowHeight !== undefined && this.props.rowHeight > 0 && !groupable) {\n            this.vs.containerHeight = Math.min(1533915, this.props.rowHeight * (total || 0));\n        }\n        else {\n            this.vs.containerHeight = 1533915;\n        }\n        var groupingFooter = (typeof this.props.groupable === 'object') && this.props.groupable.footer || 'none';\n        var data = [];\n        var resolvedGroupsCount = flatData(data, propsData, groupingFooter, { index: this.props.skip || 0 }, this.props.group !== undefined, this.props.expandField);\n        var children = React.Children.toArray(this.props.children);\n        this.initColumns(children.filter(function (child) { return child &&\n            child.type.displayName === 'KendoReactGridColumn'; }), resolvedGroupsCount);\n        var toolbar = children.filter(function (child) { return child &&\n            child.type.displayName === 'KendoReactGridToolbar'; });\n        var noRecords = children.filter(function (child) { return child &&\n            child.type.displayName === 'KendoReactGridNoRecords'; });\n        var columnsWithColGroup = this._columns.filter(function (c) { return c.children.length === 0; });\n        var groupingPanel = groupable && (React.createElement(GroupPanel, { group: this.props.group || [], groupChange: this.groupChange, pressHandler: this.dragLogic.pressHandler, dragHandler: this.dragLogic.dragHandler, releaseHandler: this.dragLogic.releaseHandler, refCallback: this.dragLogic.refGroupPanelDiv, resolveTitle: this.resolveTitle }));\n        var clues = (this.dragLogic.reorderable || this.dragLogic.groupable) && document && document.body && [\n            ReactDOM.createPortal(React.createElement(DropClue, { ref: this.dragLogic.refDropElementClue }), document.body),\n            ReactDOM.createPortal(React.createElement(DragClue, { ref: this.dragLogic.refDragElementClue }), document.body)\n        ];\n        var header = (React.createElement(Header, { columnResize: this.columnResize, staticHeaders: this.props.scrollable !== 'none', scrollableDataElement: function () { return _this.vs.container; }, ref: function (h) { _this._header = h; }, headerRow: React.createElement(HeaderRow, { sort: this.props.sort, sortable: this.props.sortable, sortChange: this.sortChange, filter: this.props.filter, filterable: this.props.filterable, filterOperators: this.props.filterOperators || operators, filterChange: this.filterChange, columnMenu: this.props.columnMenu, selectionChange: this.onHeaderSelectionChange, columns: this._columns, columnResize: this.columnResize, pressHandler: this.dragLogic.pressHandler, dragHandler: this.dragLogic.dragHandler, releaseHandler: this.dragLogic.releaseHandler, columnsMap: this._columnsMap, cellRender: this.props.headerCellRender }), filterRow: this.props.filterable && React.createElement(FilterRow, { columns: this._columns, filter: this.props.filter, filterOperators: this.props.filterOperators || operators, filterChange: this.filterChange, sort: this.props.sort, cellRender: this.props.filterCellRender }) || undefined, cols: columnsWithColGroup.map(function (column, index) { return React.createElement(\"col\", { key: index.toString(), width: column.width !== undefined ?\n                    Math.floor(parseFloat(column.width.toString())) + 'px' : undefined }); }) }));\n        var footer = this._columns.some(function (c) { return Boolean(c.footerCell); }) ? (React.createElement(Footer, { columnResize: this.columnResize, staticHeaders: this.props.scrollable !== 'none', ref: function (f) { return _this._footer = f; }, row: React.createElement(FooterRow, { columns: this._columns }), cols: columnsWithColGroup.map(function (column, index) { return React.createElement(\"col\", { key: index.toString(), width: column.width !== undefined ?\n                    Math.floor(parseFloat(column.width.toString())) + 'px' : undefined }); }) })) : null;\n        var scrollLeft = this.vs && this.vs.container && this.vs.container.scrollLeft || 0;\n        var tableWidth = parseFloat(((this.props.style || {}).width || '').toString());\n        var _a = tableColumnsVirtualization({\n            enabled: this.props.columnVirtualization,\n            columns: this._columns,\n            tableViewPortWidth: tableWidth,\n            scrollLeft: scrollLeft\n        }), colSpans = _a.colSpans, isColHidden = _a.hiddenColumns;\n        var dataRow = function (item) {\n            var isInEdit = false;\n            return {\n                row: _this._columns.map(function (column, index) {\n                    if (isColHidden[index]) {\n                        return null;\n                    }\n                    var className = \"\" + (column.className ? column.className + ' ' : '')\n                        + (\"\" + (column.locked ? 'k-grid-content-sticky' : ''));\n                    var cellProps = {\n                        colSpan: colSpans[index],\n                        dataItem: item.dataItem,\n                        field: column.field,\n                        editor: column.editor,\n                        format: column.format,\n                        className: className,\n                        render: _this.props.cellRender,\n                        onChange: _this.itemChange,\n                        selectionChange: (_this.props.onSelectionChange) ? (function (e) {\n                            _this.selectionChange(e, item.dataItem);\n                        }) : undefined,\n                        columnIndex: index,\n                        columnsCount: _this._columns.filter(function (c) { return !c.children.length; }).length,\n                        rowType: item.rowType,\n                        level: item.level,\n                        expanded: item.expanded,\n                        dataIndex: item.dataIndex,\n                        style: (column.left !== undefined) && {\n                            left: column.left,\n                            right: column.right,\n                            borderRightWidth: column.rightBorder ? '1px' : ''\n                        } || {}\n                    };\n                    if (column.cell) {\n                        return React.createElement(column.cell, __assign({ key: index }, cellProps));\n                    }\n                    if (column.editable && _this.props.editField) {\n                        var inEdit = getNestedValue(_this.props.editField, item.dataItem);\n                        if (inEdit === true || inEdit === column.field) {\n                            isInEdit = true;\n                            return React.createElement(GridEditCell, __assign({ key: index }, cellProps));\n                        }\n                    }\n                    return React.createElement(GridCell, __assign({ key: index }, cellProps));\n                }),\n                isInEdit: isInEdit\n            };\n        };\n        var hiddenRows = 0;\n        if (this.props.scrollable === 'virtual') {\n            for (var i = 0; i < this.vs.topCacheCount + this.vs.attendedSkip - (this.props.skip || 0); i++) {\n                var item = data.shift();\n                if (item) {\n                    data.push(item);\n                    hiddenRows++;\n                    if (item.rowType === 'groupHeader') {\n                        i--;\n                    }\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var hidden = function (index) { return (index >= data.length - hiddenRows); };\n        var absoluteIndex = function (index) { return index + (_this.vs.propsSkip || 0); };\n        var absoluteDataIndex = this.vs.propsSkip || 0;\n        var body = data.length && data.map(function (item, index) {\n            if (item.rowType === 'data') {\n                absoluteDataIndex++;\n            }\n            var isAlt = absoluteDataIndex % 2 === 0;\n            var gridRow = dataRow(item);\n            return [(React.createElement(GridRow, { key: absoluteIndex(index) * 2, dataItem: item.dataItem, isAltRow: isAlt, isInEdit: gridRow.isInEdit, rowType: item.rowType, isHidden: hidden(index), onClick: function (e) { return _this.rowClick(e, item); }, onDoubleClick: function (e) { return _this.rowDblClick(e, item); }, selectedField: _this.props.selectedField, rowHeight: _this.props.rowHeight, render: _this.props.rowRender }, gridRow.row)),\n                _this.props.detail && item.rowType === 'data' && item.expanded && (React.createElement(\"tr\", { key: absoluteIndex(index) * 2 + 1, className: isAlt ? 'k-detail-row k-alt' : 'k-detail-row', style: { visibility: hidden(index) ? 'hidden' : '' } },\n                    _this.props.group && _this.props.group.map(function (group, idx) {\n                        return (React.createElement(GridGroupCell, { dataIndex: item.dataIndex, field: group.field, dataItem: item.dataItem, key: idx, style: {} }));\n                    }),\n                    _this.props.expandField && React.createElement(\"td\", { className: \"k-hierarchy-cell\" }),\n                    React.createElement(\"td\", { className: \"k-detail-cell\", colSpan: (_this._columns.filter(function (c) { return !c.children.length; }).length\n                            - (_this.props.expandField ? 1 : 0)\n                            - (_this.props.group ? _this.props.group.length : 0)) || 1 },\n                        React.createElement(_this.props.detail, { dataItem: item.dataItem }))))\n            ];\n        }) || (React.createElement(\"tr\", { className: \"k-grid-norecords\" },\n            React.createElement(\"td\", { colSpan: this._columns.filter(function (c) { return !c.children.length; }).length }, noRecords.length ? noRecords : React.createElement(GridNoRecords, null))));\n        var pager = this.props.pageable && (React.createElement(Pager, __assign({ className: \"k-grid-pager\", onPageChange: this.pageChange, total: total, skip: this.vs.propsSkip || 0, take: (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 10, messagesMap: pagerMessagesMap }, (normalize(this.props.pageable)))));\n        var sorted = function (field) {\n            return _this.props.sort && _this.props.sort.filter(function (descriptor) { return descriptor.field === field; }).length > 0;\n        };\n        var colGroups = (React.createElement(\"colgroup\", { ref: function (c) { _this.columnResize.colGroupMain = c; }, role: \"presentation\" }, columnsWithColGroup.map(function (column, index) { return (React.createElement(\"col\", { key: index.toString(), className: sorted(column.field) ? 'k-sorted' : undefined, width: column.width !== undefined ?\n                Math.floor(parseFloat(column.width.toString())) + 'px' : undefined })); })));\n        if (this.props.scrollable === 'none') {\n            return (React.createElement(\"div\", { style: this.props.style, className: 'k-widget k-grid ' + (this.props.className || '') },\n                toolbar,\n                groupingPanel,\n                React.createElement(\"table\", { ref: function (table) {\n                        _this.vs.table = table;\n                        _this.resetTableWidth();\n                    } },\n                    colGroups,\n                    header,\n                    React.createElement(\"tbody\", null, body),\n                    footer),\n                pager,\n                clues));\n        }\n        var wrapperStyle = this.props.style || {};\n        if (this.props.scrollable === 'virtual') {\n            // Set the default height for vs if not existing.\n            if (!wrapperStyle.height) {\n                wrapperStyle = Object.assign({}, wrapperStyle, { height: '450px' });\n            }\n        }\n        return (React.createElement(\"div\", { style: wrapperStyle, className: 'k-widget k-grid' +\n                ((this.props.scrollable === 'virtual' ? ' k-grid-virtual ' : ' ') +\n                    (this.props.className || '')), ref: function () {\n                _this.resetTableWidth();\n            }, role: \"grid\" },\n            toolbar,\n            groupingPanel,\n            header,\n            React.createElement(\"div\", { className: \"k-grid-container\", role: \"presentation\" },\n                React.createElement(\"div\", { ref: function (container) { _this.vs.container = container; }, className: \"k-grid-content k-virtual-content\", onScroll: this.scrollHandler, role: \"presentation\" },\n                    React.createElement(\"div\", { style: { 'position': 'relative' }, role: \"presentation\" },\n                        React.createElement(\"table\", { className: 'k-grid-table', ref: function (table) { return _this.vs.table = table; }, role: \"presentation\" },\n                            colGroups,\n                            React.createElement(\"tbody\", { ref: function (tableBody) { _this.vs.tableBody = tableBody; }, role: \"presentation\" }, body))),\n                    React.createElement(\"div\", { className: \"k-height-container\", role: \"presentation\" },\n                        React.createElement(\"div\", { style: this.props.scrollable === 'virtual' ?\n                                { 'height': (this.vs.containerHeight) + 'px' } : {} })))),\n            footer,\n            pager,\n            clues));\n    };\n    Grid.prototype.selectionChange = function (event, dataItem) {\n        if (this.props.onSelectionChange) {\n            this.props.onSelectionChange.call(undefined, __assign({}, this.getArguments(event.syntheticEvent), { dataItem: dataItem }));\n        }\n    };\n    Grid.prototype.raiseDataEvent = function (handler, data, moreData, syntheticEvent) {\n        var dataStateChange = this.props.onDataStateChange;\n        if (handler) {\n            handler.call(undefined, __assign({}, this.getArguments(syntheticEvent), data));\n        }\n        else if (dataStateChange) {\n            dataStateChange.call(undefined, __assign({}, this.getArguments(syntheticEvent), { data: __assign({}, this.getDataState(), moreData), dataState: __assign({}, this.getDataState(), moreData) }));\n        }\n    };\n    Grid.prototype.columnReorder = function (prev, next, nativeEvent) {\n        var _this = this;\n        var _a;\n        var depth = this._columns[prev].depth;\n        var end = function (index) {\n            do {\n                index++;\n            } while (index < _this._columns.length && _this._columns[index].depth > depth);\n            return index;\n        };\n        var spliced = this._columns.splice(prev, end(prev) - prev);\n        (_a = this._columns).splice.apply(_a, [prev < next ? end(next - spliced.length) : next, 0].concat(spliced));\n        this._columns.filter(function (q) { return q.declarationIndex >= 0; }).forEach(function (c, i) { return c.orderIndex = i; });\n        var eventColumnProps = this.columns;\n        this.forceUpdate();\n        if (this.props.onColumnReorder) {\n            this.props.onColumnReorder.call(undefined, {\n                target: this,\n                columns: eventColumnProps,\n                nativeEvent: nativeEvent\n            });\n        }\n    };\n    Grid.prototype.groupReorder = function (prevIndex, nextIndex, nativeEvent) {\n        if (this.props.group === undefined) {\n            return;\n        }\n        var group = this.props.group.slice();\n        group.splice.apply(group, [nextIndex, 0].concat(group.splice(prevIndex, 1)));\n        this.groupChange(group, nativeEvent);\n    };\n    Grid.prototype.columnToGroup = function (columnIndex, groupIndex, nativeEvent) {\n        var field = this._columns[columnIndex].field;\n        if (!field) {\n            return;\n        }\n        var group = (this.props.group || []).slice();\n        group.splice(groupIndex, 0, { field: field });\n        this.groupChange(group, nativeEvent);\n    };\n    Grid.prototype.resetTableWidth = function () {\n        var totalWidth = 0;\n        if (!this.columnResize.colGroupMain) {\n            return;\n        }\n        var colElements = this.columnResize.colGroupMain.children;\n        for (var i = 0; i < colElements.length; i++) {\n            var width = colElements[i].width;\n            if (!width) {\n                return;\n            }\n            totalWidth += parseFloat(width.toString());\n        }\n        totalWidth = Math.round(totalWidth);\n        if (this._header) {\n            this._header.setWidth(totalWidth);\n        }\n        if (this._footer) {\n            this._footer.setWidth(totalWidth);\n        }\n        if (this.vs.table) {\n            this.vs.table.style.width = totalWidth + 'px';\n        }\n    };\n    Grid.prototype.onResize = function (index, newWidth, oldWidth, nativeEvent, end) {\n        this.resetTableWidth();\n        if (this.props.onColumnResize) {\n            this.props.onColumnResize.call(undefined, {\n                columns: this.columns,\n                index: index,\n                nativeEvent: nativeEvent,\n                newWidth: newWidth,\n                oldWidth: oldWidth,\n                end: end,\n                target: this\n            });\n        }\n    };\n    Grid.prototype.initColumns = function (columnElements, groupCount) {\n        var _this = this;\n        this._columns = readColumns(columnElements, this.columns);\n        if (this._columns.length === 0) {\n            this._columns = autoGenerateColumns(this.props.data, this.props.group, this.props.expandField);\n        }\n        if (this.props.selectedField) {\n            this._columns.filter(function (c) { return c.field === _this.props.selectedField; }).forEach(function (c) {\n                c.width = c.width || '50px';\n                c.cell = c.cell || GridSelectionCell;\n                c.headerCell = c.headerCell || GridHeaderSelectionCell;\n            });\n        }\n        var defaultServiceProps = {\n            resizable: true,\n            width: '32px',\n            title: ' ',\n            declarationIndex: -1,\n            orderIndex: -1,\n            children: [],\n            parentIndex: -1,\n            depth: 0,\n            colSpan: 0,\n            rowSpan: 0,\n            left: 0,\n            right: 0,\n            index: 0,\n            rightBorder: false\n        };\n        var columnIndexOffset = 0;\n        if (this.props.expandField && (this.props.onExpandChange) && this.props.detail) {\n            this._columns.unshift(__assign({}, defaultServiceProps, { cell: GridHierarchyCell, field: this.props.expandField, headerClassName: 'k-hierarchy-cell k-header' }));\n            columnIndexOffset++;\n        }\n        for (var i = 0; i < groupCount; i++) {\n            this._columns.unshift(__assign({}, defaultServiceProps, { cell: GridGroupCell, field: 'value' }));\n            columnIndexOffset++;\n        }\n        this._columns.slice(columnIndexOffset).forEach(function (c) { return c.parentIndex >= 0 && (c.parentIndex += columnIndexOffset); });\n        this._columnsMap = mapColumns(this._columns);\n        this.columnResize.columns = this._columns;\n        this.dragLogic.columns = this._columns;\n    };\n    Grid.prototype.getDataState = function () {\n        return {\n            filter: this.props.filter,\n            sort: this.props.sort,\n            skip: this.props.skip,\n            take: (this.props.take !== undefined ? this.props.take : this.props.pageSize),\n            group: this.props.group\n        };\n    };\n    Grid.prototype.getArguments = function (syntheticEvent) {\n        return {\n            nativeEvent: syntheticEvent && syntheticEvent.nativeEvent,\n            syntheticEvent: syntheticEvent,\n            target: this\n        };\n    };\n    /**\n     * @hidden\n     */\n    Grid.displayName = 'KendoReactGrid';\n    /**\n     * @hidden\n     */\n    Grid.defaultProps = {\n    // never use this\n    };\n    /**\n     * @hidden\n     */\n    Grid.propTypes = {\n        data: PropTypes.oneOfType([\n            PropTypes.array,\n            PropTypes.shape({\n                data: PropTypes.array,\n                total: PropTypes.number\n            })\n        ]),\n        sortable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                mode: PropTypes.oneOf(['single', 'multiple']),\n                allowUnsort: PropTypes.bool\n            })\n        ]),\n        onSortChange: PropTypes.func,\n        sort: PropTypes.array,\n        filterable: PropTypes.bool,\n        filter: PropTypes.any,\n        onFilterChange: PropTypes.func,\n        pageable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                buttonCount: PropTypes.number,\n                info: PropTypes.bool,\n                type: PropTypes.oneOf(['numeric', 'input']),\n                pageSizes: PropTypes.oneOfType([PropTypes.bool, PropTypes.arrayOf(PropTypes.number)]),\n                previousNext: PropTypes.bool\n            })\n        ]),\n        pageSize: PropTypes.number,\n        onPageChange: PropTypes.func,\n        total: PropTypes.number,\n        skip: PropTypes.number,\n        take: PropTypes.number,\n        onExpandChange: PropTypes.func,\n        expandField: PropTypes.string,\n        selectedField: PropTypes.string,\n        onSelectionChange: PropTypes.func,\n        onHeaderSelectionChange: PropTypes.func,\n        resizable: PropTypes.bool,\n        reorderable: PropTypes.bool,\n        group: PropTypes.any,\n        groupable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                enabled: PropTypes.bool,\n                footer: PropTypes.oneOf(['always', 'visible', 'none'])\n            })\n        ]),\n        onGroupChange: PropTypes.func,\n        onRowClick: PropTypes.func,\n        onRowDoubleClick: PropTypes.func,\n        onItemChange: PropTypes.func,\n        editField: PropTypes.string,\n        scrollable: PropTypes.oneOf(['none', 'scrollable', 'virtual']),\n        rowHeight: PropTypes.number,\n        detail: PropTypes.any,\n        style: PropTypes.object,\n        onDataStateChange: PropTypes.func,\n        onColumnResize: PropTypes.func,\n        onColumnReorder: PropTypes.func\n    };\n    return Grid;\n}(React.Component));\nexport { Grid };\n//# sourceMappingURL=Grid.js.map"]},"metadata":{},"sourceType":"module"}