{"ast":null,"code":"var divideByMagnitude = function (magnitude) {\n  return function (x) {\n    return Math.floor(x / magnitude);\n  };\n};\n\nvar powerByMagnitude = function (magnitude) {\n  return function (x) {\n    return x * magnitude;\n  };\n};\n/**\n * @hidden\n */\n\n\nvar ScrollSyncService =\n/** @class */\nfunction () {\n  function ScrollSyncService(dom) {\n    this.dom = dom;\n    this.monthScrolled = false;\n    this.navScrolled = false;\n  }\n\n  ScrollSyncService.prototype.configure = function (activeView) {\n    var magnitude = Math.max(this.dom.viewHeight(activeView) / this.dom.navigationItemHeight, 1);\n    this.divideByMagnitude = divideByMagnitude(magnitude);\n    this.powerByMagnitude = powerByMagnitude(magnitude);\n  };\n\n  ScrollSyncService.prototype.sync = function (navigator, view, e) {\n    if (!navigator || !view) {\n      return;\n    }\n\n    this.navigator = navigator;\n    this.view = view;\n\n    if (e.target === this.navigator.element) {\n      if (this.monthScrolled) {\n        this.monthScrolled = false;\n        return;\n      }\n\n      this.navScrolled = true;\n      this.scrollSiblingOf(this.navigator.element);\n    }\n\n    if (e.target === this.view.element) {\n      if (this.navScrolled) {\n        this.navScrolled = false;\n        return;\n      }\n\n      this.monthScrolled = true;\n      this.scrollSiblingOf(this.view.element);\n    }\n  };\n\n  ScrollSyncService.prototype.scrollSiblingOf = function (scrolledElement) {\n    var component = this.siblingComponent(scrolledElement);\n    var scrollTop = this.calculateScroll(component, scrolledElement.scrollTop);\n    component.scrollTo(scrollTop);\n  };\n\n  ScrollSyncService.prototype.siblingComponent = function (scrollableElement) {\n    return this.navigator.element === scrollableElement ? this.view : this.navigator;\n  };\n\n  ScrollSyncService.prototype.calculateScroll = function (component, scrollTop) {\n    var modifier = component === this.navigator ? this.divideByMagnitude : this.powerByMagnitude;\n    return modifier(scrollTop);\n  };\n\n  return ScrollSyncService;\n}();\n\nexport { ScrollSyncService };","map":{"version":3,"sources":["../../../../src/calendar/services/ScrollSyncService.ts"],"names":[],"mappings":"AAIA,IAAM,iBAAiB,GAAG,UAAC,SAAD,EAAU;AAAK,SAAA,UAAA,CAAA,EAAC;AAAI,WAAA,IAAI,CAAC,KAAL,CAAW,CAAC,GAAZ,SAAA,CAAA;AAAL,GAAA;AAA8B,CAAvE;;AACA,IAAM,gBAAgB,GAAG,UAAC,SAAD,EAAU;AAAK,SAAA,UAAA,CAAA,EAAC;AAAI,WAAA,CAAC,GAAD,SAAA;AAAL,GAAA;AAAkB,CAA1D;AAEA;;;;;AAGA,IAAA,iBAAA;AAAA;AAAA,YAAA;AAOI,WAAA,iBAAA,CAAmB,GAAnB,EAAkC;AAAf,SAAA,GAAA,GAAA,GAAA;AAFX,SAAA,aAAA,GAAyB,KAAzB;AACA,SAAA,WAAA,GAAuB,KAAvB;AAC+B;;AAEhC,EAAA,iBAAA,CAAA,SAAA,CAAA,SAAA,GAAP,UAAiB,UAAjB,EAA6C;AACzC,QAAM,SAAS,GAAG,IAAI,CAAC,GAAL,CAAS,KAAK,GAAL,CAAS,UAAT,CAAoB,UAApB,IAAkC,KAAK,GAAL,CAAS,oBAApD,EAA0E,CAA1E,CAAlB;AAEA,SAAK,iBAAL,GAAyB,iBAAiB,CAAC,SAAD,CAA1C;AACA,SAAK,gBAAL,GAAwB,gBAAgB,CAAC,SAAD,CAAxC;AACH,GALM;;AAOA,EAAA,iBAAA,CAAA,SAAA,CAAA,IAAA,GAAP,UAAY,SAAZ,EAAuC,IAAvC,EAA6D,CAA7D,EAAmE;AAC/D,QAAI,CAAC,SAAD,IAAc,CAAC,IAAnB,EAAyB;AAAE;AAAS;;AAEpC,SAAK,SAAL,GAAiB,SAAjB;AACA,SAAK,IAAL,GAAY,IAAZ;;AAEA,QAAI,CAAC,CAAC,MAAF,KAAa,KAAK,SAAL,CAAe,OAAhC,EAAyC;AACrC,UAAI,KAAK,aAAT,EAAwB;AACpB,aAAK,aAAL,GAAqB,KAArB;AACA;AACH;;AAED,WAAK,WAAL,GAAmB,IAAnB;AACA,WAAK,eAAL,CAAqB,KAAK,SAAL,CAAe,OAApC;AACH;;AAED,QAAI,CAAC,CAAC,MAAF,KAAa,KAAK,IAAL,CAAU,OAA3B,EAAoC;AAChC,UAAI,KAAK,WAAT,EAAsB;AAClB,aAAK,WAAL,GAAmB,KAAnB;AACA;AACH;;AAED,WAAK,aAAL,GAAqB,IAArB;AACA,WAAK,eAAL,CAAqB,KAAK,IAAL,CAAU,OAA/B;AACH;AAEJ,GA1BM;;AA4BA,EAAA,iBAAA,CAAA,SAAA,CAAA,eAAA,GAAP,UAAuB,eAAvB,EAA2C;AACvC,QAAM,SAAS,GAAG,KAAK,gBAAL,CAAsB,eAAtB,CAAlB;AACA,QAAM,SAAS,GAAG,KAAK,eAAL,CAAqB,SAArB,EAAgC,eAAe,CAAC,SAAhD,CAAlB;AAEA,IAAA,SAAS,CAAC,QAAV,CAAmB,SAAnB;AACH,GALM;;AAOA,EAAA,iBAAA,CAAA,SAAA,CAAA,gBAAA,GAAP,UAAwB,iBAAxB,EAAsD;AAClD,WAAO,KAAK,SAAL,CAAe,OAAf,KAA2B,iBAA3B,GAA+C,KAAK,IAApD,GAA2D,KAAK,SAAvE;AACH,GAFM;;AAIA,EAAA,iBAAA,CAAA,SAAA,CAAA,eAAA,GAAP,UAAuB,SAAvB,EAAkD,SAAlD,EAAmE;AAC/D,QAAM,QAAQ,GAAG,SAAS,KAAK,KAAK,SAAnB,GAA+B,KAAK,iBAApC,GAAwD,KAAK,gBAA9E;AAEA,WAAO,QAAQ,CAAC,SAAD,CAAf;AACH,GAJM;;AAKX,SAAA,iBAAA;AAAC,CA5DD,EAAA","sourceRoot":"","sourcesContent":["var divideByMagnitude = function (magnitude) { return function (x) { return Math.floor(x / magnitude); }; };\nvar powerByMagnitude = function (magnitude) { return function (x) { return x * magnitude; }; };\n/**\n * @hidden\n */\nvar ScrollSyncService = /** @class */ (function () {\n    function ScrollSyncService(dom) {\n        this.dom = dom;\n        this.monthScrolled = false;\n        this.navScrolled = false;\n    }\n    ScrollSyncService.prototype.configure = function (activeView) {\n        var magnitude = Math.max(this.dom.viewHeight(activeView) / this.dom.navigationItemHeight, 1);\n        this.divideByMagnitude = divideByMagnitude(magnitude);\n        this.powerByMagnitude = powerByMagnitude(magnitude);\n    };\n    ScrollSyncService.prototype.sync = function (navigator, view, e) {\n        if (!navigator || !view) {\n            return;\n        }\n        this.navigator = navigator;\n        this.view = view;\n        if (e.target === this.navigator.element) {\n            if (this.monthScrolled) {\n                this.monthScrolled = false;\n                return;\n            }\n            this.navScrolled = true;\n            this.scrollSiblingOf(this.navigator.element);\n        }\n        if (e.target === this.view.element) {\n            if (this.navScrolled) {\n                this.navScrolled = false;\n                return;\n            }\n            this.monthScrolled = true;\n            this.scrollSiblingOf(this.view.element);\n        }\n    };\n    ScrollSyncService.prototype.scrollSiblingOf = function (scrolledElement) {\n        var component = this.siblingComponent(scrolledElement);\n        var scrollTop = this.calculateScroll(component, scrolledElement.scrollTop);\n        component.scrollTo(scrollTop);\n    };\n    ScrollSyncService.prototype.siblingComponent = function (scrollableElement) {\n        return this.navigator.element === scrollableElement ? this.view : this.navigator;\n    };\n    ScrollSyncService.prototype.calculateScroll = function (component, scrollTop) {\n        var modifier = component === this.navigator ? this.divideByMagnitude : this.powerByMagnitude;\n        return modifier(scrollTop);\n    };\n    return ScrollSyncService;\n}());\nexport { ScrollSyncService };\n//# sourceMappingURL=ScrollSyncService.js.map"]},"metadata":{},"sourceType":"module"}