{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar _a, _b, _c;\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { RowHeightService, ScrollerService } from './services';\n/**\n * @hidden\n */\n\nexport var ScrollDirection;\n\n(function (ScrollDirection) {\n  ScrollDirection[ScrollDirection[\"Backward\"] = 0] = \"Backward\";\n  ScrollDirection[ScrollDirection[\"Forward\"] = 1] = \"Forward\";\n})(ScrollDirection || (ScrollDirection = {}));\n\nvar differenceToScroll = function (scrollTop, staticOffset, maxScrollDifference) {\n  return Math.min(Math.abs(staticOffset - scrollTop), maxScrollDifference);\n};\n\nvar FRAME_DURATION = 17;\nvar scrollModifiers = (_a = {}, _a[ScrollDirection.Forward] = function (step) {\n  return function (value) {\n    return value + step;\n  };\n}, _a[ScrollDirection.Backward] = function (step) {\n  return function (value) {\n    return value - step;\n  };\n}, _a);\nvar scrollNormalizers = (_b = {}, _b[ScrollDirection.Forward] = function (end) {\n  return function (value) {\n    return Math.min(value, end);\n  };\n}, _b[ScrollDirection.Backward] = function (end) {\n  return function (value) {\n    return Math.max(value, end);\n  };\n}, _b);\nvar scrollValidators = (_c = {}, _c[ScrollDirection.Forward] = function (end) {\n  return function (start) {\n    return start < end;\n  };\n}, _c[ScrollDirection.Backward] = function (end) {\n  return function (start) {\n    return start > end;\n  };\n}, _c);\n/**\n * @hidden\n */\n\nvar Virtualization =\n/** @class */\nfunction (_super) {\n  __extends(Virtualization, _super);\n\n  function Virtualization(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.animationInProgress = false;\n\n    _this.scrollTo = function (value) {\n      var scrollProperty = _this.direction === 'vertical' ? 'scrollTop' : 'scrollLeft';\n\n      if (!_this.scrollContainer) {\n        return;\n      }\n\n      _this.scrollContainer[scrollProperty] = value;\n    };\n\n    _this.scrollToIndex = function (index) {\n      if (!_this.rowHeightService) {\n        return;\n      }\n\n      _this.animationInProgress = false;\n\n      _this.scrollTo(_this.rowHeightService.offset(index));\n    };\n\n    _this.animateToIndex = function (index) {\n      if (!_this.rowHeightService || !window) {\n        return;\n      }\n\n      window.cancelAnimationFrame(_this.cancelAnimation);\n\n      var indexOffset = _this.rowHeightService.offset(index);\n\n      var direction = _this.getContainerScrollDirection(indexOffset);\n\n      var _a = _this.scrollRange(indexOffset, direction),\n          start = _a.start,\n          end = _a.end;\n\n      if (start === end) {\n        return;\n      }\n\n      var step = _this.scrollStep(start, end);\n\n      var modifyScroll = scrollModifiers[direction](step);\n      var normalizeScroll = scrollNormalizers[direction](end);\n      var isScrollValid = scrollValidators[direction](modifyScroll(end));\n\n      var animate = function (progress) {\n        _this.animationInProgress = true;\n        var next = modifyScroll(progress);\n\n        _this.scrollTo(normalizeScroll(next));\n\n        isScrollValid(next) ? _this.cancelAnimation = window.requestAnimationFrame(function () {\n          animate(next);\n        }) : _this.animationInProgress = false;\n      };\n\n      _this.cancelAnimation = window.requestAnimationFrame(function () {\n        animate(start);\n      });\n    };\n\n    _this.scrollToBottom = function () {\n      if (!_this.rowHeightService) {\n        return;\n      }\n\n      _this.scrollTo(_this.rowHeightService.totalHeight() + _this.props.bottomOffset);\n    };\n\n    _this.scrollStep = function (start, end) {\n      var duration = _this.props.scrollDuration || Virtualization.defaultProps.scrollDuration;\n      return Math.abs(end - start) / (duration / FRAME_DURATION);\n    };\n\n    _this.scrollRange = function (indexOffset, direction) {\n      var containerScroll = _this.containerScrollPosition;\n\n      if (parseInt(\"\" + indexOffset, 10) === parseInt(\"\" + containerScroll, 10)) {\n        return {\n          start: indexOffset,\n          end: indexOffset\n        };\n      }\n\n      var maxScroll = _this.containerMaxScroll();\n\n      var sign = direction === ScrollDirection.Backward ? 1 : -1;\n      var difference = differenceToScroll(containerScroll, indexOffset, _this.props.maxScrollDifference);\n      var end = Math.min(indexOffset, maxScroll);\n      var start = Math.min(Math.max(end + sign * difference, 0), maxScroll);\n      return {\n        start: start,\n        end: end\n      };\n    };\n\n    _this.containerMaxScroll = function () {\n      return _this.containerScrollSize - _this.containerOffsetSize;\n    };\n\n    _this.getContainerScrollDirection = function (indexOffset) {\n      return indexOffset < _this.containerScrollPosition ? ScrollDirection.Backward : ScrollDirection.Forward;\n    };\n\n    _this.initServices = function (props) {\n      if (props === void 0) {\n        props = _this.props;\n      }\n\n      var dimension = _this.direction === 'vertical' ? props.itemHeight : props.itemWidth;\n\n      if (dimension === undefined) {\n        return;\n      }\n\n      _this.rowHeightService = new RowHeightService(props.total, dimension, 0);\n\n      _this.scrollerService.create(_this.rowHeightService, props.skip, props.take, props.total, props.topOffset, _this.scrollOffsetSize, _this.direction);\n    };\n\n    _this.getContainerProperty = function (propertyName) {\n      if (!_this.scrollContainer) {\n        return 0;\n      }\n\n      return _this.scrollContainer[propertyName];\n    };\n\n    _this.handleScroll = function (event) {\n      if (!_this.scrollContainer || !_this.rowHeightService) {\n        return;\n      }\n\n      var target = event.target;\n\n      _this.scrollerService.onScroll({\n        scrollLeft: target.scrollLeft,\n        scrollTop: target.scrollTop,\n        offsetHeight: target.offsetHeight,\n        offsetWidth: target.offsetWidth\n      });\n\n      var index = _this.rowHeightService.index(_this.containerScrollPosition - _this.props.topOffset);\n\n      var onScrollAction = _this.props.onScrollAction;\n      var args = {\n        index: index,\n        target: target,\n        scrollAction: _this.scrollAction,\n        pageAction: _this.pageAction,\n        animationInProgress: _this.animationInProgress\n      };\n\n      if (onScrollAction) {\n        onScrollAction.call(undefined, args);\n      }\n\n      _this.scrollAction = undefined;\n      _this.pageAction = undefined;\n    };\n\n    _this.handleScrollAction = function (action) {\n      _this.scrollAction = action;\n    };\n\n    _this.handlePageAction = function (action) {\n      _this.pageAction = action;\n    };\n\n    _this.scrollerService = new ScrollerService(_this.handleScrollAction, _this.handlePageAction);\n    return _this;\n  }\n\n  Object.defineProperty(Virtualization.prototype, \"element\", {\n    get: function () {\n      return this.scrollContainer;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Virtualization.prototype, \"containerOffsetSize\", {\n    get: function () {\n      return this.getContainerProperty(this.direction === 'vertical' ? 'offsetHeight' : 'offsetWidth');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Virtualization.prototype, \"containerScrollSize\", {\n    get: function () {\n      return this.getContainerProperty(this.direction === 'vertical' ? 'scrollHeight' : 'scrollWidth');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Virtualization.prototype, \"containerScrollPosition\", {\n    get: function () {\n      return this.getContainerProperty(this.direction === 'vertical' ? 'scrollTop' : 'scrollLeft');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Virtualization.prototype, \"direction\", {\n    get: function () {\n      return this.props.direction !== undefined ? this.props.direction : Virtualization.defaultProps.direction;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Virtualization.prototype, \"scrollOffsetSize\", {\n    get: function () {\n      return this.props.scrollOffsetSize !== undefined ? this.props.scrollOffsetSize : Virtualization.defaultProps.scrollOffsetSize;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Virtualization.prototype.activeIndex = function () {\n    return this.itemIndex(Math.ceil(this.containerScrollPosition));\n  };\n\n  Virtualization.prototype.itemIndex = function (offset) {\n    if (!this.rowHeightService) {\n      return 0;\n    }\n\n    return this.rowHeightService.index(offset);\n  };\n\n  Virtualization.prototype.itemOffset = function (index) {\n    if (!this.rowHeightService) {\n      return 0;\n    }\n\n    return this.rowHeightService.offset(index);\n  };\n\n  Virtualization.prototype.isIndexVisible = function (index) {\n    if (!this.rowHeightService) {\n      return false;\n    }\n\n    var containerTop = this.containerScrollPosition;\n    var containerBottom = containerTop + this.containerOffsetSize;\n    var top = this.rowHeightService.offset(index);\n    var bottom = top + this.rowHeightService.height(index);\n    return top >= containerTop && bottom <= containerBottom;\n  };\n\n  Virtualization.prototype.isListScrolled = function (index) {\n    if (!this.rowHeightService) {\n      return false;\n    }\n\n    return this.containerScrollPosition !== this.rowHeightService.offset(index);\n  };\n\n  Virtualization.prototype.componentDidMount = function () {\n    var onMount = this.props.onMount;\n\n    if (onMount) {\n      onMount.call(undefined, this);\n    }\n  };\n\n  Virtualization.prototype.render = function () {\n    var _this = this;\n\n    if (this.lastTotal !== this.props.total || this.lastDirection !== this.direction || this.lastTake !== this.props.take) {\n      this.initServices();\n      this.lastTotal = this.props.total;\n      this.lastDirection = this.direction;\n      this.lastTake = this.props.take;\n    }\n\n    var vertexLength = \"\" + ((this.rowHeightService ? this.rowHeightService.totalHeight() : 0) + this.props.bottomOffset);\n    var placeholderStyle = this.direction === 'vertical' ? {\n      height: vertexLength + \"px\"\n    } : {\n      width: vertexLength + \"px\"\n    };\n    var rootClassNames = classNames('k-content k-scrollable', {\n      'k-scrollable-horizontal': this.direction === 'horizontal'\n    }, this.props.className);\n    var scrollableClassNames = classNames('k-scrollable-placeholder', {\n      'k-scrollable-horizontal-placeholder': this.direction === 'horizontal'\n    });\n    return React.createElement(\"div\", {\n      ref: function (el) {\n        _this.scrollContainer = el;\n      },\n      onScroll: this.handleScroll,\n      className: rootClassNames,\n      tabIndex: this.props.tabIndex,\n      role: this.props.role\n    }, this.props.children, React.createElement(\"div\", {\n      style: placeholderStyle,\n      className: scrollableClassNames\n    }));\n  };\n\n  Virtualization.propTypes = {\n    bottomOffset: PropTypes.number.isRequired,\n    className: PropTypes.string,\n    direction: PropTypes.oneOf(['horizontal', 'vertical']),\n    forceScroll: PropTypes.bool,\n    itemHeight: PropTypes.number,\n    itemWidth: PropTypes.number,\n    maxScrollDifference: PropTypes.number,\n    onScroll: PropTypes.func,\n    onScrollAction: PropTypes.func,\n    scrollDuration: PropTypes.number,\n    scrollOffsetSize: PropTypes.number,\n    skip: PropTypes.number.isRequired,\n    tabIndex: PropTypes.number,\n    take: PropTypes.number.isRequired,\n    topOffset: PropTypes.number.isRequired,\n    total: PropTypes.number.isRequired,\n    role: PropTypes.string\n  };\n  Virtualization.defaultProps = {\n    direction: 'vertical',\n    forceScroll: false,\n    scrollOffsetSize: 0,\n    maxScrollDifference: 100,\n    scrollDuration: 100\n  };\n  return Virtualization;\n}(React.Component);\n\nexport { Virtualization };","map":{"version":3,"sources":["../../../src/virtualization/Virtualization.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAK,SAAZ,MAA2B,YAA3B;AAEA,SAAS,UAAT,QAA2B,8BAA3B;AAEA,SACI,gBADJ,EAEI,eAFJ,QAKO,YALP;AAkBA;;;;AAGA,OAAA,IAAY,eAAZ;;AAAA,CAAA,UAAY,eAAZ,EAA2B;AACvB,EAAA,eAAA,CAAA,eAAA,CAAA,UAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAA;AACA,EAAA,eAAA,CAAA,eAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAA;AACH,CAHD,EAAY,eAAe,KAAf,eAAe,GAAA,EAAA,CAA3B;;AAKA,IAAM,kBAAkB,GAAG,UAAC,SAAD,EAAY,YAAZ,EAA0B,mBAA1B,EAA6C;AACpE,SAAO,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,YAAY,GAAG,SAAxB,CAAT,EAA6C,mBAA7C,CAAP;AACH,CAFD;;AAIA,IAAM,cAAc,GAAG,EAAvB;AAEA,IAAM,eAAe,IAAA,EAAA,GAAA,EAAA,EACjB,EAAA,CAAC,eAAe,CAAC,OAAjB,CAAA,GAA2B,UAAC,IAAD,EAAK;AAAK,SAAA,UAAA,KAAA,EAAK;AAAI,WAAA,KAAK,GAAL,IAAA;AAAT,GAAA;AAAqB,CADzC,EAEjB,EAAA,CAAC,eAAe,CAAC,QAAjB,CAAA,GAA4B,UAAC,IAAD,EAAK;AAAK,SAAA,UAAA,KAAA,EAAK;AAAI,WAAA,KAAK,GAAL,IAAA;AAAT,GAAA;AAAqB,CAF1C,EAGpB,EAHoB,CAArB;AAKA,IAAM,iBAAiB,IAAA,EAAA,GAAA,EAAA,EACnB,EAAA,CAAC,eAAe,CAAC,OAAjB,CAAA,GAA2B,UAAC,GAAD,EAAI;AAAK,SAAA,UAAA,KAAA,EAAK;AAAI,WAAA,IAAI,CAAC,GAAL,CAAS,KAAT,EAAA,GAAA,CAAA;AAAT,GAAA;AAA6B,CAD9C,EAEnB,EAAA,CAAC,eAAe,CAAC,QAAjB,CAAA,GAA4B,UAAC,GAAD,EAAI;AAAK,SAAA,UAAA,KAAA,EAAK;AAAI,WAAA,IAAI,CAAC,GAAL,CAAS,KAAT,EAAA,GAAA,CAAA;AAAT,GAAA;AAA6B,CAF/C,EAGtB,EAHsB,CAAvB;AAKA,IAAM,gBAAgB,IAAA,EAAA,GAAA,EAAA,EAClB,EAAA,CAAC,eAAe,CAAC,OAAjB,CAAA,GAA2B,UAAA,GAAA,EAAG;AAAI,SAAA,UAAA,KAAA,EAAK;AAAI,WAAA,KAAK,GAAL,GAAA;AAAT,GAAA;AAAoB,CADpC,EAElB,EAAA,CAAC,eAAe,CAAC,QAAjB,CAAA,GAA4B,UAAA,GAAA,EAAG;AAAI,SAAA,UAAA,KAAA,EAAK;AAAI,WAAA,KAAK,GAAL,GAAA;AAAT,GAAA;AAAoB,CAFrC,EAGrB,EAHqB,CAAtB;AAgCA;;;;AAGA,IAAA,cAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAoC,EAAA,SAAA,CAAA,cAAA,EAAA,MAAA,CAAA;;AA+DhC,WAAA,cAAA,CAAY,KAAZ,EAAsC;AAAtC,QAAA,KAAA,GACI,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADhB;;AA1BQ,IAAA,KAAA,CAAA,mBAAA,GAA+B,KAA/B;;AAmED,IAAA,KAAA,CAAA,QAAA,GAAW,UAAC,KAAD,EAAc;AAC5B,UAAM,cAAc,GAAG,KAAI,CAAC,SAAL,KAAmB,UAAnB,GAAgC,WAAhC,GAA8C,YAArE;;AAEA,UAAI,CAAC,KAAI,CAAC,eAAV,EAA2B;AAAE;AAAS;;AACtC,MAAA,KAAI,CAAC,eAAL,CAAqB,cAArB,IAAuC,KAAvC;AACH,KALM;;AAOA,IAAA,KAAA,CAAA,aAAA,GAAgB,UAAC,KAAD,EAAc;AACjC,UAAI,CAAC,KAAI,CAAC,gBAAV,EAA4B;AAAE;AAAS;;AAEvC,MAAA,KAAI,CAAC,mBAAL,GAA2B,KAA3B;;AACA,MAAA,KAAI,CAAC,QAAL,CAAc,KAAI,CAAC,gBAAL,CAAsB,MAAtB,CAA6B,KAA7B,CAAd;AACH,KALM;;AAOA,IAAA,KAAA,CAAA,cAAA,GAAiB,UAAC,KAAD,EAAc;AAClC,UAAI,CAAC,KAAI,CAAC,gBAAN,IAA0B,CAAC,MAA/B,EAAuC;AAAE;AAAS;;AAElD,MAAA,MAAM,CAAC,oBAAP,CAA4B,KAAI,CAAC,eAAjC;;AAEA,UAAM,WAAW,GAAG,KAAI,CAAC,gBAAL,CAAsB,MAAtB,CAA6B,KAA7B,CAApB;;AACA,UAAM,SAAS,GAAG,KAAI,CAAC,2BAAL,CAAiC,WAAjC,CAAlB;;AAEI,UAAA,EAAA,GAAA,KAAA,CAAA,WAAA,CAAA,WAAA,EAAA,SAAA,CAAA;AAAA,UAAE,KAAA,GAAA,EAAA,CAAA,KAAF;AAAA,UAAS,GAAA,GAAA,EAAA,CAAA,GAAT;;AAEJ,UAAI,KAAK,KAAK,GAAd,EAAmB;AAAE;AAAS;;AAE9B,UAAM,IAAI,GAAG,KAAI,CAAC,UAAL,CAAgB,KAAhB,EAAuB,GAAvB,CAAb;;AACA,UAAM,YAAY,GAAG,eAAe,CAAC,SAAD,CAAf,CAA2B,IAA3B,CAArB;AACA,UAAM,eAAe,GAAG,iBAAiB,CAAC,SAAD,CAAjB,CAA6B,GAA7B,CAAxB;AACA,UAAM,aAAa,GAAG,gBAAgB,CAAC,SAAD,CAAhB,CAA4B,YAAY,CAAC,GAAD,CAAxC,CAAtB;;AAEA,UAAM,OAAO,GAAG,UAAC,QAAD,EAAiB;AAC7B,QAAA,KAAI,CAAC,mBAAL,GAA2B,IAA3B;AACA,YAAM,IAAI,GAAG,YAAY,CAAC,QAAD,CAAzB;;AACA,QAAA,KAAI,CAAC,QAAL,CAAc,eAAe,CAAC,IAAD,CAA7B;;AAEA,QAAA,aAAa,CAAC,IAAD,CAAb,GACM,KAAI,CAAC,eAAL,GAAuB,MAAM,CAAC,qBAAP,CAA6B,YAAA;AAAQ,UAAA,OAAO,CAAC,IAAD,CAAP;AAAgB,SAArD,CAD7B,GAEM,KAAI,CAAC,mBAAL,GAA2B,KAFjC;AAGH,OARD;;AAUA,MAAA,KAAI,CAAC,eAAL,GAAuB,MAAM,CAAC,qBAAP,CAA6B,YAAA;AAAQ,QAAA,OAAO,CAAC,KAAD,CAAP;AAAiB,OAAtD,CAAvB;AACH,KA5BM;;AA8BA,IAAA,KAAA,CAAA,cAAA,GAAiB,YAAA;AACpB,UAAI,CAAC,KAAI,CAAC,gBAAV,EAA4B;AAAE;AAAS;;AACvC,MAAA,KAAI,CAAC,QAAL,CAAc,KAAI,CAAC,gBAAL,CAAsB,WAAtB,KAAsC,KAAI,CAAC,KAAL,CAAW,YAA/D;AACH,KAHM;;AA0DG,IAAA,KAAA,CAAA,UAAA,GAAa,UAAC,KAAD,EAAgB,GAAhB,EAA2B;AAC9C,UAAM,QAAQ,GAAG,KAAI,CAAC,KAAL,CAAW,cAAX,IAA6B,cAAc,CAAC,YAAf,CAA4B,cAA1E;AACA,aAAO,IAAI,CAAC,GAAL,CAAS,GAAG,GAAG,KAAf,KAAyB,QAAQ,GAAG,cAApC,CAAP;AACH,KAHS;;AAKA,IAAA,KAAA,CAAA,WAAA,GAAc,UAAC,WAAD,EAAsB,SAAtB,EAAgD;AACpE,UAAM,eAAe,GAAG,KAAI,CAAC,uBAA7B;;AAEA,UAAI,QAAQ,CAAC,KAAG,WAAJ,EAAmB,EAAnB,CAAR,KAAmC,QAAQ,CAAC,KAAG,eAAJ,EAAuB,EAAvB,CAA/C,EAA2E;AACvE,eAAO;AAAE,UAAA,KAAK,EAAE,WAAT;AAAsB,UAAA,GAAG,EAAE;AAA3B,SAAP;AACH;;AAED,UAAM,SAAS,GAAG,KAAI,CAAC,kBAAL,EAAlB;;AACA,UAAM,IAAI,GAAG,SAAS,KAAK,eAAe,CAAC,QAA9B,GAAyC,CAAzC,GAA6C,CAAC,CAA3D;AACA,UAAM,UAAU,GAAG,kBAAkB,CAAC,eAAD,EAAkB,WAAlB,EAA+B,KAAI,CAAC,KAAL,CAAW,mBAA1C,CAArC;AAEA,UAAM,GAAG,GAAG,IAAI,CAAC,GAAL,CAAS,WAAT,EAAsB,SAAtB,CAAZ;AACA,UAAM,KAAK,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,GAAG,GAAI,IAAI,GAAG,UAAvB,EAAoC,CAApC,CAAT,EAAiD,SAAjD,CAAd;AAEA,aAAO;AAAE,QAAA,KAAK,EAAA,KAAP;AAAS,QAAA,GAAG,EAAA;AAAZ,OAAP;AACH,KAfS;;AAiBA,IAAA,KAAA,CAAA,kBAAA,GAAqB,YAAA;AAC3B,aAAO,KAAI,CAAC,mBAAL,GAA2B,KAAI,CAAC,mBAAvC;AACH,KAFS;;AAIA,IAAA,KAAA,CAAA,2BAAA,GAA8B,UAAC,WAAD,EAAoB;AACxD,aAAO,WAAW,GAAG,KAAI,CAAC,uBAAnB,GAA6C,eAAe,CAAC,QAA7D,GAAwE,eAAe,CAAC,OAA/F;AACH,KAFS;;AAIA,IAAA,KAAA,CAAA,YAAA,GAAe,UAAC,KAAD,EAAwC;AAAvC,UAAA,KAAA,KAAA,KAAA,CAAA,EAAA;AAAA,QAAA,KAAA,GAA6B,KAAI,CAAC,KAAlC;AAAuC;;AAC7D,UAAM,SAAS,GAAG,KAAI,CAAC,SAAL,KAAmB,UAAnB,GAAgC,KAAK,CAAC,UAAtC,GAAmD,KAAK,CAAC,SAA3E;;AACA,UAAI,SAAS,KAAK,SAAlB,EAA6B;AAAE;AAAS;;AAExC,MAAA,KAAI,CAAC,gBAAL,GAAwB,IAAI,gBAAJ,CAAqB,KAAK,CAAC,KAA3B,EAAkC,SAAlC,EAA6C,CAA7C,CAAxB;;AACA,MAAA,KAAI,CAAC,eAAL,CAAqB,MAArB,CACI,KAAI,CAAC,gBADT,EAEI,KAAK,CAAC,IAFV,EAGI,KAAK,CAAC,IAHV,EAII,KAAK,CAAC,KAJV,EAKI,KAAK,CAAC,SALV,EAMI,KAAI,CAAC,gBANT,EAOI,KAAI,CAAC,SAPT;AASH,KAdS;;AAgBA,IAAA,KAAA,CAAA,oBAAA,GAAuB,UAAC,YAAD,EAAqB;AAClD,UAAI,CAAC,KAAI,CAAC,eAAV,EAA2B;AAAE,eAAO,CAAP;AAAW;;AAExC,aAAO,KAAI,CAAC,eAAL,CAAqB,YAArB,CAAP;AACH,KAJS;;AAMF,IAAA,KAAA,CAAA,YAAA,GAAe,UAAC,KAAD,EAA4C;AAC/D,UAAI,CAAC,KAAI,CAAC,eAAN,IAAyB,CAAC,KAAI,CAAC,gBAAnC,EAAqD;AAAE;AAAS;;AAEhE,UAAM,MAAM,GAAmB,KAAK,CAAC,MAArC;;AAEA,MAAA,KAAI,CAAC,eAAL,CAAqB,QAArB,CAA8B;AAC1B,QAAA,UAAU,EAAE,MAAM,CAAC,UADO;AAE1B,QAAA,SAAS,EAAE,MAAM,CAAC,SAFQ;AAG1B,QAAA,YAAY,EAAE,MAAM,CAAC,YAHK;AAI1B,QAAA,WAAW,EAAE,MAAM,CAAC;AAJM,OAA9B;;AAOA,UAAM,KAAK,GAAG,KAAI,CAAC,gBAAL,CAAsB,KAAtB,CAA4B,KAAI,CAAC,uBAAL,GAA+B,KAAI,CAAC,KAAL,CAAW,SAAtE,CAAd;;AACQ,UAAA,cAAA,GAAA,KAAA,CAAA,KAAA,CAAA,cAAA;AAER,UAAM,IAAI,GAA0B;AAChC,QAAA,KAAK,EAAA,KAD2B;AAEhC,QAAA,MAAM,EAAA,MAF0B;AAGhC,QAAA,YAAY,EAAE,KAAI,CAAC,YAHa;AAIhC,QAAA,UAAU,EAAE,KAAI,CAAC,UAJe;AAKhC,QAAA,mBAAmB,EAAE,KAAI,CAAC;AALM,OAApC;;AAQA,UAAI,cAAJ,EAAoB;AAChB,QAAA,cAAc,CAAC,IAAf,CAAoB,SAApB,EAA+B,IAA/B;AACH;;AAED,MAAA,KAAI,CAAC,YAAL,GAAoB,SAApB;AACA,MAAA,KAAI,CAAC,UAAL,GAAkB,SAAlB;AACH,KA7BO;;AA+BA,IAAA,KAAA,CAAA,kBAAA,GAAqB,UAAC,MAAD,EAAqB;AAC9C,MAAA,KAAI,CAAC,YAAL,GAAoB,MAApB;AACH,KAFO;;AAIA,IAAA,KAAA,CAAA,gBAAA,GAAmB,UAAC,MAAD,EAAmB;AAC1C,MAAA,KAAI,CAAC,UAAL,GAAkB,MAAlB;AACH,KAFO;;AAnOJ,IAAA,KAAI,CAAC,eAAL,GAAuB,IAAI,eAAJ,CACnB,KAAI,CAAC,kBADc,EAEnB,KAAI,CAAC,gBAFc,CAAvB;;AAIH;;AAhCD,EAAA,MAAA,CAAA,cAAA,CAAW,cAAA,CAAA,SAAX,EAAW,SAAX,EAAkB;SAAlB,YAAA;AACI,aAAO,KAAK,eAAZ;AACH,KAFiB;oBAAA;;AAAA,GAAlB;AAIA,EAAA,MAAA,CAAA,cAAA,CAAc,cAAA,CAAA,SAAd,EAAc,qBAAd,EAAiC;SAAjC,YAAA;AACI,aAAO,KAAK,oBAAL,CAA0B,KAAK,SAAL,KAAmB,UAAnB,GAAgC,cAAhC,GAAiD,aAA3E,CAAP;AACH,KAFgC;oBAAA;;AAAA,GAAjC;AAIA,EAAA,MAAA,CAAA,cAAA,CAAW,cAAA,CAAA,SAAX,EAAW,qBAAX,EAA8B;SAA9B,YAAA;AACI,aAAO,KAAK,oBAAL,CAA0B,KAAK,SAAL,KAAmB,UAAnB,GAAgC,cAAhC,GAAiD,aAA3E,CAAP;AACH,KAF6B;oBAAA;;AAAA,GAA9B;AAIA,EAAA,MAAA,CAAA,cAAA,CAAW,cAAA,CAAA,SAAX,EAAW,yBAAX,EAAkC;SAAlC,YAAA;AACI,aAAO,KAAK,oBAAL,CAA0B,KAAK,SAAL,KAAmB,UAAnB,GAAgC,WAAhC,GAA8C,YAAxE,CAAP;AACH,KAFiC;oBAAA;;AAAA,GAAlC;AAIA,EAAA,MAAA,CAAA,cAAA,CAAc,cAAA,CAAA,SAAd,EAAc,WAAd,EAAuB;SAAvB,YAAA;AACI,aAAO,KAAK,KAAL,CAAW,SAAX,KAAyB,SAAzB,GAAqC,KAAK,KAAL,CAAW,SAAhD,GAA4D,cAAc,CAAC,YAAf,CAA4B,SAA/F;AACH,KAFsB;oBAAA;;AAAA,GAAvB;AAIA,EAAA,MAAA,CAAA,cAAA,CAAc,cAAA,CAAA,SAAd,EAAc,kBAAd,EAA8B;SAA9B,YAAA;AACI,aAAO,KAAK,KAAL,CAAW,gBAAX,KAAgC,SAAhC,GACD,KAAK,KAAL,CAAW,gBADV,GAC6B,cAAc,CAAC,YAAf,CAA4B,gBADhE;AAEH,KAH6B;oBAAA;;AAAA,GAA9B;;AAcO,EAAA,cAAA,CAAA,SAAA,CAAA,WAAA,GAAP,YAAA;AACI,WAAO,KAAK,SAAL,CAAe,IAAI,CAAC,IAAL,CAAU,KAAK,uBAAf,CAAf,CAAP;AACH,GAFM;;AAIA,EAAA,cAAA,CAAA,SAAA,CAAA,SAAA,GAAP,UAAiB,MAAjB,EAA+B;AAC3B,QAAI,CAAC,KAAK,gBAAV,EAA4B;AAAE,aAAO,CAAP;AAAW;;AAEzC,WAAO,KAAK,gBAAL,CAAsB,KAAtB,CAA4B,MAA5B,CAAP;AACH,GAJM;;AAMA,EAAA,cAAA,CAAA,SAAA,CAAA,UAAA,GAAP,UAAkB,KAAlB,EAA+B;AAC3B,QAAI,CAAC,KAAK,gBAAV,EAA4B;AAAE,aAAO,CAAP;AAAW;;AACzC,WAAO,KAAK,gBAAL,CAAsB,MAAtB,CAA6B,KAA7B,CAAP;AACH,GAHM;;AAKA,EAAA,cAAA,CAAA,SAAA,CAAA,cAAA,GAAP,UAAsB,KAAtB,EAAmC;AAC/B,QAAI,CAAC,KAAK,gBAAV,EAA4B;AAAE,aAAO,KAAP;AAAe;;AAE7C,QAAM,YAAY,GAAG,KAAK,uBAA1B;AACA,QAAM,eAAe,GAAG,YAAY,GAAG,KAAK,mBAA5C;AAEA,QAAM,GAAG,GAAG,KAAK,gBAAL,CAAsB,MAAtB,CAA6B,KAA7B,CAAZ;AACA,QAAM,MAAM,GAAG,GAAG,GAAG,KAAK,gBAAL,CAAsB,MAAtB,CAA6B,KAA7B,CAArB;AAEA,WAAO,GAAG,IAAI,YAAP,IAAuB,MAAM,IAAI,eAAxC;AACH,GAVM;;AAYA,EAAA,cAAA,CAAA,SAAA,CAAA,cAAA,GAAP,UAAsB,KAAtB,EAAmC;AAC/B,QAAI,CAAC,KAAK,gBAAV,EAA4B;AAAE,aAAO,KAAP;AAAe;;AAC7C,WAAO,KAAK,uBAAL,KAAiC,KAAK,gBAAL,CAAsB,MAAtB,CAA6B,KAA7B,CAAxC;AACH,GAHM;;AAsDP,EAAA,cAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,YAAA;AACY,QAAA,OAAA,GAAA,KAAA,KAAA,CAAA,OAAA;;AAER,QAAI,OAAJ,EAAa;AACT,MAAA,OAAO,CAAC,IAAR,CAAa,SAAb,EAAwB,IAAxB;AACH;AACJ,GAND;;AAQA,EAAA,cAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACI,QAAI,KAAK,SAAL,KAAmB,KAAK,KAAL,CAAW,KAA9B,IACG,KAAK,aAAL,KAAuB,KAAK,SAD/B,IAEG,KAAK,QAAL,KAAkB,KAAK,KAAL,CAAW,IAFpC,EAE0C;AACtC,WAAK,YAAL;AACA,WAAK,SAAL,GAAiB,KAAK,KAAL,CAAW,KAA5B;AACA,WAAK,aAAL,GAAqB,KAAK,SAA1B;AACA,WAAK,QAAL,GAAgB,KAAK,KAAL,CAAW,IAA3B;AACH;;AAED,QAAM,YAAY,GAAG,MAAG,CACpB,KAAK,gBAAL,GAAwB,KAAK,gBAAL,CAAsB,WAAtB,EAAxB,GAA8D,CAD1C,IAC+C,KAAK,KAAL,CAAW,YAD7D,CAArB;AAGA,QAAM,gBAAgB,GAAG,KAAK,SAAL,KAAmB,UAAnB,GACnB;AAAE,MAAA,MAAM,EAAK,YAAY,GAAA;AAAzB,KADmB,GAEnB;AAAE,MAAA,KAAK,EAAK,YAAY,GAAA;AAAxB,KAFN;AAIA,QAAM,cAAc,GAAG,UAAU,CAC7B,wBAD6B,EACH;AACtB,iCAA2B,KAAK,SAAL,KAAmB;AADxB,KADG,EAI7B,KAAK,KAAL,CAAW,SAJkB,CAAjC;AAMA,QAAM,oBAAoB,GAAG,UAAU,CACnC,0BADmC,EACP;AACxB,6CAAuC,KAAK,SAAL,KAAmB;AADlC,KADO,CAAvC;AAKA,WACI,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACI,MAAA,GAAG,EAAE,UAAC,EAAD,EAAG;AAAO,QAAA,KAAI,CAAC,eAAL,GAAuB,EAAvB;AAA4B,OAD/C;AAEI,MAAA,QAAQ,EAAE,KAAK,YAFnB;AAGI,MAAA,SAAS,EAAE,cAHf;AAII,MAAA,QAAQ,EAAE,KAAK,KAAL,CAAW,QAJzB;AAKI,MAAA,IAAI,EAAE,KAAK,KAAL,CAAW;AALrB,KAAA,EAOK,KAAK,KAAL,CAAW,QAPhB,EAQI,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACI,MAAA,KAAK,EAAE,gBADX;AAEI,MAAA,SAAS,EAAE;AAFf,KAAA,CARJ,CADJ;AAeH,GA3CD;;AAhKO,EAAA,cAAA,CAAA,SAAA,GAAY;AACf,IAAA,YAAY,EAAE,SAAS,CAAC,MAAV,CAAiB,UADhB;AAEf,IAAA,SAAS,EAAE,SAAS,CAAC,MAFN;AAGf,IAAA,SAAS,EAAE,SAAS,CAAC,KAAV,CAAgB,CAAC,YAAD,EAAe,UAAf,CAAhB,CAHI;AAIf,IAAA,WAAW,EAAE,SAAS,CAAC,IAJR;AAKf,IAAA,UAAU,EAAE,SAAS,CAAC,MALP;AAMf,IAAA,SAAS,EAAE,SAAS,CAAC,MANN;AAOf,IAAA,mBAAmB,EAAE,SAAS,CAAC,MAPhB;AAQf,IAAA,QAAQ,EAAE,SAAS,CAAC,IARL;AASf,IAAA,cAAc,EAAE,SAAS,CAAC,IATX;AAUf,IAAA,cAAc,EAAE,SAAS,CAAC,MAVX;AAWf,IAAA,gBAAgB,EAAE,SAAS,CAAC,MAXb;AAYf,IAAA,IAAI,EAAE,SAAS,CAAC,MAAV,CAAiB,UAZR;AAaf,IAAA,QAAQ,EAAE,SAAS,CAAC,MAbL;AAcf,IAAA,IAAI,EAAE,SAAS,CAAC,MAAV,CAAiB,UAdR;AAef,IAAA,SAAS,EAAE,SAAS,CAAC,MAAV,CAAiB,UAfb;AAgBf,IAAA,KAAK,EAAE,SAAS,CAAC,MAAV,CAAiB,UAhBT;AAiBf,IAAA,IAAI,EAAE,SAAS,CAAC;AAjBD,GAAZ;AAmBA,EAAA,cAAA,CAAA,YAAA,GAAe;AAClB,IAAA,SAAS,EAAG,UADM;AAElB,IAAA,WAAW,EAAE,KAFK;AAGlB,IAAA,gBAAgB,EAAE,CAHA;AAIlB,IAAA,mBAAmB,EAAE,GAJH;AAKlB,IAAA,cAAc,EAAE;AALE,GAAf;AAoRX,SAAA,cAAA;AAAC,CAxSD,CAAoC,KAAK,CAAC,SAA1C,CAAA;;SAAa,c","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a, _b, _c;\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames } from '@progress/kendo-react-common';\nimport { RowHeightService, ScrollerService } from './services';\n/**\n * @hidden\n */\nexport var ScrollDirection;\n(function (ScrollDirection) {\n    ScrollDirection[ScrollDirection[\"Backward\"] = 0] = \"Backward\";\n    ScrollDirection[ScrollDirection[\"Forward\"] = 1] = \"Forward\";\n})(ScrollDirection || (ScrollDirection = {}));\nvar differenceToScroll = function (scrollTop, staticOffset, maxScrollDifference) {\n    return Math.min(Math.abs(staticOffset - scrollTop), maxScrollDifference);\n};\nvar FRAME_DURATION = 17;\nvar scrollModifiers = (_a = {},\n    _a[ScrollDirection.Forward] = function (step) { return function (value) { return value + step; }; },\n    _a[ScrollDirection.Backward] = function (step) { return function (value) { return value - step; }; },\n    _a);\nvar scrollNormalizers = (_b = {},\n    _b[ScrollDirection.Forward] = function (end) { return function (value) { return Math.min(value, end); }; },\n    _b[ScrollDirection.Backward] = function (end) { return function (value) { return Math.max(value, end); }; },\n    _b);\nvar scrollValidators = (_c = {},\n    _c[ScrollDirection.Forward] = function (end) { return function (start) { return start < end; }; },\n    _c[ScrollDirection.Backward] = function (end) { return function (start) { return start > end; }; },\n    _c);\n/**\n * @hidden\n */\nvar Virtualization = /** @class */ (function (_super) {\n    __extends(Virtualization, _super);\n    function Virtualization(props) {\n        var _this = _super.call(this, props) || this;\n        _this.animationInProgress = false;\n        _this.scrollTo = function (value) {\n            var scrollProperty = _this.direction === 'vertical' ? 'scrollTop' : 'scrollLeft';\n            if (!_this.scrollContainer) {\n                return;\n            }\n            _this.scrollContainer[scrollProperty] = value;\n        };\n        _this.scrollToIndex = function (index) {\n            if (!_this.rowHeightService) {\n                return;\n            }\n            _this.animationInProgress = false;\n            _this.scrollTo(_this.rowHeightService.offset(index));\n        };\n        _this.animateToIndex = function (index) {\n            if (!_this.rowHeightService || !window) {\n                return;\n            }\n            window.cancelAnimationFrame(_this.cancelAnimation);\n            var indexOffset = _this.rowHeightService.offset(index);\n            var direction = _this.getContainerScrollDirection(indexOffset);\n            var _a = _this.scrollRange(indexOffset, direction), start = _a.start, end = _a.end;\n            if (start === end) {\n                return;\n            }\n            var step = _this.scrollStep(start, end);\n            var modifyScroll = scrollModifiers[direction](step);\n            var normalizeScroll = scrollNormalizers[direction](end);\n            var isScrollValid = scrollValidators[direction](modifyScroll(end));\n            var animate = function (progress) {\n                _this.animationInProgress = true;\n                var next = modifyScroll(progress);\n                _this.scrollTo(normalizeScroll(next));\n                isScrollValid(next)\n                    ? _this.cancelAnimation = window.requestAnimationFrame(function () { animate(next); })\n                    : _this.animationInProgress = false;\n            };\n            _this.cancelAnimation = window.requestAnimationFrame(function () { animate(start); });\n        };\n        _this.scrollToBottom = function () {\n            if (!_this.rowHeightService) {\n                return;\n            }\n            _this.scrollTo(_this.rowHeightService.totalHeight() + _this.props.bottomOffset);\n        };\n        _this.scrollStep = function (start, end) {\n            var duration = _this.props.scrollDuration || Virtualization.defaultProps.scrollDuration;\n            return Math.abs(end - start) / (duration / FRAME_DURATION);\n        };\n        _this.scrollRange = function (indexOffset, direction) {\n            var containerScroll = _this.containerScrollPosition;\n            if (parseInt(\"\" + indexOffset, 10) === parseInt(\"\" + containerScroll, 10)) {\n                return { start: indexOffset, end: indexOffset };\n            }\n            var maxScroll = _this.containerMaxScroll();\n            var sign = direction === ScrollDirection.Backward ? 1 : -1;\n            var difference = differenceToScroll(containerScroll, indexOffset, _this.props.maxScrollDifference);\n            var end = Math.min(indexOffset, maxScroll);\n            var start = Math.min(Math.max(end + (sign * difference), 0), maxScroll);\n            return { start: start, end: end };\n        };\n        _this.containerMaxScroll = function () {\n            return _this.containerScrollSize - _this.containerOffsetSize;\n        };\n        _this.getContainerScrollDirection = function (indexOffset) {\n            return indexOffset < _this.containerScrollPosition ? ScrollDirection.Backward : ScrollDirection.Forward;\n        };\n        _this.initServices = function (props) {\n            if (props === void 0) { props = _this.props; }\n            var dimension = _this.direction === 'vertical' ? props.itemHeight : props.itemWidth;\n            if (dimension === undefined) {\n                return;\n            }\n            _this.rowHeightService = new RowHeightService(props.total, dimension, 0);\n            _this.scrollerService.create(_this.rowHeightService, props.skip, props.take, props.total, props.topOffset, _this.scrollOffsetSize, _this.direction);\n        };\n        _this.getContainerProperty = function (propertyName) {\n            if (!_this.scrollContainer) {\n                return 0;\n            }\n            return _this.scrollContainer[propertyName];\n        };\n        _this.handleScroll = function (event) {\n            if (!_this.scrollContainer || !_this.rowHeightService) {\n                return;\n            }\n            var target = event.target;\n            _this.scrollerService.onScroll({\n                scrollLeft: target.scrollLeft,\n                scrollTop: target.scrollTop,\n                offsetHeight: target.offsetHeight,\n                offsetWidth: target.offsetWidth\n            });\n            var index = _this.rowHeightService.index(_this.containerScrollPosition - _this.props.topOffset);\n            var onScrollAction = _this.props.onScrollAction;\n            var args = {\n                index: index,\n                target: target,\n                scrollAction: _this.scrollAction,\n                pageAction: _this.pageAction,\n                animationInProgress: _this.animationInProgress\n            };\n            if (onScrollAction) {\n                onScrollAction.call(undefined, args);\n            }\n            _this.scrollAction = undefined;\n            _this.pageAction = undefined;\n        };\n        _this.handleScrollAction = function (action) {\n            _this.scrollAction = action;\n        };\n        _this.handlePageAction = function (action) {\n            _this.pageAction = action;\n        };\n        _this.scrollerService = new ScrollerService(_this.handleScrollAction, _this.handlePageAction);\n        return _this;\n    }\n    Object.defineProperty(Virtualization.prototype, \"element\", {\n        get: function () {\n            return this.scrollContainer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"containerOffsetSize\", {\n        get: function () {\n            return this.getContainerProperty(this.direction === 'vertical' ? 'offsetHeight' : 'offsetWidth');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"containerScrollSize\", {\n        get: function () {\n            return this.getContainerProperty(this.direction === 'vertical' ? 'scrollHeight' : 'scrollWidth');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"containerScrollPosition\", {\n        get: function () {\n            return this.getContainerProperty(this.direction === 'vertical' ? 'scrollTop' : 'scrollLeft');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"direction\", {\n        get: function () {\n            return this.props.direction !== undefined ? this.props.direction : Virtualization.defaultProps.direction;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Virtualization.prototype, \"scrollOffsetSize\", {\n        get: function () {\n            return this.props.scrollOffsetSize !== undefined\n                ? this.props.scrollOffsetSize : Virtualization.defaultProps.scrollOffsetSize;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Virtualization.prototype.activeIndex = function () {\n        return this.itemIndex(Math.ceil(this.containerScrollPosition));\n    };\n    Virtualization.prototype.itemIndex = function (offset) {\n        if (!this.rowHeightService) {\n            return 0;\n        }\n        return this.rowHeightService.index(offset);\n    };\n    Virtualization.prototype.itemOffset = function (index) {\n        if (!this.rowHeightService) {\n            return 0;\n        }\n        return this.rowHeightService.offset(index);\n    };\n    Virtualization.prototype.isIndexVisible = function (index) {\n        if (!this.rowHeightService) {\n            return false;\n        }\n        var containerTop = this.containerScrollPosition;\n        var containerBottom = containerTop + this.containerOffsetSize;\n        var top = this.rowHeightService.offset(index);\n        var bottom = top + this.rowHeightService.height(index);\n        return top >= containerTop && bottom <= containerBottom;\n    };\n    Virtualization.prototype.isListScrolled = function (index) {\n        if (!this.rowHeightService) {\n            return false;\n        }\n        return this.containerScrollPosition !== this.rowHeightService.offset(index);\n    };\n    Virtualization.prototype.componentDidMount = function () {\n        var onMount = this.props.onMount;\n        if (onMount) {\n            onMount.call(undefined, this);\n        }\n    };\n    Virtualization.prototype.render = function () {\n        var _this = this;\n        if (this.lastTotal !== this.props.total\n            || this.lastDirection !== this.direction\n            || this.lastTake !== this.props.take) {\n            this.initServices();\n            this.lastTotal = this.props.total;\n            this.lastDirection = this.direction;\n            this.lastTake = this.props.take;\n        }\n        var vertexLength = \"\" + ((this.rowHeightService ? this.rowHeightService.totalHeight() : 0) + this.props.bottomOffset);\n        var placeholderStyle = this.direction === 'vertical'\n            ? { height: vertexLength + \"px\" }\n            : { width: vertexLength + \"px\" };\n        var rootClassNames = classNames('k-content k-scrollable', {\n            'k-scrollable-horizontal': this.direction === 'horizontal'\n        }, this.props.className);\n        var scrollableClassNames = classNames('k-scrollable-placeholder', {\n            'k-scrollable-horizontal-placeholder': this.direction === 'horizontal'\n        });\n        return (React.createElement(\"div\", { ref: function (el) { _this.scrollContainer = el; }, onScroll: this.handleScroll, className: rootClassNames, tabIndex: this.props.tabIndex, role: this.props.role },\n            this.props.children,\n            React.createElement(\"div\", { style: placeholderStyle, className: scrollableClassNames })));\n    };\n    Virtualization.propTypes = {\n        bottomOffset: PropTypes.number.isRequired,\n        className: PropTypes.string,\n        direction: PropTypes.oneOf(['horizontal', 'vertical']),\n        forceScroll: PropTypes.bool,\n        itemHeight: PropTypes.number,\n        itemWidth: PropTypes.number,\n        maxScrollDifference: PropTypes.number,\n        onScroll: PropTypes.func,\n        onScrollAction: PropTypes.func,\n        scrollDuration: PropTypes.number,\n        scrollOffsetSize: PropTypes.number,\n        skip: PropTypes.number.isRequired,\n        tabIndex: PropTypes.number,\n        take: PropTypes.number.isRequired,\n        topOffset: PropTypes.number.isRequired,\n        total: PropTypes.number.isRequired,\n        role: PropTypes.string\n    };\n    Virtualization.defaultProps = {\n        direction: 'vertical',\n        forceScroll: false,\n        scrollOffsetSize: 0,\n        maxScrollDifference: 100,\n        scrollDuration: 100\n    };\n    return Virtualization;\n}(React.Component));\nexport { Virtualization };\n//# sourceMappingURL=Virtualization.js.map"]},"metadata":{},"sourceType":"module"}