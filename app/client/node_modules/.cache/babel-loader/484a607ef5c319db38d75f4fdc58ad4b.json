{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport DropDownBase from '../common/DropDownBase';\nimport { guid, classNames, Keys } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { areSame, itemIndexStartsWith, getItemIndexByText, getItemValue, isPresent, suggestValue } from '../common/utils';\nimport SearchBar from '../common/SearchBar';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/**\n * Represents the [KendoReact ComboBox component]({% slug overview_combobox %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    combobox = null;\n *    render() {\n *       return (\n *          <div>\n *              <ComboBox\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.combobox = component}\n *              />\n *              <button onClick={() => alert(this.combobox.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar ComboBox =\n/** @class */\nfunction (_super) {\n  __extends(ComboBox, _super);\n\n  function ComboBox() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this.base = new DropDownBase(_this);\n    _this._inputId = guid();\n    _this._suggested = '';\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          virtual = _a.virtual,\n          dataItemKey = _a.dataItemKey;\n      var skip = virtual ? virtual.skip : 0;\n      var item = data[index - skip];\n      var newSelected = !areSame(item, _this.value, dataItemKey);\n\n      _this.triggerOnChange(item, state);\n\n      if (_this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n\n      if (newSelected) {\n        _this.base.triggerPageChangeCornerItems(item, state);\n      }\n    };\n\n    _this.toggleBtnClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      _this.base.togglePopup(state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleItemClick = function (index, event) {\n      _this.base.handleItemClick(index, event);\n\n      _this._valueDuringOnChange = undefined;\n    };\n\n    _this.handleBlur = function (event) {\n      if (_this.state.focused) {\n        var state = _this.base.initState();\n\n        state.data.focused = false;\n        state.events.push({\n          type: 'onBlur'\n        });\n        state.syntheticEvent = event;\n\n        _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n      }\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var keyCode = event.keyCode;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (!event.altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n        event.preventDefault();\n\n        _this.onNavigate(state, keyCode);\n\n        _this.applyState(state);\n\n        return;\n      }\n\n      var togglePopup = function () {\n        event.preventDefault();\n\n        _this.base.togglePopup(state);\n\n        _this.applyState(state);\n      };\n\n      if (opened) {\n        if (event.altKey && keyCode === Keys.up) {\n          togglePopup();\n        } else if (keyCode === Keys.enter) {\n          event.preventDefault();\n\n          _this.applyValueOnEnter(event.currentTarget.value, state);\n        } else if (keyCode === Keys.esc) {\n          _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n        }\n      } else if (event.altKey && keyCode === Keys.down) {\n        togglePopup();\n      }\n    };\n\n    _this.inputOnChange = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var input = event.currentTarget;\n      var value = input.value;\n\n      if (_this.props.suggest) {\n        var selectionAtEnd = input.selectionEnd === value.length;\n        var prevText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n\n        if (!isPresent(prevText)) {\n          prevText = getItemValue(_this.value, _this.props.textField) || '';\n        }\n\n        var deletedSuggestion = prevText && prevText === value;\n        var deleting = prevText && prevText.length > value.length;\n\n        if (deletedSuggestion || deleting || !selectionAtEnd) {\n          _this._suggested = '';\n        } else {\n          _this.suggestValue(value);\n        }\n      }\n\n      if (_this.props.filter === undefined) {\n        state.data.text = value;\n      }\n\n      if (_this.state.focusedItem !== undefined) {\n        state.data.focusedItem = undefined;\n      }\n\n      if (!opened) {\n        _this.base.togglePopup(state);\n      }\n\n      _this.base.filterChanged(value, state);\n\n      _this.applyState(state);\n    };\n\n    _this.clearButtonClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      event.stopPropagation();\n      _this._suggested = '';\n\n      _this.base.filterChanged('', state);\n\n      if (_this.props.filter === undefined && _this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n\n      _this.triggerOnChange(null, state);\n\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.setValidity = function () {\n      if (_this._input && _this._input.setCustomValidity) {\n        _this._input.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(ComboBox.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ComboBox.prototype, \"value\", {\n    /**\n     * The value of the ComboBox.\n     */\n    get: function () {\n      if (this._valueDuringOnChange !== undefined) {\n        return this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        return this.props.value;\n      } else if (this.state.value !== undefined) {\n        return this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        return this.props.defaultValue;\n      }\n\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ComboBox.prototype, \"index\", {\n    /**\n     * The index of the selected item.\n     */\n    get: function () {\n      var _a = this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey;\n      var value = this.value; // TO DO: deprecate it!\n\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ComboBox.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the ComboBox.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ComboBox.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the component is set.\n     */\n    get: function () {\n      // remove the undefined check when this is fixed:\n      // https://github.com/telerik/kendo-react-private/issues/252\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== null && this.value !== '' && this.value !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ComboBox.prototype, \"validityStyles\", {\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : ComboBox.defaultProps.validityStyles;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ComboBox.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : ComboBox.defaultProps.required;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  ComboBox.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        virtual = _a.virtual;\n    var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n    var selectedItem = this.value;\n    this._valueOnDidUpdate = selectedItem;\n\n    if (virtual && virtual.total !== prevTotal) {\n      this.base.vs.calcScrollElementHeight();\n      this.base.vs.reset();\n    } else {\n      var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n      var selectedItemIndex = data.findIndex(function (i) {\n        return areSame(i, selectedItem, dataItemKey);\n      });\n      var selectedItemChanged = !areSame(prevSelectedItem, selectedItem, dataItemKey);\n\n      if (opening && virtual) {\n        this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n      } else if (opening && !virtual) {\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && selectedItem && selectedItemChanged) {\n        this.base.scrollToItem(selectedItemIndex);\n      }\n    }\n\n    if (opening && this._input) {\n      this._input.focus();\n    }\n\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  ComboBox.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  ComboBox.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        dir = _a.dir,\n        disabled = _a.disabled,\n        _b = _a.clearButton,\n        clearButton = _b === void 0 ? ComboBox.defaultProps.clearButton : _b,\n        label = _a.label,\n        textField = _a.textField,\n        className = _a.className,\n        style = _a.style,\n        loading = _a.loading,\n        iconClassName = _a.iconClassName,\n        virtual = _a.virtual;\n    var focused = this.state.focused;\n    var isValid = !this.validityStyles || this.validity.valid;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var selectedItemText = getItemValue(this.value, textField);\n    var inputText = isPresent(text) ? text : selectedItemText;\n    var renderClearButton = clearButton && (!!inputText || isPresent(this.value));\n    var base = this.base;\n    var vs = base.vs;\n    var id = this.props.id || this._inputId;\n    vs.enabled = virtual !== undefined;\n\n    if (virtual !== undefined) {\n      vs.skip = virtual.skip;\n      vs.total = virtual.total;\n      vs.pageSize = virtual.pageSize;\n    }\n\n    var combobox = React.createElement(\"span\", {\n      className: classNames('k-widget k-combobox k-header', {\n        'k-combobox-clearable': clearButton,\n        'k-state-invalid': !isValid\n      }, className),\n      ref: function (element) {\n        return _this._element = element;\n      },\n      style: !label ? style : __assign({}, style, {\n        width: undefined\n      }),\n      dir: dir\n    }, React.createElement(\"span\", {\n      ref: function (wrapper) {\n        return base.wrapper = wrapper;\n      },\n      className: classNames('k-dropdown-wrap', {\n        'k-state-default': !disabled,\n        'k-state-disabled': disabled,\n        'k-state-focused': focused && !disabled\n      })\n    }, this.renderSearchBar(renderClearButton, inputText || '', id), React.createElement(\"span\", {\n      className: \"k-select\",\n      onClick: this.toggleBtnClick,\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      }\n    }, React.createElement(\"span\", {\n      className: classNames('k-icon', iconClassName, {\n        'k-i-arrow-s': !loading && !iconClassName,\n        'k-i-loading': loading && !iconClassName\n      })\n    }))), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorId: id,\n      editorValue: inputText,\n      editorValid: isValid,\n      editorDisabled: disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: combobox\n    }) : combobox;\n  };\n  /**\n   * @hidden\n   */\n\n\n  ComboBox.prototype.onNavigate = function (state, keyCode) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c;\n    var text = this.props.filter ? this.props.filter : this.state.text;\n    var focusedIndex = this.getFocusedIndex();\n    var vs = this.base.vs;\n    var value = this.value;\n    this._suggested = '';\n\n    if (focusedIndex !== -1 && !isPresent(value)) {\n      this.handleItemSelect(focusedIndex, state);\n    } else if (text === '') {\n      this.handleItemSelect(0, state);\n    } else {\n      var currentIndex = virtual.skip + focusedIndex;\n      var newIndex = this.base.navigation.navigate({\n        keyCode: keyCode,\n        current: currentIndex,\n        max: (vs.enabled ? vs.total : data.length) - 1,\n        min: 0\n      });\n\n      if (newIndex !== undefined) {\n        this.handleItemSelect(newIndex, state);\n      }\n    }\n  };\n\n  ComboBox.prototype.applyValueOnEnter = function (value, state) {\n    var _a;\n\n    var _b = this.props,\n        _c = _b.data,\n        data = _c === void 0 ? [] : _c,\n        textField = _b.textField,\n        allowCustom = _b.allowCustom;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var currentValueText = getItemValue(this.value, textField);\n    var valueIndex = currentValueText === value ? this.index : getItemIndexByText(data, value, textField);\n    var itemSelected = valueIndex !== -1;\n    var newSelected = undefined;\n    this._suggested = '';\n\n    if (itemSelected) {\n      // typed text match item from list\n      newSelected = data[valueIndex];\n    } else {\n      if (allowCustom) {\n        // any custom text not in list\n        newSelected = textField !== undefined ? (_a = {}, _a[textField] = value, _a) : value;\n      } else {\n        return this.selectFocusedItem(value, state);\n      }\n    }\n\n    this.triggerOnChange(newSelected, state);\n\n    if (opened) {\n      this.base.togglePopup(state);\n    }\n\n    if (this.props.filter === undefined && this.state.text !== undefined) {\n      state.data.text = undefined;\n    }\n\n    this.applyState(state);\n  };\n\n  ComboBox.prototype.applyValueOnRejectSuggestions = function (text, state) {\n    var _a;\n\n    var _b = this.props,\n        _c = _b.data,\n        data = _c === void 0 ? [] : _c,\n        textField = _b.textField,\n        allowCustom = _b.allowCustom;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var valueItemText = getItemValue(this.value, textField);\n    this._suggested = '';\n\n    if (text === valueItemText || text === '' && !isPresent(valueItemText)) {\n      if (opened) {\n        this.base.togglePopup(state);\n      }\n\n      return this.applyState(state);\n    }\n\n    var valueIndex = getItemIndexByText(data, text, textField, true);\n    var itemSelected = valueIndex !== -1;\n    var newSelected = null;\n\n    if (itemSelected) {\n      newSelected = data[valueIndex];\n    } else if (allowCustom) {\n      newSelected = text ? textField ? (_a = {}, _a[textField] = text, _a) : text : null;\n    }\n\n    this.triggerOnChange(newSelected, state);\n\n    if (this.state.text !== undefined) {\n      state.data.text = undefined;\n      this.base.filterChanged('', state);\n    }\n\n    if (opened) {\n      this.base.togglePopup(state);\n    }\n\n    this.applyState(state);\n  };\n\n  ComboBox.prototype.selectFocusedItem = function (text, state) {\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c,\n        _d = _a.focusedItemIndex,\n        focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n    var skip = virtual.skip;\n    var focusedIndex = text === '' && skip === 0 ? 0 : focusedItemIndex(data, text, textField);\n\n    if (focusedIndex !== -1) {\n      this.handleItemSelect(focusedIndex + skip, state);\n    } else {\n      this.triggerOnChange(null, state);\n\n      if (this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n    }\n\n    if (opened) {\n      this.base.togglePopup(state);\n    }\n\n    return this.applyState(state);\n  };\n\n  ComboBox.prototype.renderListContainer = function () {\n    var base = this.base;\n    var _a = this.props,\n        dir = _a.dir,\n        header = _a.header,\n        footer = _a.footer;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var popupSettings = base.getPopupSettings();\n    var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n    return React.createElement(ListContainer, {\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      },\n      width: popupWidth,\n      popupSettings: {\n        animate: popupSettings.animate,\n        anchor: this.element || undefined,\n        show: opened,\n        className: classNames('k-list-container k-reset', popupSettings.className),\n        appendTo: popupSettings.appendTo\n      },\n      dir: dir !== undefined ? dir : this.base.dirCalculated\n    }, header, base.renderScrollWrapper([this.renderList(), base.renderScrollElement()]), footer);\n  };\n\n  ComboBox.prototype.renderList = function () {\n    var _this = this;\n\n    var base = this.base;\n    var _a = this.props,\n        textField = _a.textField,\n        dataItemKey = _a.dataItemKey,\n        listNoDataRender = _a.listNoDataRender,\n        itemRender = _a.itemRender,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c;\n    var popupSettings = base.getPopupSettings();\n    var vs = base.vs;\n    var skip = virtual.skip;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var translate = \"translateY(\" + vs.translate + \"px)\";\n    var focusedIndex = opened ? this.getFocusedIndex() : undefined;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var selectedItemText = getItemValue(this.value, textField);\n    var value = isPresent(text) && text !== selectedItemText ? null : this.value;\n    return React.createElement(List, {\n      id: base.listBoxId,\n      show: opened,\n      data: data,\n      focusedIndex: focusedIndex,\n      value: value,\n      textField: textField,\n      valueField: dataItemKey,\n      optionsGuid: base.guid,\n      listRef: function (list) {\n        return vs.list = _this.base.list = list;\n      },\n      wrapperStyle: !vs.enabled ? {\n        maxHeight: popupSettings.height\n      } : {\n        float: 'left',\n        width: '100%'\n      },\n      wrapperCssClass: !vs.enabled ? 'k-list-scroller' : undefined,\n      listStyle: vs.enabled ? {\n        transform: translate\n      } : undefined,\n      key: \"listkey\",\n      skip: skip,\n      onClick: this.handleItemClick,\n      itemRender: itemRender,\n      noDataRender: listNoDataRender\n    });\n  };\n\n  ComboBox.prototype.renderSearchBar = function (clearButton, text, id) {\n    var _this = this;\n\n    var _a = this.props,\n        placeholder = _a.placeholder,\n        tabIndex = _a.tabIndex,\n        disabled = _a.disabled,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var value = this.value;\n    var selectedIndex = Math.max(0, data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    }));\n\n    if (this._suggested && !areSame(this._valueOnDidUpdate, value, dataItemKey)) {\n      this._suggested = '';\n    }\n\n    return React.createElement(SearchBar, {\n      id: id,\n      placeholder: placeholder,\n      tabIndex: tabIndex || undefined,\n      accessKey: this.props.accessKey,\n      value: text + this._suggested,\n      suggestedText: this._suggested,\n      ref: function (el) {\n        return _this._input = el && el.input;\n      },\n      onKeyDown: this.onInputKeyDown,\n      onChange: this.inputOnChange,\n      onFocus: this.base.handleFocus,\n      onBlur: this.handleBlur,\n      disabled: disabled,\n      expanded: opened,\n      owns: this.base.listBoxId,\n      activedescendant: this.base.guid + '-' + (selectedIndex + virtual.skip),\n      clearButton: clearButton,\n      clearButtonClick: this.clearButtonClick,\n      ariaLabelledBy: this.props.ariaLabelledBy,\n      ariaDescribedBy: this.props.ariaDescribedBy\n    });\n  };\n\n  ComboBox.prototype.triggerOnChange = function (item, state) {\n    var value = this.value;\n\n    if (!isPresent(value) && !isPresent(item) || areSame(value, item, this.props.dataItemKey)) {\n      return;\n    }\n\n    if (this.props.value === undefined) {\n      state.data.value = item;\n    }\n\n    this._valueDuringOnChange = item;\n    state.events.push({\n      type: 'onChange'\n    });\n  };\n\n  ComboBox.prototype.getFocusedIndex = function () {\n    var value = this.value;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        dataItemKey = _a.dataItemKey,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c,\n        _d = _a.focusedItemIndex,\n        focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n    var text = this.props.filter ? this.props.filter : this.state.text;\n\n    if (isPresent(value) && text === undefined) {\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    } else if (text) {\n      return focusedItemIndex(data, text, textField);\n    } else {\n      return virtual.skip === 0 ? 0 : -1;\n    }\n  };\n\n  ComboBox.prototype.suggestValue = function (value) {\n    var _a = this.props,\n        data = _a.data,\n        textField = _a.textField;\n    this._suggested = suggestValue(value, data, textField);\n  };\n\n  ComboBox.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueDuringOnChange = undefined;\n  };\n  /**\n   * @hidden\n   */\n\n\n  ComboBox.propTypes = __assign({}, DropDownBase.propTypes, {\n    dataItemKey: PropTypes.string,\n    suggest: PropTypes.bool,\n    placeholder: PropTypes.string,\n    allowCustom: PropTypes.bool,\n    clearButton: PropTypes.bool,\n    iconClassName: PropTypes.string,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n  });\n  /**\n   * @hidden\n   */\n\n  ComboBox.defaultProps = __assign({}, DropDownBase.defaultProps, {\n    allowCustom: false,\n    clearButton: true,\n    required: false\n  });\n  return ComboBox;\n}(React.Component);\n\nexport default ComboBox;","map":{"version":3,"sources":["../../../src/ComboBox/ComboBox.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport DropDownBase from '../common/DropDownBase';\nimport { guid, classNames, Keys } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { areSame, itemIndexStartsWith, getItemIndexByText, getItemValue, isPresent, suggestValue } from '../common/utils';\nimport SearchBar from '../common/SearchBar';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/**\n * Represents the [KendoReact ComboBox component]({% slug overview_combobox %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    combobox = null;\n *    render() {\n *       return (\n *          <div>\n *              <ComboBox\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.combobox = component}\n *              />\n *              <button onClick={() => alert(this.combobox.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    function ComboBox() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this._inputId = guid();\n        _this._suggested = '';\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual, dataItemKey = _a.dataItemKey;\n            var skip = virtual ? virtual.skip : 0;\n            var item = data[index - skip];\n            var newSelected = !areSame(item, _this.value, dataItemKey);\n            _this.triggerOnChange(item, state);\n            if (_this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n            if (newSelected) {\n                _this.base.triggerPageChangeCornerItems(item, state);\n            }\n        };\n        _this.toggleBtnClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.handleBlur = function (event) {\n            if (_this.state.focused) {\n                var state = _this.base.initState();\n                state.data.focused = false;\n                state.events.push({ type: 'onBlur' });\n                state.syntheticEvent = event;\n                _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n            }\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!event.altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n                event.preventDefault();\n                _this.onNavigate(state, keyCode);\n                _this.applyState(state);\n                return;\n            }\n            var togglePopup = function () {\n                event.preventDefault();\n                _this.base.togglePopup(state);\n                _this.applyState(state);\n            };\n            if (opened) {\n                if (event.altKey && keyCode === Keys.up) {\n                    togglePopup();\n                }\n                else if (keyCode === Keys.enter) {\n                    event.preventDefault();\n                    _this.applyValueOnEnter(event.currentTarget.value, state);\n                }\n                else if (keyCode === Keys.esc) {\n                    _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n                }\n            }\n            else if (event.altKey && keyCode === Keys.down) {\n                togglePopup();\n            }\n        };\n        _this.inputOnChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var input = event.currentTarget;\n            var value = input.value;\n            if (_this.props.suggest) {\n                var selectionAtEnd = input.selectionEnd === value.length;\n                var prevText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n                if (!isPresent(prevText)) {\n                    prevText = getItemValue(_this.value, _this.props.textField) || '';\n                }\n                var deletedSuggestion = prevText && prevText === value;\n                var deleting = prevText && prevText.length > value.length;\n                if (deletedSuggestion || deleting || !selectionAtEnd) {\n                    _this._suggested = '';\n                }\n                else {\n                    _this.suggestValue(value);\n                }\n            }\n            if (_this.props.filter === undefined) {\n                state.data.text = value;\n            }\n            if (_this.state.focusedItem !== undefined) {\n                state.data.focusedItem = undefined;\n            }\n            if (!opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.base.filterChanged(value, state);\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            event.stopPropagation();\n            _this._suggested = '';\n            _this.base.filterChanged('', state);\n            if (_this.props.filter === undefined && _this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n            _this.triggerOnChange(null, state);\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(ComboBox.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"value\", {\n        /**\n         * The value of the ComboBox.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"index\", {\n        /**\n         * The index of the selected item.\n         */\n        get: function () {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var value = this.value;\n            // TO DO: deprecate it!\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the ComboBox.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the component is set.\n         */\n        get: function () {\n            // remove the undefined check when this is fixed:\n            // https://github.com/telerik/kendo-react-private/issues/252\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value !== '' && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : ComboBox.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBox.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : ComboBox.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ComboBox.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var selectedItem = this.value;\n        this._valueOnDidUpdate = selectedItem;\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n            var selectedItemIndex = data.findIndex(function (i) { return areSame(i, selectedItem, dataItemKey); });\n            var selectedItemChanged = !areSame(prevSelectedItem, selectedItem, dataItemKey);\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && selectedItem && selectedItemChanged) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n        }\n        if (opening && this._input) {\n            this._input.focus();\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    ComboBox.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    ComboBox.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, dir = _a.dir, disabled = _a.disabled, _b = _a.clearButton, clearButton = _b === void 0 ? ComboBox.defaultProps.clearButton : _b, label = _a.label, textField = _a.textField, className = _a.className, style = _a.style, loading = _a.loading, iconClassName = _a.iconClassName, virtual = _a.virtual;\n        var focused = this.state.focused;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var selectedItemText = getItemValue(this.value, textField);\n        var inputText = isPresent(text) ? text : selectedItemText;\n        var renderClearButton = clearButton && (!!(inputText) || isPresent(this.value));\n        var base = this.base;\n        var vs = base.vs;\n        var id = this.props.id || this._inputId;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            vs.skip = virtual.skip;\n            vs.total = virtual.total;\n            vs.pageSize = virtual.pageSize;\n        }\n        var combobox = (React.createElement(\"span\", { className: classNames('k-widget k-combobox k-header', {\n                'k-combobox-clearable': clearButton,\n                'k-state-invalid': !isValid\n            }, className), ref: function (element) { return _this._element = element; }, style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir },\n            React.createElement(\"span\", { ref: function (wrapper) { return base.wrapper = wrapper; }, className: classNames('k-dropdown-wrap', {\n                    'k-state-default': !disabled,\n                    'k-state-disabled': disabled,\n                    'k-state-focused': focused && !disabled\n                }) },\n                this.renderSearchBar(renderClearButton, inputText || '', id),\n                React.createElement(\"span\", { className: \"k-select\", onClick: this.toggleBtnClick, onMouseDown: function (e) { return e.preventDefault(); } },\n                    React.createElement(\"span\", { className: classNames('k-icon', iconClassName, {\n                            'k-i-arrow-s': !loading && !iconClassName,\n                            'k-i-loading': loading && !iconClassName\n                        }) }))),\n            this.renderListContainer()));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: inputText, editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: combobox }))\n            : combobox;\n    };\n    /**\n     * @hidden\n     */\n    ComboBox.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var text = this.props.filter ? this.props.filter : this.state.text;\n        var focusedIndex = this.getFocusedIndex();\n        var vs = this.base.vs;\n        var value = this.value;\n        this._suggested = '';\n        if (focusedIndex !== -1 && !isPresent(value)) {\n            this.handleItemSelect(focusedIndex, state);\n        }\n        else if (text === '') {\n            this.handleItemSelect(0, state);\n        }\n        else {\n            var currentIndex = virtual.skip + focusedIndex;\n            var newIndex = this.base.navigation.navigate({\n                keyCode: keyCode,\n                current: currentIndex,\n                max: (vs.enabled ? vs.total : data.length) - 1,\n                min: 0\n            });\n            if (newIndex !== undefined) {\n                this.handleItemSelect(newIndex, state);\n            }\n        }\n    };\n    ComboBox.prototype.applyValueOnEnter = function (value, state) {\n        var _a;\n        var _b = this.props, _c = _b.data, data = _c === void 0 ? [] : _c, textField = _b.textField, allowCustom = _b.allowCustom;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var currentValueText = getItemValue(this.value, textField);\n        var valueIndex = currentValueText === value ?\n            this.index : getItemIndexByText(data, value, textField);\n        var itemSelected = valueIndex !== -1;\n        var newSelected = undefined;\n        this._suggested = '';\n        if (itemSelected) { // typed text match item from list\n            newSelected = data[valueIndex];\n        }\n        else {\n            if (allowCustom) { // any custom text not in list\n                newSelected = textField !== undefined ? (_a = {}, _a[textField] = value, _a) : value;\n            }\n            else {\n                return this.selectFocusedItem(value, state);\n            }\n        }\n        this.triggerOnChange(newSelected, state);\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        if (this.props.filter === undefined && this.state.text !== undefined) {\n            state.data.text = undefined;\n        }\n        this.applyState(state);\n    };\n    ComboBox.prototype.applyValueOnRejectSuggestions = function (text, state) {\n        var _a;\n        var _b = this.props, _c = _b.data, data = _c === void 0 ? [] : _c, textField = _b.textField, allowCustom = _b.allowCustom;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var valueItemText = getItemValue(this.value, textField);\n        this._suggested = '';\n        if (text === valueItemText || (text === '' && !isPresent(valueItemText))) {\n            if (opened) {\n                this.base.togglePopup(state);\n            }\n            return this.applyState(state);\n        }\n        var valueIndex = getItemIndexByText(data, text, textField, true);\n        var itemSelected = valueIndex !== -1;\n        var newSelected = null;\n        if (itemSelected) {\n            newSelected = data[valueIndex];\n        }\n        else if (allowCustom) {\n            newSelected = text ? (textField ? (_a = {}, _a[textField] = text, _a) : text) : null;\n        }\n        this.triggerOnChange(newSelected, state);\n        if (this.state.text !== undefined) {\n            state.data.text = undefined;\n            this.base.filterChanged('', state);\n        }\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        this.applyState(state);\n    };\n    ComboBox.prototype.selectFocusedItem = function (text, state) {\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, _d = _a.focusedItemIndex, focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n        var skip = virtual.skip;\n        var focusedIndex = (text === '' && skip === 0) ? 0 :\n            focusedItemIndex(data, text, textField);\n        if (focusedIndex !== -1) {\n            this.handleItemSelect(focusedIndex + skip, state);\n        }\n        else {\n            this.triggerOnChange(null, state);\n            if (this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n        }\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        return this.applyState(state);\n    };\n    ComboBox.prototype.renderListContainer = function () {\n        var base = this.base;\n        var _a = this.props, dir = _a.dir, header = _a.header, footer = _a.footer;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var popupSettings = base.getPopupSettings();\n        var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n        return (React.createElement(ListContainer, { onMouseDown: function (e) { return e.preventDefault(); }, width: popupWidth, popupSettings: {\n                animate: popupSettings.animate,\n                anchor: this.element || undefined,\n                show: opened,\n                className: classNames('k-list-container k-reset', popupSettings.className),\n                appendTo: popupSettings.appendTo\n            }, dir: dir !== undefined ? dir : this.base.dirCalculated },\n            header,\n            base.renderScrollWrapper([\n                this.renderList(),\n                base.renderScrollElement()\n            ]),\n            footer));\n    };\n    ComboBox.prototype.renderList = function () {\n        var _this = this;\n        var base = this.base;\n        var _a = this.props, textField = _a.textField, dataItemKey = _a.dataItemKey, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var popupSettings = base.getPopupSettings();\n        var vs = base.vs;\n        var skip = virtual.skip;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var translate = \"translateY(\" + vs.translate + \"px)\";\n        var focusedIndex = opened ? this.getFocusedIndex() : undefined;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var selectedItemText = getItemValue(this.value, textField);\n        var value = isPresent(text) && text !== selectedItemText ? null : this.value;\n        return (React.createElement(List, { id: base.listBoxId, show: opened, data: data, focusedIndex: focusedIndex, value: value, textField: textField, valueField: dataItemKey, optionsGuid: base.guid, listRef: function (list) { return vs.list = _this.base.list = list; }, wrapperStyle: !vs.enabled ?\n                { maxHeight: popupSettings.height } : { float: 'left', width: '100%' }, wrapperCssClass: !vs.enabled ? 'k-list-scroller' : undefined, listStyle: vs.enabled ?\n                { transform: translate } : undefined, key: \"listkey\", skip: skip, onClick: this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender }));\n    };\n    ComboBox.prototype.renderSearchBar = function (clearButton, text, id) {\n        var _this = this;\n        var _a = this.props, placeholder = _a.placeholder, tabIndex = _a.tabIndex, disabled = _a.disabled, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var value = this.value;\n        var selectedIndex = Math.max(0, data.findIndex(function (i) { return areSame(i, value, dataItemKey); }));\n        if (this._suggested && !areSame(this._valueOnDidUpdate, value, dataItemKey)) {\n            this._suggested = '';\n        }\n        return (React.createElement(SearchBar, { id: id, placeholder: placeholder, tabIndex: tabIndex || undefined, accessKey: this.props.accessKey, value: text + this._suggested, suggestedText: this._suggested, ref: function (el) { return _this._input = el && el.input; }, onKeyDown: this.onInputKeyDown, onChange: this.inputOnChange, onFocus: this.base.handleFocus, onBlur: this.handleBlur, disabled: disabled, expanded: opened, owns: this.base.listBoxId, activedescendant: this.base.guid + '-' + (selectedIndex + virtual.skip), clearButton: clearButton, clearButtonClick: this.clearButtonClick, ariaLabelledBy: this.props.ariaLabelledBy, ariaDescribedBy: this.props.ariaDescribedBy }));\n    };\n    ComboBox.prototype.triggerOnChange = function (item, state) {\n        var value = this.value;\n        if ((!isPresent(value) && !isPresent(item)) || areSame(value, item, this.props.dataItemKey)) {\n            return;\n        }\n        if (this.props.value === undefined) {\n            state.data.value = item;\n        }\n        this._valueDuringOnChange = item;\n        state.events.push({ type: 'onChange' });\n    };\n    ComboBox.prototype.getFocusedIndex = function () {\n        var value = this.value;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, _d = _a.focusedItemIndex, focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n        var text = this.props.filter ? this.props.filter : this.state.text;\n        if (isPresent(value) && text === undefined) {\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        }\n        else if (text) {\n            return focusedItemIndex(data, text, textField);\n        }\n        else {\n            return virtual.skip === 0 ? 0 : -1;\n        }\n    };\n    ComboBox.prototype.suggestValue = function (value) {\n        var _a = this.props, data = _a.data, textField = _a.textField;\n        this._suggested = suggestValue(value, data, textField);\n    };\n    ComboBox.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    /**\n     * @hidden\n     */\n    ComboBox.propTypes = __assign({}, DropDownBase.propTypes, { dataItemKey: PropTypes.string, suggest: PropTypes.bool, placeholder: PropTypes.string, allowCustom: PropTypes.bool, clearButton: PropTypes.bool, iconClassName: PropTypes.string, validationMessage: PropTypes.string, required: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string });\n    /**\n     * @hidden\n     */\n    ComboBox.defaultProps = __assign({}, DropDownBase.defaultProps, { allowCustom: false, clearButton: true, required: false });\n    return ComboBox;\n}(React.Component));\nexport default ComboBox;\n//# sourceMappingURL=ComboBox.js.map"]},"metadata":{},"sourceType":"module"}