{"ast":null,"code":"import { support } from '../common';\n/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */\n\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n// XXX: remove this junk (assume `true`) when we no longer have to support IE < 10\n// IE 9 (at least compatibility) reports having Uint8Array but the request response does not contain ArrayBuffer which results in missing table head error\n\nvar HAS_TYPED_ARRAYS = typeof Uint8Array !== 'undefined' && support.browser && (!support.browser.msie || support.browser.version > 9);\n\nvar BASE64 = function () {\n  var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  return {\n    decode: function (str) {\n      var input = str.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\"),\n          i = 0,\n          n = input.length,\n          output = [];\n\n      while (i < n) {\n        var enc1 = keyStr.indexOf(input.charAt(i++));\n        var enc2 = keyStr.indexOf(input.charAt(i++));\n        var enc3 = keyStr.indexOf(input.charAt(i++));\n        var enc4 = keyStr.indexOf(input.charAt(i++));\n        var chr1 = enc1 << 2 | enc2 >>> 4;\n        var chr2 = (enc2 & 15) << 4 | enc3 >>> 2;\n        var chr3 = (enc3 & 3) << 6 | enc4;\n        output.push(chr1);\n\n        if (enc3 != 64) {\n          output.push(chr2);\n        }\n\n        if (enc4 != 64) {\n          output.push(chr3);\n        }\n      }\n\n      return output;\n    },\n    encode: function (bytes) {\n      var i = 0,\n          n = bytes.length;\n      var output = \"\";\n\n      while (i < n) {\n        var chr1 = bytes[i++];\n        var chr2 = bytes[i++];\n        var chr3 = bytes[i++];\n        var enc1 = chr1 >>> 2;\n        var enc2 = (chr1 & 3) << 4 | chr2 >>> 4;\n        var enc3 = (chr2 & 15) << 2 | chr3 >>> 6;\n        var enc4 = chr3 & 63;\n\n        if (i - n == 2) {\n          enc3 = enc4 = 64;\n        } else if (i - n == 1) {\n          enc4 = 64;\n        }\n\n        output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n      }\n\n      return output;\n    }\n  };\n}();\n\nfunction BinaryStream(data) {\n  var offset = 0,\n      length = 0;\n\n  if (data == null) {\n    data = HAS_TYPED_ARRAYS ? new Uint8Array(256) : [];\n  } else {\n    length = data.length;\n  }\n\n  var ensure = HAS_TYPED_ARRAYS ? function (len) {\n    if (len >= data.length) {\n      var tmp = new Uint8Array(Math.max(len + 256, data.length * 2));\n      tmp.set(data, 0);\n      data = tmp;\n    }\n  } : function () {};\n  var get = HAS_TYPED_ARRAYS ? function () {\n    return new Uint8Array(data.buffer, 0, length);\n  } : function () {\n    return data;\n  };\n  var write = HAS_TYPED_ARRAYS ? function (bytes) {\n    if (typeof bytes == \"string\") {\n      return writeString(bytes);\n    }\n\n    var len = bytes.length;\n    ensure(offset + len);\n    data.set(bytes, offset);\n    offset += len;\n\n    if (offset > length) {\n      length = offset;\n    }\n  } : function (bytes) {\n    if (typeof bytes == \"string\") {\n      return writeString(bytes);\n    }\n\n    for (var i = 0; i < bytes.length; ++i) {\n      writeByte(bytes[i]);\n    }\n  };\n  var slice = HAS_TYPED_ARRAYS ? function (start, length) {\n    if (data.buffer.slice) {\n      return new Uint8Array(data.buffer.slice(start, start + length));\n    } else {\n      // IE10\n      var x = new Uint8Array(length);\n      x.set(new Uint8Array(data.buffer, start, length));\n      return x;\n    }\n  } : function (start, length) {\n    return data.slice(start, start + length);\n  };\n\n  function eof() {\n    return offset >= length;\n  }\n\n  function readByte() {\n    return offset < length ? data[offset++] : 0;\n  }\n\n  function writeByte(b) {\n    ensure(offset);\n    data[offset++] = b & 0xFF;\n\n    if (offset > length) {\n      length = offset;\n    }\n  }\n\n  function readShort() {\n    return readByte() << 8 | readByte();\n  }\n\n  function writeShort(w) {\n    writeByte(w >> 8);\n    writeByte(w);\n  }\n\n  function readShort_() {\n    var w = readShort();\n    return w >= 0x8000 ? w - 0x10000 : w;\n  }\n\n  function writeShort_(w) {\n    writeShort(w < 0 ? w + 0x10000 : w);\n  }\n\n  function readLong() {\n    return readShort() * 0x10000 + readShort();\n  }\n\n  function writeLong(w) {\n    writeShort(w >>> 16 & 0xFFFF);\n    writeShort(w & 0xFFFF);\n  }\n\n  function readLong_() {\n    var w = readLong();\n    return w >= 0x80000000 ? w - 0x100000000 : w;\n  }\n\n  function writeLong_(w) {\n    writeLong(w < 0 ? w + 0x100000000 : w);\n  }\n\n  function readFixed() {\n    return readLong() / 0x10000;\n  }\n\n  function writeFixed(f) {\n    writeLong(Math.round(f * 0x10000));\n  }\n\n  function readFixed_() {\n    return readLong_() / 0x10000;\n  }\n\n  function writeFixed_(f) {\n    writeLong_(Math.round(f * 0x10000));\n  }\n\n  function read(len) {\n    return times(len, readByte);\n  }\n\n  function readString(len) {\n    return String.fromCharCode.apply(String, read(len));\n  }\n\n  function writeString(str) {\n    for (var i = 0; i < str.length; ++i) {\n      writeByte(str.charCodeAt(i));\n    }\n  }\n\n  function times(n, reader) {\n    for (var ret = new Array(n), i = 0; i < n; ++i) {\n      ret[i] = reader();\n    }\n\n    return ret;\n  }\n\n  var stream = {\n    eof: eof,\n    readByte: readByte,\n    writeByte: writeByte,\n    readShort: readShort,\n    writeShort: writeShort,\n    readLong: readLong,\n    writeLong: writeLong,\n    readFixed: readFixed,\n    writeFixed: writeFixed,\n    // signed numbers.\n    readShort_: readShort_,\n    writeShort_: writeShort_,\n    readLong_: readLong_,\n    writeLong_: writeLong_,\n    readFixed_: readFixed_,\n    writeFixed_: writeFixed_,\n    read: read,\n    write: write,\n    readString: readString,\n    writeString: writeString,\n    times: times,\n    get: get,\n    slice: slice,\n    offset: function (pos) {\n      if (pos != null) {\n        offset = pos;\n        return stream;\n      }\n\n      return offset;\n    },\n    skip: function (nbytes) {\n      offset += nbytes;\n    },\n    toString: function () {\n      throw new Error(\"FIX CALLER.  BinaryStream is no longer convertible to string!\");\n    },\n    length: function () {\n      return length;\n    },\n    saveExcursion: function (f) {\n      var pos = offset;\n\n      try {\n        return f();\n      } finally {\n        offset = pos;\n      }\n    },\n    writeBase64: function (base64) {\n      if (window.atob) {\n        writeString(window.atob(base64));\n      } else {\n        write(BASE64.decode(base64));\n      }\n    },\n    base64: function () {\n      return BASE64.encode(get());\n    }\n  };\n  return stream;\n}\n\nfunction ucs2decode(string) {\n  var output = [],\n      counter = 0,\n      length = string.length,\n      value,\n      extra;\n\n  while (counter < length) {\n    value = string.charCodeAt(counter++);\n\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // high surrogate, and there is a next character\n      extra = string.charCodeAt(counter++);\n\n      if ((extra & 0xFC00) == 0xDC00) {\n        // low surrogate\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // unmatched surrogate; only append this code unit, in case the next\n        // code unit is the high surrogate of a surrogate pair\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n\n  return output;\n}\n\nfunction ucs2encode(array) {\n  return array.map(function (value) {\n    var output = \"\";\n\n    if (value > 0xFFFF) {\n      value -= 0x10000;\n      output += String.fromCharCode(value >>> 10 & 0x3FF | 0xD800);\n      value = 0xDC00 | value & 0x3FF;\n    }\n\n    output += String.fromCharCode(value);\n    return output;\n  }).join(\"\");\n}\n\nfunction atobUint8Array(base64) {\n  var data = window.atob(base64);\n  var result = new Uint8Array(data.length);\n\n  for (var idx = 0; idx < data.length; idx++) {\n    result[idx] = data.charCodeAt(idx);\n  }\n\n  return result;\n}\n\nfunction createUint8Array(data) {\n  var result = new Uint8Array(data.length);\n\n  for (var idx = 0; idx < data.length; idx++) {\n    result[idx] = data[idx];\n  }\n\n  return result;\n}\n\nfunction base64ToUint8Array(base64) {\n  if (window.atob) {\n    return atobUint8Array(base64);\n  }\n\n  return createUint8Array(BASE64.decode(base64));\n}\n\nexport { HAS_TYPED_ARRAYS, BASE64, BinaryStream, ucs2decode, ucs2encode, base64ToUint8Array };","map":{"version":3,"sources":["/home/infinity/Desktop/supermarket/NTUA-Databases/app/client/node_modules/@progress/kendo-drawing/dist/es/pdf/utils.js"],"names":["support","HAS_TYPED_ARRAYS","Uint8Array","browser","msie","version","BASE64","keyStr","decode","str","input","replace","i","n","length","output","enc1","indexOf","charAt","enc2","enc3","enc4","chr1","chr2","chr3","push","encode","bytes","BinaryStream","data","offset","ensure","len","tmp","Math","max","set","get","buffer","write","writeString","writeByte","slice","start","x","eof","readByte","b","readShort","writeShort","w","readShort_","writeShort_","readLong","writeLong","readLong_","writeLong_","readFixed","writeFixed","f","round","readFixed_","writeFixed_","read","times","readString","String","fromCharCode","apply","charCodeAt","reader","ret","Array","stream","pos","skip","nbytes","toString","Error","saveExcursion","writeBase64","base64","window","atob","ucs2decode","string","counter","value","extra","ucs2encode","array","map","join","atobUint8Array","result","idx","createUint8Array","base64ToUint8Array"],"mappings":"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","sourcesContent":["import { support } from '../common';\n\n/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n\n// XXX: remove this junk (assume `true`) when we no longer have to support IE < 10\n// IE 9 (at least compatibility) reports having Uint8Array but the request response does not contain ArrayBuffer which results in missing table head error\nvar HAS_TYPED_ARRAYS = typeof Uint8Array !== 'undefined' && support.browser && (!support.browser.msie || support.browser.version > 9);\n\nvar BASE64 = (function(){\n    var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    return {\n        decode: function(str) {\n            var input = str.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\"), i = 0, n = input.length, output = [];\n\n            while (i < n) {\n                var enc1 = keyStr.indexOf(input.charAt(i++));\n                var enc2 = keyStr.indexOf(input.charAt(i++));\n                var enc3 = keyStr.indexOf(input.charAt(i++));\n                var enc4 = keyStr.indexOf(input.charAt(i++));\n\n                var chr1 = (enc1 << 2) | (enc2 >>> 4);\n                var chr2 = ((enc2 & 15) << 4) | (enc3 >>> 2);\n                var chr3 = ((enc3 & 3) << 6) | enc4;\n\n                output.push(chr1);\n                if (enc3 != 64) {\n                    output.push(chr2);\n                }\n                if (enc4 != 64) {\n                    output.push(chr3);\n                }\n            }\n\n            return output;\n        },\n        encode: function(bytes) {\n            var i = 0, n = bytes.length;\n            var output = \"\";\n\n            while (i < n) {\n                var chr1 = bytes[i++];\n                var chr2 = bytes[i++];\n                var chr3 = bytes[i++];\n\n                var enc1 = chr1 >>> 2;\n                var enc2 = ((chr1 & 3) << 4) | (chr2 >>> 4);\n                var enc3 = ((chr2 & 15) << 2) | (chr3 >>> 6);\n                var enc4 = chr3 & 63;\n\n                if (i - n == 2) {\n                    enc3 = enc4 = 64;\n                } else if (i - n == 1) {\n                    enc4 = 64;\n                }\n\n                output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n            }\n            return output;\n        }\n    };\n}());\n\nfunction BinaryStream(data) {\n    var offset = 0, length = 0;\n    if (data == null) {\n        data = HAS_TYPED_ARRAYS ? new Uint8Array(256) : [];\n    } else {\n        length = data.length;\n    }\n\n    var ensure = HAS_TYPED_ARRAYS ? function(len) {\n        if (len >= data.length) {\n            var tmp = new Uint8Array(Math.max(len + 256, data.length * 2));\n            tmp.set(data, 0);\n            data = tmp;\n        }\n    } : function() {};\n\n    var get = HAS_TYPED_ARRAYS ? function() {\n        return new Uint8Array(data.buffer, 0, length);\n    } : function() {\n        return data;\n    };\n\n    var write = HAS_TYPED_ARRAYS ? function(bytes) {\n        if (typeof bytes == \"string\") {\n            return writeString(bytes);\n        }\n        var len = bytes.length;\n        ensure(offset + len);\n        data.set(bytes, offset);\n        offset += len;\n        if (offset > length) {\n            length = offset;\n        }\n    } : function(bytes) {\n        if (typeof bytes == \"string\") {\n            return writeString(bytes);\n        }\n        for (var i = 0; i < bytes.length; ++i) {\n            writeByte(bytes[i]);\n        }\n    };\n\n    var slice = HAS_TYPED_ARRAYS ? function(start, length) {\n        if (data.buffer.slice) {\n            return new Uint8Array(data.buffer.slice(start, start + length));\n        } else {\n            // IE10\n            var x = new Uint8Array(length);\n            x.set(new Uint8Array(data.buffer, start, length));\n            return x;\n        }\n    } : function(start, length) {\n        return data.slice(start, start + length);\n    };\n\n    function eof() {\n        return offset >= length;\n    }\n    function readByte() {\n        return offset < length ? data[offset++] : 0;\n    }\n    function writeByte(b) {\n        ensure(offset);\n        data[offset++] = b & 0xFF;\n        if (offset > length) {\n            length = offset;\n        }\n    }\n    function readShort() {\n        return (readByte() << 8) | readByte();\n    }\n    function writeShort(w) {\n        writeByte(w >> 8);\n        writeByte(w);\n    }\n    function readShort_() {\n        var w = readShort();\n        return w >= 0x8000 ? w - 0x10000 : w;\n    }\n    function writeShort_(w) {\n        writeShort(w < 0 ? w + 0x10000 : w);\n    }\n    function readLong() {\n        return (readShort() * 0x10000) + readShort();\n    }\n    function writeLong(w) {\n        writeShort((w >>> 16) & 0xFFFF);\n        writeShort(w & 0xFFFF);\n    }\n    function readLong_() {\n        var w = readLong();\n        return w >= 0x80000000 ? w - 0x100000000 : w;\n    }\n    function writeLong_(w) {\n        writeLong(w < 0 ? w + 0x100000000 : w);\n    }\n    function readFixed() {\n        return readLong() / 0x10000;\n    }\n    function writeFixed(f) {\n        writeLong(Math.round(f * 0x10000));\n    }\n    function readFixed_() {\n        return readLong_() / 0x10000;\n    }\n    function writeFixed_(f) {\n        writeLong_(Math.round(f * 0x10000));\n    }\n    function read(len) {\n        return times(len, readByte);\n    }\n    function readString(len) {\n        return String.fromCharCode.apply(String, read(len));\n    }\n    function writeString(str) {\n        for (var i = 0; i < str.length; ++i) {\n            writeByte(str.charCodeAt(i));\n        }\n    }\n    function times(n, reader) {\n        for (var ret = new Array(n), i = 0; i < n; ++i) {\n            ret[i] = reader();\n        }\n        return ret;\n    }\n\n    var stream = {\n        eof         : eof,\n        readByte    : readByte,\n        writeByte   : writeByte,\n        readShort   : readShort,\n        writeShort  : writeShort,\n        readLong    : readLong,\n        writeLong   : writeLong,\n        readFixed   : readFixed,\n        writeFixed  : writeFixed,\n\n        // signed numbers.\n        readShort_  : readShort_,\n        writeShort_ : writeShort_,\n        readLong_   : readLong_,\n        writeLong_  : writeLong_,\n        readFixed_  : readFixed_,\n        writeFixed_ : writeFixed_,\n\n        read        : read,\n        write       : write,\n        readString  : readString,\n        writeString : writeString,\n\n        times       : times,\n        get         : get,\n        slice       : slice,\n\n        offset: function(pos) {\n            if (pos != null) {\n                offset = pos;\n                return stream;\n            }\n            return offset;\n        },\n\n        skip: function(nbytes) {\n            offset += nbytes;\n        },\n\n        toString: function() {\n            throw new Error(\"FIX CALLER.  BinaryStream is no longer convertible to string!\");\n        },\n\n        length: function() { return length; },\n\n        saveExcursion: function(f) {\n            var pos = offset;\n            try {\n                return f();\n            } finally {\n                offset = pos;\n            }\n        },\n\n        writeBase64: function(base64) {\n            if (window.atob) {\n                writeString(window.atob(base64));\n            } else {\n                write(BASE64.decode(base64));\n            }\n        },\n        base64: function() {\n            return BASE64.encode(get());\n        }\n    };\n\n    return stream;\n}\n\nfunction ucs2decode(string) {\n    var output = [],\n        counter = 0,\n        length = string.length,\n        value,\n        extra;\n    while (counter < length) {\n        value = string.charCodeAt(counter++);\n        if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n            // high surrogate, and there is a next character\n            extra = string.charCodeAt(counter++);\n            if ((extra & 0xFC00) == 0xDC00) { // low surrogate\n                output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n            } else {\n                // unmatched surrogate; only append this code unit, in case the next\n                // code unit is the high surrogate of a surrogate pair\n                output.push(value);\n                counter--;\n            }\n        } else {\n            output.push(value);\n        }\n    }\n    return output;\n}\n\nfunction ucs2encode(array) {\n    return array.map(function(value){\n        var output = \"\";\n        if (value > 0xFFFF) {\n            value -= 0x10000;\n            output += String.fromCharCode(value >>> 10 & 0x3FF | 0xD800);\n            value = 0xDC00 | value & 0x3FF;\n        }\n        output += String.fromCharCode(value);\n        return output;\n    }).join(\"\");\n}\n\nfunction atobUint8Array(base64) {\n    var data = window.atob(base64);\n    var result = new Uint8Array(data.length);\n\n    for (var idx = 0; idx < data.length; idx++) {\n        result[idx] = data.charCodeAt(idx);\n    }\n\n    return result;\n}\n\nfunction createUint8Array(data) {\n    var result = new Uint8Array(data.length);\n\n    for (var idx = 0; idx < data.length; idx++) {\n        result[idx] = data[idx];\n    }\n\n    return result;\n}\n\nfunction base64ToUint8Array(base64) {\n    if (window.atob) {\n        return atobUint8Array(base64);\n    }\n\n    return createUint8Array(BASE64.decode(base64));\n}\n\nexport {\n    HAS_TYPED_ARRAYS,\n    BASE64,\n    BinaryStream,\n    ucs2decode,\n    ucs2encode,\n    base64ToUint8Array\n};\n"]},"metadata":{},"sourceType":"module"}