{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport SearchBar from './../common/SearchBar';\nimport ListContainer from './../common/ListContainer';\nimport List from './../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { itemIndexStartsWith, getItemValue, areSame, getFocusedItem } from '../common/utils';\nimport { guid, Keys, classNames } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/**\n * Represents the [KendoReact AutoComplete component]({% slug overview_autocomplete %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    autocomplete = null;\n *    render() {\n *       return (\n *          <div>\n *              <AutoComplete\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.autocomplete = component}\n *              />\n *              <button onClick={() => alert(this.autocomplete.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar AutoComplete =\n/** @class */\nfunction (_super) {\n  __extends(AutoComplete, _super);\n\n  function AutoComplete() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this.base = new DropDownBase(_this);\n    _this._inputId = guid();\n    _this._suggested = '';\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props.data,\n          data = _a === void 0 ? [] : _a;\n      var newText = getItemValue(data[index], _this.props.textField);\n\n      _this.triggerOnChange(newText, state);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.itemFocus = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField;\n      var focusedItem = data[index];\n\n      if (!areSame(_this.state.focusedItem, focusedItem, textField)) {\n        state.data.focusedItem = focusedItem;\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.togglePopup = function (state) {\n      _this.base.togglePopup(state);\n    };\n\n    _this.setValidity = function () {\n      if (_this._input && _this._input.setCustomValidity) {\n        _this._input.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n\n    _this.handleItemClick = function (index, event) {\n      _this.base.handleItemClick(index, event);\n\n      _this._valueDuringOnChange = undefined;\n    };\n\n    _this.onChangeHandler = function (event) {\n      var base = _this.base;\n      var state = base.initState();\n      var input = event.currentTarget;\n      var value = input.value;\n      var selectionAtEnd = input.selectionEnd === value.length;\n      state.syntheticEvent = event;\n      var prevSuggestion = _this._suggested;\n      var prevValue = _this.value;\n      var prevUserInput = prevValue && prevValue.substring(0, prevValue.length - prevSuggestion.length);\n      var deletedSuggestion = prevUserInput && prevUserInput === value;\n      var deleting = prevUserInput && prevUserInput.length > value.length;\n      var suggest = _this.props.suggest;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      if (suggest !== undefined && suggest !== false) {\n        if (deletedSuggestion || deleting || !selectionAtEnd) {\n          _this._suggested = '';\n        } else {\n          _this.suggestValue(value);\n        }\n\n        var newValue = value + _this._suggested;\n        var suggestion = {\n          userInput: value,\n          value: _this._suggested\n        };\n\n        _this.triggerOnChange(newValue, state, {\n          suggestion: suggestion\n        });\n      } else {\n        _this._suggested = '';\n\n        _this.triggerOnChange(value, state);\n      }\n\n      if (!opened && value || opened && !value) {\n        _this.togglePopup(state);\n      }\n\n      state.data.focusedItem = undefined;\n\n      _this.applyState(state);\n    };\n\n    _this.clearButtonClick = function (event) {\n      var base = _this.base;\n      var state = base.initState();\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      state.syntheticEvent = event;\n      var newValue = '';\n      _this._suggested = '';\n\n      _this.triggerOnChange(newValue, state);\n\n      if (_this.state.focusedItem !== undefined) {\n        state.data.focusedItem = undefined;\n      }\n\n      if (opened) {\n        _this.togglePopup(state);\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var keyCode = event.keyCode;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      var preventDefault = function () {\n        if (opened) {\n          event.preventDefault();\n        }\n      };\n\n      if (keyCode === Keys.enter || keyCode === Keys.esc) {\n        preventDefault();\n\n        _this.applyInputValue(event.currentTarget.value, state, event.keyCode);\n      } else if (keyCode === Keys.up || keyCode === Keys.down) {\n        preventDefault();\n\n        _this.onNavigate(state, keyCode);\n      }\n    };\n\n    _this.handleBlur = function (event) {\n      if (_this.state.focused) {\n        var state = _this.base.initState();\n\n        state.data.focused = false;\n        state.events.push({\n          type: 'onBlur'\n        });\n        state.syntheticEvent = event;\n\n        _this.applyInputValue(event.currentTarget.value, state);\n      }\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(AutoComplete.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoComplete.prototype, \"value\", {\n    /**\n     * The value of the AutoComplete.\n     */\n    get: function () {\n      if (this._valueDuringOnChange !== undefined) {\n        return this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        return this.props.value;\n      } else if (this.state.value !== undefined) {\n        return this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        return this.props.defaultValue;\n      }\n\n      return '';\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoComplete.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the AutoComplete.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoComplete.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the AutoComplete is set.\n     */\n    get: function () {\n      // The AutoComplete component is in a invalid state\n      // only if it's required and the value is null!\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== '';\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoComplete.prototype, \"validityStyles\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : AutoComplete.defaultProps.validityStyles;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoComplete.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : AutoComplete.defaultProps.required;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  AutoComplete.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props.data,\n        data = _a === void 0 ? [] : _a;\n    var _b = prevProps.data,\n        prevData = _b === void 0 ? [] : _b;\n    var focusedIndex = this.focusedIndex();\n    var focusedItem = data[focusedIndex];\n    var dataChanged = prevData !== data;\n    var focusedItemChanged = focusedItem !== undefined && prevState.focusedItem !== focusedItem;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n\n    if (opened && (focusedItemChanged || dataChanged) || opening) {\n      this.base.scrollToItem(focusedIndex);\n    }\n\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoComplete.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoComplete.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        dir = _a.dir,\n        disabled = _a.disabled,\n        label = _a.label,\n        className = _a.className,\n        style = _a.style,\n        loading = _a.loading,\n        suggest = _a.suggest;\n    var isValid = !this.validityStyles || this.validity.valid;\n    var focused = this.state.focused;\n    var base = this.base;\n    var value = this.value;\n    var renderClearButton = !loading && !!value;\n    var id = this.props.id || this._inputId;\n\n    if (typeof suggest === 'string') {\n      this._suggested = suggest;\n    }\n\n    var autoComplete = React.createElement(\"span\", {\n      className: classNames('k-widget k-autocomplete k-header', className, {\n        'k-state-disabled': disabled,\n        'k-state-focused': focused && !disabled,\n        'k-state-invalid': !isValid\n      }),\n      ref: function (element) {\n        _this._element = element;\n        base.wrapper = element;\n      },\n      style: !label ? style : __assign({}, style, {\n        width: undefined\n      }),\n      dir: dir\n    }, this.renderSearchBar(renderClearButton, value || '', id), loading && React.createElement(\"span\", {\n      className: \"k-icon k-i-loading\"\n    }), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorId: id,\n      editorValue: value,\n      editorValid: isValid,\n      editorDisabled: disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: autoComplete\n    }) : autoComplete;\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoComplete.prototype.onNavigate = function (state, keyCode) {\n    var _this = this;\n\n    var typedText = this.value;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        focusedItemIndex = _a.focusedItemIndex;\n    var focusedIndex = this.state.focusedItem !== undefined ? data.findIndex(function (i) {\n      return areSame(i, _this.state.focusedItem, textField);\n    }) : focusedItemIndex ? focusedItemIndex(data, typedText, textField) : data.indexOf(getFocusedItem(data, typedText, textField));\n    var newFocused = this.base.navigation.navigate({\n      keyCode: keyCode,\n      current: focusedIndex,\n      max: data.length - 1,\n      min: 0\n    });\n\n    if (newFocused !== undefined) {\n      this.itemFocus(newFocused, state);\n    }\n\n    this.applyState(state);\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoComplete.prototype.applyInputValue = function (value, state, eventKey) {\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField;\n    this._suggested = '';\n\n    if (opened && eventKey === Keys.enter) {\n      var newValue = getItemValue(data[this.focusedIndex(value)], textField);\n      this.triggerOnChange(newValue, state);\n    }\n\n    if (opened) {\n      this.togglePopup(state);\n    }\n\n    this.applyState(state);\n  };\n\n  AutoComplete.prototype.renderSearchBar = function (clearButton, value, id) {\n    var _this = this;\n\n    var base = this.base;\n    var _a = this.props,\n        placeholder = _a.placeholder,\n        tabIndex = _a.tabIndex,\n        disabled = _a.disabled,\n        readonly = _a.readonly;\n    var focused = this.state.focused;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    return React.createElement(SearchBar, {\n      id: id,\n      placeholder: placeholder,\n      tabIndex: tabIndex || undefined,\n      accessKey: this.props.accessKey,\n      value: value,\n      suggestedText: this._suggested,\n      focused: focused,\n      name: this.props.name,\n      ref: function (searchbar) {\n        return _this._input = searchbar && searchbar.input;\n      },\n      onKeyDown: this.onInputKeyDown,\n      onChange: this.onChangeHandler,\n      onFocus: base.handleFocus,\n      onBlur: this.handleBlur,\n      disabled: disabled,\n      readOnly: readonly,\n      expanded: opened,\n      owns: base.listBoxId,\n      activedescendant: 'option-' + base.guid + '-' + this.focusedIndex(),\n      clearButton: clearButton,\n      clearButtonClick: this.clearButtonClick,\n      ariaLabelledBy: this.props.ariaLabelledBy,\n      ariaDescribedBy: this.props.ariaDescribedBy\n    });\n  };\n\n  AutoComplete.prototype.renderListContainer = function () {\n    var base = this.base;\n    var _a = this.props,\n        dir = _a.dir,\n        header = _a.header,\n        footer = _a.footer;\n    var popupSettings = base.getPopupSettings();\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n    return React.createElement(ListContainer, {\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      },\n      width: popupWidth,\n      popupSettings: {\n        animate: popupSettings.animate,\n        anchor: this.element || undefined,\n        show: opened,\n        className: classNames('k-list-container k-reset', popupSettings.className),\n        appendTo: popupSettings.appendTo\n      },\n      dir: dir !== undefined ? dir : this.base.dirCalculated\n    }, header, this.renderList(), footer);\n  };\n\n  AutoComplete.prototype.renderList = function () {\n    var base = this.base;\n    var popupSettings = base.getPopupSettings();\n    var _a = this.props,\n        textField = _a.textField,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        listNoDataRender = _a.listNoDataRender,\n        itemRender = _a.itemRender;\n    var value = this.value;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    return React.createElement(List, {\n      id: base.listBoxId,\n      show: opened,\n      data: data.slice(),\n      focusedIndex: this.focusedIndex(),\n      value: value,\n      textField: textField,\n      valueField: textField,\n      highlightSelected: false,\n      optionsGuid: base.guid,\n      listRef: function (list) {\n        return base.list = list;\n      },\n      wrapperStyle: {\n        maxHeight: popupSettings.height\n      },\n      wrapperCssClass: \"k-list-scroller\",\n      onClick: this.handleItemClick,\n      itemRender: itemRender,\n      noDataRender: listNoDataRender\n    });\n  };\n\n  AutoComplete.prototype.triggerOnChange = function (newValue, state, eventArgs) {\n    if (this.value === newValue && !eventArgs) {\n      return;\n    }\n\n    state.data.value = newValue;\n    this._valueDuringOnChange = newValue;\n    state.events.push(__assign({\n      type: 'onChange'\n    }, eventArgs || {}));\n  };\n\n  AutoComplete.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueDuringOnChange = undefined;\n  };\n\n  AutoComplete.prototype.suggestValue = function (value) {\n    this._suggested = '';\n\n    if (value) {\n      var _a = this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField;\n      var suggestedItem = data[itemIndexStartsWith(data, value, textField)];\n\n      if (suggestedItem) {\n        var suggestedText = getItemValue(suggestedItem, textField);\n\n        if (value.toLowerCase() !== suggestedText.toLowerCase()) {\n          this._suggested = suggestedText.substring(value.length);\n        }\n      }\n    }\n  };\n\n  AutoComplete.prototype.focusedIndex = function (value) {\n    var _this = this;\n\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        focusedItemIndex = _a.focusedItemIndex;\n    var inputValue = value !== undefined ? value : this.value;\n    return this.state.focusedItem !== undefined ? data.findIndex(function (i) {\n      return areSame(i, _this.state.focusedItem, textField);\n    }) : focusedItemIndex ? focusedItemIndex(data, inputValue, textField) : Math.max(0, data.indexOf(getFocusedItem(data, inputValue, textField)));\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoComplete.propTypes = __assign({}, DropDownBase.basicPropTypes, {\n    suggest: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n    placeholder: PropTypes.string,\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n  });\n  /**\n   * @hidden\n   */\n\n  AutoComplete.defaultProps = __assign({}, DropDownBase.defaultProps);\n  return AutoComplete;\n}(React.Component);\n\nexport default AutoComplete;","map":{"version":3,"sources":["../../../src/AutoComplete/AutoComplete.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport SearchBar from './../common/SearchBar';\nimport ListContainer from './../common/ListContainer';\nimport List from './../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { itemIndexStartsWith, getItemValue, areSame, getFocusedItem } from '../common/utils';\nimport { guid, Keys, classNames } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/**\n * Represents the [KendoReact AutoComplete component]({% slug overview_autocomplete %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    autocomplete = null;\n *    render() {\n *       return (\n *          <div>\n *              <AutoComplete\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.autocomplete = component}\n *              />\n *              <button onClick={() => alert(this.autocomplete.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    function AutoComplete() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this._inputId = guid();\n        _this._suggested = '';\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props.data, data = _a === void 0 ? [] : _a;\n            var newText = getItemValue(data[index], _this.props.textField);\n            _this.triggerOnChange(newText, state);\n        };\n        /**\n         * @hidden\n         */\n        _this.itemFocus = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n            var focusedItem = data[index];\n            if (!areSame(_this.state.focusedItem, focusedItem, textField)) {\n                state.data.focusedItem = focusedItem;\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.togglePopup = function (state) {\n            _this.base.togglePopup(state);\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.onChangeHandler = function (event) {\n            var base = _this.base;\n            var state = base.initState();\n            var input = event.currentTarget;\n            var value = input.value;\n            var selectionAtEnd = input.selectionEnd === value.length;\n            state.syntheticEvent = event;\n            var prevSuggestion = _this._suggested;\n            var prevValue = _this.value;\n            var prevUserInput = prevValue &&\n                prevValue.substring(0, prevValue.length - prevSuggestion.length);\n            var deletedSuggestion = prevUserInput && prevUserInput === value;\n            var deleting = prevUserInput && prevUserInput.length > value.length;\n            var suggest = _this.props.suggest;\n            var opened = _this.props.opened !== undefined ?\n                _this.props.opened : _this.state.opened;\n            if (suggest !== undefined && suggest !== false) {\n                if (deletedSuggestion || deleting || !selectionAtEnd) {\n                    _this._suggested = '';\n                }\n                else {\n                    _this.suggestValue(value);\n                }\n                var newValue = value + _this._suggested;\n                var suggestion = { userInput: value, value: _this._suggested };\n                _this.triggerOnChange(newValue, state, { suggestion: suggestion });\n            }\n            else {\n                _this._suggested = '';\n                _this.triggerOnChange(value, state);\n            }\n            if ((!opened && value) || (opened && !value)) {\n                _this.togglePopup(state);\n            }\n            state.data.focusedItem = undefined;\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var base = _this.base;\n            var state = base.initState();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            state.syntheticEvent = event;\n            var newValue = '';\n            _this._suggested = '';\n            _this.triggerOnChange(newValue, state);\n            if (_this.state.focusedItem !== undefined) {\n                state.data.focusedItem = undefined;\n            }\n            if (opened) {\n                _this.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var preventDefault = function () {\n                if (opened) {\n                    event.preventDefault();\n                }\n            };\n            if (keyCode === Keys.enter || keyCode === Keys.esc) {\n                preventDefault();\n                _this.applyInputValue(event.currentTarget.value, state, event.keyCode);\n            }\n            else if (keyCode === Keys.up || keyCode === Keys.down) {\n                preventDefault();\n                _this.onNavigate(state, keyCode);\n            }\n        };\n        _this.handleBlur = function (event) {\n            if (_this.state.focused) {\n                var state = _this.base.initState();\n                state.data.focused = false;\n                state.events.push({ type: 'onBlur' });\n                state.syntheticEvent = event;\n                _this.applyInputValue(event.currentTarget.value, state);\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(AutoComplete.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"value\", {\n        /**\n         * The value of the AutoComplete.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the AutoComplete.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the AutoComplete is set.\n         */\n        get: function () {\n            // The AutoComplete component is in a invalid state\n            // only if it's required and the value is null!\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required || this.value !== '');\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : AutoComplete.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoComplete.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : AutoComplete.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props.data, data = _a === void 0 ? [] : _a;\n        var _b = prevProps.data, prevData = _b === void 0 ? [] : _b;\n        var focusedIndex = this.focusedIndex();\n        var focusedItem = data[focusedIndex];\n        var dataChanged = prevData !== data;\n        var focusedItemChanged = focusedItem !== undefined && prevState.focusedItem !== focusedItem;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        if ((opened && (focusedItemChanged || dataChanged)) || opening) {\n            this.base.scrollToItem(focusedIndex);\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, dir = _a.dir, disabled = _a.disabled, label = _a.label, className = _a.className, style = _a.style, loading = _a.loading, suggest = _a.suggest;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var focused = this.state.focused;\n        var base = this.base;\n        var value = this.value;\n        var renderClearButton = !loading && !!value;\n        var id = this.props.id || this._inputId;\n        if (typeof suggest === 'string') {\n            this._suggested = suggest;\n        }\n        var autoComplete = (React.createElement(\"span\", { className: classNames('k-widget k-autocomplete k-header', className, {\n                'k-state-disabled': disabled,\n                'k-state-focused': focused && !disabled,\n                'k-state-invalid': !isValid\n            }), ref: function (element) {\n                _this._element = element;\n                base.wrapper = element;\n            }, style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir },\n            this.renderSearchBar(renderClearButton, value || '', id),\n            loading && React.createElement(\"span\", { className: \"k-icon k-i-loading\" }),\n            this.renderListContainer()));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: value, editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: autoComplete }))\n            : autoComplete;\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.onNavigate = function (state, keyCode) {\n        var _this = this;\n        var typedText = this.value;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var focusedIndex = this.state.focusedItem !== undefined ?\n            data.findIndex(function (i) { return areSame(i, _this.state.focusedItem, textField); }) :\n            (focusedItemIndex ? focusedItemIndex(data, typedText, textField) :\n                data.indexOf(getFocusedItem(data, typedText, textField)));\n        var newFocused = this.base.navigation.navigate({\n            keyCode: keyCode,\n            current: focusedIndex,\n            max: data.length - 1,\n            min: 0\n        });\n        if (newFocused !== undefined) {\n            this.itemFocus(newFocused, state);\n        }\n        this.applyState(state);\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.prototype.applyInputValue = function (value, state, eventKey) {\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n        this._suggested = '';\n        if (opened && eventKey === Keys.enter) {\n            var newValue = getItemValue(data[this.focusedIndex(value)], textField);\n            this.triggerOnChange(newValue, state);\n        }\n        if (opened) {\n            this.togglePopup(state);\n        }\n        this.applyState(state);\n    };\n    AutoComplete.prototype.renderSearchBar = function (clearButton, value, id) {\n        var _this = this;\n        var base = this.base;\n        var _a = this.props, placeholder = _a.placeholder, tabIndex = _a.tabIndex, disabled = _a.disabled, readonly = _a.readonly;\n        var focused = this.state.focused;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        return (React.createElement(SearchBar, { id: id, placeholder: placeholder, tabIndex: tabIndex || undefined, accessKey: this.props.accessKey, value: value, suggestedText: this._suggested, focused: focused, name: this.props.name, ref: function (searchbar) { return _this._input = searchbar && searchbar.input; }, onKeyDown: this.onInputKeyDown, onChange: this.onChangeHandler, onFocus: base.handleFocus, onBlur: this.handleBlur, disabled: disabled, readOnly: readonly, expanded: opened, owns: base.listBoxId, activedescendant: 'option-' + base.guid + '-' + this.focusedIndex(), clearButton: clearButton, clearButtonClick: this.clearButtonClick, ariaLabelledBy: this.props.ariaLabelledBy, ariaDescribedBy: this.props.ariaDescribedBy }));\n    };\n    AutoComplete.prototype.renderListContainer = function () {\n        var base = this.base;\n        var _a = this.props, dir = _a.dir, header = _a.header, footer = _a.footer;\n        var popupSettings = base.getPopupSettings();\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n        return (React.createElement(ListContainer, { onMouseDown: function (e) { return e.preventDefault(); }, width: popupWidth, popupSettings: {\n                animate: popupSettings.animate,\n                anchor: this.element || undefined,\n                show: opened,\n                className: classNames('k-list-container k-reset', popupSettings.className),\n                appendTo: popupSettings.appendTo\n            }, dir: dir !== undefined ? dir : this.base.dirCalculated },\n            header,\n            this.renderList(),\n            footer));\n    };\n    AutoComplete.prototype.renderList = function () {\n        var base = this.base;\n        var popupSettings = base.getPopupSettings();\n        var _a = this.props, textField = _a.textField, _b = _a.data, data = _b === void 0 ? [] : _b, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender;\n        var value = this.value;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        return (React.createElement(List, { id: base.listBoxId, show: opened, data: data.slice(), focusedIndex: this.focusedIndex(), value: value, textField: textField, valueField: textField, highlightSelected: false, optionsGuid: base.guid, listRef: function (list) { return base.list = list; }, wrapperStyle: { maxHeight: popupSettings.height }, wrapperCssClass: \"k-list-scroller\", onClick: this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender }));\n    };\n    AutoComplete.prototype.triggerOnChange = function (newValue, state, eventArgs) {\n        if (this.value === newValue && !eventArgs) {\n            return;\n        }\n        state.data.value = newValue;\n        this._valueDuringOnChange = newValue;\n        state.events.push(__assign({ type: 'onChange' }, (eventArgs || {})));\n    };\n    AutoComplete.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    AutoComplete.prototype.suggestValue = function (value) {\n        this._suggested = '';\n        if (value) {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n            var suggestedItem = data[itemIndexStartsWith(data, value, textField)];\n            if (suggestedItem) {\n                var suggestedText = getItemValue(suggestedItem, textField);\n                if (value.toLowerCase() !== suggestedText.toLowerCase()) {\n                    this._suggested = suggestedText.substring(value.length);\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.focusedIndex = function (value) {\n        var _this = this;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var inputValue = value !== undefined ? value : this.value;\n        return this.state.focusedItem !== undefined ?\n            data.findIndex(function (i) { return areSame(i, _this.state.focusedItem, textField); }) :\n            (focusedItemIndex ? focusedItemIndex(data, inputValue, textField) :\n                Math.max(0, data.indexOf(getFocusedItem(data, inputValue, textField))));\n    };\n    /**\n     * @hidden\n     */\n    AutoComplete.propTypes = __assign({}, DropDownBase.basicPropTypes, { suggest: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]), placeholder: PropTypes.string, value: PropTypes.string, defaultValue: PropTypes.string, validationMessage: PropTypes.string, required: PropTypes.bool, readonly: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string });\n    /**\n     * @hidden\n     */\n    AutoComplete.defaultProps = __assign({}, DropDownBase.defaultProps);\n    return AutoComplete;\n}(React.Component));\nexport default AutoComplete;\n//# sourceMappingURL=AutoComplete.js.map"]},"metadata":{},"sourceType":"module"}