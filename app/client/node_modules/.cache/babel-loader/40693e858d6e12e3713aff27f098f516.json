{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Draggable, guid, classNames, focusFirstFocusableChild, getTabIndex } from '@progress/kendo-react-common';\nimport { Slider } from './../main';\nimport { fitIntoBounds, isPresent } from './utils/misc';\nimport { getColorFromHue, parseColor, getHSV, getColorFromHSV, getRGBA, getColorFromRGBA } from './utils/color-parser';\nimport { cacheHsva, removeCachedColor, getCachedHsva, getCachedRgba, getCachedHex, cacheRgba, cacheHex } from './utils/color-cache';\nimport ColorInput from './ColorInput';\nvar FORMAT = 'rgba';\nvar DEFAULT_SELECTED_COLOR = 'rgba(255, 255, 255, 1)';\n/**\n * Represents the [KendoReact ColorGradient component]({% slug overview_colorgradient %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorGradient />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar ColorGradient =\n/** @class */\nfunction (_super) {\n  __extends(ColorGradient, _super);\n\n  function ColorGradient(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.onHexChange = function (hex, value, event) {\n      if (_this.isUncontrolled) {\n        var hsva = getHSV(value);\n\n        _this.setState({\n          hsva: hsva,\n          backgroundColor: getColorFromHue(hsva.h),\n          rgba: getRGBA(value),\n          hex: hex\n        });\n      } else {\n        cacheHex(_this.state.guid, value, hex);\n      }\n\n      _this.dispatchChangeEvent(value, event, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onRgbaChange = function (rgba, event) {\n      var value = getColorFromRGBA(rgba);\n\n      if (_this.isUncontrolled) {\n        var hsva = getHSV(value);\n        var hex = parseColor(value, 'hex');\n\n        _this.setState({\n          hsva: hsva,\n          backgroundColor: getColorFromHue(hsva.h),\n          rgba: rgba,\n          hex: hex\n        });\n      } else {\n        cacheRgba(_this.state.guid, value, rgba);\n      }\n\n      _this.dispatchChangeEvent(value, event.syntheticEvent, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onAlphaSliderChange = function (event) {\n      _this.handleHsvaChange(Object.assign({}, _this.state.hsva, {\n        a: event.value / 100\n      }), event.syntheticEvent, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onHueSliderChange = function (event) {\n      _this.handleHsvaChange(Object.assign({}, _this.state.hsva, {\n        h: event.value\n      }), event.syntheticEvent, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onDrag = function (e) {\n      _this.gradientWrapper.classList.add('k-dragging');\n\n      _this.changePosition(e.event);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onRelease = function () {\n      _this.gradientWrapper.classList.remove('k-dragging');\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onGradientWrapperClick = function (event) {\n      _this.changePosition(event);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.changePosition = function (event) {\n      var gradientRectMetrics = _this.getGradientRectMetrics();\n\n      var deltaX = event.clientX - gradientRectMetrics.left;\n      var deltaY = event.clientY - gradientRectMetrics.top;\n      var left = fitIntoBounds(deltaX, 0, gradientRectMetrics.width);\n      var top = fitIntoBounds(deltaY, 0, gradientRectMetrics.height);\n      var hsva = Object.assign({}, _this.state.hsva, {\n        s: left / gradientRectMetrics.width,\n        v: 1 - top / gradientRectMetrics.height\n      });\n\n      _this.handleHsvaChange(hsva, event, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.focus = function () {\n      focusFirstFocusableChild(_this.wrapper);\n    };\n\n    var value = props.value || props.defaultValue || parseColor(DEFAULT_SELECTED_COLOR, FORMAT);\n    _this.state = Object.assign({}, ColorGradient.getStateFromValue(value), {\n      isFirstRender: true,\n      guid: guid()\n    });\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.getDerivedStateFromProps = function (props, state) {\n    if (props.value && !state.isFirstRender) {\n      // The component is in controlled mode.\n      return ColorGradient.getStateFromValue(props.value, state.guid);\n    }\n\n    return null;\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.prototype.componentDidMount = function () {\n    this.setAlphaSliderBackground(this.state.backgroundColor);\n\n    if (this.state.isFirstRender) {\n      this.setState({\n        isFirstRender: false\n      });\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.prototype.componentWillUnmount = function () {\n    removeCachedColor(this.state.guid);\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.prototype.componentDidUpdate = function (_, prevState) {\n    if (prevState.backgroundColor !== this.state.backgroundColor) {\n      this.setAlphaSliderBackground(this.state.backgroundColor);\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.prototype.renderRectangleDragHandle = function () {\n    var style = {};\n\n    if (!this.state.isFirstRender) {\n      var gradientRectMetrics = this.getGradientRectMetrics();\n      var top_1 = (1 - this.state.hsva.v) * gradientRectMetrics.height;\n      var left = this.state.hsva.s * gradientRectMetrics.width;\n      style.top = top_1 + \"px\";\n      style.left = left + \"px\";\n    }\n\n    return React.createElement(\"div\", {\n      className: \"k-draghandle\",\n      style: style\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.prototype.handleHsvaChange = function (hsva, syntheticEvent, nativeEvent) {\n    var value = getColorFromHSV(hsva);\n\n    if (this.isUncontrolled) {\n      var hex = parseColor(value, 'hex');\n      this.setState({\n        hsva: hsva,\n        backgroundColor: getColorFromHue(hsva.h),\n        rgba: getRGBA(value),\n        hex: hex\n      });\n    } else {\n      cacheHsva(this.state.guid, value, hsva);\n    }\n\n    this.dispatchChangeEvent(value, syntheticEvent, nativeEvent);\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.prototype.dispatchChangeEvent = function (value, syntheticEvent, nativeEvent) {\n    if (this.props.onChange) {\n      this.props.onChange.call(undefined, {\n        syntheticEvent: syntheticEvent,\n        nativeEvent: nativeEvent,\n        target: this,\n        value: value\n      });\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.getStateFromValue = function (value, componentGuid) {\n    if (!isPresent(parseColor(value, 'hex'))) {\n      // Validate/sanitize the input.\n      value = DEFAULT_SELECTED_COLOR;\n    }\n\n    var hsva = getCachedHsva(componentGuid, value) || getHSV(value);\n    var rgba = getCachedRgba(componentGuid, value) || getRGBA(value);\n    var hex = getCachedHex(componentGuid, value) || parseColor(value, 'hex');\n    return {\n      hsva: hsva,\n      backgroundColor: getColorFromHue(hsva.h),\n      rgba: rgba,\n      hex: hex\n    };\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.prototype.setAlphaSliderBackground = function (backgroundColor) {\n    if (this.props.opacity && this.alphaSlider && this.alphaSlider.sliderTrack) {\n      this.alphaSlider.sliderTrack.style.background = \"linear-gradient(to top, transparent, \" + backgroundColor + \")\";\n    }\n  };\n\n  Object.defineProperty(ColorGradient.prototype, \"isUncontrolled\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.value === undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  ColorGradient.prototype.getGradientRectMetrics = function () {\n    return this.gradientWrapper.getBoundingClientRect();\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.prototype.render = function () {\n    var _this = this;\n\n    var className = classNames('k-widget k-flatcolorpicker', {\n      'k-state-disabled': this.props.disabled\n    });\n    return React.createElement(\"div\", {\n      id: this.props.id,\n      className: className,\n      \"aria-disabled\": this.props.disabled ? 'true' : undefined,\n      style: this.props.style,\n      ref: function (el) {\n        return _this.wrapper = el;\n      },\n      tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled),\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-describedby\": this.props.ariaDescribedBy\n    }, React.createElement(\"div\", {\n      className: \"k-hbox k-hsv-wrap\"\n    }, React.createElement(\"div\", {\n      className: \"k-hsv-rectangle\",\n      style: {\n        background: this.state.backgroundColor\n      }\n    }, React.createElement(Draggable, {\n      onDrag: this.onDrag,\n      onRelease: this.onRelease,\n      ref: function (el) {\n        return _this.gradientWrapper = el ? el.element : undefined;\n      }\n    }, React.createElement(\"div\", {\n      className: \"k-hsv-gradient\",\n      style: {\n        touchAction: 'none'\n      },\n      onClick: this.onGradientWrapperClick\n    }, this.renderRectangleDragHandle()))), React.createElement(\"div\", {\n      className: \"k-hbox k-sliders-wrap\"\n    }, React.createElement(Slider, {\n      value: this.state.hsva.h,\n      buttons: false,\n      vertical: true,\n      min: 0,\n      max: 360,\n      step: 5,\n      onChange: this.onHueSliderChange,\n      className: \"k-hue-slider\",\n      disabled: this.props.disabled\n    }), this.props.opacity && React.createElement(Slider, {\n      value: isPresent(this.state.hsva.a) ? this.state.hsva.a * 100 : 100,\n      buttons: false,\n      vertical: true,\n      min: 0,\n      max: 100,\n      step: 1,\n      onChange: this.onAlphaSliderChange,\n      className: \"k-alpha-slider\",\n      disabled: this.props.disabled,\n      ref: function (el) {\n        return _this.alphaSlider = el;\n      }\n    }))), React.createElement(ColorInput, {\n      rgba: this.state.rgba,\n      onRgbaChange: this.onRgbaChange,\n      hex: this.state.hex,\n      onHexChange: this.onHexChange,\n      opacity: this.props.opacity,\n      disabled: this.props.disabled\n    }));\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradient.propTypes = {\n    defaultValue: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    opacity: PropTypes.bool,\n    disabled: PropTypes.bool,\n    style: PropTypes.any,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n  };\n  /**\n   * @hidden\n   */\n\n  ColorGradient.defaultProps = {\n    opacity: true\n  };\n  return ColorGradient;\n}(React.Component);\n\nexport { ColorGradient };","map":{"version":3,"sources":["../../../src/colors/ColorGradient.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Draggable, guid, classNames, focusFirstFocusableChild, getTabIndex } from '@progress/kendo-react-common';\nimport { Slider } from './../main';\nimport { fitIntoBounds, isPresent } from './utils/misc';\nimport { getColorFromHue, parseColor, getHSV, getColorFromHSV, getRGBA, getColorFromRGBA } from './utils/color-parser';\nimport { cacheHsva, removeCachedColor, getCachedHsva, getCachedRgba, getCachedHex, cacheRgba, cacheHex } from './utils/color-cache';\nimport ColorInput from './ColorInput';\nvar FORMAT = 'rgba';\nvar DEFAULT_SELECTED_COLOR = 'rgba(255, 255, 255, 1)';\n/**\n * Represents the [KendoReact ColorGradient component]({% slug overview_colorgradient %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorGradient />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar ColorGradient = /** @class */ (function (_super) {\n    __extends(ColorGradient, _super);\n    function ColorGradient(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.onHexChange = function (hex, value, event) {\n            if (_this.isUncontrolled) {\n                var hsva = getHSV(value);\n                _this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: getRGBA(value), hex: hex });\n            }\n            else {\n                cacheHex(_this.state.guid, value, hex);\n            }\n            _this.dispatchChangeEvent(value, event, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onRgbaChange = function (rgba, event) {\n            var value = getColorFromRGBA(rgba);\n            if (_this.isUncontrolled) {\n                var hsva = getHSV(value);\n                var hex = parseColor(value, 'hex');\n                _this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: rgba, hex: hex });\n            }\n            else {\n                cacheRgba(_this.state.guid, value, rgba);\n            }\n            _this.dispatchChangeEvent(value, event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onAlphaSliderChange = function (event) {\n            _this.handleHsvaChange(Object.assign({}, _this.state.hsva, { a: event.value / 100 }), event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onHueSliderChange = function (event) {\n            _this.handleHsvaChange(Object.assign({}, _this.state.hsva, { h: event.value }), event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (e) {\n            _this.gradientWrapper.classList.add('k-dragging');\n            _this.changePosition(e.event);\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function () {\n            _this.gradientWrapper.classList.remove('k-dragging');\n        };\n        /**\n         * @hidden\n         */\n        _this.onGradientWrapperClick = function (event) {\n            _this.changePosition(event);\n        };\n        /**\n         * @hidden\n         */\n        _this.changePosition = function (event) {\n            var gradientRectMetrics = _this.getGradientRectMetrics();\n            var deltaX = event.clientX - gradientRectMetrics.left;\n            var deltaY = event.clientY - gradientRectMetrics.top;\n            var left = fitIntoBounds(deltaX, 0, gradientRectMetrics.width);\n            var top = fitIntoBounds(deltaY, 0, gradientRectMetrics.height);\n            var hsva = Object.assign({}, _this.state.hsva, { s: left / gradientRectMetrics.width, v: 1 - top / gradientRectMetrics.height });\n            _this.handleHsvaChange(hsva, event, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            focusFirstFocusableChild(_this.wrapper);\n        };\n        var value = props.value || props.defaultValue || parseColor(DEFAULT_SELECTED_COLOR, FORMAT);\n        _this.state = Object.assign({}, ColorGradient.getStateFromValue(value), { isFirstRender: true, guid: guid() });\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ColorGradient.getDerivedStateFromProps = function (props, state) {\n        if (props.value && !state.isFirstRender) {\n            // The component is in controlled mode.\n            return ColorGradient.getStateFromValue(props.value, state.guid);\n        }\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.componentDidMount = function () {\n        this.setAlphaSliderBackground(this.state.backgroundColor);\n        if (this.state.isFirstRender) {\n            this.setState({ isFirstRender: false });\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.componentWillUnmount = function () {\n        removeCachedColor(this.state.guid);\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.componentDidUpdate = function (_, prevState) {\n        if (prevState.backgroundColor !== this.state.backgroundColor) {\n            this.setAlphaSliderBackground(this.state.backgroundColor);\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.renderRectangleDragHandle = function () {\n        var style = {};\n        if (!this.state.isFirstRender) {\n            var gradientRectMetrics = this.getGradientRectMetrics();\n            var top_1 = (1 - this.state.hsva.v) * gradientRectMetrics.height;\n            var left = this.state.hsva.s * gradientRectMetrics.width;\n            style.top = top_1 + \"px\";\n            style.left = left + \"px\";\n        }\n        return React.createElement(\"div\", { className: \"k-draghandle\", style: style });\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.handleHsvaChange = function (hsva, syntheticEvent, nativeEvent) {\n        var value = getColorFromHSV(hsva);\n        if (this.isUncontrolled) {\n            var hex = parseColor(value, 'hex');\n            this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: getRGBA(value), hex: hex });\n        }\n        else {\n            cacheHsva(this.state.guid, value, hsva);\n        }\n        this.dispatchChangeEvent(value, syntheticEvent, nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.dispatchChangeEvent = function (value, syntheticEvent, nativeEvent) {\n        if (this.props.onChange) {\n            this.props.onChange.call(undefined, { syntheticEvent: syntheticEvent, nativeEvent: nativeEvent, target: this, value: value });\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.getStateFromValue = function (value, componentGuid) {\n        if (!isPresent(parseColor(value, 'hex'))) {\n            // Validate/sanitize the input.\n            value = DEFAULT_SELECTED_COLOR;\n        }\n        var hsva = getCachedHsva(componentGuid, value) || getHSV(value);\n        var rgba = getCachedRgba(componentGuid, value) || getRGBA(value);\n        var hex = getCachedHex(componentGuid, value) || parseColor(value, 'hex');\n        return { hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: rgba, hex: hex };\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.setAlphaSliderBackground = function (backgroundColor) {\n        if (this.props.opacity && this.alphaSlider && this.alphaSlider.sliderTrack) {\n            this.alphaSlider.sliderTrack.style.background = \"linear-gradient(to top, transparent, \" + backgroundColor + \")\";\n        }\n    };\n    Object.defineProperty(ColorGradient.prototype, \"isUncontrolled\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.value === undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.getGradientRectMetrics = function () {\n        return this.gradientWrapper.getBoundingClientRect();\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.prototype.render = function () {\n        var _this = this;\n        var className = classNames('k-widget k-flatcolorpicker', { 'k-state-disabled': this.props.disabled });\n        return (React.createElement(\"div\", { id: this.props.id, className: className, \"aria-disabled\": this.props.disabled ? 'true' : undefined, style: this.props.style, ref: function (el) { return _this.wrapper = el; }, tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled), \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy },\n            React.createElement(\"div\", { className: \"k-hbox k-hsv-wrap\" },\n                React.createElement(\"div\", { className: \"k-hsv-rectangle\", style: { background: this.state.backgroundColor } },\n                    React.createElement(Draggable, { onDrag: this.onDrag, onRelease: this.onRelease, ref: function (el) { return _this.gradientWrapper = el ? el.element : undefined; } },\n                        React.createElement(\"div\", { className: \"k-hsv-gradient\", style: { touchAction: 'none' }, onClick: this.onGradientWrapperClick }, this.renderRectangleDragHandle()))),\n                React.createElement(\"div\", { className: \"k-hbox k-sliders-wrap\" },\n                    React.createElement(Slider, { value: this.state.hsva.h, buttons: false, vertical: true, min: 0, max: 360, step: 5, onChange: this.onHueSliderChange, className: \"k-hue-slider\", disabled: this.props.disabled }),\n                    this.props.opacity && React.createElement(Slider, { value: isPresent(this.state.hsva.a) ? this.state.hsva.a * 100 : 100, buttons: false, vertical: true, min: 0, max: 100, step: 1, onChange: this.onAlphaSliderChange, className: \"k-alpha-slider\", disabled: this.props.disabled, ref: function (el) { return _this.alphaSlider = el; } }))),\n            React.createElement(ColorInput, { rgba: this.state.rgba, onRgbaChange: this.onRgbaChange, hex: this.state.hex, onHexChange: this.onHexChange, opacity: this.props.opacity, disabled: this.props.disabled })));\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.propTypes = {\n        defaultValue: PropTypes.string,\n        value: PropTypes.string,\n        onChange: PropTypes.func,\n        opacity: PropTypes.bool,\n        disabled: PropTypes.bool,\n        style: PropTypes.any,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string\n    };\n    /**\n     * @hidden\n     */\n    ColorGradient.defaultProps = {\n        opacity: true\n    };\n    return ColorGradient;\n}(React.Component));\nexport { ColorGradient };\n//# sourceMappingURL=ColorGradient.js.map"]},"metadata":{},"sourceType":"module"}