{"version":3,"file":"dx-react-grid.es.js","sources":["../src/plugins/internal/table-group-row-columns.tsx","../src/plugins/internal/grid-core-getters.tsx","../src/plugins/internal/table-columns-getter.tsx","../src/plugins/internal/visible-table-columns.tsx","../src/plugins/internal/ordered-table-columns.tsx","../src/plugins/grid-core.tsx","../src/grid.tsx","../src/plugins/column-chooser.tsx","../src/plugins/filtering-state.tsx","../src/plugins/integrated-filtering.tsx","../src/plugins/editing-state.tsx","../src/plugins/paging-state.tsx","../src/plugins/integrated-paging.tsx","../src/plugins/custom-paging.tsx","../src/plugins/grouping-state.tsx","../src/plugins/integrated-grouping.tsx","../src/plugins/custom-grouping.tsx","../src/plugins/selection-state.tsx","../src/plugins/integrated-selection.tsx","../src/plugins/sorting-state.tsx","../src/plugins/integrated-sorting.tsx","../src/plugins/drag-drop-provider.tsx","../src/plugins/table-column-reordering.tsx","../src/plugins/table.tsx","../src/plugins/table-selection.tsx","../src/plugins/row-detail-state.tsx","../src/plugins/table-row-detail.tsx","../src/components/summary/constants.ts","../src/components/summary/table-summary-content.tsx","../src/components/summary/group-summaries.tsx","../src/plugins/table-group-row.tsx","../src/plugins/table-header-row.tsx","../src/plugins/table-band-header.tsx","../src/plugins/table-filter-row.tsx","../src/plugins/table-edit-row.tsx","../src/plugins/table-edit-column.tsx","../src/plugins/table-column-resizing.tsx","../src/plugins/paging-panel.tsx","../src/components/group-panel-layout/item-layout.tsx","../src/components/group-panel-layout.tsx","../src/plugins/grouping-panel.tsx","../src/plugins/data-type-provider.tsx","../src/plugins/table-column-visibility.tsx","../src/plugins/toolbar.tsx","../src/plugins/tree-data-state.tsx","../src/plugins/custom-tree-data.tsx","../src/plugins/table-tree-column.tsx","../src/plugins/search-state.tsx","../src/plugins/search-panel.tsx","../src/plugins/table-fixed-columns.tsx","../src/plugins/summary-state.tsx","../src/plugins/integrated-summary.tsx","../src/plugins/custom-summary.tsx","../src/plugins/table-summary-row.tsx","../src/plugins/virtual-table/virtual-table-state.tsx","../src/plugins/table-inline-cell-editing.tsx","../src/plugins/export-panel.tsx","../src/components/table-layout.tsx","../src/components/table-layout/column-group.tsx","../src/utils/helpers.ts","../src/components/table-layout/virtual-row-layout.tsx","../src/components/table-layout/virtual-table-layout-block.tsx","../src/components/table-layout/virtual-table-layout.tsx","../src/components/table-layout/row-layout.tsx","../src/components/table-layout/rows-block-layout.tsx","../src/components/table-layout/static-table-layout.tsx","../src/plugins/virtual-table/virtual-table.tsx","../src/utils/row-cache.ts","../src/components/summary/inline-summary-item.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  Getter, Plugin, Getters,\n} from '@devexpress/dx-react-core';\nimport { tableColumnsWithGrouping } from '@devexpress/dx-grid-core';\nimport { ShowColumnWhenGroupedGetterFn, TableColumnsWithGroupingProps } from '../../types';\n\nconst showColumnWhenGroupedGetter: ShowColumnWhenGroupedGetterFn = (\n  showColumnsWhenGrouped, columnExtensions = [],\n) => {\n  const map = columnExtensions.reduce((acc, columnExtension) => {\n    acc[columnExtension.columnName] = columnExtension.showWhenGrouped;\n    return acc;\n  }, {});\n\n  return columnName => map[columnName] || showColumnsWhenGrouped;\n};\n\n/** @internal */\nexport const TableColumnsWithGrouping: React.FunctionComponent<\n  TableColumnsWithGroupingProps\n> = React.memo(({\n  indentColumnWidth, showColumnsWhenGrouped, columnExtensions,\n}) => {\n  const tableColumnsComputed = ({\n    columns, tableColumns, grouping, draftGrouping,\n  }: Getters) => tableColumnsWithGrouping(\n    columns,\n    tableColumns,\n    grouping,\n    draftGrouping,\n    indentColumnWidth!,\n    showColumnWhenGroupedGetter(showColumnsWhenGrouped!, columnExtensions),\n  );\n\n  return (\n    <Plugin>\n      <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n    </Plugin>\n  );\n});\n\nTableColumnsWithGrouping.defaultProps = {\n  indentColumnWidth: 0,\n};\n","import * as React from 'react';\nimport {\n  Getter, Plugin,\n} from '@devexpress/dx-react-core';\nimport { rowIdGetter, cellValueGetter } from '@devexpress/dx-grid-core';\nimport { GridCoreGettersProps } from '../../types';\n\nexport const GridCoreGetters: React.FunctionComponent<GridCoreGettersProps> = React.memo(({\n  rows,\n  columns,\n  getRowId,\n  getCellValue,\n}) => (\n  <Plugin>\n    <Getter name=\"rows\" value={rows} />\n    <Getter name=\"getRowId\" value={rowIdGetter(getRowId!, rows)} />\n    <Getter name=\"columns\" value={columns} />\n    <Getter name=\"getCellValue\" value={cellValueGetter(getCellValue!, columns)} />\n  </Plugin>\n));\n","import * as React from 'react';\nimport {\n  Getter, Plugin,\n} from '@devexpress/dx-react-core';\nimport { tableColumnsWithDataRows, checkTableColumnExtensions } from '@devexpress/dx-grid-core';\nimport { Table } from '../../types';\n\nexport const TableColumnsWithDataRowsGetter: React.FunctionComponent<\n  { columnExtensions?: Table.ColumnExtension[]; }\n> = React.memo(({ columnExtensions }) => {\n  const tableColumnsComputed = React.useCallback(\n    ({ columns }) => (\n      tableColumnsWithDataRows(columns, columnExtensions!)\n    ), [columnExtensions]);\n  checkTableColumnExtensions(columnExtensions!);\n\n  return (\n    <Plugin>\n      <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n    </Plugin>\n  );\n});\n","import * as React from 'react';\nimport {\n  Getter,\n  Plugin,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  visibleTableColumns,\n} from '@devexpress/dx-grid-core';\nimport { VisibleTableColumnsProps } from '../../types';\n\nconst visibleTableColumnsComputed = (\n  { tableColumns, hiddenColumnNames }: Getters,\n) => visibleTableColumns(tableColumns, hiddenColumnNames);\n\n/** @internal */\nexport const VisibleTableColumns: React.FunctionComponent<\n  VisibleTableColumnsProps\n> = React.memo(({\n  hiddenColumnNames,\n}) => (\n  <Plugin>\n    <Getter name=\"hiddenColumnNames\" value={hiddenColumnNames} />\n    <Getter name=\"tableColumns\" computed={visibleTableColumnsComputed} />\n  </Plugin>\n));\n\nVisibleTableColumns.defaultProps = {\n  hiddenColumnNames: [],\n};\n","import * as React from 'react';\nimport {\n  Getter,\n  Plugin,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  orderedColumns,\n} from '@devexpress/dx-grid-core';\nimport { OrderedTableColumnsProps } from '../../types';\n\n/** @internal */\nexport const OrderedTableColumns: React.FunctionComponent<\n  OrderedTableColumnsProps\n> = ({\n  order,\n}) => {\n  const columnsComputed = (\n    { tableColumns }: Getters,\n  ) => orderedColumns(tableColumns, order!);\n\n  return (\n    <Plugin>\n      <Getter name=\"tableColumns\" computed={columnsComputed} />\n    </Plugin>\n  );\n};\n\nOrderedTableColumns.defaultProps = {\n  order: [],\n};\n","import * as React from 'react';\nimport {\n  Plugin, Getter, Template, TemplatePlaceholder,\n} from '@devexpress/dx-react-core';\nimport { GridProps } from '../types';\nimport { GridCoreGetters } from './internal';\n\nexport class GridCore extends React.PureComponent<GridProps, any> {\n  render() {\n    const {\n      rootComponent: Root,\n      ...restProps\n    } = this.props;\n\n    return (\n      <Plugin>\n        <Getter name=\"skip\" value={0} />\n        <Getter name=\"loadedRowsStart\" value={0} />\n        <GridCoreGetters {...restProps} />\n\n        <Template name=\"root\">\n          <Root>\n            <TemplatePlaceholder name=\"header\" />\n            <TemplatePlaceholder name=\"body\" />\n            <TemplatePlaceholder name=\"footer\" />\n          </Root>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n","import * as React from 'react';\nimport { PluginHost } from '@devexpress/dx-react-core';\nimport { GridCore } from './plugins/grid-core';\nimport { GridProps } from './types';\n\nconst GridBase: React.SFC<GridProps> = ({\n  rows,\n  columns,\n  getRowId,\n  getCellValue,\n  rootComponent,\n  children,\n}) => (\n  <PluginHost>\n    <GridCore\n      rows={rows}\n      columns={columns}\n      getRowId={getRowId}\n      getCellValue={getCellValue}\n      rootComponent={rootComponent}\n    />\n    {children}\n  </PluginHost>\n);\n\n/***\n * The Grid is a root container component designed to process and display data specified via\n * the `rows` property. You can configure columns using the `columns` property. The Grid's\n * functionality  is implemented in several plugins specified as child components.\n * See the plugins concept for details.\n * */\nexport const Grid: React.ComponentType<GridProps> = GridBase;\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Template, TemplatePlaceholder, Plugin, TemplateConnector,\n} from '@devexpress/dx-react-core';\nimport { columnChooserItems } from '@devexpress/dx-grid-core';\nimport { ColumnChooserState, ColumnChooserProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'TableColumnVisibility' },\n  { name: 'Toolbar' },\n];\n\nclass ColumnChooserBase extends React.PureComponent<ColumnChooserProps, ColumnChooserState> {\n  static defaultProps = {\n    messages: {},\n  };\n  static components = {\n    overlayComponent: 'Overlay',\n    containerComponent: 'Container',\n    itemComponent: 'Item',\n    toggleButtonComponent: 'ToggleButton',\n  };\n  button!: React.ReactInstance;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: false,\n    };\n\n    this.handleToggle = this.handleToggle.bind(this);\n    this.handleHide = this.handleHide.bind(this);\n    this.setButtonRef = this.setButtonRef.bind(this);\n  }\n\n  setButtonRef(button) {\n    this.button = button;\n  }\n\n  handleToggle() {\n    const { visible } = this.state;\n    this.setState({ visible: !visible });\n  }\n\n  handleHide() {\n    this.setState({ visible: false });\n  }\n\n  render() {\n    const {\n      overlayComponent: Overlay,\n      containerComponent: Container,\n      itemComponent: Item,\n      toggleButtonComponent: ToggleButton,\n      messages,\n    } = this.props;\n    const getMessage = getMessagesFormatter(messages!);\n    const { visible } = this.state;\n\n    return (\n      <Plugin\n        name=\"ColumnChooser\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {(\n              { columns, hiddenColumnNames, isColumnTogglingEnabled },\n              { toggleColumnVisibility },\n            ) => (\n              <React.Fragment>\n                <ToggleButton\n                  buttonRef={this.setButtonRef}\n                  onToggle={this.handleToggle}\n                  getMessage={getMessage}\n                  active={visible}\n                />\n                <Overlay\n                  visible={visible}\n                  target={this.button}\n                  onHide={this.handleHide}\n                >\n                  <Container>\n                    {columnChooserItems(columns, hiddenColumnNames)\n                      .map((item) => {\n                        const { name: columnName } = item.column;\n                        const togglingEnabled = isColumnTogglingEnabled(columnName);\n                        return (\n                          <Item\n                            key={columnName}\n                            item={item}\n                            disabled={!togglingEnabled}\n                            onToggle={() => toggleColumnVisibility(columnName)}\n                          />\n                        );\n                      })}\n                  </Container>\n                </Overlay>\n              </React.Fragment>\n            )}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/***\n * The ColumnChooser plugin allows a user to toggle grid columns' visibility at runtime.\n * The column chooser lists columns with checkboxes that control a corresponding\n * column's visibility.\n * */\nexport const ColumnChooser: React.ComponentType<ColumnChooserProps> = ColumnChooserBase;\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper, Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  changeColumnFilter,\n  getColumnExtensionValueGetter,\n  filterExpression,\n  ChangeFilterPayload,\n} from '@devexpress/dx-grid-core';\nimport { FilteringStateProps, FilteringStateState } from '../types';\n\nconst columnExtensionValueGetter = (columnExtensions, defaultValue) => (\n  getColumnExtensionValueGetter(columnExtensions, 'filteringEnabled', defaultValue)\n);\nconst filterExpressionComputed = (\n  { filters, filterExpression: filterExpressionValue }: Getters,\n) => filterExpression(filters, filterExpressionValue);\n\nclass FilteringStateBase extends React.PureComponent<FilteringStateProps, FilteringStateState> {\n  static defaultProps = {\n    defaultFilters: [],\n    columnFilteringEnabled: true,\n  };\n  changeColumnFilter: (payload: ChangeFilterPayload) => void;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filters: props.filters || props.defaultFilters,\n    };\n    const stateHelper = createStateHelper(\n      this,\n      {\n        filters: () => {\n          const { onFiltersChange } = this.props;\n          return onFiltersChange;\n        },\n      },\n    );\n\n    this.changeColumnFilter = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'filters', changeColumnFilter);\n  }\n\n  // tslint:disable-next-line:member-ordering\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      filters = prevState.filters,\n    } = nextProps;\n\n    return {\n      filters,\n    };\n  }\n\n  render() {\n    const { filters } = this.state;\n    const { columnExtensions, columnFilteringEnabled } = this.props;\n\n    return (\n      <Plugin\n        name=\"FilteringState\"\n      >\n        <Getter name=\"filters\" value={filters} />\n        <Getter name=\"filterExpression\" computed={filterExpressionComputed} />\n        <Getter\n          name=\"isColumnFilteringEnabled\"\n          value={columnExtensionValueGetter(columnExtensions, columnFilteringEnabled)}\n        />\n        <Action name=\"changeColumnFilter\" action={this.changeColumnFilter} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the filtering state. */\nexport const FilteringState: React.ComponentType<FilteringStateProps> = FilteringStateBase;\n","import * as React from 'react';\nimport { Getter, Plugin, Getters } from '@devexpress/dx-react-core';\nimport {\n  filteredRows,\n  filteredCollapsedRowsGetter,\n  unwrappedFilteredRows,\n  getColumnExtension,\n  defaultFilterPredicate,\n  FilterPredicate,\n} from '@devexpress/dx-grid-core';\nimport { PureComputed } from '@devexpress/dx-core';\nimport { IntegratedFilteringProps, DefaultPredicateFn } from '../types';\n\nconst pluginDependencies = [\n  { name: 'FilteringState', optional: true },\n  { name: 'SearchState', optional: true },\n];\n\nconst getCollapsedRowsComputed = ({ rows }: Getters) => filteredCollapsedRowsGetter(rows);\nconst unwrappedRowsComputed = ({ rows }: Getters) => unwrappedFilteredRows(rows);\n\nclass IntegratedFilteringBase extends React.PureComponent<IntegratedFilteringProps> {\n  static defaultPredicate: DefaultPredicateFn;\n\n  render() {\n    const { columnExtensions } = this.props;\n    const getColumnPredicate: PureComputed<\n      [string], FilterPredicate\n    > = columnName => getColumnExtension(\n      columnExtensions, columnName,\n    ).predicate!;\n\n    const rowsComputed = ({\n      rows,\n      filterExpression,\n      getCellValue,\n      getRowLevelKey,\n      getCollapsedRows,\n    }: Getters) => filteredRows(\n      rows,\n      filterExpression,\n      getCellValue,\n      getColumnPredicate,\n      getRowLevelKey,\n      getCollapsedRows,\n    );\n\n    return (\n      <Plugin\n        name=\"IntegratedFiltering\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"rows\" computed={rowsComputed} />\n        <Getter name=\"getCollapsedRows\" computed={getCollapsedRowsComputed} />\n        <Getter name=\"rows\" computed={unwrappedRowsComputed} />\n      </Plugin>\n    );\n  }\n}\n\nIntegratedFilteringBase.defaultPredicate = defaultFilterPredicate;\n\nexport const IntegratedFiltering: React.ComponentType<IntegratedFilteringProps> & {\n  /***\n   * The built-in filter predicate.\n   * The `filter` parameter accepts an object containing the 'value' field.\n   **/\n  defaultPredicate: DefaultPredicateFn;\n} = IntegratedFilteringBase;\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper, StateHelper,\n} from '@devexpress/dx-react-core';\nimport {\n  createRowChangeGetter,\n  startEditRows,\n  stopEditRows,\n  addRow,\n  changeAddedRow,\n  cancelAddedRows,\n  addedRowsByIds,\n  changeRow,\n  cancelChanges,\n  changedRowsByIds,\n  deleteRows,\n  cancelDeletedRows,\n  getColumnExtensionValueGetter,\n  startEditCells,\n  stopEditCells,\n} from '@devexpress/dx-grid-core';\nimport { EditingStateProps, EditingStateState } from '../types';\n\nconst columnExtensionValueGetter = (\n  columnExtensions, defaultValue,\n) => getColumnExtensionValueGetter(columnExtensions, 'editingEnabled', defaultValue);\n\nclass EditingStateBase extends React.PureComponent<EditingStateProps, EditingStateState> {\n  static defaultProps = {\n    columnEditingEnabled: true,\n    defaultEditingRowIds: [],\n    defaultEditingCells: [],\n    defaultRowChanges: {},\n    defaultAddedRows: [],\n    defaultDeletedRowIds: [],\n  };\n  startEditRows: (payload: any) => void;\n  stopEditRows: (payload: any) => void;\n  startEditCells: (payload: any) => void;\n  stopEditCells: (payload: any) => void;\n  changeRow: (payload: any) => void;\n  cancelChangedRows: (payload: any) => void;\n  commitChangedRows: ({ rowIds }: { rowIds: any; }) => void;\n  addRow: (payload: any) => void;\n  changeAddedRow: (payload: any) => void;\n  cancelAddedRows: (payload: any) => void;\n  commitAddedRows: ({ rowIds }: { rowIds: any; }) => void;\n  deleteRows: (payload: any) => void;\n  cancelDeletedRows: (payload: any) => void;\n  commitDeletedRows: ({ rowIds }: { rowIds: any; }) => void;\n\n  constructor(props) {\n    super(props);\n    const rowChanges = props.rowChanges || props.defaultRowChanges;\n    const addedRows = props.addedRows || props.defaultAddedRows;\n    const getRowChanges = () => {\n      const { rowChanges: stateRowChanges } = this.state;\n      return stateRowChanges;\n    };\n    const getAddedRows = () => {\n      const { addedRows: stateAddedRows } = this.state;\n      return stateAddedRows;\n    };\n\n    this.state = {\n      addedRows,\n      rowChanges,\n      editingRowIds: props.editingRowIds || props.defaultEditingRowIds,\n      deletedRowIds: props.deletedRowIds || props.defaultDeletedRowIds,\n      editingCells: props.editingCells || props.defaultEditingCells,\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        editingRowIds: () => {\n          const { onEditingRowIdsChange } = this.props;\n          return onEditingRowIdsChange;\n        },\n        editingCells: () => {\n          const { onEditingCellsChange } = this.props;\n          return onEditingCellsChange;\n        },\n        addedRows: () => {\n          const { onAddedRowsChange } = this.props;\n          return onAddedRowsChange;\n        },\n        rowChanges: () => {\n          const { onRowChangesChange } = this.props;\n          return onRowChangesChange;\n        },\n        deletedRowIds: () => {\n          const { onDeletedRowIdsChange } = this.props;\n          return onDeletedRowIdsChange;\n        },\n      },\n    );\n\n    this.startEditRows = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'editingRowIds', startEditRows);\n    this.stopEditRows = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'editingRowIds', stopEditRows);\n\n    this.startEditCells = stateHelper.applyFieldReducer\n    .bind(stateHelper, 'editingCells', startEditCells);\n    this.stopEditCells = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'editingCells', stopEditCells);\n\n    this.changeRow = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'rowChanges', changeRow);\n    this.cancelChangedRows = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'rowChanges', cancelChanges);\n    this.commitChangedRows = ({ rowIds }) => {\n      const { onCommitChanges } = this.props;\n      onCommitChanges({\n        changed: changedRowsByIds(getRowChanges(), rowIds),\n      });\n      this.cancelChangedRows({ rowIds });\n    };\n\n    this.addRow = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedRows', addRow);\n    this.changeAddedRow = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedRows', changeAddedRow);\n    this.cancelAddedRows = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedRows', cancelAddedRows);\n    this.commitAddedRows = ({ rowIds }) => {\n      const { onCommitChanges } = this.props;\n      onCommitChanges({\n        added: addedRowsByIds(getAddedRows(), rowIds),\n      });\n      this.cancelAddedRows({ rowIds });\n    };\n\n    this.deleteRows = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'deletedRowIds', deleteRows);\n    this.cancelDeletedRows = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'deletedRowIds', cancelDeletedRows);\n    this.commitDeletedRows = ({ rowIds }) => {\n      const { onCommitChanges } = this.props;\n      onCommitChanges({ deleted: rowIds });\n      this.cancelDeletedRows({ rowIds });\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      editingRowIds = prevState.editingRowIds,\n      editingCells = prevState.editingCells,\n      rowChanges = prevState.rowChanges,\n      addedRows = prevState.addedRows,\n      deletedRowIds = prevState.deletedRowIds,\n    } = nextProps;\n\n    return {\n      editingRowIds,\n      editingCells,\n      rowChanges,\n      addedRows,\n      deletedRowIds,\n    };\n  }\n\n  render() {\n    const { createRowChange, columnExtensions, columnEditingEnabled } = this.props;\n    const {\n      editingRowIds, editingCells, rowChanges, addedRows, deletedRowIds,\n    } = this.state;\n\n    return (\n      <Plugin\n        name=\"EditingState\"\n      >\n        <Getter\n          name=\"createRowChange\"\n          value={createRowChangeGetter(createRowChange, columnExtensions)}\n        />\n\n        <Getter name=\"editingRowIds\" value={editingRowIds} />\n        <Action name=\"startEditRows\" action={this.startEditRows} />\n        <Action name=\"stopEditRows\" action={this.stopEditRows} />\n\n        <Getter name=\"editingCells\" value={editingCells} />\n        <Action name=\"startEditCells\" action={this.startEditCells} />\n        <Action name=\"stopEditCells\" action={this.stopEditCells} />\n\n        <Getter name=\"rowChanges\" value={rowChanges} />\n        <Action name=\"changeRow\" action={this.changeRow} />\n        <Action name=\"cancelChangedRows\" action={this.cancelChangedRows} />\n        <Action name=\"commitChangedRows\" action={this.commitChangedRows} />\n\n        <Getter name=\"addedRows\" value={addedRows} />\n        <Action name=\"addRow\" action={this.addRow} />\n        <Action name=\"changeAddedRow\" action={this.changeAddedRow} />\n        <Action name=\"cancelAddedRows\" action={this.cancelAddedRows} />\n        <Action name=\"commitAddedRows\" action={this.commitAddedRows} />\n\n        <Getter name=\"deletedRowIds\" value={deletedRowIds} />\n        <Action name=\"deleteRows\" action={this.deleteRows} />\n        <Action name=\"cancelDeletedRows\" action={this.cancelDeletedRows} />\n        <Action name=\"commitDeletedRows\" action={this.commitDeletedRows} />\n\n        <Getter\n          name=\"isColumnEditingEnabled\"\n          value={columnExtensionValueGetter(columnExtensions, columnEditingEnabled)}\n        />\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that manages grid rows' editing state. It arranges grid rows\n * by different lists depending on a row's state.\n * */\nexport const EditingState: React.ComponentType<EditingStateProps> = EditingStateBase;\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper,\n} from '@devexpress/dx-react-core';\nimport { setCurrentPage, setPageSize } from '@devexpress/dx-grid-core';\nimport { PagingStateProps, PagingStateState } from '../types';\n\nclass PagingStateBase extends React.PureComponent<PagingStateProps, PagingStateState> {\n  static defaultProps = {\n    defaultPageSize: 10,\n    defaultCurrentPage: 0,\n  };\n  setCurrentPage: (payload: any) => void;\n  setPageSize: (payload: any) => void;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentPage: props.currentPage || props.defaultCurrentPage,\n      pageSize: props.pageSize !== undefined ? props.pageSize : props.defaultPageSize,\n    };\n\n    const stateHelper = createStateHelper(\n      this,\n      {\n        currentPage: () => {\n          const { onCurrentPageChange } = this.props;\n          return onCurrentPageChange;\n        },\n        pageSize: () => {\n          const { onPageSizeChange } = this.props;\n          return onPageSizeChange;\n        },\n      },\n    );\n\n    this.setCurrentPage = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'currentPage', setCurrentPage);\n    this.setPageSize = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'pageSize', setPageSize);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      currentPage = prevState.currentPage,\n      pageSize = prevState.pageSize,\n    } = nextProps;\n\n    return {\n      currentPage,\n      pageSize,\n    };\n  }\n\n  render() {\n    const { pageSize, currentPage } = this.state;\n\n    return (\n      <Plugin\n        name=\"PagingState\"\n      >\n        <Getter name=\"currentPage\" value={currentPage} />\n        <Getter name=\"pageSize\" value={pageSize} />\n        <Action name=\"setCurrentPage\" action={this.setCurrentPage} />\n        <Action name=\"setPageSize\" action={this.setPageSize} />\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that manages the paging state. It controls the total page count depending on the\n * total row count and the specified page size, controls the currently selected page number\n * and changes it in response to the corresponding actions.\n * */\nexport const PagingState: React.ComponentType<PagingStateProps> = PagingStateBase;\n","import * as React from 'react';\nimport { Getter, Plugin, Getters, Actions } from '@devexpress/dx-react-core';\nimport {\n  paginatedRows, rowsWithPageHeaders, rowCount, currentPage,\n} from '@devexpress/dx-grid-core';\nimport { IntegratedPagingProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'PagingState' },\n];\n\nconst rowsWithHeadersComputed = (\n  { rows, pageSize, getRowLevelKey }: Getters,\n) => rowsWithPageHeaders(rows, pageSize, getRowLevelKey);\nconst totalCountComputed = ({ rows }: Getters) => rowCount(rows);\nconst paginatedRowsComputed = (\n  { rows, pageSize, currentPage: page }: Getters,\n) => paginatedRows(rows, pageSize, page);\nconst currentPageComputed = (\n  { currentPage: page, totalCount, pageSize }: Getters, { setCurrentPage }: Actions,\n) => currentPage(page, totalCount, pageSize, setCurrentPage);\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass IntegratedPagingBase extends React.PureComponent<IntegratedPagingProps> {\n  render() {\n    return (\n      <Plugin\n        name=\"IntegratedPaging\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"rows\" computed={rowsWithHeadersComputed} />\n        <Getter name=\"totalCount\" computed={totalCountComputed} />\n        <Getter name=\"currentPage\" computed={currentPageComputed} />\n        <Getter name=\"rows\" computed={paginatedRowsComputed} />\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that performs built-in data paging. It also changes the current page if the provided\n * one cannot be applied due to fewer available pages.\n * */\nexport const IntegratedPaging: React.ComponentType<IntegratedPagingProps> = IntegratedPagingBase;\n","import * as React from 'react';\nimport { Getter, Plugin } from '@devexpress/dx-react-core';\nimport { CustomPagingProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'PagingState' },\n];\n\nclass CustomPagingBase extends React.PureComponent<CustomPagingProps> {\n  static defaultProps = {\n    totalCount: 0,\n  };\n\n  render() {\n    const { totalCount } = this.props;\n\n    return (\n      <Plugin\n        name=\"CustomPaging\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"totalCount\" value={totalCount} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that allows implementing a custom totalCount calculation logic. */\nexport const CustomPaging: React.ComponentType<CustomPagingProps> = CustomPagingBase;\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper, StateHelper, ActionFn, Getters, Actions,\n} from '@devexpress/dx-react-core';\nimport {\n  changeColumnGrouping,\n  toggleExpandedGroups,\n  draftColumnGrouping,\n  cancelColumnGroupingDraft,\n  getColumnExtensionValueGetter,\n  adjustSortIndex,\n  ChangeGroupingPayload,\n  ToggleGroupPayload,\n  ChangeSortingPayload,\n} from '@devexpress/dx-grid-core';\nimport { GroupingStateProps, GroupingStateState } from '../types';\n\nconst dependencies = [\n  { name: 'SortingState', optional: true },\n];\n\nconst columnExtensionValueGetter = (\n  columnExtensions, defaultValue,\n) => getColumnExtensionValueGetter(columnExtensions, 'groupingEnabled', defaultValue);\n\nclass GroupingStateBase extends React.PureComponent<GroupingStateProps, GroupingStateState> {\n  static defaultProps = {\n    defaultGrouping: [],\n    defaultExpandedGroups: [],\n    columnGroupingEnabled: true,\n  };\n  stateHelper: StateHelper;\n  draftColumnGrouping: ActionFn<ChangeGroupingPayload>;\n  toggleGroupExpanded: ActionFn<ToggleGroupPayload>;\n  cancelColumnGroupingDraft: ActionFn<void>;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      grouping: props.grouping || props.defaultGrouping,\n      draftGrouping: null,\n      expandedGroups: props.expandedGroups || props.defaultExpandedGroups,\n    };\n\n    this.stateHelper = createStateHelper(\n      this,\n      {\n        grouping: () => {\n          const { onGroupingChange } = this.props;\n          return onGroupingChange;\n        },\n        expandedGroups: () => {\n          const { onExpandedGroupsChange } = this.props;\n          return onExpandedGroupsChange;\n        },\n      },\n    );\n\n    this.changeColumnGrouping = this.changeColumnGrouping.bind(this);\n    this.toggleGroupExpanded = this.stateHelper.applyReducer\n      .bind(this.stateHelper, toggleExpandedGroups);\n    this.draftColumnGrouping = this.stateHelper.applyReducer\n      .bind(this.stateHelper, draftColumnGrouping);\n    this.cancelColumnGroupingDraft = this.stateHelper.applyReducer\n      .bind(this.stateHelper, cancelColumnGroupingDraft);\n    this.changeColumnSorting = this.changeColumnSorting.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      grouping = prevState.grouping,\n      expandedGroups = prevState.expandedGroups,\n    } = nextProps;\n\n    return {\n      grouping,\n      expandedGroups,\n    };\n  }\n\n  changeColumnSorting(\n    { columnName, keepOther, ...restParams }: ChangeSortingPayload,\n    { sorting }: Getters,\n    { changeColumnSorting }: Actions,\n  ) {\n    const { grouping } = this.state;\n    const groupingIndex = grouping\n      .findIndex(columnGrouping => columnGrouping.columnName === columnName);\n    if (groupingIndex === -1) {\n      changeColumnSorting({\n        columnName,\n        keepOther: keepOther || grouping.map(columnGrouping => columnGrouping.columnName),\n        ...restParams,\n      });\n      return false;\n    }\n\n    const sortIndex = adjustSortIndex(groupingIndex, grouping, sorting);\n    changeColumnSorting({\n      columnName,\n      sortIndex,\n      keepOther: true,\n      ...restParams,\n    });\n    return false;\n  }\n\n  changeColumnGrouping(\n    { columnName, groupIndex }: ChangeGroupingPayload,\n    getters?: Getters,\n    actions?: Actions,\n  ) {\n    this.stateHelper.applyReducer(\n      changeColumnGrouping,\n      { columnName, groupIndex },\n      (nextState, state) => {\n        const { grouping } = nextState;\n        const { grouping: prevGrouping } = state;\n        const { sorting } = getters!;\n        const { changeColumnSorting } = actions!;\n\n        if (!sorting) return;\n\n        const columnSortingIndex = sorting\n          .findIndex(columnSorting => columnSorting.columnName === columnName);\n        const prevGroupingIndex = prevGrouping\n          .findIndex(columnGrouping => columnGrouping.columnName === columnName);\n        const groupingIndex = grouping\n          .findIndex(columnGrouping => columnGrouping.columnName === columnName);\n\n        if (columnSortingIndex === -1\n          || (prevGroupingIndex === prevGrouping.length - 1 && groupingIndex === -1)) return;\n\n        const sortIndex = adjustSortIndex(\n          groupingIndex === -1 ? grouping.length : groupingIndex,\n          grouping,\n          sorting,\n        );\n\n        if (columnSortingIndex === sortIndex) return;\n\n        changeColumnSorting({\n          sortIndex,\n          keepOther: true,\n          ...sorting[columnSortingIndex],\n        });\n      },\n    );\n  }\n\n  render() {\n    const { grouping, draftGrouping, expandedGroups } = this.state;\n    const { columnExtensions, columnGroupingEnabled } = this.props;\n\n    return (\n      <Plugin\n        name=\"GroupingState\"\n        dependencies={dependencies}\n      >\n        <Getter name=\"grouping\" value={grouping} />\n        <Getter name=\"draftGrouping\" value={draftGrouping || grouping} />\n        <Getter\n          name=\"isColumnGroupingEnabled\"\n          value={columnExtensionValueGetter(columnExtensions, columnGroupingEnabled)}\n        />\n        <Action name=\"changeColumnGrouping\" action={this.changeColumnGrouping} />\n        <Action name=\"draftColumnGrouping\" action={this.draftColumnGrouping} />\n        <Action name=\"cancelColumnGroupingDraft\" action={this.cancelColumnGroupingDraft} />\n\n        <Getter name=\"expandedGroups\" value={expandedGroups} />\n        <Action name=\"toggleGroupExpanded\" action={this.toggleGroupExpanded} />\n\n        <Action name=\"changeColumnSorting\" action={this.changeColumnSorting} />\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that manages the grouping state. It lists columns used for grouping and stores\n * information about expanded/collapsed groups.\n * */\nexport const GroupingState: React.ComponentType<GroupingStateProps> = GroupingStateBase;\n","import * as React from 'react';\nimport { Getter, Plugin, Getters } from '@devexpress/dx-react-core';\nimport {\n  groupRowChecker,\n  groupRowLevelKeyGetter,\n  groupCollapsedRowsGetter,\n  groupedRows,\n  expandedGroupRows,\n  getColumnExtension,\n} from '@devexpress/dx-grid-core';\nimport { IntegratedGroupingProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'GroupingState' },\n];\n\nconst getCollapsedRowsComputed = (\n  { getCollapsedRows }: Getters,\n) => groupCollapsedRowsGetter(getCollapsedRows);\nconst expandedGroupedRowsComputed = (\n  { rows, grouping, expandedGroups, isExporting }: Getters,\n) => expandedGroupRows(rows, grouping, expandedGroups, isExporting);\n\nclass IntegratedGroupingBase extends React.PureComponent<IntegratedGroupingProps> {\n  render() {\n    const { columnExtensions } = this.props;\n    const getColumnCriteria = columnName => (getColumnExtension(\n      columnExtensions, columnName,\n    ) as any).criteria;\n\n    const groupedRowsComputed = (\n      { rows, grouping, getCellValue }: Getters,\n    ) => groupedRows(rows, grouping, getCellValue, getColumnCriteria);\n\n    return (\n      <Plugin\n        name=\"IntegratedGrouping\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"isGroupRow\" value={groupRowChecker} />\n        <Getter name=\"getRowLevelKey\" value={groupRowLevelKeyGetter} />\n        <Getter name=\"getCollapsedRows\" computed={getCollapsedRowsComputed} />\n        <Getter name=\"rows\" computed={groupedRowsComputed} />\n        <Getter name=\"rows\" computed={expandedGroupedRowsComputed} />\n      </Plugin>\n    );\n  }\n}\n\n/* tslint:disable: max-line-length */\n/** A plugin that performs built-in grouping and group expanding/collapsing. */\nexport const IntegratedGrouping: React.ComponentType<IntegratedGroupingProps> = IntegratedGroupingBase;\n/* tslint:enable: max-line-length */\n","import * as React from 'react';\nimport { Getter, Plugin, Getters } from '@devexpress/dx-react-core';\nimport {\n  groupRowChecker,\n  groupRowLevelKeyGetter,\n  groupCollapsedRowsGetter,\n  customGroupingRowIdGetter,\n  customGroupedRows,\n  expandedGroupRows,\n} from '@devexpress/dx-grid-core';\nimport { CustomGroupingProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'GroupingState' },\n];\n\nconst getCollapsedRowsComputed = (\n  { getCollapsedRows }: Getters,\n) => groupCollapsedRowsGetter(getCollapsedRows);\nconst expandedGroupedRowsComputed = (\n  { rows, grouping, expandedGroups, isExporting }: Getters,\n) => expandedGroupRows(rows, grouping, expandedGroups, isExporting);\nconst getRowIdComputed = ({ getRowId, rows }: Getters) => customGroupingRowIdGetter(getRowId, rows);\n\nclass CustomGroupingBase extends React.PureComponent<CustomGroupingProps> {\n  render() {\n    const {\n      getChildGroups,\n      grouping: appliedGrouping,\n      expandedGroups: appliedExpandedGroups,\n    } = this.props;\n    const groupedRowsComputed = (\n      { rows, grouping }: Getters,\n    ) => customGroupedRows(rows, grouping, getChildGroups);\n\n    return (\n      <Plugin\n        name=\"CustomGrouping\"\n        dependencies={pluginDependencies}\n      >\n        {appliedGrouping && (\n          <Getter name=\"grouping\" value={appliedGrouping} />\n        )}\n        {appliedExpandedGroups && (\n          <Getter name=\"expandedGroups\" value={appliedExpandedGroups} />\n        )}\n        <Getter name=\"isGroupRow\" value={groupRowChecker} />\n        <Getter name=\"getRowLevelKey\" value={groupRowLevelKeyGetter} />\n        <Getter name=\"getCollapsedRows\" computed={getCollapsedRowsComputed} />\n        <Getter name=\"rows\" computed={groupedRowsComputed} />\n        <Getter name=\"getRowId\" computed={getRowIdComputed} />\n        <Getter name=\"rows\" computed={expandedGroupedRowsComputed} />\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable-next-line: max-line-length\n/** A plugin that converts custom formatted grouped data to a supported format and performs local group expanding/collapsing. */\nexport const CustomGrouping: React.ComponentType<CustomGroupingProps> = CustomGroupingBase;\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper, ActionFn,\n} from '@devexpress/dx-react-core';\nimport { toggleSelection } from '@devexpress/dx-grid-core';\nimport { SelectionStateProps, SelectionStateState } from '../types';\n\nclass SelectionStateBase extends React.PureComponent<SelectionStateProps, SelectionStateState> {\n  static defaultProps = {\n    defaultSelection: [],\n  };\n  toggleSelection: ActionFn<any>;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selection: props.selection || props.defaultSelection,\n    };\n\n    const stateHelper = createStateHelper(\n      this,\n      {\n        selection: () => {\n          const { onSelectionChange } = this.props;\n          return onSelectionChange;\n        },\n      },\n    );\n\n    this.toggleSelection = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'selection', toggleSelection);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      selection = prevState.selection,\n    } = nextProps;\n\n    return {\n      selection,\n    };\n  }\n\n  render() {\n    const { selection } = this.state;\n\n    return (\n      <Plugin\n        name=\"SelectionState\"\n      >\n        <Getter name=\"selection\" value={selection} />\n        <Action name=\"toggleSelection\" action={this.toggleSelection} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the selection state. */\nexport const SelectionState: React.ComponentType<SelectionStateProps> = SelectionStateBase;\n","import * as React from 'react';\nimport { Getter, Action, Plugin, Getters, Actions } from '@devexpress/dx-react-core';\nimport {\n  rowsWithAvailableToSelect,\n  someSelected,\n  allSelected,\n  unwrapSelectedRows,\n} from '@devexpress/dx-grid-core';\nimport { IntegratedSelectionProps } from '../types';\n\nconst rowsWithAvailableToSelectComputed = (\n  { rows, getRowId, isGroupRow }: Getters,\n) => rowsWithAvailableToSelect(rows, getRowId, isGroupRow);\nconst allSelectedComputed = ({ rows, selection }: Getters) => allSelected(rows, selection);\nconst someSelectedComputed = ({ rows, selection }: Getters) => someSelected(rows, selection);\nconst selectAllAvailableComputed = (\n  { rows: { availableToSelect } }: Getters,\n) => !!availableToSelect.length;\n\nconst toggleSelectAll = (\n  state, { rows: { availableToSelect } }: Getters, { toggleSelection }: Actions,\n) => {\n  toggleSelection({ state, rowIds: availableToSelect });\n};\nconst unwrapRowsComputed = ({ rows }: Getters) => unwrapSelectedRows(rows);\n\nconst pluginDependencies = [\n  { name: 'SelectionState' },\n];\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass IntegratedSelectionBase extends React.PureComponent<IntegratedSelectionProps> {\n  render() {\n    return (\n      <Plugin\n        name=\"IntegratedSelection\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"rows\" computed={rowsWithAvailableToSelectComputed} />\n        <Getter name=\"allSelected\" computed={allSelectedComputed} />\n        <Getter name=\"someSelected\" computed={someSelectedComputed} />\n        <Getter name=\"selectAllAvailable\" computed={selectAllAvailableComputed} />\n        <Action name=\"toggleSelectAll\" action={toggleSelectAll} />\n        <Getter name=\"rows\" computed={unwrapRowsComputed} />\n      </Plugin>\n    );\n  }\n}\n\n/* tslint:disable: max-line-length */\n/** A plugin that performs built-in selection. */\nexport const IntegratedSelection: React.ComponentType<IntegratedSelectionProps> = IntegratedSelectionBase;\n/* tslint:enable: max-line-length */\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper, ActionFn,\n} from '@devexpress/dx-react-core';\nimport {\n  changeColumnSorting,\n  getColumnExtensionValueGetter,\n  getPersistentSortedColumns,\n  calculateKeepOther,\n  ChangeSortingPayload,\n} from '@devexpress/dx-grid-core';\nimport { SortingStateProps, SortingStateState } from '../types';\n\nconst columnExtensionValueGetter = (\n  columnExtensions, defaultValue,\n) => getColumnExtensionValueGetter(columnExtensions, 'sortingEnabled', defaultValue);\n\nclass SortingStateBase extends React.PureComponent<SortingStateProps, SortingStateState> {\n  static defaultProps = {\n    defaultSorting: [],\n    columnSortingEnabled: true,\n  };\n  changeColumnSorting: ActionFn<ChangeSortingPayload>;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sorting: props.sorting || props.defaultSorting,\n    };\n\n    const stateHelper = createStateHelper(\n      this,\n      {\n        sorting: () => {\n          const { onSortingChange } = this.props;\n          return onSortingChange;\n        },\n      },\n    );\n\n    this.changeColumnSorting = stateHelper.applyReducer\n      .bind(stateHelper, (prevState, payload) => {\n        const { sorting = prevState.sorting } = this.props;\n        const persistentSortedColumns = getPersistentSortedColumns(sorting, props.columnExtensions);\n        const keepOther = calculateKeepOther(\n          prevState.sorting, payload.keepOther, persistentSortedColumns,\n        );\n        return changeColumnSorting(prevState, { ...payload, keepOther });\n      });\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      sorting = prevState.sorting,\n    } = nextProps;\n\n    return {\n      sorting,\n    };\n  }\n\n  render() {\n    const { sorting } = this.state;\n    const { columnExtensions, columnSortingEnabled } = this.props;\n\n    return (\n      <Plugin\n        name=\"SortingState\"\n      >\n        <Getter name=\"sorting\" value={sorting} />\n        <Getter\n          name=\"isColumnSortingEnabled\"\n          value={columnExtensionValueGetter(columnExtensions, columnSortingEnabled)}\n        />\n        <Action name=\"changeColumnSorting\" action={this.changeColumnSorting} />\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable-next-line: max-line-length\n/** A plugin that manages the sorting state. It controls the list of columns that participate in sorting. */\nexport const SortingState: React.ComponentType<SortingStateProps> = SortingStateBase;\n","import * as React from 'react';\nimport { Getter, Plugin, Getters } from '@devexpress/dx-react-core';\nimport { sortedRows, getColumnExtension } from '@devexpress/dx-grid-core';\nimport { IntegratedSortingProps, IntegratedSorting as IntegratedSortingNs } from '../types';\n\nconst pluginDependencies = [\n  { name: 'SortingState' },\n];\n\nclass IntegratedSortingBase extends React.PureComponent<IntegratedSortingProps> {\n  render() {\n    const { columnExtensions } = this.props;\n    const getColumnCompare = columnName => (\n      getColumnExtension(columnExtensions, columnName) as IntegratedSortingNs.ColumnExtension\n    ).compare!;\n\n    const rowsComputed = (\n      { rows, sorting, getCellValue, isGroupRow, getRowLevelKey }: Getters,\n    ) => sortedRows(rows, sorting, getCellValue, getColumnCompare, isGroupRow, getRowLevelKey);\n\n    return (\n      <Plugin\n        name=\"IntegratedSorting\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"rows\" computed={rowsComputed} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that performs built-in data sorting. */\nexport const IntegratedSorting: React.ComponentType<IntegratedSortingProps> = IntegratedSortingBase;\n","import * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport {\n  Plugin, Getter, Template, TemplatePlaceholder,\n  TemplateConnector,\n  DragDropProvider as DragDropProviderCore,\n} from '@devexpress/dx-react-core';\nimport { DragDropProviderProps, DragDropProviderState } from '../types';\n\nconst getTargetColumns = (payload, columns) => payload\n  .filter(item => item.type === 'column')\n  .map(item => columns.find(column => column.name === item.columnName));\n\n// tslint:disable-next-line: max-line-length\nclass DragDropProviderBase extends React.PureComponent<DragDropProviderProps, DragDropProviderState> {\n  static components = {\n    containerComponent: 'Container',\n    columnComponent: 'Column',\n  };\n  change: (object) => void;\n  bodyRef!: HTMLElement;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      payload: null,\n      clientOffset: null,\n    };\n\n    this.change = ({ payload, clientOffset }) => this.setState({ payload, clientOffset });\n  }\n\n  componentDidMount() {\n    this.bodyRef = document.body;\n  }\n\n  render() {\n    const {\n      containerComponent: Container,\n      columnComponent: Column,\n    } = this.props;\n    const {\n      payload,\n      clientOffset,\n    } = this.state;\n\n    return (\n      <Plugin\n        name=\"DragDropProvider\"\n      >\n        <Getter name=\"draggingEnabled\" value />\n        <Template name=\"root\">\n          <DragDropProviderCore\n            onChange={this.change}\n          >\n            <TemplatePlaceholder />\n          </DragDropProviderCore>\n          {payload && (\n            <TemplateConnector>\n              {({ columns }) => (\n                createPortal(\n                  <Container\n                    clientOffset={clientOffset!}\n                  >\n                    {getTargetColumns(payload, columns)\n                      .map(column => (\n                        <Column\n                          key={column.name}\n                          column={column}\n                        />\n                      ))\n                    }\n                  </Container>,\n                  this.bodyRef,\n                )\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable-next-line: max-line-length\n/** A plugin that implements the drag-and-drop functionality and visualizes columns that are being dragged. */\nexport const DragDropProvider: React.ComponentType<DragDropProviderProps> = DragDropProviderBase;\n","import * as React from 'react';\nimport {\n  Getter,\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  DropTarget,\n  withComponents,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  TABLE_DATA_TYPE,\n  TABLE_REORDERING_TYPE,\n  changeColumnOrder,\n  getTableTargetColumnIndex,\n  tableHeaderRowsWithReordering,\n  draftOrder as draftOrderComputed,\n  TargetColumnGeometry,\n  TableColumn,\n} from '@devexpress/dx-grid-core';\nimport { OrderedTableColumns } from './internal/ordered-table-columns';\nimport {\n  Table as TableNS, CellDimensionsGetter, TableColumnReorderingProps,\n  DragOverArgs, TableColumnReorderingState,\n} from '../types';\n\nconst pluginDependencies = [\n  { name: 'Table' },\n  { name: 'DragDropProvider', optional: true },\n];\n\nconst tableHeaderRowsComputed = (\n  { tableHeaderRows }: Getters,\n) => tableHeaderRowsWithReordering(tableHeaderRows);\n\n// tslint:disable-next-line: max-line-length\nclass TableColumnReorderingRaw extends React.PureComponent<TableColumnReorderingProps, TableColumnReorderingState> {\n  static defaultProps = {\n    defaultOrder: [],\n  };\n  static components = {\n    tableContainerComponent: 'TableContainer',\n    rowComponent: 'Row',\n    cellComponent: 'Cell',\n  };\n  cellDimensionGetters: { [colName: string]: CellDimensionsGetter } = {};\n  cellDimensions: TargetColumnGeometry[] = [];\n  onOver: (arg: DragOverArgs) => void;\n  onLeave: () => void;\n  onDrop: () => void;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: props.defaultOrder,\n      sourceColumnIndex: -1,\n      targetColumnIndex: -1,\n    };\n\n    this.onOver = this.handleOver.bind(this);\n    this.onLeave = this.handleLeave.bind(this);\n    this.onDrop = this.handleDrop.bind(this);\n  }\n\n  getState() {\n    const { order: orderState } = this.state;\n    const {\n      order = orderState,\n    } = this.props;\n    return {\n      ...this.state,\n      order,\n    };\n  }\n\n  getDraftOrder() {\n    const { order, sourceColumnIndex, targetColumnIndex } = this.getState();\n    return draftOrderComputed(order, sourceColumnIndex, targetColumnIndex);\n  }\n\n  getAvailableColumns() {\n    return this.getDraftOrder()\n      .filter(columnName => !!this.cellDimensionGetters[columnName]);\n  }\n\n  cacheCellDimensions() {\n    this.cellDimensions = (this.cellDimensions && this.cellDimensions.length)\n      ? this.cellDimensions\n      : this.getAvailableColumns()\n        .map(columnName => this.cellDimensionGetters[columnName]());\n  }\n\n  resetCellDimensions() {\n    this.cellDimensions = [];\n  }\n\n  ensureCellDimensionGetters(tableColumns: ReadonlyArray<TableColumn>) {\n    Object.keys(this.cellDimensionGetters)\n      .forEach((columnName) => {\n        const columnIndex = tableColumns\n          .findIndex(({ type, column }) => type === TABLE_DATA_TYPE && column!.name === columnName);\n        if (columnIndex === -1) {\n          delete this.cellDimensionGetters[columnName];\n        }\n      });\n  }\n\n// tslint:disable-next-line: max-line-length\n  storeCellDimensionsGetter(tableColumn: Readonly<TableColumn>, getter: CellDimensionsGetter, tableColumns: ReadonlyArray<TableColumn>) {\n    if (tableColumn.type === TABLE_DATA_TYPE) {\n      this.cellDimensionGetters[tableColumn.column!.name] = getter;\n    }\n    this.ensureCellDimensionGetters(tableColumns);\n  }\n\n  handleOver({ payload, clientOffset: { x } }: DragOverArgs) {\n    const sourceColumnName = payload[0].columnName;\n    const availableColumns = this.getAvailableColumns();\n    const relativeSourceColumnIndex = availableColumns.indexOf(sourceColumnName);\n\n    if (relativeSourceColumnIndex === -1) return;\n\n    this.cacheCellDimensions();\n    const cellDimensions = this.cellDimensions;\n\n    const overlappedColumns = cellDimensions\n      .filter(({ left, right }) => left <= x && x <= right);\n\n    if (overlappedColumns.length > 1) return;\n\n    const relativeTargetIndex = getTableTargetColumnIndex(\n      cellDimensions,\n      relativeSourceColumnIndex,\n      x,\n    );\n\n    if (relativeTargetIndex === -1) return;\n\n    const {\n      sourceColumnIndex: prevSourceColumnIndex,\n      targetColumnIndex: prevTargetColumnIndex,\n    } = this.getState();\n    const draftOrder = this.getDraftOrder();\n    const targetColumnIndex = draftOrder.indexOf(availableColumns[relativeTargetIndex]);\n\n    if (targetColumnIndex === prevTargetColumnIndex) return;\n\n    const sourceColumnIndex = prevSourceColumnIndex === -1\n      ? draftOrder.indexOf(sourceColumnName)\n      : prevSourceColumnIndex;\n\n    this.setState({\n      sourceColumnIndex,\n      targetColumnIndex,\n    });\n  }\n\n  handleLeave() {\n    this.setState({\n      sourceColumnIndex: -1,\n      targetColumnIndex: -1,\n    });\n\n    this.resetCellDimensions();\n  }\n\n  handleDrop() {\n    const { sourceColumnIndex, targetColumnIndex, order } = this.getState();\n    const { onOrderChange } = this.props;\n\n    if (sourceColumnIndex === -1 && targetColumnIndex === -1) return;\n\n    const nextOrder = changeColumnOrder(order, {\n      sourceColumnName: order[sourceColumnIndex],\n      targetColumnName: order[targetColumnIndex],\n    }) as string[];\n\n    this.setState({\n      order: nextOrder,\n      sourceColumnIndex: -1,\n      targetColumnIndex: -1,\n    });\n\n    if (onOrderChange) {\n      onOrderChange(nextOrder);\n    }\n\n    this.resetCellDimensions();\n  }\n\n  render() {\n    const {\n      tableContainerComponent: Container,\n      rowComponent: Row,\n      cellComponent: Cell,\n    } = this.props;\n\n    this.cellDimensionGetters = {};\n\n    return (\n      <Plugin\n        name=\"TableColumnReordering\"\n        dependencies={pluginDependencies}\n      >\n        <OrderedTableColumns order={this.getDraftOrder()} />\n\n        <Getter name=\"tableHeaderRows\" computed={tableHeaderRowsComputed} />\n        <Template name=\"table\">\n          {params => (\n            <TemplateConnector>\n              {({ draggingEnabled }) => (\n                <Container\n                  {...params}\n                  onOver={this.onOver}\n                  onLeave={this.onLeave}\n                  onDrop={this.onDrop}\n                  draggingEnabled={draggingEnabled}\n                >\n                  <TemplatePlaceholder />\n                </Container>\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: Getters) => tableRow.type === TABLE_REORDERING_TYPE}\n        >\n          {params => (\n            <Row {...params} />\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow }: Getters) => tableRow.type === TABLE_REORDERING_TYPE}\n        >\n          {(params: TableNS.CellProps) => (\n            <TemplateConnector>\n              {({ tableColumns }: Getters) => (\n                <Cell\n                  {...params}\n                  getCellDimensions={getter => this.storeCellDimensionsGetter(\n                    params.tableColumn, getter, tableColumns,\n                  )}\n                />\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nconst TableContainer = ({\n  onOver, onLeave, onDrop, children, draggingEnabled,\n}) => (\n  draggingEnabled ? (\n    <DropTarget\n      onOver={onOver}\n      onLeave={onLeave}\n      onDrop={onDrop}\n    >\n      {children}\n    </DropTarget>\n  ) : children\n);\n\n/** A plugin that manages the displayed columns' order. */\nexport const TableColumnReordering: React.ComponentType<TableColumnReorderingProps>\n  = withComponents({ TableContainer })(TableColumnReorderingRaw);\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Getter,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  Plugin,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  tableRowsWithDataRows,\n  tableCellColSpanGetter,\n  isNoDataTableRow,\n  isNoDataTableCell,\n  isDataTableCell,\n  isHeaderStubTableCell,\n  isDataTableRow,\n  TABLE_DATA_TYPE,\n  TABLE_NODATA_TYPE,\n} from '@devexpress/dx-grid-core';\nimport { TableProps, Table as TableNS, TableLayoutProps } from '../types';\nimport { TableColumnsWithDataRowsGetter } from './internal/table-columns-getter';\n\nconst RowPlaceholder = props => <TemplatePlaceholder name=\"tableRow\" params={props} />;\nconst CellPlaceholder = props => <TemplatePlaceholder name=\"tableCell\" params={props} />;\n\nconst tableHeaderRows = [];\nconst tableBodyRowsComputed = ({ rows, getRowId, isDataLoading }: Getters) => (\n  tableRowsWithDataRows(rows, getRowId, isDataLoading)\n);\nconst tableFooterRows = [];\n\nconst defaultMessages = {\n  noData: 'No data',\n};\n\nclass TableBase extends React.PureComponent<TableProps> {\n  static COLUMN_TYPE = TABLE_DATA_TYPE;\n  static ROW_TYPE = TABLE_DATA_TYPE;\n  static NODATA_ROW_TYPE = TABLE_NODATA_TYPE;\n  static defaultProps = {\n    messages: {},\n  };\n  static components = {\n    tableComponent: 'Table',\n    headComponent: 'TableHead',\n    bodyComponent: 'TableBody',\n    footerComponent: 'TableFooter',\n    containerComponent: 'Container',\n    layoutComponent: 'Layout',\n    rowComponent: 'Row',\n    cellComponent: 'Cell',\n    noDataRowComponent: 'NoDataRow',\n    noDataCellComponent: 'NoDataCell',\n    stubRowComponent: 'StubRow',\n    stubCellComponent: 'StubCell',\n    stubHeaderCellComponent: 'StubHeaderCell',\n  };\n\n  render() {\n    const {\n      layoutComponent: Layout,\n      cellComponent: Cell,\n      rowComponent: Row,\n      noDataRowComponent: NoDataRow,\n      noDataCellComponent: NoDataCell,\n      stubRowComponent: StubRow,\n      stubCellComponent: StubCell,\n      stubHeaderCellComponent: StubHeaderCell,\n      columnExtensions,\n      messages,\n      containerComponent,\n      tableComponent,\n      headComponent,\n      bodyComponent,\n      footerComponent,\n    } = this.props;\n\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    return (\n      <Plugin\n        name=\"Table\"\n      >\n        <Getter name=\"tableHeaderRows\" value={tableHeaderRows} />\n        <Getter name=\"tableBodyRows\" computed={tableBodyRowsComputed} />\n        <Getter name=\"tableFooterRows\" value={tableFooterRows} />\n        <TableColumnsWithDataRowsGetter columnExtensions={columnExtensions} />\n        <Getter name=\"getTableCellColSpan\" value={tableCellColSpanGetter} />\n\n        <Template name=\"body\">\n          <TemplatePlaceholder name=\"table\" />\n        </Template>\n        <Template name=\"table\">\n          <TemplateConnector>\n            {({\n              tableHeaderRows: headerRows,\n              tableBodyRows: bodyRows,\n              tableFooterRows: footerRows,\n              tableColumns: columns,\n              getTableCellColSpan,\n            }) => (\n              <TemplatePlaceholder\n                name=\"tableLayout\"\n                params={{\n                  tableComponent,\n                  headComponent,\n                  bodyComponent,\n                  footerComponent,\n                  containerComponent,\n                  headerRows,\n                  bodyRows,\n                  footerRows,\n                  columns,\n                  rowComponent: RowPlaceholder,\n                  cellComponent: CellPlaceholder,\n                  getCellColSpan: getTableCellColSpan,\n                }}\n              />\n            )}\n          </TemplateConnector>\n        </Template>\n        <Template name=\"tableLayout\">\n          {(params: TableLayoutProps) => (\n            <Layout {...params} />\n          )}\n        </Template>\n        <Template name=\"tableCell\">\n          {(params: TableNS.CellProps) => (\n            <TemplateConnector>\n              {(\n                { tableHeaderRows: headerRows },\n              ) => (isHeaderStubTableCell(params.tableRow, headerRows)\n                ? <StubHeaderCell {...params} />\n                : <StubCell {...params} />\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow, tableColumn }: any) => isDataTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableNS.CellProps) => (\n            <TemplateConnector>\n              {({ getCellValue }) => {\n                const columnName = params.tableColumn.column!.name;\n                const value = getCellValue(params.tableRow.row, columnName);\n                return (\n                  <TemplatePlaceholder\n                    name=\"valueFormatter\"\n                    params={{\n                      value,\n                      row: params.tableRow.row,\n                      column: params.tableColumn.column,\n                    }}\n                  >\n                    {content => (\n                      <Cell\n                        {...params}\n                        row={params.tableRow.row}\n                        column={params.tableColumn.column!}\n                        value={value}\n                      >\n                        {content}\n                      </Cell>\n                    )}\n                  </TemplatePlaceholder>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow }: any) => !!isNoDataTableRow(tableRow)}\n        >\n          {(params: TableNS.CellProps) => (\n            <TemplateConnector>\n              {({ tableColumns }) => {\n                if (isNoDataTableCell(params.tableColumn, tableColumns)) {\n                  return (\n                    <NoDataCell\n                      {...params}\n                      getMessage={getMessage}\n                    />\n                  );\n                }\n                return null;\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template name=\"tableRow\">\n          {(params: TableNS.RowProps) => (\n            <StubRow {...params} />\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isDataTableRow(tableRow)}\n        >\n          {(params: TableNS.RowProps) => (\n            <Row\n              {...params}\n              row={params.tableRow.row}\n            />\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isNoDataTableRow(tableRow)}\n        >\n          {(params: TableNS.RowProps) => <NoDataRow {...params} />}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that renders Grid data as a table. This plugin enables you to customize\n * table rows and columns, and contains the Table Row and Table Cell components\n * that can be extended by other plugins\n * */\nexport const Table: React.ComponentType<TableProps> & {\n  /** The data column type's indentifier. */\n  COLUMN_TYPE: symbol;\n  /** The data row type's indentifier. */\n  ROW_TYPE: symbol;\n  /** The nodata row type's indentifier. */\n  NODATA_ROW_TYPE: symbol;\n} = TableBase;\n","import * as React from 'react';\nimport {\n  Getter, Template, Plugin,\n  TemplateConnector,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  TABLE_SELECT_TYPE,\n  tableColumnsWithSelection,\n  isSelectTableCell,\n  isSelectAllTableCell,\n  isDataTableRow,\n  isRowHighlighted,\n} from '@devexpress/dx-grid-core';\nimport { TableSelectionProps, TableCellProps, TableRowProps } from '../types';\n\nclass TableSelectionBase extends React.PureComponent<TableSelectionProps> {\n  static defaultProps = {\n    highlightRow: false,\n    selectByRowClick: false,\n    showSelectAll: false,\n    showSelectionColumn: true,\n  };\n  static components = {\n    rowComponent: 'Row',\n    cellComponent: 'Cell',\n    headerCellComponent: 'HeaderCell',\n  };\n  static COLUMN_TYPE = TABLE_SELECT_TYPE;\n\n  render() {\n    const {\n      highlightRow,\n      selectByRowClick,\n      showSelectionColumn,\n      showSelectAll,\n      headerCellComponent: HeaderCell,\n      cellComponent: Cell,\n      rowComponent: Row,\n      selectionColumnWidth,\n    } = this.props;\n\n    const tableColumnsComputed = (\n      { tableColumns }: Getters,\n    ) => tableColumnsWithSelection(tableColumns, selectionColumnWidth);\n\n    return (\n      <Plugin\n        name=\"TableSelection\"\n        dependencies={[\n          { name: 'Table' },\n          { name: 'SelectionState' },\n          { name: 'IntegratedSelection', optional: !showSelectAll },\n        ]}\n      >\n        {showSelectionColumn && (\n          <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n        )}\n        {highlightRow && (\n          <Getter name=\"highlightSelectedRow\" value />\n        )}\n\n        {(showSelectionColumn && showSelectAll) && (\n          <Template\n            name=\"tableCell\"\n            predicate={({\n              tableRow, tableColumn,\n            }: any) => isSelectAllTableCell(tableRow, tableColumn)}\n          >\n            {(params: TableCellProps) => (\n              <TemplateConnector>\n                {({ selectAllAvailable, allSelected, someSelected }, { toggleSelectAll }) => (\n                  <HeaderCell\n                    {...params}\n                    disabled={!selectAllAvailable}\n                    allSelected={allSelected}\n                    someSelected={someSelected}\n                    onToggle={select => toggleSelectAll(select)}\n                  />\n                )}\n              </TemplateConnector>\n            )}\n          </Template>\n        )}\n        {showSelectionColumn && (\n          <Template\n            name=\"tableCell\"\n            predicate={({ tableRow, tableColumn }: any) => isSelectTableCell(tableRow, tableColumn)}\n          >\n            {(params: TableCellProps) => (\n              <TemplateConnector>\n                {({ selection }, { toggleSelection }) => (\n                  <Cell\n                    {...params}\n                    row={params.tableRow.row}\n                    selected={selection.indexOf(params.tableRow.rowId) !== -1}\n                    onToggle={() => toggleSelection({ rowIds: [params.tableRow.rowId] })}\n                  />\n                )}\n              </TemplateConnector>\n            )}\n          </Template>\n        )}\n        {(highlightRow || selectByRowClick) && (\n          <Template\n            name=\"tableRow\"\n            predicate={({ tableRow }: any) => !!isDataTableRow(tableRow)}\n          >\n            {(params: TableRowProps) => (\n              <TemplateConnector>\n                {({ selection }, { toggleSelection }) => (\n                  <Row\n                    {...params}\n                    selectByRowClick={selectByRowClick}\n                    highlighted={isRowHighlighted(highlightRow!, selection, params.tableRow)}\n                    onToggle={() => toggleSelection({ rowIds: [params.tableRow.rowId] })}\n                  />\n                )}\n              </TemplateConnector>\n            )}\n          </Template>\n        )}\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that visualizes table rows' selection state by rendering selection checkboxes\n * and highlighting the selected rows.\n * */\nexport const TableSelection: React.ComponentType<TableSelectionProps> & {\n  /** The selection column type's indentifier. */\n  COLUMN_TYPE: symbol;\n} = TableSelectionBase;\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper, ActionFn,\n} from '@devexpress/dx-react-core';\nimport { toggleDetailRowExpanded, ToggleRowPayload } from '@devexpress/dx-grid-core';\nimport { RowDetailStateProps, RowDetailStateState } from '../types';\n\n// tslint:disable-next-line: max-line-length\nclass RowDetailStateBase extends React.PureComponent<RowDetailStateProps, RowDetailStateState> {\n  static defaultProps = {\n    defaultExpandedRowIds: [],\n  };\n  toggleDetailRowExpanded: ActionFn<ToggleRowPayload>;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expandedRowIds: props.expandedRowIds || props.defaultExpandedRowIds,\n    };\n\n    const stateHelper = createStateHelper(\n      this,\n      {\n        expandedRowIds: () => {\n          const { onExpandedRowIdsChange } = this.props;\n          return onExpandedRowIdsChange;\n        },\n      },\n    );\n\n    this.toggleDetailRowExpanded = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'expandedRowIds', toggleDetailRowExpanded);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      expandedRowIds = prevState.expandedRowIds,\n    } = nextProps;\n\n    return {\n      expandedRowIds,\n    };\n  }\n\n  render() {\n    const { expandedRowIds } = this.state;\n\n    return (\n      <Plugin\n        name=\"RowDetailState\"\n      >\n        <Getter name=\"expandedDetailRowIds\" value={expandedRowIds} />\n        <Action name=\"toggleDetailRowExpanded\" action={this.toggleDetailRowExpanded} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the expanded state for table row details. */\nexport const RowDetailState: React.ComponentType<RowDetailStateProps> = RowDetailStateBase;\n","import * as React from 'react';\nimport {\n  Getter, Template, Plugin, TemplateConnector, Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  tableRowsWithExpandedDetail,\n  tableDetailCellColSpanGetter,\n  isDetailRowExpanded,\n  tableColumnsWithDetail,\n  isDetailToggleTableCell,\n  isDetailTableRow,\n  isDetailTableCell,\n  TABLE_DETAIL_TYPE,\n} from '@devexpress/dx-grid-core';\nimport { TableRowDetailProps, TableCellProps, TableRowProps } from '../types';\n\nconst getCellColSpanComputed = (\n  { getTableCellColSpan }: Getters,\n) => tableDetailCellColSpanGetter(getTableCellColSpan);\n\nconst pluginDependencies = [\n  { name: 'RowDetailState' },\n  { name: 'Table' },\n];\n\nclass TableRowDetailBase extends React.PureComponent<TableRowDetailProps> {\n  static ROW_TYPE = TABLE_DETAIL_TYPE;\n  static COLUMN_TYPE = TABLE_DETAIL_TYPE;\n  static defaultProps = {\n    contentComponent: () => null,\n  };\n  static components = {\n    rowComponent: 'Row',\n    cellComponent: 'Cell',\n    toggleCellComponent: 'ToggleCell',\n  };\n\n  render() {\n    const {\n      rowHeight,\n      contentComponent: Content,\n      toggleCellComponent: ToggleCell,\n      cellComponent: Cell,\n      rowComponent: Row,\n      toggleColumnWidth,\n    } = this.props;\n\n    const tableColumnsComputed = (\n      { tableColumns }: Getters,\n    ) => tableColumnsWithDetail(tableColumns, toggleColumnWidth);\n    const tableBodyRowsComputed = (\n      { tableBodyRows, expandedDetailRowIds }: Getters,\n    ) => tableRowsWithExpandedDetail(tableBodyRows, expandedDetailRowIds, rowHeight!);\n\n    return (\n      <Plugin\n        name=\"TableRowDetail\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n        <Getter name=\"tableBodyRows\" computed={tableBodyRowsComputed} />\n        <Getter name=\"getTableCellColSpan\" computed={getCellColSpanComputed} />\n\n        <Template\n          name=\"tableCell\"\n          predicate={(\n            { tableRow, tableColumn }: any,\n          ) => isDetailToggleTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({ expandedDetailRowIds }, { toggleDetailRowExpanded }) => (\n                <ToggleCell\n                  {...params}\n                  row={params.tableRow.row}\n                  expanded={isDetailRowExpanded(expandedDetailRowIds, params.tableRow.rowId!)}\n                  onToggle={() => toggleDetailRowExpanded({ rowId: params.tableRow.rowId })}\n                />\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow }: any) => !!isDetailTableRow(tableRow)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({ tableColumns }) => {\n                if (isDetailTableCell(params.tableColumn, tableColumns)) {\n                  return (\n                    <Cell\n                      {...params}\n                      row={params.tableRow.row}\n                    >\n                      {Content && <Content row={params.tableRow.row} />}\n                    </Cell>\n                  );\n                }\n                return null;\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isDetailTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => (\n            <Row\n              {...params}\n              row={params.tableRow.row}\n            />\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders detail rows. */\nexport const TableRowDetail: React.ComponentType<TableRowDetailProps> & {\n  /** The detail column type's identifier. */\n  COLUMN_TYPE: symbol;\n  /** The detail row type's indentifier. */\n  ROW_TYPE: symbol;\n} = TableRowDetailBase;\n","export const defaultSummaryMessages = {\n  sum: 'Sum',\n  min: 'Min',\n  max: 'Max',\n  avg: 'Avg',\n  count: 'Count',\n};\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  defaultFormatlessSummaries, ColumnSummary,\n} from '@devexpress/dx-grid-core';\nimport { TemplatePlaceholder } from '@devexpress/dx-react-core';\nimport { TableSummaryContentProps, SummaryItemProps } from '../../types';\nimport { defaultSummaryMessages } from './constants';\n\nexport const TableSummaryContent: React.SFC<TableSummaryContentProps> = ({\n  column, columnSummaries, formatlessSummaryTypes,\n  itemComponent: Item,\n  messages,\n}) => {\n  const getMessage = getMessagesFormatter({ ...defaultSummaryMessages, ...messages });\n  const SummaryItem: React.SFC<SummaryItemProps> = ({ summary, children }) => (\n    <Item\n      getMessage={getMessage}\n      type={summary.type}\n      value={summary.value}\n    >\n      {children || String(summary.value)}\n    </Item>\n  );\n  const isFormatlessSummary = (summary: ColumnSummary) => (\n    summary.value === null\n    || formatlessSummaryTypes.includes(summary.type)\n    || defaultFormatlessSummaries.includes(summary.type)\n  );\n\n  return (\n    <React.Fragment>\n      {columnSummaries.map((summary) => {\n        if (isFormatlessSummary(summary)) {\n          return <SummaryItem key={summary.type} summary={summary} />;\n        }\n        return (\n          <TemplatePlaceholder\n            key={summary.type}\n            name=\"valueFormatter\"\n            params={{\n              column,\n              value: summary.value,\n            }}\n          >\n            {content => (\n              <SummaryItem summary={summary}>\n                {content}\n              </SummaryItem>\n            )}\n          </TemplatePlaceholder>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n","import * as React from 'react';\nimport { TemplatePlaceholder } from '@devexpress/dx-react-core';\nimport { getGroupInlineSummaries } from '@devexpress/dx-grid-core';\nimport { GetInlineSummaryComponent, FlattenGroupInlineSummariesFn } from '../../types';\n\nconst getInlineSummaryComponent: GetInlineSummaryComponent = (\n  column, summary, formatlessSummaries,\n) => () => (\n  (summary.value === null || formatlessSummaries.includes(summary.type))\n    ? <>{summary.value}</>\n    : (\n      <TemplatePlaceholder\n        key={summary.type}\n        name=\"valueFormatter\"\n        params={{\n          column,\n          value: summary.value,\n        }}\n      >\n        {content => content || summary.value}\n      </TemplatePlaceholder>\n    )\n);\n\nexport const flattenGroupInlineSummaries: FlattenGroupInlineSummariesFn = (\n  columns, tableRow, groupSummaryItems, groupSummaryValues,\n  formatlessSummaries,\n) => (\n  getGroupInlineSummaries(\n    groupSummaryItems, columns,\n    groupSummaryValues[tableRow.row.compoundKey],\n  )\n    .map(colSummaries => ([\n      ...colSummaries.summaries.map(summary => ({\n        ...summary,\n        columnTitle: colSummaries.column.title,\n        messageKey: `${summary.type}Of`,\n        component: getInlineSummaryComponent(\n          colSummaries.column, summary, formatlessSummaries,\n        ),\n      })),\n    ]))\n    .reduce((acc, summaries) => acc.concat(summaries), [])\n);\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Getter, Template, Plugin, TemplatePlaceholder, TemplateConnector, Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  tableRowsWithGrouping,\n  tableGroupCellColSpanGetter,\n  isGroupTableCell,\n  isGroupIndentTableCell,\n  isGroupTableRow,\n  TABLE_GROUP_TYPE,\n  getColumnSummaries,\n  defaultFormatlessSummaries,\n  isPreviousCellContainSummary,\n  isRowSummaryCell,\n  isGroupRowOrdinaryCell,\n  calculateGroupCellIndent,\n  isGroupIndentStubTableCell,\n  GroupSummaryItem,\n  TABLE_FLEX_TYPE,\n} from '@devexpress/dx-grid-core';\nimport { TableColumnsWithGrouping } from './internal';\nimport {\n  TableGroupRowProps, TableCellProps, TableRowProps,\n} from '../types';\nimport { TableSummaryContent } from '../components/summary/table-summary-content';\nimport { flattenGroupInlineSummaries } from '../components/summary/group-summaries';\n\nconst pluginDependencies = [\n  { name: 'GroupingState' },\n  { name: 'Table' },\n  { name: 'DataTypeProvider', optional: true },\n  { name: 'SummaryState', optional: true },\n  { name: 'CustomSummary', optional: true },\n  { name: 'IntegratedSummary', optional: true },\n  { name: 'Table' },\n  { name: 'DataTypeProvider', optional: true },\n  { name: 'TableSelection', optional: true },\n];\nconst side = 'left';\n\n/** @internal */\nexport const defaultMessages = {\n  countOf: 'Count: ',\n  sumOf: 'Sum of {columnTitle} is ',\n  maxOf: 'Max of {columnTitle} is ',\n  minOf: 'Min of {columnTitle} is ',\n  avgOf: 'Avg of {columnTitle} is ',\n};\n\nconst tableBodyRowsComputed = (\n  { tableBodyRows, isGroupRow }: Getters,\n) => tableRowsWithGrouping(tableBodyRows, isGroupRow);\nconst getCellColSpanComputed = (\n  { getTableCellColSpan, groupSummaryItems }: Getters,\n) => tableGroupCellColSpanGetter(getTableCellColSpan, groupSummaryItems);\n\nclass TableGroupRowBase extends React.PureComponent<TableGroupRowProps> {\n  static ROW_TYPE = TABLE_GROUP_TYPE;\n  static COLUMN_TYPE = TABLE_GROUP_TYPE;\n  static defaultProps = {\n    showColumnsWhenGrouped: false,\n    formatlessSummaryTypes: [],\n  };\n  static components = {\n    rowComponent: 'Row',\n    cellComponent: 'Cell',\n    contentComponent: 'Content',\n    iconComponent: 'Icon',\n    containerComponent: 'Container',\n    indentCellComponent: 'IndentCell',\n    inlineSummaryComponent: 'InlineSummary',\n    inlineSummaryItemComponent: 'InlineSummaryItem',\n    summaryCellComponent: 'SummaryCell',\n    summaryItemComponent: 'SummaryItem',\n    stubCellComponent: 'StubCell',\n  };\n\n  render() {\n    const {\n      cellComponent: GroupCell,\n      contentComponent: Content,\n      iconComponent: Icon,\n      rowComponent: GroupRow,\n      containerComponent: Container,\n      indentCellComponent: GroupIndentCell,\n      inlineSummaryComponent: InlineSummary,\n      inlineSummaryItemComponent: InlineSummaryItem,\n      summaryCellComponent: SummaryCell,\n      summaryItemComponent: SummaryItem,\n      stubCellComponent: StubCell,\n      indentColumnWidth,\n      contentCellPadding,\n      showColumnsWhenGrouped,\n      columnExtensions,\n      messages,\n      formatlessSummaryTypes,\n    } = this.props;\n\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    return (\n      <Plugin\n        name=\"TableGroupRow\"\n        dependencies={pluginDependencies}\n      >\n        <TableColumnsWithGrouping\n          columnExtensions={columnExtensions}\n          showColumnsWhenGrouped={showColumnsWhenGrouped}\n          indentColumnWidth={indentColumnWidth}\n        />\n        <Getter name=\"tableBodyRows\" computed={tableBodyRowsComputed} />\n        <Getter name=\"getTableCellColSpan\" computed={getCellColSpanComputed} />\n\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow }: any) => isGroupTableRow(tableRow)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {(\n                {\n                  grouping, expandedGroups, groupSummaryItems, groupSummaryValues, columns,\n                },\n                { toggleGroupExpanded },\n              ) => {\n                if (isGroupTableCell(params.tableRow, params.tableColumn)) {\n                  const formatlessSummaries = defaultFormatlessSummaries\n                    .concat(formatlessSummaryTypes!);\n\n                  const inlineSummaries = groupSummaryItems\n                    ? flattenGroupInlineSummaries(\n                      columns, params.tableRow, groupSummaryItems,\n                      groupSummaryValues, formatlessSummaries,\n                    ) : [];\n                  const cellIndent = calculateGroupCellIndent(\n                    params.tableColumn, grouping, indentColumnWidth,\n                  );\n                  const contentIndent = `calc(${cellIndent}px + ${contentCellPadding})`;\n\n                  return (\n                    <TemplatePlaceholder\n                      name=\"valueFormatter\"\n                      params={{\n                        column: params.tableColumn.column,\n                        value: params.tableRow.row.value,\n                      }}\n                    >\n                      {content => (\n                        <GroupCell\n                          {...params}\n                          contentComponent={Content}\n                          iconComponent={Icon}\n                          containerComponent={Container}\n                          row={params.tableRow.row}\n                          column={params.tableColumn.column!}\n                          expanded={expandedGroups.indexOf(params.tableRow.row.compoundKey) !== -1}\n                          onToggle={\n                            () => toggleGroupExpanded({ groupKey: params.tableRow.row.compoundKey })\n                          }\n                          inlineSummaries={inlineSummaries}\n                          inlineSummaryComponent={InlineSummary}\n                          inlineSummaryItemComponent={InlineSummaryItem}\n                          getMessage={getMessage}\n                          position={contentIndent}\n                          side={side}\n                        >\n                          {content}\n                        </GroupCell>\n                      )}\n                    </TemplatePlaceholder>\n                  );\n                }\n                if (isGroupIndentTableCell(params.tableRow, params.tableColumn, grouping)) {\n                  const fixedProps = {\n                    side,\n                    position: calculateGroupCellIndent(\n                      params.tableColumn, grouping, indentColumnWidth,\n                    ),\n                  };\n                  if (GroupIndentCell) {\n                    return (\n                      <GroupIndentCell\n                        {...params}\n                        {...fixedProps}\n                        row={params.tableRow.row}\n                        column={params.tableColumn.column!}\n                      />\n                    );\n                  }\n                  return <TemplatePlaceholder params={fixedProps} />;\n                }\n                if (isGroupIndentStubTableCell(params.tableRow, params.tableColumn, grouping)) {\n                  return <TemplatePlaceholder params={params} />;\n                }\n                return null;\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={({\n            tableRow, tableColumn,\n          }: any) => (isGroupRowOrdinaryCell(tableRow, tableColumn))}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {(\n                {\n                  groupSummaryItems, groupSummaryValues, grouping, tableColumns,\n                },\n                { toggleGroupExpanded },\n              ) => {\n                const { tableColumn, tableRow } = params;\n                const onToggle = () => toggleGroupExpanded({ groupKey: tableRow.row.compoundKey });\n\n                if (isRowSummaryCell(tableRow, tableColumn, grouping, groupSummaryItems)) {\n                  const columnSummaries = getColumnSummaries(\n                    groupSummaryItems,\n                    tableColumn.column!.name,\n                    groupSummaryValues[tableRow.row.compoundKey],\n                    summaryItem => (\n                      !(summaryItem as GroupSummaryItem).showInGroupFooter! &&\n                      (summaryItem as GroupSummaryItem).alignByColumn!\n                    ),\n                  );\n\n                  return (\n                    <SummaryCell\n                      {...params}\n                      row={params.tableRow.row}\n                      column={params.tableColumn.column!}\n                      onToggle={onToggle}\n                    >\n                      <TableSummaryContent\n                        column={tableColumn.column!}\n                        columnSummaries={columnSummaries}\n                        formatlessSummaryTypes={formatlessSummaryTypes!}\n                        itemComponent={SummaryItem}\n                        messages={messages!}\n                      />\n                    </SummaryCell>\n                  );\n                }\n\n                // NOTE: ensure that right-aligned summary will fit into a column\n                if (isPreviousCellContainSummary(\n                  tableRow, tableColumn, tableColumns, grouping, groupSummaryItems,\n                ) || TABLE_FLEX_TYPE === tableColumn.type) {\n                  return <StubCell {...params} onToggle={onToggle} />;\n                }\n\n                return <TemplatePlaceholder />;\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => isGroupTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => (\n            <GroupRow\n              {...params}\n              row={params.tableRow.row}\n            />\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders group rows and enables them to expand and collapse. */\nexport const TableGroupRow: React.ComponentType<TableGroupRowProps> & {\n  /** The group column type's identifier. */\n  COLUMN_TYPE: symbol;\n  /** The group row type's identifier. */\n  ROW_TYPE: symbol;\n} = TableGroupRowBase;\n","import * as React from 'react';\nimport {\n  Getter, Template, Plugin, TemplateConnector, TemplatePlaceholder, Getters,\n} from '@devexpress/dx-react-core';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  getColumnSortingDirection,\n  tableRowsWithHeading,\n  isHeadingTableCell,\n  isHeadingTableRow,\n  getNextColumnName,\n  TABLE_DATA_TYPE,\n  TABLE_HEADING_TYPE,\n} from '@devexpress/dx-grid-core';\nimport { TableHeaderRowProps, TableCellProps, TableRowProps } from '../types';\n\nconst tableHeaderRowsComputed = (\n  { tableHeaderRows }: Getters,\n) => tableRowsWithHeading(tableHeaderRows || []);\n\nclass TableHeaderRowBase extends React.PureComponent<TableHeaderRowProps> {\n  static ROW_TYPE = TABLE_HEADING_TYPE;\n  static defaultProps = {\n    showSortingControls: false,\n    showGroupingControls: false,\n    messages: {},\n  };\n  static components = {\n    cellComponent: 'Cell',\n    rowComponent: 'Row',\n    contentComponent: 'Content',\n    sortLabelComponent: 'SortLabel',\n    titleComponent: 'Title',\n    groupButtonComponent: 'GroupButton',\n  };\n\n  render() {\n    const {\n      showSortingControls,\n      showGroupingControls,\n      cellComponent: HeaderCell,\n      rowComponent: HeaderRow,\n      contentComponent: Content,\n      sortLabelComponent: SortLabel,\n      groupButtonComponent: GroupButton,\n      titleComponent: Title,\n      messages,\n    } = this.props;\n    const getMessage = getMessagesFormatter(messages!);\n\n    return (\n      <Plugin\n        name=\"TableHeaderRow\"\n        dependencies={[\n          { name: 'Table' },\n          { name: 'SortingState', optional: !showSortingControls },\n          { name: 'GroupingState', optional: !showGroupingControls },\n          { name: 'DragDropProvider', optional: true },\n          { name: 'TableColumnResizing', optional: true },\n        ]}\n      >\n        <Getter name=\"tableHeaderRows\" computed={tableHeaderRowsComputed} />\n\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow, tableColumn }: any) => isHeadingTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({\n                sorting, tableColumns, draggingEnabled, tableColumnResizingEnabled,\n                isColumnSortingEnabled, isColumnGroupingEnabled, columnResizingMode,\n              }, {\n                changeColumnSorting, changeColumnGrouping,\n                changeTableColumnWidth, draftTableColumnWidth, cancelTableColumnWidthDraft,\n                storeWidthGetters = () => {},\n              }) => {\n                const { name: columnName, title: columnTitle } = params.tableColumn.column!;\n                const atLeastOneDataColumn = tableColumns\n                  .filter(({ type }) => type === TABLE_DATA_TYPE).length > 1;\n                const sortingEnabled = isColumnSortingEnabled\n                  && isColumnSortingEnabled(columnName);\n                const groupingEnabled = isColumnGroupingEnabled\n                  && isColumnGroupingEnabled(columnName)\n                  && atLeastOneDataColumn;\n                const nextColumnName = getNextColumnName(tableColumns, columnName);\n\n                return (\n                  <HeaderCell\n                    {...params}\n                    column={params.tableColumn.column!}\n                    draggingEnabled={draggingEnabled && atLeastOneDataColumn}\n                    resizingEnabled={\n                      tableColumnResizingEnabled\n                      && (!!nextColumnName || columnResizingMode === 'widget')\n                    }\n                    onWidthChange={({ shift }) => changeTableColumnWidth({\n                      columnName, nextColumnName, shift,\n                    })}\n                    onWidthDraft={({ shift }) => draftTableColumnWidth({\n                      columnName, nextColumnName, shift,\n                    })}\n                    onWidthDraftCancel={() => cancelTableColumnWidthDraft()}\n                    getCellWidth={getter => storeWidthGetters({\n                      tableColumn: params.tableColumn , getter, tableColumns,\n                    })}\n                  >\n                    <TemplatePlaceholder\n                      name=\"tableHeaderCellBefore\"\n                      params={{\n                        column: params.tableColumn.column,\n                      }}\n                    />\n                    <Content\n                      column={params.tableColumn.column!}\n                      align={params.tableColumn.align!}\n                    >\n                      {showSortingControls ? (\n                        <SortLabel\n                          column={params.tableColumn.column!}\n                          align={params.tableColumn.align!}\n                          direction={getColumnSortingDirection(sorting, columnName) || null}\n                          disabled={!sortingEnabled}\n                          onSort={({ direction, keepOther }) => {\n                            changeColumnSorting({ columnName, direction, keepOther });\n                          }}\n                          getMessage={getMessage}\n                        >\n                          <Title>\n                            {columnTitle || columnName}\n                          </Title>\n                        </SortLabel>\n                      ) : (\n                        <Title>\n                          {columnTitle || columnName}\n                        </Title>\n                      )}\n                    </Content>\n                    {showGroupingControls ? (\n                      <GroupButton\n                        disabled={!groupingEnabled}\n                        onGroup={() => changeColumnGrouping({ columnName })}\n                      />\n                    ) : null}\n                  </HeaderCell>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isHeadingTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => <HeaderRow {...params} />}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nTableHeaderRowBase.components = {\n  cellComponent: 'Cell',\n  rowComponent: 'Row',\n  contentComponent: 'Content',\n  sortLabelComponent: 'SortLabel',\n  titleComponent: 'Title',\n  groupButtonComponent: 'GroupButton',\n};\n\n/***\n * A plugin that renders the table's header row. The Column's `title` field specifies the\n * column's title in the header row.The plugin also allows you to manage a column's sorting\n * and grouping state and initiate column dragging.\n * */\nexport const TableHeaderRow: React.ComponentType<TableHeaderRowProps> & {\n  /** The header row type's identifier. */\n  ROW_TYPE: symbol;\n} = TableHeaderRowBase;\n","import * as React from 'react';\nimport {\n  Getter, Template, Plugin,\n  TemplateConnector, TemplatePlaceholder, Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  getBandComponent, tableHeaderColumnChainsWithBands,\n  isBandedTableRow, isBandedOrHeaderRow,\n  tableRowsWithBands, isHeadingTableCell,\n  BAND_GROUP_CELL, BAND_HEADER_CELL,\n  BAND_EMPTY_CELL, BAND_DUPLICATE_RENDER,\n  TABLE_BAND_TYPE,\n  BAND_FILL_LEVEL_CELL,\n  bandLevelsVisibility,\n  columnBandLevels,\n  columnVisibleIntervals,\n} from '@devexpress/dx-grid-core';\nimport { TableBandHeaderProps, TableBandHeader as BandHeaderNS, TableRowProps } from '../types';\n\nconst CellPlaceholder = (props: BandHeaderNS.CellProps) => <TemplatePlaceholder params={props} />;\n\nconst bandLevelsVisibilityComputed = (\n  { columnVisibleIntervals: columnIntervals, tableHeaderColumnChains, bandLevels }: Getters,\n) => bandLevelsVisibility(\n  columnIntervals, tableHeaderColumnChains, bandLevels,\n);\n\nconst columnVisibleIntervalsComputed = (\n  { viewport, tableColumns }: Getters,\n) => columnVisibleIntervals(viewport, tableColumns);\n\nclass TableBandHeaderBase extends React.PureComponent<TableBandHeaderProps> {\n  static ROW_TYPE = TABLE_BAND_TYPE;\n  static components = {\n    cellComponent: 'Cell',\n    rowComponent: 'Row',\n    bandedHeaderCellComponent: 'BandedHeaderCell',\n    invisibleCellComponent: 'InvisibleCell',\n  };\n\n  render() {\n    const {\n      cellComponent: Cell,\n      rowComponent: Row,\n      bandedHeaderCellComponent: HeaderCell,\n      invisibleCellComponent: InvisibleCell,\n      columnBands,\n    } = this.props;\n\n    const tableHeaderRowsComputed = (\n      { tableHeaderRows, tableColumns }: Getters,\n    ) => tableRowsWithBands(\n      tableHeaderRows, columnBands, tableColumns,\n    );\n    const tableHeaderColumnChainsComputed = (\n      { tableHeaderRows, tableColumns }: Getters,\n    ) => tableHeaderColumnChainsWithBands(\n      tableHeaderRows, tableColumns, columnBands,\n    );\n    const bandLevels = columnBandLevels(columnBands);\n\n    return (\n      <Plugin\n        name=\"TableBandHeader\"\n        dependencies={[\n          { name: 'Table' },\n          { name: 'TableHeaderRow' },\n          { name: 'TableSelection', optional: true },\n          { name: 'TableEditColumn', optional: true },\n        ]}\n      >\n        <Getter name=\"tableHeaderRows\" computed={tableHeaderRowsComputed} />\n        {/* internal */}\n        <Getter name=\"columnVisibleIntervals\" computed={columnVisibleIntervalsComputed} />\n        <Getter name=\"tableHeaderColumnChains\" computed={tableHeaderColumnChainsComputed} />\n        <Getter name=\"bandLevels\" value={bandLevels} />\n        <Getter name=\"bandLevelsVisibility\" computed={bandLevelsVisibilityComputed} />\n\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow }: any) => !!isBandedOrHeaderRow(tableRow)}\n        >\n          {(params: BandHeaderNS.CellProps) => (\n            <TemplateConnector>\n              {({\n                tableColumns,\n                tableHeaderRows,\n                tableHeaderColumnChains,\n                columnVisibleIntervals: columnIntervals, bandLevelsVisibility: levelsVisibility,\n              }) => {\n                const bandComponent = getBandComponent(\n                  params,\n                  tableHeaderRows, tableColumns,\n                  columnBands, tableHeaderColumnChains, columnIntervals,\n                  levelsVisibility,\n                );\n                switch (bandComponent.type) {\n                  case BAND_DUPLICATE_RENDER:\n                    return <TemplatePlaceholder params={{ ...params }} />;\n\n                  case BAND_EMPTY_CELL:\n                    return <InvisibleCell />;\n\n                  case BAND_GROUP_CELL: {\n                    const { value, ...payload } = bandComponent.payload!;\n                    return (\n                      <Cell {...params} {...payload}>\n                        {value}\n                      </Cell>\n                    );\n                  }\n\n                  case BAND_HEADER_CELL:\n                    return (\n                      <TemplatePlaceholder\n                        name=\"tableCell\"\n                        params={{ ...params, ...bandComponent.payload }}\n                      />\n                    );\n\n                  case BAND_FILL_LEVEL_CELL:\n                    return (\n                      <Cell\n                        {...params}\n                        {...bandComponent.payload}\n                        style={{ whiteSpace: 'pre' }}\n                      >\n                        {' '}\n                      </Cell>\n                    );\n                  default:\n                    return null;\n                }\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow, tableColumn }: any) => isHeadingTableCell(tableRow, tableColumn)}\n        >\n          {(params: BandHeaderNS.CellProps) => (\n            <HeaderCell component={CellPlaceholder} {...params} />\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isBandedTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => <Row {...params} />}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nTableBandHeaderBase.components = {\n  cellComponent: 'Cell',\n  rowComponent: 'Row',\n  bandedHeaderCellComponent: 'BandedHeaderCell',\n  invisibleCellComponent: 'InvisibleCell',\n};\n\n/** A plugin that renders the banded cells. */\nexport const TableBandHeader: React.ComponentType<TableBandHeaderProps> & {\n  /** The band row type's identifier. */\n  ROW_TYPE: symbol;\n} = TableBandHeaderBase;\n","import * as React from 'react';\nimport {\n  Getter, Template, TemplatePlaceholder, TemplateConnector, Plugin, Getters, Actions,\n} from '@devexpress/dx-react-core';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  getColumnFilterConfig,\n  tableHeaderRowsWithFilter,\n  isFilterTableCell,\n  isFilterTableRow,\n  getColumnFilterOperations,\n  isFilterValueEmpty,\n  getSelectedFilterOperation,\n  TABLE_FILTER_TYPE,\n  FilterConfig,\n  TOP_POSITION,\n} from '@devexpress/dx-grid-core';\nimport { TableFilterRowProps, TableFilterRowState, TableCellProps, TableRowProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'FilteringState' },\n  { name: 'Table' },\n  { name: 'DataTypeProvider', optional: true },\n];\n\nconst defaultMessages = {\n  filterPlaceholder: 'Filter...',\n  contains: 'Contains',\n  notContains: 'Does not contain',\n  startsWith: 'Starts with',\n  endsWith: 'Ends with',\n  equal: 'Equals',\n  notEqual: 'Does not equal',\n  greaterThan: 'Greater than',\n  greaterThanOrEqual: 'Greater than or equal to',\n  lessThan: 'Less than',\n  lessThanOrEqual: 'Less than or equal to',\n};\n\nclass TableFilterRowBase extends React.PureComponent<TableFilterRowProps, TableFilterRowState> {\n  static ROW_TYPE = TABLE_FILTER_TYPE;\n  static defaultProps = {\n    showFilterSelector: false,\n    messages: {},\n  };\n  static components = {\n    rowComponent: 'Row',\n    cellComponent: 'Cell',\n    filterSelectorComponent: 'FilterSelector',\n    iconComponent: 'Icon',\n    editorComponent: 'Editor',\n    toggleButtonComponent: 'ToggleButton',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filterOperations: {},\n    };\n  }\n\n  render() {\n    const {\n      rowHeight,\n      showFilterSelector,\n      cellComponent: FilterCell,\n      rowComponent: FilterRow,\n      filterSelectorComponent: FilterSelector,\n      iconComponent,\n      toggleButtonComponent,\n      editorComponent: EditorComponent,\n      messages,\n    } = this.props;\n\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    const tableHeaderRowsComputed = (\n      { tableHeaderRows }: Getters,\n    ) => tableHeaderRowsWithFilter(tableHeaderRows, rowHeight!);\n\n    return (\n      <Plugin\n        name=\"TableFilterRow\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"tableHeaderRows\" computed={tableHeaderRowsComputed} />\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow, tableColumn }: any) => isFilterTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {(\n                { filters, isColumnFilteringEnabled, getAvailableFilterOperations, isDataRemote },\n                { changeColumnFilter, scrollToRow }: Actions,\n              ) => {\n                const { filterOperations } = this.state;\n                const { name: columnName } = params.tableColumn.column!;\n                const filter = getColumnFilterConfig(filters, columnName)!;\n                const onFilter = (\n                  config: FilterConfig | null,\n                ) => {\n                  if (isDataRemote) {\n                    scrollToRow(TOP_POSITION);\n                  }\n                  changeColumnFilter({ columnName, config });\n                };\n                const columnFilterOperations = getColumnFilterOperations(\n                  getAvailableFilterOperations, columnName,\n                );\n                const selectedFilterOperation = getSelectedFilterOperation(\n                  filterOperations, columnName, filter, columnFilterOperations,\n                );\n                const handleFilterOperationChange = (value: string) => {\n                  this.setState({\n                    filterOperations: {\n                      ...filterOperations,\n                      [columnName]: value,\n                    },\n                  });\n                  if (filter && !isFilterValueEmpty(filter.value)) {\n                    onFilter({ value: filter.value, operation: value });\n                  }\n                };\n                const handleFilterValueChange = (value: any) => onFilter(!isFilterValueEmpty(value)\n                  ? { value, operation: selectedFilterOperation }\n                  : null);\n                const filteringEnabled = isColumnFilteringEnabled(columnName);\n                return (\n                  <TemplatePlaceholder\n                    name=\"valueEditor\"\n                    params={{\n                      column: params.tableColumn.column,\n                      value: filter ? filter.value : undefined,\n                      onValueChange: handleFilterValueChange,\n                      disabled: !filteringEnabled,\n                    }}\n                  >\n                    {content => (\n                      <FilterCell\n                        {...params}\n                        getMessage={getMessage}\n                        column={params.tableColumn.column!}\n                        filter={filter}\n                        filteringEnabled={filteringEnabled}\n                        onFilter={onFilter}\n                      >\n                        {showFilterSelector\n                          ? (\n                            <FilterSelector\n                              toggleButtonComponent={toggleButtonComponent}\n                              iconComponent={iconComponent}\n                              value={selectedFilterOperation}\n                              availableValues={columnFilterOperations as string[]}\n                              onChange={handleFilterOperationChange}\n                              disabled={!filteringEnabled}\n                              getMessage={getMessage}\n                            />\n                          ) : null\n                        }\n                        {content || (\n                          <EditorComponent\n                            value={filter ? filter.value : undefined}\n                            disabled={!filteringEnabled}\n                            getMessage={getMessage}\n                            onChange={handleFilterValueChange}\n                          />\n                        )}\n                      </FilterCell>\n                    )}\n                  </TemplatePlaceholder>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isFilterTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => <FilterRow {...params} />}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders a filter row. */\nexport const TableFilterRow: React.ComponentType<TableFilterRowProps> & {\n  /** The filter row type's identifier. */\n  ROW_TYPE: symbol;\n} = TableFilterRowBase;\n","import * as React from 'react';\nimport {\n  Getter, Template, TemplatePlaceholder, TemplateConnector, Plugin, Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  getRowChange,\n  tableRowsWithEditing,\n  isEditTableRow,\n  isAddedTableRow,\n  isEditTableCell,\n  TABLE_EDIT_TYPE,\n  TABLE_ADDED_TYPE,\n} from '@devexpress/dx-grid-core';\nimport { TableEditRowProps, TableCellProps, TableRowProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n  { name: 'Table' },\n  { name: 'DataTypeProvider', optional: true },\n];\n\nclass TableEditRowBase extends React.PureComponent<TableEditRowProps> {\n  static ADDED_ROW_TYPE = TABLE_ADDED_TYPE;\n  static EDIT_ROW_TYPE = TABLE_EDIT_TYPE;\n  static components = {\n    rowComponent: 'Row',\n    cellComponent: 'Cell',\n  };\n\n  render() {\n    const {\n      cellComponent: EditCell,\n      rowComponent: EditRow,\n      rowHeight,\n    } = this.props;\n\n    const tableBodyRowsComputed = (\n      { tableBodyRows, editingRowIds, addedRows }: Getters,\n    ) => tableRowsWithEditing(tableBodyRows, editingRowIds, addedRows, rowHeight);\n\n    return (\n      <Plugin\n        name=\"TableEditRow\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"tableBodyRows\" computed={tableBodyRowsComputed} />\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow, tableColumn }: any) => isEditTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({\n                getCellValue,\n                createRowChange,\n                rowChanges,\n                isColumnEditingEnabled,\n              }, {\n                changeAddedRow,\n                changeRow,\n              }) => {\n                const { rowId, row } = params.tableRow;\n                const { column } = params.tableColumn;\n                const { name: columnName } = column!;\n\n                const isNew = isAddedTableRow(params.tableRow);\n                const changedRow = isNew\n                  ? row\n                  : { ...row, ...getRowChange(rowChanges, rowId!) };\n\n                const value = getCellValue(changedRow, columnName);\n                const onValueChange = (newValue: any) => {\n                  const changeArgs = {\n                    rowId,\n                    change: createRowChange(changedRow, newValue, columnName),\n                  };\n                  if (isNew) {\n                    changeAddedRow(changeArgs);\n                  } else {\n                    changeRow(changeArgs);\n                  }\n                };\n                const editingEnabled = isColumnEditingEnabled(columnName);\n                return (\n                  <TemplatePlaceholder\n                    name=\"valueEditor\"\n                    params={{\n                      column,\n                      row,\n                      value,\n                      onValueChange,\n                      disabled: !editingEnabled,\n                    }}\n                  >\n                    {content => (\n                      <EditCell\n                        {...params}\n                        row={row}\n                        column={column!}\n                        value={value}\n                        editingEnabled={editingEnabled}\n                        onValueChange={onValueChange}\n                      >\n                        {content}\n                      </EditCell>\n                    )}\n                  </TemplatePlaceholder>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={(\n            { tableRow }: any,\n          ) => !!(isEditTableRow(tableRow) || isAddedTableRow(tableRow))}\n        >\n          {(params: TableRowProps) => (\n            <EditRow\n              {...params}\n              row={params.tableRow.row}\n            />\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders a row being edited. */\nexport const TableEditRow: React.ComponentType<TableEditRowProps> & {\n  /** The added row type's identifier. */\n  ADDED_ROW_TYPE: symbol;\n  /** The edit row type's identifier. */\n  EDIT_ROW_TYPE: symbol;\n} = TableEditRowBase;\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Getter, Template, Plugin, TemplateConnector, Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  TABLE_EDIT_COMMAND_TYPE,\n  tableColumnsWithEditing,\n  isHeadingEditCommandsTableCell,\n  isEditCommandsTableCell,\n  isAddedTableRow,\n  isEditTableRow,\n} from '@devexpress/dx-grid-core';\nimport { TableEditColumnProps, TableCellProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n  { name: 'Table' },\n];\n\nconst defaultMessages = {\n  addCommand: 'New',\n  editCommand: 'Edit',\n  deleteCommand: 'Delete',\n  commitCommand: 'Save',\n  cancelCommand: 'Cancel',\n};\n\nclass TableEditColumnBase extends React.PureComponent<TableEditColumnProps> {\n  static COLUMN_TYPE = TABLE_EDIT_COMMAND_TYPE;\n  static defaultProps = {\n    showAddCommand: false,\n    showEditCommand: false,\n    showDeleteCommand: false,\n    width: 140,\n    messages: {},\n  };\n  static components = {\n    cellComponent: 'Cell',\n    headerCellComponent: 'HeaderCell',\n    commandComponent: 'Command',\n  };\n\n  render() {\n    const {\n      cellComponent: Cell,\n      headerCellComponent: HeaderCell,\n      commandComponent: Command,\n      showAddCommand,\n      showEditCommand,\n      showDeleteCommand,\n      width,\n      messages,\n    } = this.props;\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n    const tableColumnsComputed = (\n      { tableColumns }: Getters,\n    ) => tableColumnsWithEditing(tableColumns, width!);\n\n    return (\n      <Plugin\n        name=\"TableEditColumn\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n\n        <Template\n          name=\"tableCell\"\n          predicate={(\n            { tableRow, tableColumn }: any,\n          ) => isHeadingEditCommandsTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {(getters, actions) => (\n                <HeaderCell {...params}>\n                  {showAddCommand && (\n                    <Command\n                      id=\"add\"\n                      text={getMessage('addCommand')}\n                      onExecute={() => actions.addRow()}\n                    />\n                  )}\n                </HeaderCell>\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={(\n            { tableRow, tableColumn }: any,\n          ) => isEditCommandsTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {(getters, actions) => {\n                const isEdit = isEditTableRow(params.tableRow);\n                const isNew = isAddedTableRow(params.tableRow);\n                const isEditing = isEdit || isNew;\n                const rowIds = [params.tableRow.rowId];\n                return (\n                  <Cell\n                    {...params}\n                    row={params.tableRow.row}\n                  >\n                    {showEditCommand && !isEditing && (\n                      <Command\n                        id=\"edit\"\n                        text={getMessage('editCommand')}\n                        onExecute={() => actions.startEditRows({ rowIds })}\n                      />\n                    )}\n                    {showDeleteCommand && !isEditing && (\n                      <Command\n                        id=\"delete\"\n                        text={getMessage('deleteCommand')}\n                        onExecute={() => {\n                          actions.deleteRows({ rowIds });\n                          actions.commitDeletedRows({ rowIds });\n                        }}\n                      />\n                    )}\n                    {isEditing && (\n                      <Command\n                        id=\"commit\"\n                        text={getMessage('commitCommand')}\n                        onExecute={() => {\n                          if (isNew) {\n                            actions.commitAddedRows({ rowIds });\n                          } else {\n                            actions.stopEditRows({ rowIds });\n                            actions.commitChangedRows({ rowIds });\n                          }\n                        }}\n                      />\n                    )}\n                    {isEditing && (\n                      <Command\n                        id=\"cancel\"\n                        text={getMessage('cancelCommand')}\n                        onExecute={() => {\n                          if (isNew) {\n                            actions.cancelAddedRows({ rowIds });\n                          } else {\n                            actions.stopEditRows({ rowIds });\n                            actions.cancelChangedRows({ rowIds });\n                          }\n                        }}\n                      />\n                    )}\n                  </Cell>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that renders a command column. This column contains controls used for row editing,\n * creating, or deleting and committing/canceling changes.\n * */\nexport const TableEditColumn: React.ComponentType<TableEditColumnProps> & {\n  /** The edit column type's identifier. */\n  COLUMN_TYPE: symbol;\n} = TableEditColumnBase;\n","import * as React from 'react';\nimport { memoize, MemoizedComputed } from '@devexpress/dx-core';\nimport {\n  Plugin, Getter, Action, createStateHelper, StateHelper, ActionFn, Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  tableColumnsWithWidths,\n  tableColumnsWithDraftWidths,\n  changeTableColumnWidth,\n  draftTableColumnWidth,\n  cancelTableColumnWidthDraft,\n  ColumnWidthPayload,\n  TableColumnWidthInfo,\n  TABLE_DATA_TYPE,\n} from '@devexpress/dx-grid-core';\nimport { TableColumnResizingProps, TableColumnResizingState, CellWidthGetter } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Table' },\n];\n\n// tslint:disable-next-line: max-line-length\nclass TableColumnResizingBase extends React.PureComponent<TableColumnResizingProps, TableColumnResizingState> {\n  static defaultProps = {\n    defaultColumnWidths: [],\n    resizingMode: 'widget',\n  };\n  changeTableColumnWidth: ActionFn<ColumnWidthPayload>;\n  draftTableColumnWidth: ActionFn<ColumnWidthPayload>;\n  cancelTableColumnWidthDraft: ActionFn<any>;\n  storeWidthGetters: ActionFn<object>;\n  storeCache: (payload) => void;\n  clearCache: () => void;\n  tableColumnsComputed: MemoizedComputed<TableColumnWidthInfo[], typeof tableColumnsWithWidths>;\n  // tslint:disable-next-line: max-line-length\n  tableColumnsDraftComputed: MemoizedComputed<TableColumnWidthInfo[], typeof tableColumnsWithDraftWidths>;\n\n  widthGetters: { [colName: string]: CellWidthGetter } = {};\n  cachedWidths: { [colName: string]: number } = {};\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      columnWidths: props.columnWidths || props.defaultColumnWidths,\n      draftColumnWidths: [],\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        columnWidths: () => {\n          const { onColumnWidthsChange } = this.props;\n          return onColumnWidthsChange;\n        },\n      },\n    );\n\n    this.tableColumnsComputed = memoize(\n      columnWidths => (\n        { tableColumns }: Getters,\n      ) => tableColumnsWithWidths(tableColumns, columnWidths, this.props.resizingMode!),\n    );\n    this.tableColumnsDraftComputed = memoize(\n      draftColumnWidths => (\n        { tableColumns }: Getters,\n      ) => tableColumnsWithDraftWidths(\n        tableColumns, draftColumnWidths, this.props.resizingMode!,\n      ),\n    );\n\n    this.changeTableColumnWidth = stateHelper.applyReducer.bind(\n      stateHelper, (prevState, payload) => {\n        const cachedWidths = { ...this.cachedWidths };\n        const { minColumnWidth, maxColumnWidth, columnExtensions, resizingMode } = this.props;\n        return changeTableColumnWidth(\n          prevState,\n          { ...payload, cachedWidths, resizingMode,\n            minColumnWidth, maxColumnWidth, columnExtensions },\n        );\n      },\n    );\n    this.draftTableColumnWidth = stateHelper.applyReducer.bind(\n      stateHelper, (prevState, payload) => {\n        this.storeCache(payload);\n        const cachedWidths = this.cachedWidths;\n        const { minColumnWidth, maxColumnWidth, columnExtensions, resizingMode } = this.props;\n        return draftTableColumnWidth(\n          prevState,\n          { ...payload, cachedWidths, resizingMode,\n            minColumnWidth, maxColumnWidth, columnExtensions },\n        );\n      },\n    );\n    this.cancelTableColumnWidthDraft = stateHelper.applyReducer.bind(\n      stateHelper, cancelTableColumnWidthDraft,\n    );\n\n    this.storeCache = ({ columnName, nextColumnName }) => {\n      if (Object.keys(this.cachedWidths).length === 0) {\n        this.cachedWidths[columnName] = this.widthGetters[columnName]();\n        if (nextColumnName) {\n          this.cachedWidths[nextColumnName] = this.widthGetters[nextColumnName]();\n        }\n      }\n    };\n    this.clearCache = () => {\n      Object.keys(this.cachedWidths)\n      .forEach(columnName => delete this.cachedWidths[columnName]);\n    };\n\n    this.storeWidthGetters = memoize(({ tableColumn, getter, tableColumns }) => {\n      if (tableColumn.type === TABLE_DATA_TYPE) {\n        this.widthGetters[tableColumn.column!.name] = getter;\n      }\n      Object.keys(this.widthGetters)\n      .forEach((columnName) => {\n        const columnIndex = tableColumns\n          .findIndex(({ type, column }) => type === TABLE_DATA_TYPE && column!.name === columnName);\n        if (columnIndex === -1) {\n          delete this.widthGetters[columnName];\n        }\n      });\n    });\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      columnWidths = prevState.columnWidths,\n    } = nextProps;\n\n    return {\n      columnWidths,\n    };\n  }\n\n  componentDidUpdate (_, prevState) {\n    const { columnWidths: currentWidths } = this.state;\n    const { columnWidths: prevWidths } = prevState;\n    if (currentWidths !== prevWidths) {\n      this.clearCache();\n    }\n  }\n\n  render() {\n    const { columnWidths, draftColumnWidths } = this.state;\n    const { resizingMode } = this.props;\n    const tableColumnsComputed = this.tableColumnsComputed(columnWidths);\n    const tableColumnsDraftComputed = this.tableColumnsDraftComputed(draftColumnWidths);\n\n    return (\n      <Plugin\n        name=\"TableColumnResizing\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"tableColumnResizingEnabled\" value />\n        <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n        <Getter name=\"tableColumns\" computed={tableColumnsDraftComputed} />\n        <Getter name=\"columnResizingMode\" value={resizingMode} />\n        <Action name=\"changeTableColumnWidth\" action={this.changeTableColumnWidth} />\n        <Action name=\"draftTableColumnWidth\" action={this.draftTableColumnWidth} />\n        <Action name=\"cancelTableColumnWidthDraft\" action={this.cancelTableColumnWidthDraft} />\n        <Action name=\"storeWidthGetters\" action={this.storeWidthGetters} />\n      </Plugin>\n    );\n  }\n}\n\n/* tslint:disable: max-line-length */\n/** A plugin that manages table column widths. */\nexport const TableColumnResizing: React.ComponentType<TableColumnResizingProps> = TableColumnResizingBase;\n/* tslint:enable: max-line-length */\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Template, TemplatePlaceholder, Plugin,\n  TemplateConnector,\n} from '@devexpress/dx-react-core';\nimport { pageCount } from '@devexpress/dx-grid-core';\nimport { PagingPanelProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'PagingState' },\n];\n\nconst defaultMessages = {\n  showAll: 'All',\n  info: ({ from, to, count }) => `${from}${from < to ? `-${to}` : ''} of ${count}`,\n};\n\nclass PagingPanelBase extends React.PureComponent<PagingPanelProps> {\n  static defaultProps = {\n    pageSizes: [],\n    messages: {},\n  };\n  static components = {\n    containerComponent: 'Container',\n  };\n\n  render() {\n    const {\n      containerComponent: Pager,\n      pageSizes,\n      messages,\n    } = this.props;\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    return (\n      <Plugin\n        name=\"PagingPanel\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"footer\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({ currentPage, pageSize, totalCount }, { setCurrentPage, setPageSize }) => (\n              <Pager\n                currentPage={currentPage}\n                pageSize={pageSize}\n                totalCount={totalCount}\n                totalPages={pageCount(totalCount, pageSize)}\n                pageSizes={pageSizes!}\n                getMessage={getMessage}\n                onCurrentPageChange={setCurrentPage}\n                onPageSizeChange={setPageSize}\n              />\n            )}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the paging panel used for navigation through data pages. */\nexport const PagingPanel: React.ComponentType<PagingPanelProps> = PagingPanelBase;\n","import * as React from 'react';\nimport { DragSource } from '@devexpress/dx-react-core';\nimport { GroupingPanel as GP } from '../../types';\n\nconst defaultProps = {\n  draggingEnabled: false,\n  onDragStart: () => {},\n  onDragEnd: () => {},\n};\ntype GPItemLayoutProps = GP.GroupingItemLayoutProps & typeof defaultProps;\n\n// tslint:disable-next-line: max-line-length\nexport class ItemLayout extends React.PureComponent<GPItemLayoutProps, GP.GroupingItemLayoutState> {\n  static defaultProps = defaultProps;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dragging: false,\n    };\n  }\n\n  render() {\n    const {\n      item,\n      itemComponent: Item,\n      draggingEnabled,\n      onDragStart,\n      onDragEnd,\n    } = this.props;\n    const { dragging } = this.state;\n\n    const itemElement = <Item item={{ ...item, draft: dragging || item.draft }} />;\n\n    return (draggingEnabled ? (\n      <DragSource\n        payload={[{ type: 'column', columnName: item.column.name }]}\n        onStart={() => {\n          this.setState({ dragging: true });\n          onDragStart();\n        }}\n        onEnd={() => {\n          this.setState({ dragging: false });\n          onDragEnd();\n        }}\n      >\n        {itemElement}\n      </DragSource>\n    ) : (\n      itemElement\n    ));\n  }\n}\n","import * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { DropTarget } from '@devexpress/dx-react-core';\nimport { getGroupCellTargetIndex } from '@devexpress/dx-grid-core';\nimport { ItemLayout } from './group-panel-layout/item-layout';\nimport { GroupingPanel as GP } from '../types';\n\nconst defaultProps = {\n  onGroup: () => {},\n  draggingEnabled: false,\n  isColumnGroupingEnabled: () => false,\n  onGroupDraft: () => {},\n  onGroupDraftCancel: () => {},\n};\ntype GPLayoutProps = GP.LayoutProps & typeof defaultProps;\n\n// tslint:disable-next-line: max-line-length\nclass GroupPanelLayoutBase extends React.PureComponent<GPLayoutProps, GP.GroupingItemLayoutState> {\n  static defaultProps = defaultProps;\n  handleDragEvent: (...args: any) => void;\n  onEnter: (any) => void;\n  onOver: (any) => void;\n  itemRefs: ItemLayout[] = [];\n  draggingColumnName: string | null = null;\n  onLeave: () => void;\n  onDrop: () => void;\n  onDragStart: (columnName: any) => void;\n  onDragEnd: () => void;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sourceColumnName: null,\n      targetItemIndex: -1,\n    };\n    this.handleDragEvent = (eventHandler, { payload, ...restArgs }) => {\n      const { isColumnGroupingEnabled } = this.props;\n      const { columnName } = payload[0];\n\n      if (isColumnGroupingEnabled(columnName)) {\n        eventHandler({ payload, ...restArgs });\n      }\n    };\n    this.onEnter = ({ payload }) => {\n      this.setState({\n        sourceColumnName: payload[0].columnName,\n      });\n    };\n    this.onOver = ({ clientOffset }) => {\n      const { onGroupDraft, items } = this.props;\n      const { sourceColumnName, targetItemIndex: prevTargetItemIndex } = this.state;\n      // eslint-disable-next-line react/no-find-dom-node\n      const itemGeometries = this.itemRefs\n        .map(ref => (findDOMNode(ref) as HTMLElement).getBoundingClientRect());\n      const sourceItemIndex = items.findIndex(({ column }) => column.name === sourceColumnName);\n      const targetItemIndex = getGroupCellTargetIndex(\n        itemGeometries,\n        sourceItemIndex,\n        clientOffset,\n      );\n\n      if (prevTargetItemIndex === targetItemIndex) return;\n\n      onGroupDraft({\n        columnName: sourceColumnName,\n        groupIndex: targetItemIndex,\n      });\n      this.setState({ targetItemIndex });\n    };\n    this.onLeave = () => {\n      const { onGroupDraft } = this.props;\n      const { sourceColumnName } = this.state;\n      if (!this.draggingColumnName) {\n        this.resetState();\n        return;\n      }\n      onGroupDraft({\n        columnName: sourceColumnName,\n        groupIndex: -1,\n      });\n      this.setState({\n        targetItemIndex: -1,\n      });\n    };\n    this.onDrop = () => {\n      const { onGroup } = this.props;\n      const { sourceColumnName, targetItemIndex } = this.state;\n      this.resetState();\n      onGroup({\n        columnName: sourceColumnName,\n        groupIndex: targetItemIndex,\n      });\n    };\n    this.onDragStart = (columnName) => {\n      this.draggingColumnName = columnName;\n    };\n    this.onDragEnd = () => {\n      this.draggingColumnName = null;\n      const { sourceColumnName, targetItemIndex } = this.state;\n      const { onGroup } = this.props;\n      if (sourceColumnName && targetItemIndex === -1) {\n        onGroup({\n          columnName: sourceColumnName,\n        });\n      }\n      this.resetState();\n    };\n  }\n\n  resetState() {\n    const { onGroupDraftCancel } = this.props;\n    onGroupDraftCancel();\n    this.setState({\n      sourceColumnName: null,\n      targetItemIndex: -1,\n    });\n  }\n\n  render() {\n    const {\n      items,\n      emptyMessageComponent: EmptyMessage,\n      containerComponent: Container,\n      itemComponent: Item,\n      draggingEnabled,\n      isColumnGroupingEnabled,\n    } = this.props;\n\n    this.itemRefs = [];\n\n    const groupPanel = (items.length ? (\n      <Container>\n        {items.map((item) => {\n          const { name: columnName } = item.column;\n          return (\n            <ItemLayout\n              key={columnName}\n              ref={element => element && this.itemRefs.push(element)}\n              item={item}\n              itemComponent={Item}\n              draggingEnabled={draggingEnabled && isColumnGroupingEnabled(columnName)}\n              onDragStart={() => this.onDragStart(columnName)}\n              onDragEnd={this.onDragEnd}\n            />\n          );\n        })}\n      </Container>\n    ) : (\n      <EmptyMessage />\n    ));\n\n    return draggingEnabled\n      ? (\n        <DropTarget\n          onEnter={args => this.handleDragEvent(this.onEnter, args)}\n          onOver={args => this.handleDragEvent(this.onOver, args)}\n          onLeave={args => this.handleDragEvent(this.onLeave, args)}\n          onDrop={args => this.handleDragEvent(this.onDrop, args)}\n        >\n          {groupPanel}\n        </DropTarget>\n      )\n      : groupPanel;\n  }\n}\n\n/** @internal */\nexport const GroupPanelLayout: React.ComponentType<GP.LayoutProps> = GroupPanelLayoutBase;\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Template, TemplatePlaceholder, Plugin, TemplateConnector, withComponents,\n  Getters, Actions,\n} from '@devexpress/dx-react-core';\nimport {\n  groupingPanelItems,\n  getColumnSortingDirection,\n} from '@devexpress/dx-grid-core';\nimport { GroupPanelLayout as Layout } from '../components/group-panel-layout';\nimport { GroupingPanelProps } from '../types';\n\nconst defaultMessages = {\n  groupByColumn: 'Drag a column header here to group by that column',\n};\n\nconst defaultProps = {\n  showSortingControls: false,\n  showGroupingControls: false,\n  messages: {},\n};\n\nclass GroupingPanelRaw extends React.PureComponent<GroupingPanelProps & typeof defaultProps> {\n  static defaultProps = defaultProps;\n  static components = {\n    layoutComponent: 'Layout',\n    containerComponent: 'Container',\n    itemComponent: 'Item',\n    emptyMessageComponent: 'EmptyMessage',\n  };\n\n  render() {\n    const {\n      layoutComponent: LayoutComponent,\n      containerComponent: Container,\n      itemComponent: Item,\n      emptyMessageComponent: EmptyMessage,\n      showSortingControls,\n      showGroupingControls,\n      messages,\n    } = this.props;\n\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    const EmptyMessagePlaceholder = () => (\n      <EmptyMessage\n        getMessage={getMessage}\n      />\n    );\n\n    const ItemPlaceholder = ({ item }) => {\n      const { name: columnName } = item.column;\n\n      return (\n        <TemplateConnector>\n          {(\n            { sorting, isColumnSortingEnabled, isColumnGroupingEnabled },\n            { changeColumnGrouping, changeColumnSorting },\n          ) => {\n            const sortingEnabled = isColumnSortingEnabled && isColumnSortingEnabled(columnName);\n            const groupingEnabled = isColumnGroupingEnabled && isColumnGroupingEnabled(columnName);\n\n            return (\n              <Item\n                item={item}\n                sortingEnabled={sortingEnabled}\n                groupingEnabled={groupingEnabled}\n                showSortingControls={showSortingControls}\n                sortingDirection={showSortingControls\n                  ? getColumnSortingDirection(sorting, columnName)! : undefined}\n                showGroupingControls={showGroupingControls}\n                onGroup={() => changeColumnGrouping({ columnName })}\n                onSort={(\n                  { direction, keepOther },\n                ) => changeColumnSorting({ columnName, direction, keepOther })}\n              />\n            );\n          }}\n        </TemplateConnector>\n      );\n    };\n\n    return (\n      <Plugin\n        name=\"GroupingPanel\"\n        dependencies={[\n          { name: 'GroupingState' },\n          { name: 'Toolbar' },\n          { name: 'SortingState', optional: !showSortingControls },\n        ]}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplateConnector>\n            {({\n              columns, grouping, draftGrouping, draggingEnabled, isColumnGroupingEnabled,\n            }: Getters, {\n              changeColumnGrouping, draftColumnGrouping, cancelColumnGroupingDraft,\n            }: Actions) => (\n              <LayoutComponent\n                items={groupingPanelItems(columns, grouping, draftGrouping)}\n                isColumnGroupingEnabled={isColumnGroupingEnabled}\n                draggingEnabled={draggingEnabled}\n                onGroup={changeColumnGrouping}\n                onGroupDraft={draftColumnGrouping}\n                onGroupDraftCancel={cancelColumnGroupingDraft}\n                itemComponent={ItemPlaceholder}\n                emptyMessageComponent={EmptyMessagePlaceholder}\n                containerComponent={Container}\n              />\n            )}\n          </TemplateConnector>\n          <TemplatePlaceholder />\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that renders the Grouping Panel in the Grid's header. This panel displays grouped\n * columns and allows a user to modify grouping options.Optionally, the plugin allows an end-user\n * to change grouped columns' sorting order and render sorting indicators.\n * */\nexport const GroupingPanel: React.ComponentType<GroupingPanelProps> = withComponents(\n  { Layout },\n)(GroupingPanelRaw);\n","import * as React from 'react';\nimport { Plugin, Template, Getter, Getters } from '@devexpress/dx-react-core';\nimport { getAvailableFilterOperationsGetter } from '@devexpress/dx-grid-core';\nimport {\n  DataTypeProvider as DataTypeProviderNS, DataTypeProviderProps,\n} from '../types';\n\nclass DataTypeProviderBase extends React.PureComponent<DataTypeProviderProps> {\n  render() {\n    const {\n      for: columnNames,\n      formatterComponent: Formatter,\n      editorComponent: Editor,\n      availableFilterOperations,\n    } = this.props;\n\n    const getAvailableFilterOperationsComputed = (\n      { getAvailableFilterOperations }: Getters,\n    ) => getAvailableFilterOperationsGetter(\n      getAvailableFilterOperations,\n      availableFilterOperations!,\n      columnNames,\n    );\n\n    return (\n      <Plugin name=\"DataTypeProvider\" key={columnNames.join('_')}>\n        <Getter\n          name=\"getAvailableFilterOperations\"\n          computed={getAvailableFilterOperationsComputed}\n        />\n        {Formatter\n          ? (\n            <Template\n              name=\"valueFormatter\"\n              predicate={({ column }: any) => columnNames.includes(column.name)}\n            >\n              {(params: DataTypeProviderNS.ValueFormatterProps) => <Formatter {...params} />}\n            </Template>\n          )\n          : null\n        }\n        {Editor\n          ? (\n            <Template\n              name=\"valueEditor\"\n              predicate={({ column }: any) => columnNames.includes(column.name)}\n            >\n              {(params: DataTypeProviderNS.ValueEditorProps) => <Editor {...params} />}\n            </Template>\n          )\n          : null\n        }\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable-next-line: max-line-length\n/** A plugin that allows you to customize formatting options and editors depending on the data type. */\nexport const DataTypeProvider: React.ComponentType<DataTypeProviderProps> = DataTypeProviderBase;\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Action,\n  Getter,\n  Plugin,\n  Template,\n  TemplateConnector,\n  TemplatePlaceholder,\n  createStateHelper,\n  ActionFn,\n} from '@devexpress/dx-react-core';\nimport {\n  toggleColumn,\n  tableDataColumnsExist,\n  getColumnExtensionValueGetter,\n} from '@devexpress/dx-grid-core';\nimport { VisibleTableColumns } from './internal/visible-table-columns';\nimport { TableColumnVisibilityProps, TableColumnVisibilityState } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Table' },\n];\n\nconst defaultMessages = {\n  noColumns: 'Nothing to show',\n};\n\nconst columnExtensionValueGetter = (\n  columnExtensions, defaultValue,\n) => getColumnExtensionValueGetter(columnExtensions, 'togglingEnabled', defaultValue);\n\n// tslint:disable-next-line: max-line-length\nclass TableColumnVisibilityBase extends React.PureComponent<TableColumnVisibilityProps, TableColumnVisibilityState> {\n  static defaultProps = {\n    defaultHiddenColumnNames: [],\n    messages: {},\n    columnTogglingEnabled: true,\n  };\n  static components = {\n    emptyMessageComponent: 'EmptyMessage',\n  };\n  toggleColumnVisibility: ActionFn<string[]>;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hiddenColumnNames: props.hiddenColumnNames || props.defaultHiddenColumnNames,\n    };\n    const stateHelper = createStateHelper(\n      this,\n      {\n        hiddenColumnNames: () => {\n          const { onHiddenColumnNamesChange } = this.props;\n          return onHiddenColumnNamesChange;\n        },\n      },\n    );\n\n    this.toggleColumnVisibility = stateHelper.applyFieldReducer.bind(\n      stateHelper, 'hiddenColumnNames', toggleColumn,\n    );\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      hiddenColumnNames = prevState.hiddenColumnNames,\n    } = nextProps;\n\n    return {\n      hiddenColumnNames,\n    };\n  }\n\n  render() {\n    const {\n      emptyMessageComponent: EmptyMessage,\n      messages,\n    } = this.props;\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n    const { hiddenColumnNames } = this.state;\n    const { columnExtensions, columnTogglingEnabled } = this.props;\n\n    return (\n      <Plugin\n        name=\"TableColumnVisibility\"\n        dependencies={pluginDependencies}\n      >\n        <VisibleTableColumns hiddenColumnNames={hiddenColumnNames} />\n\n        <Getter\n          name=\"isColumnTogglingEnabled\"\n          value={columnExtensionValueGetter(columnExtensions, columnTogglingEnabled)}\n        />\n        <Action\n          name=\"toggleColumnVisibility\"\n          action={this.toggleColumnVisibility}\n        />\n\n        <Template name=\"table\">\n          {params => (\n            <TemplateConnector>\n              {({ tableColumns }) => (tableDataColumnsExist(tableColumns)\n                ? <TemplatePlaceholder />\n                : (\n                  <EmptyMessage\n                    getMessage={getMessage}\n                    {...params}\n                  />\n                )\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nTableColumnVisibilityBase.components = {\n  emptyMessageComponent: 'EmptyMessage',\n};\n\n/* tslint:disable: max-line-length */\n/** A plugin that manages Grid columns' visibility. */\nexport const TableColumnVisibility: React.ComponentType<TableColumnVisibilityProps> = TableColumnVisibilityBase;\n/* tslint:enable: max-line-length */\n","import * as React from 'react';\n\nimport {\n  Template,\n  Plugin,\n  TemplatePlaceholder,\n} from '@devexpress/dx-react-core';\nimport { ToolbarProps } from '../types';\n\nclass ToolbarBase extends React.PureComponent<ToolbarProps> {\n  static components = {\n    rootComponent: 'Root',\n    flexibleSpaceComponent: 'FlexibleSpace',\n  };\n\n  render() {\n    const {\n      rootComponent: Root,\n      flexibleSpaceComponent: FlexibleSpaceComponent,\n    } = this.props;\n    return (\n      <Plugin\n        name=\"Toolbar\"\n      >\n        <Template name=\"header\">\n          <Root>\n            <TemplatePlaceholder name=\"toolbarContent\" />\n          </Root>\n          <TemplatePlaceholder />\n        </Template>\n        <Template name=\"toolbarContent\">\n          <FlexibleSpaceComponent />\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Grid toolbar. */\nexport const Toolbar: React.ComponentType<ToolbarProps> = ToolbarBase;\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper, ActionFn,\n} from '@devexpress/dx-react-core';\nimport { toggleRowExpanded, ToggleRowPayload } from '@devexpress/dx-grid-core';\nimport { TreeDataStateProps, TreeDataStateState } from '../types';\n\nclass TreeDataStateBase extends React.PureComponent<TreeDataStateProps, TreeDataStateState> {\n  static defaultProps = {\n    defaultExpandedRowIds: [],\n  };\n  toggleRowExpanded: ActionFn<ToggleRowPayload>;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expandedRowIds: props.expandedRowIds || props.defaultExpandedRowIds,\n    };\n\n    const stateHelper = createStateHelper(\n      this,\n      {\n        expandedRowIds: () => {\n          const { onExpandedRowIdsChange } = this.props;\n          return onExpandedRowIdsChange;\n        },\n      },\n    );\n\n    this.toggleRowExpanded = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'expandedRowIds', toggleRowExpanded);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      expandedRowIds = prevState.expandedRowIds,\n    } = nextProps;\n\n    return {\n      expandedRowIds,\n    };\n  }\n\n  render() {\n    const { expandedRowIds } = this.state;\n\n    return (\n      <Plugin\n        name=\"TreeDataState\"\n      >\n        <Getter name=\"expandedRowIds\" value={expandedRowIds} />\n        {' '}\n        {/* collision =( */}\n        <Action name=\"toggleRowExpanded\" action={this.toggleRowExpanded} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the expanded state for tree rows. */\nexport const TreeDataState: React.ComponentType<TreeDataStateProps> = TreeDataStateBase;\n","import * as React from 'react';\nimport { Getter, Plugin, Getters } from '@devexpress/dx-react-core';\nimport {\n  customTreeRowLevelKeyGetter,\n  customTreeRowIdGetter,\n  customTreeRowsWithMeta,\n  expandedTreeRows,\n  collapsedTreeRowsGetter,\n  isTreeRowLeafGetter,\n  getTreeRowLevelGetter,\n  unwrappedCustomTreeRows,\n} from '@devexpress/dx-grid-core';\nimport { CustomTreeDataProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'TreeDataState' },\n];\n\nconst expandedTreeRowsComputed = (\n  { rows, getRowId, expandedRowIds }: Getters,\n) => expandedTreeRows(rows, getRowId, expandedRowIds);\nconst getRowIdComputed = (\n  { getRowId, rows }: Getters,\n) => customTreeRowIdGetter(getRowId, rows);\nconst getRowLevelKeyComputed = (\n  { getRowLevelKey, rows }: Getters,\n) => customTreeRowLevelKeyGetter(getRowLevelKey, rows);\nconst isTreeRowLeafComputed = ({ rows }: Getters) => isTreeRowLeafGetter(rows);\nconst getTreeRowLevelComputed = ({ rows }: Getters) => getTreeRowLevelGetter(rows);\nconst collapsedTreeRowsGetterComputed = (\n  { rows, getCollapsedRows }: Getters,\n) => collapsedTreeRowsGetter(getCollapsedRows, rows);\nconst unwrappedTreeRowsComputed = ({ rows }: Getters) => unwrappedCustomTreeRows(rows);\n\nclass CustomTreeDataBase extends React.PureComponent<CustomTreeDataProps> {\n  render() {\n    const {\n      getChildRows,\n    } = this.props;\n    const treeRowsComputed = ({ rows }: Getters) => customTreeRowsWithMeta(rows, getChildRows);\n\n    return (\n      <Plugin\n        name=\"CustomTreeData\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"rows\" computed={treeRowsComputed} />\n        <Getter name=\"getRowId\" computed={getRowIdComputed} />\n        <Getter name=\"getRowLevelKey\" computed={getRowLevelKeyComputed} />\n        <Getter name=\"isTreeRowLeaf\" computed={isTreeRowLeafComputed} />\n        <Getter name=\"getTreeRowLevel\" computed={getTreeRowLevelComputed} />\n        <Getter name=\"rows\" computed={expandedTreeRowsComputed} />\n        <Getter name=\"getCollapsedRows\" computed={collapsedTreeRowsGetterComputed} />\n        <Getter name=\"rows\" computed={unwrappedTreeRowsComputed} />\n      </Plugin>\n    );\n  }\n}\n\n/***\n * A plugin that converts custom formatted tree data to a supported format and performs\n * local row expanding/collapsing.\n * */\nexport const CustomTreeData: React.ComponentType<CustomTreeDataProps> = CustomTreeDataBase;\n","import * as React from 'react';\nimport {\n  Template, Getter, Plugin, TemplateConnector, TemplatePlaceholder,\n} from '@devexpress/dx-react-core';\nimport { isTreeTableCell } from '@devexpress/dx-grid-core';\nimport { TableTreeColumnProps, TableCellProps } from '../types';\n\nclass TableTreeColumnBase extends React.PureComponent<TableTreeColumnProps> {\n  static defaultProps = {\n    showSelectionControls: false,\n    showSelectAll: false,\n  };\n  static components = {\n    cellComponent: 'Cell',\n    contentComponent: 'Content',\n    indentComponent: 'Indent',\n    expandButtonComponent: 'ExpandButton',\n    checkboxComponent: 'Checkbox',\n  };\n\n  render() {\n    const {\n      for: forColumnName,\n      showSelectionControls,\n      showSelectAll,\n      indentComponent: Indent,\n      expandButtonComponent: ExpandButton,\n      checkboxComponent: Checkbox,\n      contentComponent: Content,\n      cellComponent: Cell,\n    } = this.props;\n    return (\n      <Plugin\n        name=\"TableTreeColumn\"\n        dependencies={[\n          { name: 'DataTypeProvider', optional: true },\n          { name: 'TreeDataState' },\n          { name: 'SelectionState', optional: !showSelectionControls },\n          { name: 'IntegratedSelection', optional: !showSelectAll },\n          { name: 'Table' },\n          { name: 'TableHeaderRow', optional: true },\n        ]}\n        key={forColumnName}\n      >\n        <Getter name=\"tableTreeColumnName\" value={forColumnName} />\n        <Template\n          name=\"tableHeaderCellBefore\"\n          predicate={({ column }: any) => column.name === forColumnName}\n        >\n          <ExpandButton\n            visible={false}\n            expanded={false}\n            onToggle={() => {}}\n          />\n          {showSelectionControls && showSelectAll && (\n            <TemplateConnector>\n              {({ selectAllAvailable, allSelected, someSelected }, { toggleSelectAll }) => (\n                <Checkbox\n                  disabled={!selectAllAvailable}\n                  checked={allSelected}\n                  indeterminate={someSelected}\n                  onChange={toggleSelectAll}\n                />\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={(\n            { tableRow, tableColumn }: any,\n          ) => isTreeTableCell(tableRow, tableColumn, forColumnName)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({\n                getCollapsedRows, expandedRowIds, selection, isTreeRowLeaf, getTreeRowLevel,\n                getCellValue,\n              }, {\n                toggleRowExpanded, toggleSelection,\n              }) => {\n                const { row, rowId } = params.tableRow;\n                const columnName = params.tableColumn.column!.name;\n                const value = getCellValue(row, columnName);\n                const collapsedRows = getCollapsedRows(row);\n                return (\n                  <TemplatePlaceholder\n                    name=\"valueFormatter\"\n                    params={{\n                      value,\n                      row,\n                      column: params.tableColumn.column,\n                    }}\n                  >\n                    {content => (\n                      <Cell\n                        {...params}\n                        row={row}\n                        column={params.tableColumn.column!}\n                        value={value}\n                      >\n                        <Indent\n                          level={getTreeRowLevel(row)}\n                        />\n                        <ExpandButton\n                          visible={collapsedRows ? !!collapsedRows.length : !isTreeRowLeaf(row)}\n                          expanded={expandedRowIds.indexOf(rowId) > -1}\n                          onToggle={() => toggleRowExpanded({ rowId })}\n                        />\n                        {showSelectionControls && (\n                          <Checkbox\n                            disabled={false}\n                            checked={selection.indexOf(rowId) > -1}\n                            indeterminate={false}\n                            onChange={() => toggleSelection({ rowIds: [rowId] })}\n                          />\n                        )}\n                        <Content>\n                          {content || value}\n                        </Content>\n                      </Cell>\n                    )}\n                  </TemplatePlaceholder>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders a table column with a toggle button and sorting indicators. */\nexport const TableTreeColumn: React.ComponentType<TableTreeColumnProps> = TableTreeColumnBase;\n","import * as React from 'react';\nimport {\n  Getter, Action, Plugin, createStateHelper, ActionFn, Getters,\n} from '@devexpress/dx-react-core';\nimport { changeSearchValue, searchFilterExpression } from '@devexpress/dx-grid-core';\nimport { SearchStateProps, SearchStateState } from '../types';\n\nclass SearchStateBase extends React.PureComponent<SearchStateProps, SearchStateState> {\n  static defaultProps = {\n    defaultValue: '',\n  };\n  changeValue: ActionFn<string>;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: props.value || props.defaultValue,\n    };\n    const stateHelper = createStateHelper(this, {\n      value: () => {\n        const { onValueChange } = this.props;\n        return onValueChange;\n      },\n    });\n\n    this.changeValue = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'value', changeSearchValue);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      value = prevState.value,\n    } = nextProps;\n\n    return {\n      value,\n    };\n  }\n\n  render() {\n    const { value } = this.state;\n    const filterExpressionComputed = (\n      { filterExpression, columns }: Getters,\n    ) => searchFilterExpression(value, columns, filterExpression);\n\n    return (\n      <Plugin\n        name=\"SearchState\"\n      >\n        <Getter name=\"filterExpression\" computed={filterExpressionComputed} />\n        <Getter name=\"searchValue\" value={value} />\n        <Action name=\"changeSearchValue\" action={this.changeValue} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the search state. */\nexport const SearchState: React.ComponentType<SearchStateProps> = SearchStateBase;\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Template,\n  TemplatePlaceholder,\n  Plugin,\n  TemplateConnector,\n} from '@devexpress/dx-react-core';\nimport { SearchPanelProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Toolbar' },\n  { name: 'SearchState' },\n];\n\nconst defaultMessages = {\n  searchPlaceholder: 'Search...',\n};\n\nclass SearchPanelBase extends React.PureComponent<SearchPanelProps> {\n  static defaultProps = {\n    messages: {},\n  };\n  static components = {\n    inputComponent: 'Input',\n  };\n\n  render() {\n    const { inputComponent: Input, messages } = this.props;\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    return (\n      <Plugin\n        name=\"SearchPanel\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({ searchValue }, { changeSearchValue }) => (\n              <Input\n                value={searchValue}\n                onValueChange={changeSearchValue}\n                getMessage={getMessage}\n              />\n            )}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Search Panel. */\nexport const SearchPanel: React.ComponentType<SearchPanelProps> = SearchPanelBase;\n","import * as React from 'react';\nimport {\n  Getter,\n  Template,\n  Plugin,\n  TemplatePlaceholder,\n  TemplateConnector,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  isFixedTableRow,\n  tableColumnsWithFixed,\n  tableHeaderRowsWithFixed,\n  tableHeaderColumnChainsWithFixed,\n  calculateFixedColumnProps,\n  isRowHighlighted,\n} from '@devexpress/dx-grid-core';\nimport {\n  TableCellProps, TableRowProps, TableFixedColumnsProps, TableFixedColumnsState,\n} from '../types';\n\nconst tableHeaderRowsComputed = (\n  { tableHeaderRows }: Getters,\n) => tableHeaderRowsWithFixed(tableHeaderRows);\nconst tableHeaderColumnChainsComputed = (\n  { tableColumns, tableHeaderRows, tableHeaderColumnChains }: Getters,\n) => tableHeaderColumnChainsWithFixed(tableHeaderColumnChains, tableHeaderRows, tableColumns);\n\nconst CellPlaceholder = props => <TemplatePlaceholder params={props} />;\n\nconst pluginDependencies = [\n  { name: 'Table' },\n  { name: 'TableBandHeader', optional: true },\n  { name: 'TableColumnReordering', optional: true },\n  { name: 'TableEditColumn', optional: true },\n  { name: 'TableEditRow', optional: true },\n  { name: 'TableFilterRow', optional: true },\n  { name: 'TableGroupRow', optional: true },\n  { name: 'TableHeaderRow', optional: true },\n  { name: 'TableRowDetail', optional: true },\n  { name: 'TableSelection', optional: true },\n  { name: 'TableSummaryRow', optional: true },\n  { name: 'TableTreeColumn', optional: true },\n];\n\n// tslint:disable-next-line: max-line-length\nclass TableFixedColumnsBase extends React.PureComponent<TableFixedColumnsProps, TableFixedColumnsState> {\n  static components = {\n    cellComponent: 'Cell',\n    listenerRowComponent: 'ListenerRow',\n    listenerCellComponent: 'ListenerCell',\n  };\n  static defaultProps = {\n    leftColumns: [],\n    rightColumns: [],\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tableColumnDimensions: {},\n    };\n  }\n\n  handleListenerSizeChange(key, width) {\n    const { tableColumnDimensions } = this.state;\n    if (tableColumnDimensions[key] !== width) {\n      this.setState(state => ({\n        tableColumnDimensions: {\n          ...state.tableColumnDimensions,\n          [key]: width,\n        },\n      }));\n    }\n  }\n\n  render() {\n    const {\n      cellComponent: Cell,\n      listenerRowComponent: ListenerRow,\n      listenerCellComponent: ListenerCell,\n    } = this.props;\n    const leftColumns = this.props.leftColumns!;\n    const rightColumns = this.props.rightColumns!;\n\n    const tableColumnsComputed = ({ tableColumns }: Getters) => tableColumnsWithFixed(\n      tableColumns,\n      leftColumns,\n      rightColumns,\n    );\n\n    return (\n      <Plugin\n        name=\"TableFixedColumns\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"tableHeaderRows\" computed={tableHeaderRowsComputed} />\n        <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n        <Getter name=\"tableHeaderColumnChains\" computed={tableHeaderColumnChainsComputed} />\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableColumn }: any) => !!tableColumn.fixed}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({ tableColumns, tableHeaderColumnChains, selection, highlightSelectedRow }) => {\n                const selected = isRowHighlighted(highlightSelectedRow, selection, params.tableRow);\n                const { tableColumnDimensions } = this.state;\n                const fixedColumnProps = calculateFixedColumnProps(\n                  params,\n                  { leftColumns, rightColumns },\n                  tableColumns,\n                  tableColumnDimensions,\n                  tableHeaderColumnChains,\n                );\n\n                return (\n                  <Cell\n                    {...params}\n                    {...fixedColumnProps}\n                    component={CellPlaceholder}\n                    selected={selected}\n                  />\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isFixedTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => (\n            <ListenerRow {...params} />\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={({ tableRow }: any) => !!isFixedTableRow(tableRow)}\n        >\n          {(params: TableCellProps) => (\n            <ListenerCell\n              {...params}\n              listen={!!params.tableColumn.fixed}\n              onSizeChange={({\n                width,\n              }) => this.handleListenerSizeChange(params.tableColumn.key, width)}\n            />\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that enables you to fix columns to the left and right sides of the grid. */\nexport const TableFixedColumns: React.ComponentType<TableFixedColumnsProps> = TableFixedColumnsBase;\n","import * as React from 'react';\nimport { Getter, Plugin, Getters } from '@devexpress/dx-react-core';\nimport { prepareGroupSummaryItems } from '@devexpress/dx-grid-core';\nimport { SummaryStateProps } from '../types';\n\nconst groupSummaryItemsComputed = (\n  { groupSummaryItems }: Getters,\n) => prepareGroupSummaryItems(groupSummaryItems);\n\nclass SummaryStateBase extends React.PureComponent<SummaryStateProps> {\n  render() {\n    const { totalItems, groupItems, treeItems } = this.props;\n\n    return (\n      <Plugin\n        name=\"SummaryState\"\n      >\n        <Getter name=\"totalSummaryItems\" value={totalItems} />\n        <Getter name=\"groupSummaryItems\" value={groupItems} />\n        <Getter name=\"groupSummaryItems\" computed={groupSummaryItemsComputed} />\n        <Getter name=\"treeSummaryItems\" value={treeItems} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that provides items for total, group, and tree summaries. */\nexport const SummaryState: React.ComponentType<SummaryStateProps> = SummaryStateBase;\n","import * as React from 'react';\nimport { Getter, Plugin, Getters } from '@devexpress/dx-react-core';\nimport {\n  defaultSummaryCalculator,\n  totalSummaryValues,\n  groupSummaryValues,\n  treeSummaryValues,\n  SummaryCalculator,\n} from '@devexpress/dx-grid-core';\nimport { IntegratedSummaryProps, SummaryType } from '../types';\n\nconst pluginDependencies = [\n  { name: 'SummaryState' },\n  { name: 'IntegratedGrouping', optional: true },\n];\n\nclass IntegratedSummaryBase extends React.PureComponent<IntegratedSummaryProps> {\n  static defaultCalculator: SummaryCalculator = defaultSummaryCalculator;\n\n  render() {\n    const { calculator } = this.props;\n\n    const totalSummaryValuesComputed = ({\n      rows,\n      totalSummaryItems,\n      getCellValue,\n      getRowLevelKey,\n      isGroupRow,\n      getCollapsedRows,\n    }: Getters) => totalSummaryValues(\n      rows,\n      totalSummaryItems,\n      getCellValue,\n      getRowLevelKey,\n      isGroupRow,\n      getCollapsedRows,\n      calculator,\n    );\n\n    const groupSummaryValuesComputed = ({\n      rows,\n      groupSummaryItems,\n      getCellValue,\n      getRowLevelKey,\n      isGroupRow,\n      getCollapsedRows,\n    }: Getters) => groupSummaryValues(\n      rows,\n      groupSummaryItems,\n      getCellValue,\n      getRowLevelKey,\n      isGroupRow,\n      getCollapsedRows,\n      calculator,\n    );\n\n    const treeSummaryValuesComputed = ({\n      rows,\n      treeSummaryItems,\n      getCellValue,\n      getRowLevelKey,\n      isGroupRow,\n      getRowId,\n    }: Getters) => treeSummaryValues(\n      rows,\n      treeSummaryItems,\n      getCellValue,\n      getRowLevelKey,\n      isGroupRow,\n      getRowId,\n      calculator,\n    );\n\n    return (\n      <Plugin\n        name=\"IntegratedSummary\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"totalSummaryValues\" computed={totalSummaryValuesComputed} />\n        <Getter name=\"groupSummaryValues\" computed={groupSummaryValuesComputed} />\n        <Getter name=\"treeSummaryValues\" computed={treeSummaryValuesComputed} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that performs a built-in data summary calculation. */\nexport const IntegratedSummary: React.ComponentType<IntegratedSummaryProps> & {\n  /** The built-in summary calculator. */\n  defaultCalculator: (type: SummaryType, rows: Array<any>, getValue: (row: any) => any) => any;\n} = IntegratedSummaryBase;\n","import * as React from 'react';\nimport { Getter, Plugin } from '@devexpress/dx-react-core';\nimport { CustomSummaryProps } from '../types/summary/custom-summary.types';\n\nconst pluginDependencies = [\n  { name: 'SummaryState' },\n];\n\nclass CustomSummaryBase extends React.PureComponent<CustomSummaryProps> {\n  render() {\n    const { totalValues, groupValues, treeValues } = this.props;\n\n    return (\n      <Plugin\n        name=\"CustomSummary\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"totalSummaryValues\" value={totalValues} />\n        <Getter name=\"groupSummaryValues\" value={groupValues} />\n        <Getter name=\"treeSummaryValues\" value={treeValues} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that allows you to calculate a custom summary. */\nexport const CustomSummary: React.ComponentType<CustomSummaryProps> = CustomSummaryBase;\n","import * as React from 'react';\nimport {\n  Getter,\n  Template,\n  Plugin,\n  TemplateConnector,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  tableRowsWithSummaries,\n  tableRowsWithTotalSummaries,\n  isTotalSummaryTableCell,\n  isGroupSummaryTableCell,\n  isTreeSummaryTableCell,\n  isTotalSummaryTableRow,\n  isGroupSummaryTableRow,\n  isTreeSummaryTableRow,\n  getColumnSummaries,\n  TABLE_TREE_SUMMARY_TYPE,\n  TABLE_GROUP_SUMMARY_TYPE,\n  TABLE_TOTAL_SUMMARY_TYPE,\n  isFooterSummary,\n} from '@devexpress/dx-grid-core';\nimport { TableCellProps, TableRowProps, TableSummaryRowProps } from '../types';\nimport { TableSummaryContent } from '../components/summary/table-summary-content';\n\nconst dependencies = [\n  { name: 'DataTypeProvider', optional: true },\n  { name: 'SummaryState' },\n  { name: 'CustomSummary', optional: true },\n  { name: 'IntegratedSummary', optional: true },\n  { name: 'Table' },\n  { name: 'TableTreeColumn', optional: true },\n];\n\nconst tableBodyRowsComputed = ({\n  tableBodyRows,\n  getRowLevelKey,\n  isGroupRow,\n  getRowId,\n  groupSummaryItems,\n  treeSummaryItems,\n}: Getters) => tableRowsWithSummaries(\n  tableBodyRows, groupSummaryItems, treeSummaryItems, getRowLevelKey, isGroupRow, getRowId,\n);\nconst tableFooterRowsComputed = ({\n  tableFooterRows,\n}: Getters) => tableRowsWithTotalSummaries(tableFooterRows);\n\nexport class TableSummaryRowBase extends React.PureComponent<TableSummaryRowProps> {\n  static TREE_ROW_TYPE = TABLE_TREE_SUMMARY_TYPE;\n  static GROUP_ROW_TYPE = TABLE_GROUP_SUMMARY_TYPE;\n  static TOTAL_ROW_TYPE = TABLE_TOTAL_SUMMARY_TYPE;\n  static defaultProps = {\n    formatlessSummaryTypes: [],\n    messages: {},\n  };\n  static components = {\n    totalRowComponent: 'TotalRow',\n    groupRowComponent: 'GroupRow',\n    treeRowComponent: 'TreeRow',\n    totalCellComponent: 'TotalCell',\n    groupCellComponent: 'GroupCell',\n    treeCellComponent: 'TreeCell',\n    treeColumnCellComponent: 'TableTreeCell',\n    treeColumnContentComponent: 'TableTreeContent',\n    treeColumnIndentComponent: 'TableTreeIndent',\n    itemComponent: 'Item',\n  };\n\n  renderContent(column, columnSummaries) {\n    const {\n      formatlessSummaryTypes,\n      itemComponent: Item,\n      messages,\n    } = this.props;\n\n    return (\n      <TableSummaryContent\n        column={column}\n        columnSummaries={columnSummaries}\n        formatlessSummaryTypes={formatlessSummaryTypes}\n        itemComponent={Item}\n        messages={messages!}\n      />\n    );\n  }\n\n  render() {\n    const {\n      totalRowComponent: TotalRow,\n      groupRowComponent: GroupRow,\n      treeRowComponent: TreeRow,\n      totalCellComponent: TotalCell,\n      groupCellComponent: GroupCell,\n      treeCellComponent: TreeCell,\n      treeColumnCellComponent: TreeColumnCell,\n      treeColumnContentComponent: TreeColumnContent,\n      treeColumnIndentComponent: TreeColumnIndent,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"TableSummaryRow\"\n        dependencies={dependencies}\n      >\n        <Getter name=\"tableBodyRows\" computed={tableBodyRowsComputed} />\n        <Getter name=\"tableFooterRows\" computed={tableFooterRowsComputed} />\n        <Template\n          name=\"tableCell\"\n          predicate={(\n            { tableRow, tableColumn }: any,\n          ) => isTotalSummaryTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({ totalSummaryItems, totalSummaryValues }) => {\n                const columnSummaries = getColumnSummaries(\n                  totalSummaryItems,\n                  params.tableColumn.column!.name,\n                  totalSummaryValues,\n                );\n                return (\n                  <TotalCell\n                    {...params}\n                    column={params.tableColumn.column!}\n                  >\n                    {this.renderContent(params.tableColumn.column, columnSummaries)}\n                  </TotalCell>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={(\n            { tableRow, tableColumn }: any,\n          ) => isGroupSummaryTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({ groupSummaryItems, groupSummaryValues }) => {\n                const columnSummaries = getColumnSummaries(\n                  groupSummaryItems,\n                  params.tableColumn.column!.name,\n                  groupSummaryValues[params.tableRow.row.compoundKey],\n                  summaryItem => isFooterSummary(summaryItem),\n                );\n                return (\n                  <GroupCell\n                    {...params}\n                    column={params.tableColumn.column!}\n                  >\n                    {this.renderContent(params.tableColumn.column, columnSummaries)}\n                  </GroupCell>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableCell\"\n          predicate={(\n            { tableRow, tableColumn }: any,\n          ) => isTreeSummaryTableCell(tableRow, tableColumn)}\n        >\n          {(params: TableCellProps) => (\n            <TemplateConnector>\n              {({\n                treeSummaryItems,\n                treeSummaryValues,\n                tableTreeColumnName,\n                getRowId,\n                getTreeRowLevel,\n              }) => {\n                const columnSummaries = getColumnSummaries(\n                  treeSummaryItems,\n                  params.tableColumn.column!.name,\n                  treeSummaryValues[getRowId(params.tableRow.row)],\n                );\n                if (tableTreeColumnName === params.tableColumn.column!.name) {\n                  return (\n                    <TreeColumnCell\n                      {...params}\n                      column={params.tableColumn.column!}\n                    >\n                      <TreeColumnIndent\n                        level={getTreeRowLevel(params.tableRow.row)}\n                      />\n                      <TreeColumnContent>\n                        {this.renderContent(params.tableColumn.column, columnSummaries)}\n                      </TreeColumnContent>\n                    </TreeColumnCell>\n                  );\n                }\n                return (\n                  <TreeCell\n                    {...params}\n                    column={params.tableColumn.column!}\n                  >\n                    {this.renderContent(params.tableColumn.column, columnSummaries)}\n                  </TreeCell>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isTotalSummaryTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => (\n            <TotalRow\n              {...params}\n            />\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isGroupSummaryTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => (\n            <GroupRow\n              {...params}\n            />\n          )}\n        </Template>\n        <Template\n          name=\"tableRow\"\n          predicate={({ tableRow }: any) => !!isTreeSummaryTableRow(tableRow)}\n        >\n          {(params: TableRowProps) => (\n            <TreeRow\n              {...params}\n            />\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders table rows that display a total, group, and tree summary. */\nexport const TableSummaryRow: React.ComponentType<TableSummaryRowProps> & {\n  /** The tree summary row type's indentifier. */\n  TREE_ROW_TYPE: symbol;\n  /** The group summary row type's indentifier. */\n  GROUP_ROW_TYPE: symbol;\n  /** The total row type's indentifier. */\n  TOTAL_ROW_TYPE: symbol;\n} = TableSummaryRowBase;\n","import * as React from 'react';\nimport { Getter, Action, Plugin, Getters, Actions } from '@devexpress/dx-react-core';\nimport {\n  virtualRowsWithCache, trimRowsToInterval, emptyVirtualRows, plainRows, loadedRowsStart,\n  VirtualRows, Interval, getAvailableRowCount, needFetchMorePages, getReferenceIndex,\n  shouldSendRequest, getRequestMeta,\n} from '@devexpress/dx-grid-core';\nimport { VirtualTableStateProps, VirtualTableStateState } from '../../types';\n\nconst virtualRowsComputed = (\n  { skip, rows, virtualRowsCache }: Getters,\n) => virtualRowsWithCache(skip, rows, virtualRowsCache);\n\nconst rowsComputed = (\n  { virtualRows, availableRowCount }: Getters,\n) => plainRows(virtualRows, availableRowCount);\n\nconst loadedRowsStartComputed = ({ virtualRows }: Getters) => loadedRowsStart(virtualRows);\n\n// tslint:disable-next-line: max-line-length\nclass VirtualTableStateBase extends React.PureComponent<VirtualTableStateProps, VirtualTableStateState> {\n  static defaultProps = {\n    pageSize: 100,\n  };\n  requestTimer: number = 0;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      virtualRowsCache: emptyVirtualRows,\n      requestedStartIndex: -1,\n      availableRowCount: props.totalRowCount || 0,\n    };\n  }\n\n  setViewport = (\n    viewport,\n    { virtualRows }: Getters,\n    { requestNextPage }: Actions,\n  ) => {\n    const { pageSize } = this.props;\n    const referenceIndex = getReferenceIndex(viewport);\n\n    if (needFetchMorePages(virtualRows, referenceIndex, pageSize!)) {\n      requestNextPage({ referenceIndex });\n    }\n  }\n\n  requestNextPageAction = (\n    { referenceIndex, forceReload },\n    { virtualRows }: Getters,\n  ) => {\n    const { pageSize, totalRowCount, infiniteScrolling } = this.props;\n    const { requestedStartIndex } = this.state;\n    const actualVirtualRows = forceReload ? emptyVirtualRows : virtualRows;\n    const { requestedRange, actualBounds } = getRequestMeta(\n      referenceIndex, virtualRows, pageSize!, totalRowCount, forceReload, infiniteScrolling,\n    );\n\n    if (forceReload || shouldSendRequest(requestedRange, requestedStartIndex)) {\n      this.requestNextPage(requestedRange, actualVirtualRows, actualBounds);\n    }\n  }\n\n  requestNextPage(\n    requestedRange: Interval, virtualRows: VirtualRows, actualBounds: Interval,\n  ) {\n    const { getRows, infiniteScrolling, totalRowCount } = this.props;\n    const { availableRowCount: stateAvailableCount } = this.state;\n\n    if (this.requestTimer !== 0) {\n      clearTimeout(this.requestTimer);\n    }\n    this.requestTimer = window.setTimeout(() => {\n      const { start: requestedStartIndex, end } = requestedRange;\n      const loadCount = end - requestedStartIndex;\n      const virtualRowsCache = trimRowsToInterval(virtualRows, actualBounds);\n      const availableRowCount = getAvailableRowCount(\n        infiniteScrolling,\n        actualBounds.end,\n        stateAvailableCount,\n        totalRowCount,\n      );\n\n      getRows(requestedStartIndex, loadCount);\n\n      this.setState({\n        virtualRowsCache,\n        availableRowCount,\n        requestedStartIndex,\n      });\n    }, 50);\n  }\n\n  requestFirstPage() {\n    const { getRows, pageSize } = this.props;\n\n    if (this.requestTimer !== 0) {\n      clearTimeout(this.requestTimer);\n    }\n    this.requestTimer = window.setTimeout(() => {\n      getRows(0, 2 * pageSize!);\n\n      this.setState({\n        virtualRowsCache: emptyVirtualRows,\n        requestedStartIndex: 0,\n      });\n    }, 50);\n  }\n\n  clearRowsCacheAction = (\n    _: any,\n    __: Getters,\n    { requestNextPage }: Actions,\n  ) => {\n    this.setState({\n      virtualRowsCache: emptyVirtualRows,\n    });\n    requestNextPage({ forceReload: true });\n  }\n\n  changeColumnFilterAction = () => this.requestFirstPage();\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      availableRowCount = prevState.availableRowCount,\n      totalRowCount,\n      pageSize,\n      infiniteScrolling,\n    } = nextProps;\n\n    return {\n      availableRowCount: getAvailableRowCount(\n        infiniteScrolling,\n        pageSize * 2,\n        availableRowCount,\n        totalRowCount,\n      ),\n    };\n  }\n\n  componentDidMount() {\n    const { getRows, pageSize, infiniteScrolling, totalRowCount } = this.props;\n    getRows(0, 2 * pageSize!);\n\n    const newRowCount = infiniteScrolling ? 2 * pageSize! : totalRowCount;\n    this.setState({\n      availableRowCount: newRowCount,\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.requestTimer !== 0) {\n      window.clearTimeout(this.requestTimer);\n    }\n  }\n\n  render() {\n    const { virtualRowsCache, availableRowCount } = this.state;\n    const { skip, pageSize, loading, infiniteScrolling } = this.props;\n\n    return (\n      <Plugin\n        name=\"VirtualTableState\"\n      >\n        <Getter name=\"isDataRemote\" value />\n        <Getter name=\"isDataLoading\" value={loading} />\n        <Getter name=\"isScrollingInfinite\" value={infiniteScrolling} />\n        <Getter name=\"skip\" value={skip} />\n        <Getter name=\"virtualRowsCache\" value={virtualRowsCache} />\n        <Getter name=\"pageSize\" value={pageSize} />\n        <Getter name=\"availableRowCount\" value={availableRowCount} />\n\n        <Getter name=\"virtualRows\" computed={virtualRowsComputed} />\n        <Getter name=\"rows\" computed={rowsComputed} />\n        <Getter name=\"loadedRowsStart\" computed={loadedRowsStartComputed} />\n\n        <Action name=\"requestNextPage\" action={this.requestNextPageAction} />\n        <Action name=\"setViewport\" action={this.setViewport} />\n        <Action name=\"clearRowCache\" action={this.clearRowsCacheAction} />\n        <Action name=\"changeColumnSorting\" action={this.clearRowsCacheAction} />\n        <Action name=\"changeColumnFilter\" action={this.changeColumnFilterAction} />\n      </Plugin>\n    );\n  }\n}\n\nexport const VirtualTableState: React.ComponentType<VirtualTableStateProps> = VirtualTableStateBase;\n","import * as React from 'react';\nimport {\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  Plugin,\n  Getter,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  getRowChange,\n  TABLE_DATA_TYPE,\n  rowsWithEditingCells,\n  columnsWithEditingCells,\n} from '@devexpress/dx-grid-core';\nimport { TableInlineCellEditingProps, TableCellProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n  { name: 'Table' },\n  { name: 'DataTypeProvider', optional: true },\n];\n\nconst rowsWithEditingCellsComputed = (\n  { tableBodyRows, editingCells }: Getters,\n) => rowsWithEditingCells(tableBodyRows, editingCells);\nconst columnsWithEditingCellsComputed = (\n  { tableColumns, editingCells }: Getters,\n) => columnsWithEditingCells(tableColumns, editingCells);\n\n/* tslint:disable-next-line max-line-length*/\nconst INLINE_CELL_EDITING_ERROR = 'The startEditAction property of the InlineCellEditing plugin is given an invalid value.';\n\n// tslint:disable-next-line: max-line-length\nconst TableInlineCellEditingBase: React.SFC<TableInlineCellEditingProps> & {components: {cellComponent: string}} = (props) => {\n  const { cellComponent: EditCell, startEditAction, selectTextOnEditStart } = props;\n\n  return (\n    <Plugin name=\"TableInlineCellEditing\" dependencies={pluginDependencies}>\n      <Getter name=\"tableBodyRows\" computed={rowsWithEditingCellsComputed} />\n      <Getter name=\"tableColumns\" computed={columnsWithEditingCellsComputed} />\n      <Template\n        name=\"tableCell\"\n        predicate={({ tableRow, tableColumn }: any) =>\n          tableRow.type === TABLE_DATA_TYPE &&\n          tableColumn.type === TABLE_DATA_TYPE\n        }\n      >\n        {(params: TableCellProps) => (\n          <TemplateConnector>\n            {({}, { startEditCells }) => {\n              const { tableRow : { rowId }, tableColumn: { column } } = params;\n              const { name: columnName } = column!;\n\n              if (startEditAction !== 'click' && startEditAction !== 'doubleClick') {\n                throw new Error(INLINE_CELL_EDITING_ERROR);\n              }\n\n              const startEditCellCallback = () =>\n                startEditCells({\n                  editingCells: [{ rowId, columnName }],\n                });\n              const eventName = startEditAction === 'click' ? 'onClick' : 'onDoubleClick';\n              const newParams = { ...params, [eventName]: startEditCellCallback };\n\n              return <TemplatePlaceholder params={newParams} />;\n            }}\n          </TemplateConnector>\n        )}\n      </Template>\n      <Template\n        name=\"tableCell\"\n        predicate={({ tableRow, tableColumn }: any) =>\n          tableRow.hasEditCell && tableColumn.hasEditCell\n        }\n      >\n        {(params: TableCellProps) => (\n          <TemplateConnector>\n            {(\n              { getCellValue, createRowChange, rowChanges, isColumnEditingEnabled },\n              { changeRow, stopEditCells, commitChangedRows, cancelChangedRows },\n            ) => {\n              const { tableRow : { rowId, row }, tableColumn: { column } } = params;\n              const { name: columnName } = column!;\n\n              const changedRow = {\n                ...row,\n                ...getRowChange(rowChanges, rowId!),\n              };\n\n              const value = getCellValue(changedRow, columnName);\n              const onValueChange = (newValue: any) => {\n                const changeArgs = {\n                  rowId,\n                  change: createRowChange(changedRow, newValue, columnName),\n                };\n                changeRow(changeArgs);\n              };\n              const onKeyDown = ({ key }) => {\n                if (key === 'Enter') {\n                  commitChangedRows({ rowIds: [rowId] });\n                  stopEditCells({ editingCells: [{ rowId, columnName }] });\n                } else if (key === 'Escape') {\n                  cancelChangedRows({ rowIds: [rowId] });\n                  stopEditCells({ editingCells: [{ rowId, columnName }] });\n                }\n              };\n              const onBlur = () => {\n                commitChangedRows({ rowIds: [rowId] });\n                stopEditCells({ editingCells: [{ rowId, columnName }] });\n              };\n              const onFocus = selectTextOnEditStart ? e => e.target.select() : () => {};\n              const editingEnabled = isColumnEditingEnabled(columnName);\n\n              return (\n                <TemplatePlaceholder\n                  name=\"valueEditor\"\n                  params={{\n                    column,\n                    row,\n                    value,\n                    onValueChange,\n                    disabled: !editingEnabled,\n                  }}\n                >\n                  {content => (\n                    <EditCell\n                      {...params}\n                      row={row}\n                      column={column!}\n                      value={value}\n                      editingEnabled={editingEnabled}\n                      onValueChange={onValueChange}\n                      autoFocus\n                      onKeyDown={onKeyDown}\n                      onBlur={onBlur}\n                      onFocus={onFocus}\n                    >\n                      {content}\n                    </EditCell>\n                  )}\n                </TemplatePlaceholder>\n              );\n            }}\n          </TemplateConnector>\n        )}\n      </Template>\n    </Plugin>\n  );\n};\n\nTableInlineCellEditingBase.components = {\n  cellComponent: 'Cell',\n};\n\nTableInlineCellEditingBase.defaultProps = {\n  startEditAction: 'click',\n  selectTextOnEditStart: false,\n};\n\n// tslint:disable-next-line: max-line-length\nexport const TableInlineCellEditing: React.ComponentType<TableInlineCellEditingProps> = TableInlineCellEditingBase;\n","import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Template, TemplatePlaceholder, Plugin, TemplateConnector,\n} from '@devexpress/dx-react-core';\nimport { ExportPanelProps, ExportPanelState } from '../types';\n\nconst defaultMessages = {\n  showExportMenu: 'Export',\n  exportAll: 'Export all data',\n  exportSelected: 'Export selected rows',\n};\n\nclass ExportPanelBase extends React.PureComponent<ExportPanelProps, ExportPanelState> {\n  static components = {\n    toggleButtonComponent: 'ToggleButton',\n    menuComponent: 'Menu',\n    menuItemComponent: 'MenuItem',\n  };\n  button!: React.ReactInstance;\n  state = { visible: false };\n\n  setButtonRef = button => this.button = button;\n\n  handleToggle = () => {\n    const { visible } = this.state;\n    this.setState({ visible: !visible });\n  }\n\n  handleHide = () => this.setState({ visible: false });\n\n  render() {\n    const {\n      toggleButtonComponent: ToggleButton,\n      menuComponent: Menu,\n      menuItemComponent: MenuItem,\n      messages,\n      startExport,\n    } = this.props;\n    const {\n      visible,\n    } = this.state;\n\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    return (\n      <Plugin\n        name=\"ExportPanel\"\n        dependencies={[\n          { name: 'SelectionState', optional: true },\n          { name: 'Toolbar' },\n        ]}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({ selection }) => (\n              <>\n                <ToggleButton\n                  buttonRef={this.setButtonRef}\n                  onToggle={this.handleToggle}\n                  getMessage={getMessage}\n                />\n                <Menu\n                  visible={visible}\n                  onHide={this.handleHide}\n                  target={this.button}\n                >\n                  <MenuItem\n                    key=\"exportAll\"\n                    text={getMessage('exportAll')}\n                    onClick={() => {\n                      this.handleHide();\n                      startExport();\n                    }}\n                  />\n                  {selection?.length ? (\n                    <MenuItem\n                      key=\"exportSelected\"\n                      text={getMessage('exportSelected')}\n                      onClick={() => {\n                        this.handleHide();\n                        startExport({ selectedOnly: true });\n                      }}\n                    />\n                  ) : null}\n                </Menu>\n              </>\n            )}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nexport const ExportPanel: React.ComponentType<any> = ExportPanelBase;\n","/* globals requestAnimationFrame cancelAnimationFrame */\n\nimport * as React from 'react';\nimport {\n  getAnimations,\n  filterActiveAnimations,\n  evalAnimations,\n  TABLE_FLEX_TYPE,\n  ColumnAnimationMap,\n} from '@devexpress/dx-grid-core';\nimport { shallowEqual } from '@devexpress/dx-core';\nimport { TableLayoutCoreProps, TableLayoutCoreState } from '../types';\n\nclass TableLayoutBase extends React.PureComponent<TableLayoutCoreProps, TableLayoutCoreState> {\n  animations: ColumnAnimationMap;\n  savedScrollWidth: { [key: number]: number };\n  savedOffsetWidth = -1;\n  tableRef: React.RefObject<HTMLTableElement>;\n  raf = -1;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      animationState: new Map(),\n    };\n\n    this.animations = new Map();\n    this.savedScrollWidth = {};\n    this.tableRef = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { columns } = this.props;\n    const { columns: prevColumns } = prevProps;\n    const { animationState } = this.state;\n\n    const activeAnimationExists = !shallowEqual(columns, prevColumns)\n      || !!animationState.size || !!this.animations.size;\n\n    // NOTE: animation should be recomputed only when columns are changed or\n    // an active animation is in progress. Otherwise it will be recalculated on\n    // each scroll event.\n    if (activeAnimationExists) {\n      this.processAnimation(prevColumns);\n    }\n  }\n\n  processAnimation(prevColumns) {\n    const { columns } = this.props;\n    const tableWidth = this.getTableWidth(prevColumns, columns);\n\n    this.animations = getAnimations(prevColumns, columns, tableWidth, this.animations);\n\n    cancelAnimationFrame(this.raf);\n    this.raf = requestAnimationFrame(this.processAnimationFrame.bind(this));\n  }\n\n  getTableWidth(prevColumns, columns) {\n    const { offsetWidth, scrollWidth } = this.tableRef.current!;\n    const { animationState } = this.state;\n\n    const widthChanged = this.savedOffsetWidth !== offsetWidth\n      || !this.savedScrollWidth[columns.length];\n    const columnCountChanged = columns.length !== prevColumns.length;\n\n    if (columnCountChanged || (widthChanged && !animationState.size)) {\n      this.savedScrollWidth = {};\n      this.savedScrollWidth[columns.length] = scrollWidth;\n      this.savedOffsetWidth = offsetWidth;\n    }\n\n    return this.savedScrollWidth[columns.length];\n  }\n\n  getColumns() {\n    const { columns } = this.props;\n    const { animationState } = this.state;\n\n    let result = columns;\n\n    const isFixedWidth = columns\n      .filter(column => column.width === undefined || column.width === 'auto')\n      .length === 0;\n    if (isFixedWidth) {\n      // presumably a flex column added here instead of in a getter in the Table plugin\n      // to make sure that all manipulations on taleColumns have already done earlier\n      result = [...result, { key: TABLE_FLEX_TYPE.toString(), type: TABLE_FLEX_TYPE }];\n    }\n\n    if (animationState.size) {\n      result = result\n        .map(column => (animationState.has(column.key)\n          ? { ...column, animationState: animationState.get(column.key) }\n          : column));\n    }\n\n    return result;\n  }\n\n  processAnimationFrame() {\n    const { animationState: animationComponentState } = this.state;\n    this.animations = filterActiveAnimations(this.animations);\n\n    if (!this.animations.size) {\n      if (animationComponentState.size) {\n        this.setState({ animationState: new Map() });\n      }\n      return;\n    }\n\n    const animationState = evalAnimations(this.animations);\n    this.setState({ animationState });\n  }\n\n  render() {\n    const {\n      layoutComponent: Layout,\n      minColumnWidth,\n      ...restProps\n    } = this.props;\n    const columns = this.getColumns();\n    const minWidth = columns\n      .map(column => column.width || (column.type === TABLE_FLEX_TYPE ? 0 : minColumnWidth))\n      .reduce((acc, width) => (acc as number) + (width as number), 0);\n\n    return (\n      <Layout\n        {...restProps}\n        tableRef={this.tableRef}\n        columns={columns}\n        minWidth={minWidth as number}\n        minColumnWidth={minColumnWidth}\n      />\n    );\n  }\n}\n\n/** @internal */\nexport const TableLayout: React.ComponentType<TableLayoutCoreProps> = TableLayoutBase;\n","import * as React from 'react';\nimport { TableColumn } from '@devexpress/dx-grid-core';\n\n/** @internal */\nexport class ColumnGroup extends React.PureComponent<{ columns: TableColumn[] }> {\n  render() {\n    const { columns } = this.props;\n\n    return (\n      <colgroup>\n        {columns.map(({ key, width }) => {\n          const styleWidth = typeof width === 'number' ? `${width}px` : width;\n          return (\n            <col\n              key={key}\n              style={width !== undefined\n                ? { width: styleWidth }\n                : undefined}\n            />\n          );\n        })}\n      </colgroup>\n    );\n  }\n}\n","export const getRowStyle = ({ row }) => (row.height !== undefined\n  ? ({ height: `${row.height}px` })\n  : undefined);\n","import * as React from 'react';\nimport { VirtualRowLayoutProps } from '../../types';\nimport { getRowStyle } from '../../utils/helpers';\n\nexport class VirtualRowLayout extends React.Component<VirtualRowLayoutProps> {\n  shouldComponentUpdate(nextProps) {\n    const { cells: prevCells, row: prevRow } = this.props;\n    const { cells: nextCells, row: nextRow } = nextProps;\n\n    if (prevRow !== nextRow || prevCells.length !== nextCells.length) {\n      return true;\n    }\n\n    const propsAreNotEqual = nextCells.some((nextCell, i) => {\n      const prevCell = prevCells[i];\n      return prevCell.column !== nextCell.column || prevCell.colSpan !== nextCell.colSpan;\n    });\n\n    return propsAreNotEqual;\n  }\n\n  render() {\n    const { row, cells, rowComponent: Row, cellComponent: Cell } = this.props;\n    return (\n      <Row\n        tableRow={row}\n        style={getRowStyle({ row })}\n      >\n        {cells.map(({ column, colSpan }) => {\n          return (\n            <Cell\n              key={column.key}\n              tableRow={row}\n              tableColumn={column}\n              colSpan={colSpan}\n            />\n          );\n        })}\n      </Row>\n    );\n  }\n}\n","import * as React from 'react';\nimport { RefHolder } from '@devexpress/dx-react-core';\nimport { ColumnGroup } from './column-group';\nimport { VirtualTableLayoutBlockProps } from '../../types';\nimport { VirtualRowLayout } from './virtual-row-layout';\n\n// tslint:disable-next-line: max-line-length\nexport class VirtualTableLayoutBlock extends React.PureComponent<VirtualTableLayoutBlockProps, any> {\n  static defaultProps = {\n    blockRefsHandler: () => {},\n    rowRefsHandler: () => {},\n    tableRef: React.createRef(),\n  };\n\n  render() {\n    const {\n      name,\n      tableRef,\n      collapsedGrid,\n      minWidth,\n      blockRefsHandler,\n      rowRefsHandler,\n      tableComponent: Table,\n      bodyComponent: Body,\n      cellComponent,\n      rowComponent,\n      marginBottom,\n    } = this.props;\n\n    return (\n      <RefHolder\n        ref={ref => blockRefsHandler(name, ref)}\n      >\n        <Table\n          tableRef={tableRef}\n          style={{\n            minWidth: `${minWidth}px`,\n            ...marginBottom ? { marginBottom: `${marginBottom}px` } : null,\n          }}\n        >\n          <ColumnGroup\n            columns={collapsedGrid.columns}\n          />\n          <Body>\n            {collapsedGrid.rows.map((visibleRow) => {\n              const { row, cells = [] } = visibleRow;\n\n              return (\n                <RefHolder\n                  key={row.key}\n                  ref={ref => rowRefsHandler(row, ref)}\n                >\n                  <VirtualRowLayout\n                    row={row}\n                    cells={cells}\n                    rowComponent={rowComponent}\n                    cellComponent={cellComponent}\n                  />\n                </RefHolder>\n              );\n            })}\n          </Body>\n        </Table>\n      </RefHolder>\n    );\n  }\n\n}\n","import * as React from 'react';\nimport { MemoizedFunction, memoize } from '@devexpress/dx-core';\nimport {\n  TableColumn, GetColumnWidthFn, getCollapsedGrids,\n  getColumnWidthGetter, TABLE_STUB_TYPE, getViewport, GridViewport,\n} from '@devexpress/dx-grid-core';\nimport { VirtualTableLayoutState, VirtualTableLayoutProps } from '../../types';\nimport { findDOMNode } from 'react-dom';\nimport { VirtualTableLayoutBlock } from './virtual-table-layout-block';\nimport { Sizer } from '@devexpress/dx-react-core';\n\nconst AUTO_HEIGHT = 'auto';\n\nconst defaultProps = {\n  headerRows: [],\n  footerRows: [],\n  headComponent: () => null,\n  headTableComponent: () => null,\n  footerComponent: () => null,\n  footerTableComponent: () => null,\n};\ntype PropsType = VirtualTableLayoutProps & typeof defaultProps;\n\n/** @internal */\n// tslint:disable-next-line: max-line-length\nexport class VirtualTableLayout extends React.PureComponent<PropsType, VirtualTableLayoutState> {\n  static defaultProps = defaultProps;\n  getColumnWidthGetter: MemoizedFunction<[TableColumn[], number, number], GetColumnWidthFn>;\n  rowRefs = new Map();\n  blockRefs = new Map();\n  viewportTop = 0;\n  containerHeight = 600;\n  containerWidth = 800;\n  viewportLeft = 0;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      rowHeights: new Map<any, number>(),\n      height: 0,\n      headerHeight: 0,\n      bodyHeight: 0,\n      footerHeight: 0,\n      visibleRowBoundaries: {},\n    };\n\n    const headerHeight = props.headerRows\n      .reduce((acc, row) => acc + this.getRowHeight(row), 0);\n    const footerHeight = props.footerRows\n      .reduce((acc, row) => acc + this.getRowHeight(row), 0);\n\n    this.state = {\n      headerHeight,\n      footerHeight,\n      ...this.state,\n    };\n\n    this.getColumnWidthGetter = memoize(\n      (tableColumns, tableWidth, minColumnWidth) => (\n        getColumnWidthGetter(tableColumns, tableWidth, minColumnWidth)\n      ),\n    );\n  }\n\n  componentDidMount() {\n    this.storeRowHeights();\n    this.storeBlockHeights();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.storeRowHeights();\n    this.storeBlockHeights();\n\n    const { bodyRows, columns } = this.props;\n\n    // NOTE: the boundaries depend not only on scroll position and container dimensions\n    // but on body rows too. This boundaries update is especially important when\n    // lazy loading is used because by the time that all involved events are handled\n    // no rows are loaded yet.\n    const bodyRowsChanged = prevProps.bodyRows !== bodyRows;\n    // Also it's the only place where we can respond to the column count change\n    const columnCountChanged = prevProps.columns.length !== columns.length;\n\n    if (bodyRowsChanged || columnCountChanged) {\n      this.updateViewport();\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { rowHeights: prevRowHeight } = prevState;\n    const rowHeights = [...nextProps.headerRows, ...nextProps.bodyRows, ...nextProps.footerRows]\n      .reduce(\n        (acc, row) => {\n          const rowHeight = prevRowHeight.get(row.key);\n          if (rowHeight !== undefined) {\n            acc.set(row.key, rowHeight);\n          }\n          return acc;\n        },\n        new Map(),\n      );\n    return { rowHeights };\n  }\n\n  getRowHeight = (row) => {\n    const { rowHeights } = this.state;\n    const { estimatedRowHeight } = this.props;\n    if (row) {\n      const storedHeight = rowHeights.get(row.key);\n      if (storedHeight !== undefined) return storedHeight;\n      if (row.height) return row.height;\n    }\n    return estimatedRowHeight;\n  }\n\n  registerRowRef = (row, ref) => {\n    if (ref === null) {\n      this.rowRefs.delete(row);\n    } else {\n      this.rowRefs.set(row, ref);\n    }\n  }\n\n  registerBlockRef = (name, ref) => {\n    if (ref === null) {\n      this.blockRefs.delete(name);\n    } else {\n      this.blockRefs.set(name, ref);\n    }\n  }\n\n  storeRowHeights() {\n    const rowsWithChangedHeights = Array.from(this.rowRefs.entries())\n      .map(([row, ref]) => [row, findDOMNode(ref)])\n      .filter(([, node]) => !!node)\n      .map(([row, node]) => [row, node.getBoundingClientRect().height])\n      .filter(([row]) => row.type !== TABLE_STUB_TYPE)\n      .filter(([row, height]) => height !== this.getRowHeight(row));\n\n    if (rowsWithChangedHeights.length) {\n      const { rowHeights } = this.state;\n      rowsWithChangedHeights\n        .forEach(([row, height]) => rowHeights.set(row.key, height));\n\n      this.setState({\n        rowHeights,\n      });\n    }\n  }\n\n  storeBlockHeights() {\n    const getBlockHeight = blockName => (this.blockRefs.get(blockName)\n      ? (findDOMNode(this.blockRefs.get(blockName)) as HTMLElement).getBoundingClientRect().height\n      : 0\n    );\n    const headerHeight = getBlockHeight('header');\n    const bodyHeight = getBlockHeight('body');\n    const footerHeight = getBlockHeight('footer');\n\n    const {\n      headerHeight: prevHeaderHeight,\n      bodyHeight: prevBodyHeight,\n      footerHeight: prevFooterHeight,\n    } = this.state;\n\n    if (prevHeaderHeight !== headerHeight\n      || prevBodyHeight !== bodyHeight\n      || prevFooterHeight !== footerHeight) {\n      this.setState({\n        headerHeight,\n        bodyHeight,\n        footerHeight,\n      });\n    }\n  }\n\n  onScroll = (e) => {\n    const node = e.target;\n\n    if (this.shouldSkipScrollEvent(e)) {\n      return;\n    }\n\n    const { scrollTop: viewportTop, scrollLeft: viewportLeft } = node;\n\n    this.viewportTop = viewportTop;\n    this.viewportLeft = viewportLeft;\n\n    this.updateViewport();\n  }\n\n  handleContainerSizeChange = ({ width, height }) => {\n    this.containerHeight = height;\n    this.containerWidth = width;\n\n    this.updateViewport();\n  }\n\n  shouldSkipScrollEvent(e) {\n    const node = e.target;\n\n    // NOTE: prevent nested scroll to update viewport\n    if (node !== e.currentTarget) {\n      return true;\n    }\n    // NOTE: normalize position:\n    // in Firefox and Chrome (zoom > 100%) when scrolled to the bottom\n    // in Edge when scrolled to the right edge\n    const correction = 1;\n    const nodeHorizontalOffset = parseInt(node.scrollLeft + node.clientWidth, 10) - correction;\n    const nodeVerticalOffset = parseInt(node.scrollTop + node.clientHeight, 10) - correction;\n    // NOTE: prevent iOS to flicker in bounces and correct rendering on high dpi screens\n    if (node.scrollTop < 0\n      || node.scrollLeft < 0\n      || nodeHorizontalOffset > Math.max(node.scrollWidth, node.clientWidth)\n      || nodeVerticalOffset > Math.max(node.scrollHeight, node.clientHeight)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  updateViewport() {\n    const { viewport, setViewport } = this.props;\n    const newViewport = this.calculateViewport();\n\n    if (viewport !== newViewport) {\n      setViewport(newViewport);\n    }\n  }\n\n  calculateViewport() {\n    const { state, viewportTop, viewportLeft, containerHeight, containerWidth } = this;\n    const {\n      loadedRowsStart,\n      bodyRows,\n      headerRows,\n      footerRows,\n      estimatedRowHeight,\n      columns,\n      minColumnWidth,\n      isDataRemote,\n      viewport,\n    } = this.props;\n    const getColumnWidth = this.getColumnWidthGetter(columns, containerWidth, minColumnWidth!);\n\n    return getViewport(\n      { ...state, viewportTop, viewportLeft, containerHeight, containerWidth },\n      { loadedRowsStart, columns, bodyRows, headerRows, footerRows, isDataRemote, viewport },\n      estimatedRowHeight, this.getRowHeight, getColumnWidth,\n    );\n  }\n\n  getCollapsedGrids(viewport: GridViewport) {\n    const { containerWidth, viewportLeft } = this;\n    const {\n      headerRows, bodyRows, footerRows,\n      columns, loadedRowsStart, totalRowCount,\n      getCellColSpan, minColumnWidth,\n    } = this.props;\n    const getColumnWidth = this.getColumnWidthGetter(columns, containerWidth, minColumnWidth!);\n\n    return getCollapsedGrids({\n      headerRows,\n      bodyRows,\n      footerRows,\n      columns,\n      loadedRowsStart,\n      totalRowCount,\n      getCellColSpan,\n      viewportLeft,\n      containerWidth,\n      viewport,\n      getRowHeight: this.getRowHeight,\n      getColumnWidth,\n    });\n  }\n\n  render() {\n    const {\n      containerComponent: Container,\n      headTableComponent: HeadTable,\n      footerTableComponent: FootTable,\n      tableComponent: Table,\n      headComponent: Head,\n      bodyComponent: Body,\n      footerComponent: Footer,\n      tableRef,\n      height,\n      headerRows,\n      footerRows,\n      minColumnWidth,\n      minWidth,\n      cellComponent,\n      rowComponent,\n      viewport,\n      scrollTop,\n    } = this.props;\n    const {\n      headerHeight,\n      bodyHeight,\n      footerHeight,\n    } = this.state;\n    const { containerHeight } = this;\n\n    const collapsedGrids = this.getCollapsedGrids(viewport);\n    const commonProps = {\n      cellComponent,\n      rowComponent,\n      minColumnWidth,\n      minWidth,\n      blockRefsHandler: this.registerBlockRef,\n      rowRefsHandler: this.registerRowRef,\n    };\n    const sizerHeight = height === AUTO_HEIGHT ? null : height;\n\n    return (\n      <Sizer\n        onSizeChange={this.handleContainerSizeChange}\n        containerComponent={Container}\n        style={{ height: sizerHeight }}\n        onScroll={this.onScroll}\n        scrollTop={scrollTop}\n      >\n        {\n          (!!headerRows.length) && (\n            <VirtualTableLayoutBlock\n              {...commonProps}\n              name=\"header\"\n              collapsedGrid={collapsedGrids.headerGrid}\n              tableComponent={HeadTable}\n              bodyComponent={Head}\n            />\n          )\n        }\n        <VirtualTableLayoutBlock\n          {...commonProps}\n          name=\"body\"\n          collapsedGrid={collapsedGrids.bodyGrid}\n          tableComponent={Table}\n          bodyComponent={Body}\n          tableRef={tableRef}\n          marginBottom={Math.max(0, containerHeight - headerHeight - bodyHeight - footerHeight)}\n        />\n        {\n          (!!footerRows.length) && (\n            <VirtualTableLayoutBlock\n              {...commonProps}\n              name=\"footer\"\n              collapsedGrid={collapsedGrids.footerGrid}\n              tableComponent={FootTable}\n              bodyComponent={Footer}\n            />\n          )\n        }\n      </Sizer>\n    );\n  }\n}\n","import * as React from 'react';\nimport { RowLayoutProps } from '../../types';\nimport { getRowStyle } from '../../utils/helpers';\n\nconst getColumnStyle = ({ column }) => column.animationState;\n\n/** @internal */\nexport const RowLayout: React.SFC<RowLayoutProps> = React.memo((props) => {\n  const {\n    row,\n    columns,\n    rowComponent: Row,\n    cellComponent: Cell,\n    getCellColSpan,\n  } = props;\n\n  const getColSpan = React.useCallback(\n    (tableRow, tableColumn) => getCellColSpan!({ tableRow, tableColumn, tableColumns: columns }),\n    [columns, getCellColSpan],\n  );\n\n  return (\n    <Row\n      tableRow={row}\n      style={getRowStyle({ row })}\n    >\n      {\n        columns\n          .map(column => (\n            <Cell\n              key={column.key}\n              tableRow={row}\n              tableColumn={column}\n              style={getColumnStyle({ column })}\n              colSpan={getColSpan(row, column)}\n            />\n          ))\n      }\n    </Row>\n  );\n});\n","import * as React from 'react';\nimport { RowLayout } from './row-layout';\nimport { RowsBlockLayoutProps } from '../../types';\n\n/** @internal */\nexport class RowsBlockLayout extends React.PureComponent<RowsBlockLayoutProps> {\n  render() {\n    const {\n      rows,\n      columns,\n      blockComponent: Block,\n      rowComponent,\n      cellComponent,\n      getCellColSpan,\n    } = this.props;\n\n    return (\n      <Block>\n        {\n          rows\n            .map(row => (\n              <RowLayout\n                key={row.key}\n                row={row}\n                columns={columns}\n                rowComponent={rowComponent}\n                cellComponent={cellComponent}\n                getCellColSpan={getCellColSpan}\n              />\n            ))\n        }\n      </Block>\n    );\n  }\n}\n","import * as React from 'react';\nimport { ColumnGroup } from './column-group';\nimport { RowsBlockLayout } from './rows-block-layout';\nimport { TableLayoutProps } from '../../types';\n\nconst defaultProps = {\n  headerRows: [],\n  footerRows: [],\n  headComponent: () => null,\n  footerComponent: () => null,\n};\n\n/** @internal */\nexport class StaticTableLayout extends React.PureComponent<TableLayoutProps & typeof defaultProps> {\n  static defaultProps = defaultProps;\n\n  render() {\n    const {\n      headerRows,\n      bodyRows,\n      footerRows,\n      columns,\n      minWidth,\n      containerComponent: Container,\n      tableComponent: Table,\n      headComponent,\n      bodyComponent,\n      footerComponent,\n      rowComponent,\n      cellComponent,\n      getCellColSpan,\n      tableRef,\n    } = this.props;\n\n    const commonProps = {\n      columns,\n      rowComponent,\n      cellComponent,\n      getCellColSpan,\n    };\n\n    return (\n      <Container>\n        <Table\n          tableRef={tableRef}\n          style={{ minWidth: `${minWidth}px` }}\n        >\n          <ColumnGroup columns={columns} />\n          {!!headerRows.length && (\n            <RowsBlockLayout\n              rows={headerRows}\n              blockComponent={headComponent}\n              {...commonProps}\n            />\n          )}\n          <RowsBlockLayout\n            rows={bodyRows}\n            blockComponent={bodyComponent}\n            {...commonProps}\n          />\n          {!!footerRows.length && (\n            <RowsBlockLayout\n              rows={footerRows}\n              blockComponent={footerComponent}\n              {...commonProps}\n            />\n          )}\n        </Table>\n      </Container>\n    );\n  }\n}\n","import * as React from 'react';\nimport {\n  connectProps, Plugin, Template, Action,\n  PluginComponents,\n  TemplateConnector,\n  TemplatePlaceholder,\n  Getter,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  isStubTableCell, checkColumnWidths, getScrollTop,\n  TOP_POSITION, BOTTOM_POSITION, getTopRowId,\n} from '@devexpress/dx-grid-core';\nimport {\n  VirtualTableProps, VirtualTableLayoutProps,\n  Table as TableNS,\n  TableLayoutProps,\n  VirtualTablePluginState,\n} from '../../types';\n\n/** @internal */\nexport const emptyViewport = {\n  columns: [[0, 0]],\n  rows: [0, 0],\n  headerRows: [0, 0],\n  footerRows: [0, 0],\n  top: 0,\n  left: 0,\n  width: 800,\n  height: 600,\n};\n\nconst tableColumnsComputed = (\n  { tableColumns }: Getters,\n) => {\n  return checkColumnWidths(tableColumns);\n};\n\n/** @internal */\nexport const makeVirtualTable: (...args: any) => any = (Table, {\n  VirtualLayout,\n  FixedHeader,\n  FixedFooter,\n  SkeletonCell,\n  defaultEstimatedRowHeight,\n  defaultHeight,\n}) => {\n  class VirtualTable extends React.PureComponent<VirtualTableProps, VirtualTablePluginState> {\n    static defaultProps = {\n      estimatedRowHeight: defaultEstimatedRowHeight,\n      height: defaultHeight,\n      headTableComponent: FixedHeader,\n      footerTableComponent: FixedFooter,\n      skeletonCellComponent: SkeletonCell,\n      onTopRowChange: () => {},\n    };\n    static FixedHeader: React.ComponentType;\n    static FixedFooter: React.ComponentType;\n    static SkeletonCell: React.ComponentType;\n    static TOP_POSITION = TOP_POSITION;\n    static BOTTOM_POSITION = BOTTOM_POSITION;\n\n    layoutRenderComponent: React.ComponentType<VirtualTableLayoutProps> & { update(): void; };\n    scrollToRow: (prop: number | string | symbol) => void;\n\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        viewport: emptyViewport,\n        nextRowId: undefined,\n      };\n\n      this.layoutRenderComponent = connectProps(VirtualLayout, () => {\n        const {\n          headTableComponent,\n          footerTableComponent,\n        } = this.props;\n\n        return {\n          headTableComponent,\n          footerTableComponent,\n        };\n      });\n      this.scrollToRow = nextRowId => this.setState({ nextRowId });\n    }\n\n    setViewport = (viewport) => {\n      this.setState({ viewport });\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      const { nextRowId: prevId } = prevState;\n      const { nextRowId: currentId } = this.state;\n      const areIdsEqual = currentId !== undefined && currentId === prevId;\n\n      this.layoutRenderComponent.update();\n      if (areIdsEqual) {\n        this.setState({ nextRowId: undefined });\n      }\n    }\n\n    render() {\n      const {\n        height,\n        estimatedRowHeight,\n        skeletonCellComponent: SkeletonStubCell,\n        children,\n        ...restProps\n      } = this.props;\n      const {\n        viewport: stateViewport,\n        nextRowId: nextId,\n      } = this.state;\n\n      return (\n        <Plugin name=\"VirtualTable\">\n          <Table layoutComponent={this.layoutRenderComponent} {...restProps} />\n\n          {/* prevents breaking change */}\n          <Action name=\"setViewport\" action={this.setViewport} />\n          <Action name=\"scrollToRow\" action={this.scrollToRow} />\n          <Getter name=\"viewport\" value={stateViewport} />\n          <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n\n          <Template name=\"tableLayout\">\n            {(params: TableLayoutProps) => (\n              <TemplateConnector>\n                {(\n                  { availableRowCount, loadedRowsStart, tableBodyRows, isDataRemote, viewport },\n                  { setViewport },\n                ) => {\n\n                  const { onTopRowChange } = this.props;\n                  const rowId = getTopRowId(viewport, tableBodyRows, isDataRemote);\n\n                  onTopRowChange(rowId);\n\n                  const totalRowCount = availableRowCount || tableBodyRows.length;\n                  const scrollTop = getScrollTop(\n                    tableBodyRows,\n                    totalRowCount,\n                    nextId,\n                    estimatedRowHeight,\n                    isDataRemote,\n                  );\n\n                  return (\n                    <TemplatePlaceholder\n                      params={{\n                        ...params,\n                        totalRowCount,\n                        loadedRowsStart,\n                        isDataRemote,\n                        height,\n                        estimatedRowHeight,\n                        setViewport,\n                        viewport,\n                        scrollTop,\n                      }}\n                    />\n                  );\n                }}\n              </TemplateConnector>\n            )}\n          </Template>\n\n          <Template\n            name=\"tableCell\"\n            predicate={({ tableRow }: any) => !!isStubTableCell(tableRow)}\n          >\n            {(params: TableNS.CellProps) => (\n              <TemplateConnector>\n                {({ isDataRemote }) => (\n                  isDataRemote ? <SkeletonStubCell {...params} /> : <TemplatePlaceholder />\n                )}\n              </TemplateConnector>\n            )}\n          </Template>\n        </Plugin>\n      );\n    }\n  }\n\n  Object.values(Table.components as PluginComponents).forEach((name) => {\n    VirtualTable[name] = Table[name];\n  });\n\n  VirtualTable.FixedHeader = FixedHeader;\n  VirtualTable.FixedFooter = FixedFooter;\n  VirtualTable.SkeletonCell = SkeletonCell;\n\n  return VirtualTable;\n};\n","import { RowCache } from '../types';\n\nclass Node {\n  start: number;\n  rows: ReadonlyArray<any>;\n  prev: Node | null = null;\n  next: Node | null = null;\n\n  constructor(start: number, rows: ReadonlyArray<any>) {\n    this.start = start;\n    this.rows = rows;\n  }\n}\n\n// tslint:disable-next-line:max-classes-per-file\nclass LRUCache {\n  pageSize: number;\n  capacity: number;\n  head!: Node;\n  tail!: Node;\n  pages = new Map<number, Node>();\n\n  constructor(pageSize: number, capacity = Number.POSITIVE_INFINITY) {\n    this.pageSize = pageSize;\n    this.capacity = capacity;\n    this.initList();\n  }\n\n  initList() {\n    this.head = new Node(-1, []);\n    this.tail = new Node(-1, []);\n    this.head.next = this.tail;\n    this.tail.prev = this.head;\n  }\n\n  addPage(pageStart: number, rows: ReadonlyArray<any>) {\n    if (this.pages.has(pageStart)) {\n      this.removePage(pageStart);\n    }\n\n    const node = new Node(pageStart, rows);\n    const last = this.tail.prev!;\n    last.next = node;\n    node.next = this.tail;\n    node.prev = last;\n    this.tail.prev = node;\n    this.pages.set(pageStart, node);\n\n    if (this.pages.size > this.capacity) {\n      this.removePage(this.head.next!.start);\n    }\n  }\n\n  removePage(start: number) {\n    const node = this.pages.get(start)!;\n    node.prev!.next = node.next;\n    node.next!.prev = node.prev;\n\n    this.pages.delete(start);\n  }\n\n  getPage(pageStart: number) {\n    if (!this.pages.has(pageStart)) {\n      return null;\n    }\n\n    const { rows } = this.pages.get(pageStart)!;\n    this.removePage(pageStart);\n    this.addPage(pageStart, rows);\n\n    return rows;\n  }\n\n  clear() {\n    this.pages.clear();\n    this.initList();\n  }\n}\n\nexport const createRowCache = (pageSize = 100, capacity = Number.POSITIVE_INFINITY): RowCache => {\n  const cache = new LRUCache(pageSize, capacity / pageSize);\n\n  return {\n    getRows: (skip: number, take: number) => {\n      let result: any[] = [];\n      const pageCount = Math.ceil(take / pageSize);\n      for (let i = 0; i < pageCount; i += 1) {\n        const pageStart = skip + i * pageSize;\n        const chunk = cache.getPage(pageStart);\n\n        if (chunk !== null) {\n          result = result.concat(chunk);\n        }\n\n        // yield if last page is incomplete\n        if (chunk === null || (i !== pageCount - 1 && chunk.length !== pageSize)) {\n          return result;\n        }\n      }\n      return result;\n    },\n    setRows: (skip: number, rows: ReadonlyArray<any>) => {\n      const pageCount = Math.ceil(rows.length / pageSize);\n      for (let i = 0; i < pageCount; i += 1) {\n        const pageStart = i * pageSize;\n        const rowsChunk = rows.slice(pageStart, pageStart + pageSize);\n\n        // put incomplete page only if it is last one\n        if (rowsChunk.length === pageSize || i === pageCount - 1) {\n          cache.addPage(pageStart + skip, rowsChunk);\n        }\n      }\n    },\n    invalidate: () => cache.clear(),\n  };\n};\n","import * as React from 'react';\nimport { TableGroupRow } from '../../types';\n\nexport const InlineSummaryItem: React.SFC<TableGroupRow.InlineSummaryItemProps> = React.memo(({\n  summary: { messageKey, columnTitle, component: SummaryComponent },\n  getMessage,\n}) => (\n  <React.Fragment>\n    {getMessage(messageKey, { columnTitle })}\n    <SummaryComponent />\n  </React.Fragment>\n));\n"],"names":["React.memo","React.createElement","React.useCallback","React.PureComponent","React.Fragment","pluginDependencies","columnExtensionValueGetter","getCollapsedRowsComputed","expandedGroupedRowsComputed","DragDropProviderCore","draftOrderComputed","defaultMessages","tableBodyRowsComputed","getCellColSpanComputed","tableHeaderRowsComputed","CellPlaceholder","defaultProps","getRowIdComputed","dependencies","React.createRef","React.Component"],"mappings":"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"}